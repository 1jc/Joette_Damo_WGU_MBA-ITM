/*! For license information please see core.js.LICENSE.txt */
(()=>{var t,e={7619:(t,e,i)=>{"use strict";i.r(e),i.d(e,{AlertOverlay:()=>F,ChangeImageOverlay:()=>R,Component:()=>h,ComponentFactory:()=>l,DecisionLabel:()=>f,DecisionTable:()=>c,DetailsListComponent:()=>d,DropDownStatic:()=>g,DropDownStaticAccount:()=>S,DropDownStaticCopy:()=>v,DropDownStaticError:()=>b,DropDownStaticExplanation:()=>y,DropDownStaticInfo:()=>m,DropDownStaticMenu:()=>x,DropDownStaticMenuPlain:()=>w,DropDownStaticSearch:()=>C,HeaderComponent:()=>u,IPreferencesOverlay:()=>E,InfoOverlay:()=>M,LoginOverlay:()=>O,MultiLevelFilter:()=>T,Overlay:()=>A,OverlayMessage:()=>P,OverlayMessages:()=>L,PreferencesOverlay:()=>N,QuarterSwitcherInstructor:()=>k,RegionsMaps:()=>X,ResourceList:()=>_,ResourceLists:()=>I,SidePane:()=>z,SplitButtonComponent:()=>p,Tabset:()=>D,WelcomeOverlay:()=>H});var s=i(19755),n=i.n(s),r=i(94822),o=i(93037);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}var h=r.Class.extend({initialize:function(t){this.componentFactory=t,this.reset()},reset:function(t,e,i,s,n,r,o,a,h){this.type=t||"edit",this.name=e||"",this.value=i||"",this.params=s||{},this.options=n,this.optionKey=r,this.optionName=o,this.nullKey=a,this.nullName=h,this.id=this.name,"radio"===this.type&&(this.id=this.id+"_"+this.options),"plainradio"===this.type&&(this.name=this.getParam("id",this.id))},setParam:function(t,e){this.params[t]=e},getParam:function(t,e){return this.hasParam(t)?this.params[t]:e},hasParam:function(t){return void 0!==this.params[t]},getOther:function(){var t="";for(var e in this.params)this.params.hasOwnProperty(e)&&"cls"!==e&&"label"!==e&&"labelAlign"!==e&&"defaultCls"!==e&&(t+=" "+e+'="'+this.params[e]+'"');return t},getLabelClass:function(){var t="edit";switch(this.type){case"checkbox":case"radio":case"combobox":t=this.type;break;case"plainradio":t="radio"}return t+"Label"},getDefaultLabelAlign:function(){switch(this.type){case"radio":case"plainradio":case"checkbox":return"right"}return"left"},wrapComponent:function(t){var e=this.getParam("label","");if(""==e)return t;var i="",s=this.getParam("labelAlign",this.getDefaultLabelAlign()),n='<label for="'+this.id+'" class="'+("right"===s?"labelRight ":"left"===s?"labelLeft ":"")+this.getLabelClass()+'">';return"after"!==s&&(i+=n,"right"!==s&&(i+=e)),i+=t,"after"===s&&(i+=n),"right"!==s&&"after"!==s||(i+=e),i+"</label>"},hasLabel:function(){return this.getParam("label",!1)||this.getParam("aria-label",!1)||this.getParam("aria-labelledby",!1)},draw:function(){var t,e,i,s,n,r,o,a=this.value,h="",l="",c="",u="",d="",p="",f="",g="",m="0",v=this.componentFactory.editClass,y=this.componentFactory.buttonClass,b=this.getOther(),x=this.getParam("cls","")+" ";switch(this.type){case"fedit":m=this.options||m;case"iedit":h=' style="text-align:right;"',c="number"+m+" ",f=' inputmode="decimal" ';case"edit":""===p&&(p="text"),"string"==typeof a&&(a=a.escapeHTML().replace(/"/gi,"&quot;")),l=!1===this.getParam("defaultCls",!0)?x+c:x+c+v,g='<input type="'+p+'" name="'+this.name+'" id="'+this.id+'" value="'+a+'" class="'+l+'"'+b+h+f+" />",g=this.wrapComponent(g);break;case"memo":g='<textarea name="'+this.name+'" id="'+this.id+'" class="'+v+'"'+b+">"+a.escapeHTML()+"</textarea>",g=this.wrapComponent(g);break;case"checkbox":o=this.getParam("value",1),a&&(u=' checked="checked" '),g='<input type="checkbox" name="'+this.name+'" id="'+this.id+'" value="'+o+'" class="'+x+v+'"'+b+u+"/>",g=this.wrapComponent(g);break;case"plainradio":a&&(u=' checked="checked" '),g='<input type="radio" name="'+this.name+'" id="'+this.id+'" value="1" class="'+v+'"'+b+u+"/>",g=this.wrapComponent(g);break;case"radio":a==this.options&&(u=' checked="checked" '),g='<input type="radio" name="'+this.name+'" id="'+this.id+'" value="'+this.options+'" class="'+x+v+'"'+b+u+"/>",g=this.wrapComponent(g);break;case"combobox":if(void 0!==this.nullKey&&(d+='<option value="'+this.nullKey+'" '+(this.nullKey==a?'selected="selected"':"")+">"+this.nullName+"</option>"),void 0!==this.options.optgroups)for(t=0,i=this.options.optgroups.length;t<i;++t){for(d+='<optgroup label="'+(r=this.options.optgroups[t]).label.escapeHTML()+'">',e=0,s=r.options.length;e<s;++e)d+='<option value="'+(n=r.options[e])[this.optionKey]+'" '+(n[this.optionKey]==a?'selected="selected"':"")+">"+String(n[this.optionName]).escapeHTML()+"</option>";d+="</optgroup>"}else for(t=0,i=this.options.length;t<i;++t)d+='<option value="'+this.options[t][this.optionKey]+'" '+(this.options[t][this.optionKey]==a?'selected="selected"':"")+">"+String(this.options[t][this.optionName]).escapeHTML()+"</option>";g='<select name="'+this.name+'" id="'+this.id+'" class="'+v+'"'+b+">"+d+"</select>",g=this.wrapComponent(g);break;case"ctrl":c="ctrl ";case"dbutton":case"button":g='<input type="button" name="'+this.name+'" id="'+this.id+'" value="'+a+'" class="'+x+c+y+'"'+b+"/>";break;case"submit":g='<button type="submit" name="'+this.name+'" id="'+this.id+'" class="'+x+c+y+'"'+b+">"+a+"</button>";break;case"file":g='<input type="file" name="'+this.name+'" id="'+this.id+'" value="'+a+'" class="'+v+'"'+b+"/>"}return"button"!==this.type&&this.componentFactory.addComponent(this.type,this.id),g},toString:function(){return this.draw()}}),l=r.Class.extend({editClass:"edit-class",labelClass:"label-class",textClass:"text-class",buttonClass:"button-class",editClassDis:"edit-class-disabled",initialize:function(){this.components=[],this.componentsByName=[],this.links=[]},removeAllComponents:function(){this.components=[],this.componentsByName=[]},addComponent:function(t,e){var i={type:t,name:e};this.components.push(i),this.componentsByName[e]=i},getComponent:function(t,e,i,s,n,r,o,a,l){var c=new h(this);return c.reset(t,e,i,s,n,r,o,a,l),c},observe:function(){this.bindAllLinks(),this.checkAllNumericInputs()},bindAllLinks:function(){var t,e;for(t=0,e=this.links.length;t<e;t++)n()("#"+this.links[t].id).on("click",n().proxy((function(t,e){e.preventDefault(),t.action()}),this,this.links[t]))},checkAllNumericInputs:function(){var t,e;for(t=0,e=this.components.length;t<e;t++){var i=this.components[t],s=this.getComElement(i.name);s&&"fedit"==i.type&&s.on("input",this.checkFloatInput.bind(this,i,s)),s&&"iedit"==i.type&&s.on("input",this.checkIntegerInput.bind(this,i,s))}},checkFloatInput:function(t,e){var i=e[0].selectionStart,s=this.getComElementValue(e),n=-1,r=s.replace(/[^0-9-.]+/g,"").replace(/(?!^)-/g,"").replace(/\./g,(function(t){return++n>0?"":t}));s!=r&&(this.setComElementValue(e,r),e[0].selectionStart=i-1,e[0].selectionEnd=i-1)},checkIntegerInput:function(t,e){var i=e[0].selectionStart,s=this.getComElementValue(e),n=s.replace(/[^0-9-]+/g,"").replace(/(?!^)-/g,"");s!=n&&(this.setComElementValue(e,n),e[0].selectionStart=i-1,e[0].selectionEnd=i-1)},getCom:function(t){return this.componentsByName[t]},getComType:function(t){var e=this.getCom(t);return e?e.type:""},getComElement:function(t){var e=this.getCom(t);return e?n()("#"+e.name):n()("#"+t)},getComElementValue:function(t,e){if("input"===t[0].tagName.toLowerCase())switch(t[0].type.toLowerCase()){case"radio":case"checkbox":return t.is(":checked")}return e&&""==t.val()?0:t.val()},setComElementValue:function(t,e){if(0!=t.length)switch(t[0].tagName.toLowerCase()){case"textarea":case"select":case"input":switch(t[0].type.toLowerCase()){case"radio":t.prop("checked",e==t.val());break;case"checkbox":t.prop("checked",e);break;default:t.val(e)}break;default:t&&t.html(e)}},getComValue:function(t,e){var i=this.getComElement(t),s=this.getComType(t);return void 0===e&&(e="iedit"==s||"fedit"==s),this.getComElementValue(i,e)},setComValue:function(t,e){var i=this.getComElement(t);this.setComElementValue(i,e)},getLink:function(t,e,i,s,n,r){var a,h="",l="";return s=s||o.Live.emptyHref,void 0!==e&&null!=e&&(h='id="'+e+'"'),a=void 0!==n&&""!=n&&null!==n?n:"blueLink",void 0!==r&&""!=r&&null!==r&&(l='style="'+r+'"'),void 0!==e&&null!=e&&null!=i&&""!==i&&this.links.push({id:e,action:i}),'<a href="'+s+'" '+h+' class="'+a+'" '+l+">"+t+"</a>"},getButton:function(t,e,i,s,n){var r,o="",a="";return void 0!==e&&null!=e&&(o='id="'+e+'"'),r=void 0!==s&&""!=s&&null!==s?s:"button-plain blueLink",void 0!==n&&""!=n&&null!==n&&(a='style="'+n+'"'),void 0!==e&&null!=e&&null!=i&&""!==i&&this.links.push({id:e,action:i}),"<button "+o+' class="'+r+'" '+a+">"+t+"</button>"},getToggleSwitch:function(t,e,i,s){var n="",r="";void 0!==t&&null!=t&&(n='id="'+t+'"'),void 0!==s&&s==i.id&&(r="checked");var a='<div class="input-toggle"><input type="checkbox" '+r+"><span></span></div>",h='<span class="input-toggle-text input-toggle-left" data-input-toggle="'+e.id+'">'+e.label+"</span>",l='<span class="input-toggle-text input-toggle-right" data-input-toggle="'+i.id+'">'+i.label+"</span>";return'<label class="input-toggle-wrap" '+n+' role="switch" aria-label="'+o.JSStrings.tc("common:switchBetween",{LEFT:e.label,RIGHT:i.label,SELECTED:""==r?e.label:i.label})+'">'+h+a+l+'<div class="input-toggle-ripple"></div></label>'},observeToggleSwitch:function(t,e){var i,s=n()("#"+t),r=s.find("input"),a=s.find(".input-toggle-left"),h=s.find(".input-toggle-right");r.on("focus",(function(){s.toggleClass("focused",!0)})),r.on("blur",(function(){s.toggleClass("focused",!1)})),r.change((function(){i=this.checked?h:a,s.attr("aria-label",o.JSStrings.tc("common:switchBetween",{LEFT:a.text(),RIGHT:h.text(),SELECTED:i.text()})),e(i.attr("data-input-toggle"))}))},getLabel:function(t,e,i,s){var n="",r="";return null!=s&&(r=' id="'+s+'"'),null!=e&&(n=' for="'+e+'"'),'<label class="'+(null!=i?i:this.labelClass)+'"'+n+r+">"+t+"</label>"},numberFormat:function(t){var e,i,s=t.attr("class").split(" "),n=s.length;for(e=0;e<n;++e)if(null!=(i=s[e].match(/number(\d+)/)))return Number(i[1]);return null},enable:function(t){var e,i,s,r=new RegExp(o.Live.thousandDelimiter,"g"),a=this.components.length;for(t=t||[],e=0;e<a;++e)-1==t.indexOf(this.components[e].name)&&(i=n()("#"+this.components[e].name),null!==(s=this.numberFormat(i))&&(i.val(i.val().replace(r,"")),i.val(Number(i.val()).format(s,o.Live.decimalDelimiter,""))),"text"==i[0].type.toLowerCase()||"number"==i[0].type.toLowerCase()?i.prop("disabled",!1):i.hasClass("ctrl")?i.show():i.prop("disabled",!1))},disable:function(t){var e,i,s,r=new RegExp(o.Live.thousandDelimiter,"g"),a=this.components.length;for(t=t||[],e=0;e<a;++e)-1==t.indexOf(this.components[e].name)&&(i=n()("#"+this.components[e].name),null!==(s=this.numberFormat(i))&&(i.val(i.val().replace(r,"")),i.val(Number(i.val()).format(s))),"text"==i[0].type.toLowerCase()||"number"==i[0].type.toLowerCase()?i.prop("disabled",!0):i.hasClass("ctrl")?i.hide():i.prop("disabled",!0))}}),c=r.Class.extend({initialize:function(t,e,i,s,n,r,a){this.id=e,this.title=t,this.cols=i,this.rowspanCols=[],this.data=[];for(var h=0;h<s.length;++h)void 0!==s[h].length?this.data[h]={values:s[h]}:this.data[h]=s[h];this.hideCols=n||!1,this.priorityDirection=-1,this.newCorners=void 0===r?"blue":r,1==o.Live.newTables&&(this.newCorners="white"),this.clear=a||"both",this.tableClass="dtable-"+(""!=this.newCorners?this.newCorners:"blue"),this.opacity=o.Live.opacity,this.sortDirection=-1,this.el=null,this.replaceOnSort=!1,this.colsStyles=[],this.colsCss=[],this.colsFormats=[],this.doDeselect=!0,this.doHlRows=!0,this.vertical=!1,this.announceSort=!0,this.hideTitle=!1},sortNumericInHtml:function(t,e){return(parseFloat(n()("<tmp>").html(t.values[this.sortIndex]).text())-parseFloat(n()("<tmp>").html(e.values[this.sortIndex]).text()))*this.sortDirection},sortStringInHtml:function(t,e){var i=n()("<tmp>").html(t.values[this.sortIndex]).text(),s=n()("<tmp>").html(e.values[this.sortIndex]).text();return"string"==typeof i&&(i=i.toLowerCase()),"string"==typeof s&&(s=s.toLowerCase()),i>s?this.sortDirection:i<s?-1*this.sortDirection:0},sortFormattedNumeric:function(t,e){return(t.values[this.sortIndex][0]-e.values[this.sortIndex][0])*this.sortDirection},sortNumeric:function(t,e){return(t.values[this.sortIndex]-e.values[this.sortIndex])*this.sortDirection},sortFormatted:function(t,e){var i=t.values[this.sortIndex][0],s=e.values[this.sortIndex][0];return"string"==typeof i&&(i=i.toLowerCase()),"string"==typeof s&&(s=s.toLowerCase()),i>s?this.sortDirection:i<s?-1*this.sortDirection:0},sort:function(t,e){var i=t.values[this.sortIndex],s=e.values[this.sortIndex];return"string"==typeof i&&(i=i.toLowerCase()),"string"==typeof s&&(s=s.toLowerCase()),i>s?this.sortDirection:i<s?-1*this.sortDirection:0},sortColumn:function(t,e,i){var s,n,r,o,a,h=[],l=[],c=0,u=this.element();for(this.hideCols||c++,this.sortDirection=e,this.sortIndex=t,s=void 0!==this.cols[t].format?"number"==this.cols[t].type?this.sortFormattedNumeric.bind(this):this.sortFormatted.bind(this):"number"==this.cols[t].type?this.sortNumeric.bind(this):"numberInHtml"==this.cols[t].type?this.sortNumericInHtml.bind(this):"stringInHtml"==this.cols[t].type?this.sortStringInHtml.bind(this):this.sort.bind(this),n=0,r=this.data.length;n<r;n++)if(this.data[n].__ref={row:u.rows[n+c],parent:u.rows[n+c].parentNode},void 0!==this.data[n].values&&void 0===this.data[n].type&&("function"==typeof i&&(this.data[n].values[t][0]=i.apply(this,this.data[n].values[t])),l.push(this.data[n])),void 0!==this.data[n].type){for(l.sort(s),o=0,a=l.length;o<a;o++)h.push(l[o]);l=[],h.push(this.data[n])}if(l.length>0)for(l.sort(s),o=0,a=l.length;o<a;o++)h.push(l[o]);if(this.data=h,this.replaceOnSort)this.change("replace",this.draw());else{for(n=0,r=this.data.length;n<r;n++)this.data[n].__ref.parent.removeChild(this.data[n].__ref.row);for(n=0,r=this.data.length;n<r;n++)this.data[n].__ref.parent.appendChild(this.data[n].__ref.row),this.styleRowAfterSort(this.data[n],n),delete this.data[n].__ref}},styleRowAfterSort:function(t,e){this.setLineColor(e%2!=0),this.setLineColorByRowType(t);var i="";if(void 0!==t.title)i=this.getCellColors(t,t,this.cols,0),n()(t.__ref.row).children().eq(0).removeClass("oo eo oe ee ho he"),n()(t.__ref.row).children().eq(0).toggleClass(i,!0);else for(var s=t.values.length,r=0;r<s;++r)i=this.getCellColors(t,t.values[r],this.cols,r),n()(t.__ref.row).children().eq(r).removeClass("oo eo oe ee ho he"),n()(t.__ref.row).children().eq(r).toggleClass(i,!0)},sortColumnClick:function(t,e){this.lastDirection=this.lastSort!=t?this.priorityDirection:-this.lastDirection,this.sortUpdateImage(t,this.lastSort,this.lastDirection),this.lastSort=t,this.sortColumn(this.lastSort,this.lastDirection,e)},sortUpdateImage:function(t,e,i){var s;s=n()("#"+this.id+"_headRows").children("th, td").eq(t),n()("#btn-sort-wrap-"+this.id+"-"+e).toggleClass("sorted-asc",!1).toggleClass("sorted-desc",!1),n()("#"+this.id+"_headRows").children("th, td").eq(e).attr("aria-sort","none"),-1==i?(n()("#btn-sort-wrap-"+this.id+"-"+t).toggleClass("sorted-desc",!0),this.changeAdaSorting("desc",t,s)):(n()("#btn-sort-wrap-"+this.id+"-"+t).toggleClass("sorted-asc",!0),this.changeAdaSorting("asc",t,s))},changeAdaSorting:function(t,e,i){var s="",r=n()("<span>"+this.cols[e].title+"</span>").text();"asc"==t?(i.attr("aria-sort","ascending"),s=o.JSStrings.tc("common:sortedAsc",{COLUMN:r})):"desc"==t&&(i.attr("aria-sort","descending"),s=o.JSStrings.tc("common:sortedDesc",{COLUMN:r})),this.announceSort&&void 0!==this.sortableAnnounce&&(this.sortableAnnounce.text(s),setTimeout(n().proxy((function(){this.sortableAnnounce.text("")}),this),2e3))},makeTableSortable:function(){for(var t=0,e=this.cols.length;t<e;t++)this.makeColumnSortable(t)},makeColumnSortable:function(t,e){this.initializeSortable(t),this.makeColumnClickable(t,this.sortColumnClick.bind(this,t,e))},initializeSortable:function(t){var e,i;i=n()("#"+this.id+"_headRows").children("th, td").eq(t),e=n()('<div id="btn-sort-wrap-'+this.id+"-"+t+'" class="btn-sort-wrap"><img src="'+o.JSSettings.st("common:dbImg")+'" class="btn-sort-top" alt="" /><img src="'+o.JSSettings.st("common:dbImg")+'" class="btn-sort-bottom" alt="" /></div>'),i.css({"padding-right":"12px"}),o.Live.newTables?i.wrapInner('<div tabindex="0" role="button" style="float:'+this.colAlign(this.cols[t])+';"></div>'):i.wrapInner("<div></div>"),i.children().first().append(e),i.on("mouseenter",n().proxy((function(t){t.toggleClass("sort-hover",!0)}),this,e)),i.on("mouseleave",n().proxy((function(t){t.toggleClass("sort-hover",!1)}),this,e)),i.attr("aria-sort","none"),void 0===this.sortableAnnounce&&this.initializeSortableAnnounce()},makeColumnClickable:function(t,e){var i=n()("#"+this.id+"_headRows").children("th, td").eq(t);i.css({cursor:"pointer"}),i.on("click",e),i.on("keydown",n().proxy(this.keyDown,this,e))},keyDown:function(t,e){13!=e.keyCode&&32!=e.keyCode||(e.preventDefault(),t())},initializeSortableAnnounce:function(){var t=this.jelement();this.sortableAnnounce=n()('<div id="'+this.id+'TableAnnounce" class="offscreen" aria-live="polite"></div>'),t.after(this.sortableAnnounce)},redrawTableData:function(){var t,e,i,s=this.element(),r=0,o=this.data.length,a=this.cols.length;for(this.hideCols||r++,t=0;t<o;++t)if(e=s.rows[t+r],void 0!==this.data[t].values)for(i=0;i<a;++i)n()(e.cells[i]).html(this.wrapLink(this.colsFormats[i](this.data[t].values[i],this.cols[i]),this.data[t].actions,t,i));this.observeClickable()},colAlign:function(t){return void 0!==t.align?t.align:"number"==t.type?"right":"flag"==t.type?"center":"left"},colClass:function(t,e){return t.header?"h":(e+1)%2==0?"e":"o"},resetLineColors:function(){this.isEvenRow=!0},setLineColor:function(t){this.isEvenRow=t},switchLineColors:function(t,e,i){this.isEvenRow=!this.isEvenRow,void 0!==t.title&&(""!==t.title.replace(/\s/g,"")?this.isEvenRow=!0:this.isEvenRow=!this.isEvenRow)},getCellColors:function(t,e,i,s){var n,r="";return n="o",this.isEvenRow&&(n="e"),s+=this.skipRS,void 0!==t.cols?r=void 0!==e&&void 0!==e.cssClass?e.cssClass:"head"==t.type?((s+1)%2==0?"e":"o")+"h":"normal"==t.type?((s+1)%2==0?"e":"o")+n:"d":void 0===t.title&&(r=this.colClass(i[s],s)+n),r},applyCellColors:function(t,e,i,s){var n=this.getCellColors(t,e,i,s);""!=n&&this.addCellClass(n)},getVlinePos:function(){var t,e=!1,i=0,s=this.cols,n=s.length;for(t=0;t<n;++t)void 0!==s[t].vline&&0!=s[t].vline&&(e=!0,0==i&&(i=t+1));return!e&&s[0]&&(void 0===s[0].vline||void 0!==s[0].vline&&0!=s[0].vline)&&(e=!0,s[0].vline=!0,i=1),i},getCellType:function(t,e,i,s){var n=!1;return void 0!==s&&s+this.skipRS<i&&(n=!0),void 0!==t.title&&(n=!0),void 0!==t.cols&&"normal"!=t.type&&(n=!0),void 0!==e&&(null===e||void 0!==e.title&&""===e.title)&&(n=!1),""===e&&(n=!1),n?"th":"td"},getSpecialCells:function(t,e){var i=0,s=!1;return void 0!==t.title&&void 0===t.type&&(s=!0),s&&(i=e.length-this.skipRS-1),i},formatAttr:function(t,e){var i="";return""!==e&&(i=" "+t+'="'+e+'"'),i},addCell:function(t,e,i,s,n,r,o){var a,h,l,c,u="";this.initCellCss(),this.initCellClasses(),this.setCellAligns(i,o),a=this.getCellType(t,e,s,o),this.applyCellSpecials(t,e,a,r,o),this.applyCellStyles(t,e,o),this.applyCellVlineClasses(t,e,i,o),this.applyCellAligns(t,e,i,o),l=this.getCellColspan(t,e),c=this.getCellRowspan(t,e),u+=this.formatAttr("colspan",l),u+=this.formatAttr("rowspan",c),this.applyCellColors(t,e,i,o),u+=this.getCellsClasses(n,o),u+=this.getCellCss();var d=this.getCellHeaderIdAttr(t,e,i,o,a,n,r,l),p=this.getCellScope(t,e,d.id,i,o,a,n,r,l,c);return u+=d.attr,u+=p.attr,this.setCellComponentLabel(e,p.headers),h="<"+a+u+">"+this.getCellValue(t,e,i,o,n)+"</"+a+">",this.skipCS+=(l||1)-1,h},getRowCells:function(t,e,i,s,n){var r,o,a;if(r=[],void 0!==t.title){r.push(this.addCell(t,t,e,i,s,n,0));var h=this.getSpecialCells(t,e);for(a=0;a<h;++a)r.push(this.addCell({title:""},"",e,i,s,"data",a+1))}else{for(o=t.values.length,a=0;a<o;++a)r.push(this.addCell(t,t.values[a],e,i,s,n,a));this.resolveSkipRowspan(t,e)}return r.join("")},setRowHeaders:function(t,e,i,s){var n,r,o,a,h;if(this.headers=[],void 0!==t.values)for(n=t.values.length,r=0;r<n;++r)a=this.getCellType(t,t.values[r],e,r),h=t.values[r],"th"==a&&"data"==s&&(o=this.id+"_rhead_"+i+"_"+r,void 0!==h&&null!=h&&void 0!==h.cellId&&""!==h.cellId&&(o=h.cellId),this.headers.push(o));else void 0!==t.title&&"head"==s&&(o=void 0!==t&&null!=t&&void 0!==t.cellId&&""!==t.cellId?t.cellId:this.id+"_head_"+i+"_0",this.headers.push(o))},setSlices:function(t,e){t[e]&&"undefined"!=t[e].hrafter&&1==t[e].hrafter&&(this.rowsClasses[e].forRow.push("bfcslice"),this.rowsClasses[e].forCells.push("newslice"),this.rowsClasses[e].forCells.push("bfslice")),t[e-1]&&"undefined"!=t[e-1].hrafter&&1==t[e-1].hrafter&&(this.rowsClasses[e].forRow.push("afcslice"),this.rowsClasses[e].forCells.push("afslice")),t[e+1]&&"undefined"!=t[e+1].hrbefore&&1==t[e+1].hrbefore&&(this.rowsClasses[e].forRow.push("bfcslice"),this.rowsClasses[e].forCells.push("newslice"),this.rowsClasses[e].forCells.push("bfslice")),t[e]&&"undefined"!=t[e].hrbefore&&1==t[e].hrbefore&&(this.rowsClasses[e].forRow.push("afcslice"),this.rowsClasses[e].forCells.push("afslice")),t[e+1]&&void 0!==t[e+1].title&&""==t[e+1].title.replace(/\s/g,"")&&(this.rowsClasses[e].forRow.push("bfcslice"),this.rowsClasses[e].forCells.push("bfslice")),t[e-1]&&void 0!==t[e-1].title&&""==t[e-1].title.replace(/\s/g,"")&&(this.rowsClasses[e].forRow.push("afcslice"),this.rowsClasses[e].forCells.push("afslice"))},initRowsClasses:function(t){this.rowsClasses||(this.rowsClasses=[]),this.rowsClasses[t]||(this.rowsClasses[t]={}),this.rowsClasses[t]={forRow:[],forCells:[]}},initCellCss:function(){this.cellCss={}},addCellCss:function(t,e){this.cellCss[t]=e},getCellCss:function(){var t,e="",i=[];for(t in this.cellCss)this.cellCss.hasOwnProperty(t)&&i.push(t+":"+this.cellCss[t]);return i.length>0&&(e=' style="'+i.join(";")+'"'),e},initCellClasses:function(){this.cellClasses=[]},addCellClass:function(t){this.cellClasses.push(t)},initCellsClasses:function(){var t,e=this.cols.length;for(t=0;t<e;++t)this.cellsClasses||(this.cellsClasses=[]),this.cellsClasses[t]=[]},addCellsClasses:function(t,e){this.cellsClasses[e].push(t)},addRowClasses:function(t,e){this.rowsClasses[e].forRow.push(t)},addRowCellsClasss:function(t,e){this.rowsClasses[e].forCells.push(t)},getRowClasses:function(t){var e,i,s=[],n="";if(this.rowsClasses&&this.rowsClasses[t])for(e=0,i=this.rowsClasses[t].forRow.length;e<i;e++)s.push(this.rowsClasses[t].forRow[e]);return s.length>0&&(n=' class="'+s.join(" ")+'"'),n},getCellsClasses:function(t,e){var i,s,n=[],r="";if(this.cellsClasses&&this.cellsClasses[e])for(i=0,s=this.cellsClasses[e].length;i<s;i++)n.push(this.cellsClasses[e][i]);if(this.rowsClasses&&this.rowsClasses[t])for(i=0,s=this.rowsClasses[t].forCells.length;i<s;i++)n.push(this.rowsClasses[t].forCells[i]);if(this.cellClasses)for(i=0,s=this.cellClasses.length;i<s;i++)n.push(this.cellClasses[i]);return n.length>0&&(r=' class="'+n.join(" ")+'"'),r},applyCellSpecials:function(t,e,i,s,n){"object"==a(e)&&null!==e&&(void 0!==e.hsplit&&1==e.hsplit&&this.addCellClass("hsplit"),void 0!==e.noborder&&this.addCellClass("noborder")),"th"==i&&"data"==s&&this.addCellsClasses("td",n)},applyCellStyles:function(t,e,i){var s,n,r,o,h;if("object"==a(e)&&null!==e&&(void 0!==e.align&&this.addCellCss("text-align",e.align),void 0!==e.css))for(s=0,n=r=e.css.split(";");s<n;s++)""!=r[s]&&void 0!==(o=r[s].split(":"))[0]&&void 0!==o[1]&&this.addCellCss(o[0],o[1]);if(void 0!==t.values)for(h in this.colsCss[i])this.colsCss[i].hasOwnProperty(h)&&this.addCellCss(h,this.colsCss[i][h])},setCellAligns:function(t,e){for(;this.rowspanCols[e+this.skipRS]>0&&e+this.skipRS<=t.length;)this.skipRS++},applyCellAligns:function(t,e,i,s){var n=this.colAlign(i[s+this.skipRS]);this.addCellCss("text-align",n)},applyCellVlineClasses:function(t,e,i,s){var n=i[s+this.skipRS];void 0!==t.values&&void 0===t.type&&(void 0!==n&&n.vline&&this.addCellsClasses("vline",s),void 0!==n&&n.vhead&&this.addCellsClasses("vhead",s),void 0!==n&&n.dataClass&&this.addCellsClasses(n.dataClass,s)),void 0!==t.type&&void 0!==n&&n.vline&&"simple"==t.type&&this.addCellsClasses("vline",s),"object"==a(e)&&null!==e&&void 0!==e.vline&&this.addCellsClasses("vline",s)},getCellColspan:function(t,e){var i="",s=-1;return"object"==a(e)&&null!==e&&void 0!==e.colspan&&(s=e.colspan,this.addCellCss("text-align","center")),s>-1&&(i=s),i},resetSkipRowspan:function(){this.skipRS=0},resetSkipColspan:function(){this.skipCS=0},resolveSkipRowspan:function(t,e){var i,s,n,r,o,h;for(this.resetSkipRowspan(),i=0,s=t.values.length;i<s;++i){for(;this.rowspanCols[i+this.skipRS]>0&&i+this.skipRS<=this.cols.length;)this.skipRS++;if(o=1,h=1,"object"==a(r=t.values[i])&&null!==r&&("number"==typeof r.colspan&&(o=r.colspan),"number"==typeof r.rowspan&&(h=r.rowspan)),o>1)for(n=i+this.skipRS;n<i+this.skipRS+o;n++)this.rowspanCols[n]+=h;else this.rowspanCols[i+this.skipRS]+=h;this.skipRS+=o-1}for(n=0;n<this.rowspanCols.length;n++)this.rowspanCols[n]--,this.rowspanCols[n]<0&&(this.rowspanCols[n]=0)},getCellRowspan:function(t,e,i){var s="",n=-1;return"object"==a(e)&&null!==e&&void 0!==e.rowspan&&(n=e.rowspan),n>-1&&(s=n),s},getCellScope:function(t,e,i,s,n,r,o,a,h,l){var c,u,d,p="",f="",g="",m=[],v=["headCols","dCols"];if(this.simpleADAScope&&"th"==r&&("head"==a&&(f=h>0?"colgroup":"col"),"data"==a&&(f=l>0?"rowgroup":"row")),"data"==a)for("th"!=r&&(m=m.concat(this.headers)),u=0,d=v.length;u<d;u++)if(this[g=v[u]]&&this[g][n+this.skipRS])for(c=0;c<=this[g][n+this.skipRS].length;c++)("dCols"!=g||"dCols"==g&&"th"==r)&&this[g][n+this.skipRS][c]&&i!=this[g][n+this.skipRS][c]&&m.push(this[g][n+this.skipRS][c]);return""!=f&&(p=' scope="'+f+'"'),void 0!==e&&null!=e&&void 0!==e.headers&&e.headers.length>0&&(m=e.headers),!this.simpleADAScope&&m.length>0&&(p+=' headers="'+m.join(" ")+'"'),{attr:p,headers:m}},getCellHeaderIdAttr:function(t,e,i,s,n,r,o,a){var h,l="",c="",u="";if("head"==o)for(void 0!==t.title?""!==t.title.replace(/\s/g,"")&&void 0===t.type&&(this[u="dCols"]=[]):u="headCols",c=void 0!==e&&null!=e&&void 0!==e.cellId&&""!==e.cellId?e.cellId:this.id+"_head_"+r+"_"+s,h=0;h<(a||1);h++)this[u][s+this.skipRS+this.skipCS+h]||(this[u][s+this.skipRS+this.skipCS+h]=[]),this[u][s+this.skipRS+this.skipCS+h].push(c);return"data"==o&&("th"==n&&(c=this.id+"_rhead_"+r+"_"+s),void 0!==e&&null!=e&&void 0!==e.cellId&&""!==e.cellId&&(c=e.cellId)),""!=c&&(l+=' id="'+c+'"'),{attr:l,id:c}},setCellComponentLabel:function(t,e){t instanceof h&&!t.hasLabel()&&e.length>0&&t.setParam("aria-labelledby",e.join(" "))},getCellValue:function(t,e,i,s,n){var r="";return void 0!==t.values?r=this.wrapLink(this.colsFormats[s+this.skipRS](t.values[s],i[s+this.skipRS]),t.actions,n,s):void 0!==t.title&&(r=t.title),"object"==a(e)&&null!==e&&void 0!==e.title&&(r=e.title),void 0===e&&(r=""),r},getRowType:function(t,e,i){var s="data";if(void 0!==t.type)switch(t.type){case"total":case"dhead":case"simple":case"dtitle":break;case"head":s="head"}return void 0!==t.title&&void 0===t.type&&(s="head"),s},setLineColorByRowType:function(t){if(void 0!==t.type)switch(t.type){case"total":case"dhead":this.setLineColor(!0);break;case"simple":this.setLineColor(!1)}},applyRowType:function(t,e,i){if(this.setLineColorByRowType(t),void 0!==t.type)switch(t.type){case"total":this.addRowCellsClasss("dtotal",i);break;case"dhead":this.addRowClasses("dchead",i),this.addRowCellsClasss("dhead",i);break;case"simple":this.addRowClasses("dcsimple",i),this.addRowCellsClasss("dsimple",i);break;case"head":this.addRowClasses("drhead",i);break;case"dtitle":this.addRowCellsClasss("dtitle",i),this.addRowClasses("drtitle",i)}void 0!==t.title&&(""!==t.title.replace(/\s/g,"")?void 0===t.type&&this.addRowCellsClasss("d",i):(this.addRowCellsClasss("dslice",i),this.addRowClasses("dcslice",i)))},newDrawTableData:function(){var t,e,i,s,n,r,o,a=this.cols,h=this.data,l=h.length;for(r=this.getVlinePos(),this.resetLineColors(),n=[],e=0;e<l;++e)void 0!==(o=h[e]).cols&&(o.values=o.cols),this.initRowsClasses(e),this.initCellsClasses(),this.switchLineColors(o,a,e),this.setSlices(h,e),s=this.getRowType(o,a,e),this.applyRowType(o,a,e),this.resetSkipRowspan(),this.resetSkipColspan(),this.setRowHeaders(o,r,e,s),t=this.getRowCells(o,a,r,e,s),i="<tr"+this.getRowClasses(e)+">"+t+"</tr>",n.push(i);return n.join("")},resolveADAcomplexity:function(){var t,e,i=this.cols,s=this.data,n=s.length,r=0,o=!1,a=!1;for(this.hideCols||(r=1),this.simpleADAScope=!0,t=0;t<n;++t)e=s[t],"head"==this.getRowType(e,i,t)?(r++,o&&(a=!0)):o=!0;var h=this.getVlinePos();(r>1||a||h>1)&&(this.simpleADAScope=!1)},wrapLink:function(t,e,i,s){var n;return void 0!==e&&null!=e&&void 0!==e[s]&&null!=e[s]?(n=e[s].linkStyle||"simpleLink",'<a href="'+o.Live.emptyHref+'" class="'+n+'">'+t+"</a>"):t},draw:function(){var t,e,i,s,r="",a=this.cols.length,h="",l="",c="";for(this.resolveADAcomplexity(),this.headCols=[],this.currentSort=[],""!=this.title&&(h+='<caption class="title'+(this.hideTitle?" offscreen":"")+'">'+this.title+"</caption>",this.hideTitle||(l+='<div class="offscreenCaption" aria-hidden="true">'+n()("<p>"+this.title+"</p>").text().escapeHTML()+"</div>")),this.hideCols||(r+='<tr id="'+this.id+'_headRows">'),e=0;e<a;++e){if((t=this.cols[e]).unit=t.unit||"",this.rowspanCols[e]=0,i="",o.Live.newTables&&("number"==typeof t.colspan?i+="text-align:center;":i+="text-align:"+this.colAlign(t)+";"),!this.hideCols){c="",this.simpleADAScope&&(c='scope="col"'),void 0!==t.title&&""===t.title.replace(/\s/g,"")||void 0!==t.cellId||(s=this.id+"_mhead_"+e,this.headCols[e]=[s],c+=' id="'+s+'"'),void 0!==t.cellId&&(s=t.cellId,this.headCols[e]=[s],c+=' id="'+s+'"');var u="th";""===t.title&&(u="td"),r+="<"+u+" "+c+' style="'+i+'" class="'+((e+1)%2==0?"e":"o")+'h">'+t.title+"</"+u+">"}this.colsStyles[e]="text-align:"+this.colAlign(t)+";"+(void 0!==t.width?"width: "+t.width+";":""),this.colsCss[e]={"text-align":this.colAlign(t)},void 0!==t.width&&(this.colsCss[e].width=t.width),void 0!==t.format?this.colsFormats[e]=function(t,e){return null===t?"":e.format.apply(this,t)+e.unit}:"number"==t.type?this.colsFormats[e]=function(t,e){return null===t?"":Number(t).format(e.decimals)+e.unit}:"flag"==t.type?this.colsFormats[e]=function(t,e){return null===t?void 0!==e.nullLabel?'<span class="offscreen">'+e.nullLabel+"</span>":"":!0===t?'<span class="offscreen">'+(void 0!==e.trueLabel?e.trueLabel:o.JSStrings.tc("common:yes"))+'</span><img src="'+Path.getPath(o.JSSettings.st("common:iconsFolder"),"true-false_circle",".svg")+'" alt="" class="table-flag-true" />':!1===t?'<span class="offscreen">'+(void 0!==e.falseLabel?e.falseLabel:o.JSStrings.tc("common:no"))+'</span><img src="'+Path.getPath(o.JSSettings.st("common:iconsFolder"),"true-false_nulldash",".svg")+'" alt="" class="table-flag-false" />':t+e.unit}:this.colsFormats[e]=function(t,e){return null===t?"":t+e.unit},this.currentSort[e]=-1,void 0!==t.sort&&0!=t.sort&&(this.sortDirection=t.sort,this.sortIndex=e,this.currentSort[e]=this.sortDirection,"number"==t.type?this.data.sort(this.sortNumeric.bind(this)):this.data.sort(this.sort.bind(this)))}return this.hideCols||(r+="</tr>"),this.cornersBeforeContent()+'<table id="'+this.id+'" class="'+this.tableClass+(this.vertical?" vert":"")+'" >'+(""!=this.title?h:"")+(this.hideCols?"":"<thead>"+r+"</thead>")+"<tbody>"+this.newDrawTableData()+"</tbody></table>"+l+this.cornersAfterContent()},stickHeaders:function(t){Detect.isSafari()||Detect.isIE()||(t&&(this.headerScrollElement=t,this.headerScrollEvent=this.toggleStickHeadersScroll.bind(this,t),t.on("scroll",this.headerScrollEvent),this.toggleStickHeadersScroll(t)),this.jelement().toggleClass("separated",!0),this.jelement().find("thead").find("th, td").each((function(){n()(this).toggleClass("sticky-header",!0)})))},toggleStickHeadersScroll:function(t){var e=this.jelement().find("thead").find("th, td"),i=Math.floor(t.scrollTop())>=Math.floor(e.position().top);e.each((function(){n()(this).toggleClass("sticking",i)}))},stickFirstColumn:function(t){Detect.isIE()||(t&&(this.columnScrollElement=t,this.columnScrollEvent=this.toggleStickColumnsScroll.bind(this,t),t.on("scroll",this.columnScrollEvent),this.toggleStickColumnsScroll(t)),this.jelement().toggleClass("separated",!0),this.jelement().find("tbody").find("th:first-child").each((function(){n()(this).toggleClass("sticky-column",!0).on("focusin",(function(){n()(this).toggleClass("focused",!0)})).on("focusout",(function(){n()(this).toggleClass("focused",!1)}))})),this.jelement().find("thead").find("th, td").first().each((function(){n()(this).toggleClass("sticky-header-column",!0)})))},toggleStickColumnsScroll:function(t){var e=this.jelement().find("tbody").find("th:first-child"),i=this.jelement().find("thead").find("th, td").first(),s=Math.floor(t.scrollLeft())>=Math.floor(i.position().left);e.each((function(){n()(this).toggleClass("sticking-column",s)})),i.each((function(){n()(this).toggleClass("sticking-column",s)}))},destroyScrollEvents:function(){this.headerScrollElement&&this.headerScrollElement.off("scroll",this.headerScrollEvent),this.columnScrollElement&&this.columnScrollElement.off("scroll",this.columnScrollEvent)},destroy:function(){this.destroyScrollEvents()},onClickRow:function(t,e,i){void 0!==this.onClickRowEvent&&void 0!==t.rowData&&this.onClickRowEvent(t.rowData,e,i)},onSelectRow:function(t,e,i){void 0!==this.onSelectRowEvent&&void 0!==t.rowData&&this.onSelectRowEvent(t.rowData,e,i)},onDeselectRow:function(t,e,i){void 0!==this.onDeselectRowEvent&&void 0!==t.rowData&&this.onDeselectRowEvent(t.rowData,e,i)},onHovRow:function(t,e,i){void 0!==this.onHovRowEvent&&void 0!==t.rowData&&this.onHovRowEvent(t.rowData,e,i)},onDeHovRow:function(t,e,i){void 0!==this.onDeHovRowEvent&&void 0!==t.rowData&&this.onDeHovRowEvent(t.rowData,e,i)},clickRow:function(t,e,i){n()(t).toggleClass("seltd",!0),this.onClickRow(e,t,i)},selectRow:function(t,e,i){n()(t).toggleClass("seltd",!0),this.onSelectRow(e,t,i),!this.doDeselect&&this.lastSelectedRow&&this.lastSelectedRow.rw!=t&&this.doDeselectRow(this.lastSelectedRow.rw,this.lastSelectedRow.rowObject,i),this.lastSelectedRow={rowObject:e,rw:t}},doDeselectRow:function(t,e,i){n()(t).toggleClass("seltd",!1),this.onDeselectRow(e,t,i)},deselectRow:function(t,e,i){this.doDeselect&&this.doDeselectRow(t,e,i)},hoverRow:function(t,e,i){n()(t).toggleClass("hovtd",!0),n()(t).hasClass("seltd")||this.onHovRow(e,t,i)},deHoverRow:function(t,e,i){n()(t).toggleClass("hovtd",!1),n()(t).hasClass("seltd")||this.onDeHovRow(e,t,i)},observeFocus:function(){var t,e,i,s=this.element(),r=0,o=this.data.length;for(this.cols.length,this.hideCols||r++,t=0;t<o;++t)e=s.rows[t+r],i=n()(e),void 0===this.data[t].values||void 0!==this.data[t].doFocus&&0==this.data[t].doFocus||(i.attr("tabindex","-1").on("touchstart",(function(){n()(this).focus()})),i.on("click",n().proxy(this.clickRow,this,e,this.data[t])),i.on("focusin",n().proxy(this.selectRow,this,e,this.data[t])),i.on("focusout",n().proxy(this.deselectRow,this,e,this.data[t])),i.on("mouseenter",n().proxy(this.hoverRow,this,e,this.data[t])),i.on("mouseleave",n().proxy(this.deHoverRow,this,e,this.data[t])))},observeClickable:function(){var t,e,i,s,r,o,a=this.element(),h=0,l=this.data.length,c=this.cols.length;for(this.hideCols||h++,e=0;e<l;++e)if(t=this.data[e],i=a.rows[e+h],s=n()(i),void 0!==t.actions)for(t.actions,r=0;r<c;++r)void 0!==(o=t.actions[r])&&null!=o&&(void 0===o.context&&(o.context=this),o.linkStyle,"click"===o.type)&&n()(s[0].cells[r]).children("a").first().on("click",n().proxy((function(t,e,i,s){s.preventDefault(),Array.isArray(i)||(i=[i]),i.push(s),t.apply(e,i)}),this,o.call,o.context,o.data))},observe:function(){1==this.doHlRows&&this.observeFocus(),this.observeClickable(),o.Live.newTables||this.change("opacity",this.opacity)},jelement:function(){return n()("#"+this.id)},jelementWrapper:function(){return""==this.newCorners?this.jelement():this.jelement().parent("."+this.newCorners+"CornersCSS3")},element:function(){return this.jelement()[0]},change:function(t,e){var i=this.jelementWrapper();switch(t){case"float":i.css({float:e});break;case"hide":i.hide();break;case"show":i.show();break;case"replace":n()("#"+this.id+"CornersBefore").remove(),n()("#"+this.id+"CornersAfter").remove(),this.destroy(),i.replaceWith(e);break;case"width":i.css({width:e});break;case"opacity":i.css({opacity:e});break;case"z-index":i.css({"z-index":e});break;case"css":i.css(e);break;case"toggleClass":if(void 0===e||void 0===e.cls||void 0===e.toggle)break;i.toggleClass(e.cls,e.toggle)}},cornersBeforeContent:function(){var t,e=this.newCorners;return""==e?"":(t=""==this.floating?"float:"+this.floating+";":"float:left;",(""!=this.clear?'<div id="'+this.id+'CornersBefore" style="clear:'+this.clear+'; width:0px; height:0px;"></div>':"")+'<div style="'+t+'" class="'+e+'CornersCSS3">')},cornersAfterContent:function(){return""==this.newCorners?"":"</div>"+(""!=this.clear?'<div id="'+this.id+'CornersAfter" style="clear:'+this.clear+'; width:0px; height:0px;"></div>':"")}});n().extend(c,{setMaxColWidths:function(t,e){var i,s,r,o,a,h=t.length,l=[],c=[],u=[];for(i=0;i<h;++i)for(a=l[i]=t[i].element(),n()(a).css({"min-width":""}),u[i]=[],s=0,r=a.rows[e].cells.length;s<r;++s)u[i][s]=n()(a.rows[e].cells[s]),u[i][s].css({width:""});for(i=0;i<h;++i)for(s=0,r=(a=l[i]).rows[e].cells.length;s<r;++s)o=u[i][s].width(),(void 0===c[s]||o>c[s])&&(c[s]=o);for(i=0;i<h;++i)for(s=u[i].length-1;s>=0;--s)u[i][s].css({width:c[s]+"px"});this.setMaxTableWidths(t)},setMaxTableWidths:function(t){var e,i,s=t.length,r=0;for(e=0;e<s;++e)(i=n()(t[e].element()).width())>r&&(r=i);for(e=0;e<s;++e)n()(t[e].element()).css({"min-width":r+"px"})}});var u=r.Class.extend({initialize:function(t,e,i){this.overline=t,this.headline=e,this.description=i},draw:function(){var t='<div class="headerComponent">';return t+='<div class="overline">'+this.overline+"</div>",t+='<div class="headline">'+this.headline+"</div>",t+='<div class="description">'+this.description+"</div>",(t+='<div class="line"></div>')+"</div>"}}),d=r.Class.extend({initialize:function(t,e){this.items=t,this.actionItem=e},draw:function(){for(var t='<div class="detailsListComponent">',e=0;e<this.items.length;e++){var i=this.items[e];t+='<div class="detailsListItem">',t+='<div class="detailsTitle">'+i.title+"</div>",t+='<div class="content">'+i.content+"</div>",t+="</div>"}return(t+=this.getActionItem())+"</div>"},getActionItem:function(){return this.actionItem?"button"===this.actionItem.type?'<button class="detailsButton">'+this.actionItem.title+"</button>":"link"===this.actionItem.type?'<a href="#">'+this.actionItem.title+"</a>":void 0:""}}),p=r.Class.extend({initialize:function(t,e){this.button=t,this.items=e},draw:function(){var t='<div class="splitButton">';return t+='<button class="button">'+this.getButtonTitle()+"</button>",(t+='<button class="dropDownButton">V</button>')+"</div>"},getButtonTitle:function(){return this.button.title}}),f=r.Class.extend({initialize:function(t,e,i,s,n,r,a){this.id=t+e,this.content=i,this.title=a,this.bgColor=s||"#eef7ff",this.opacity=o.Live.opacity,this.newCorners=void 0===n?"blue":n,1==o.Live.newTables&&"gray"!==this.newCorners&&(this.newCorners="white"),this.labelClass="dlabel-"+(""!=this.newCorners?this.newCorners:"blue"),this.clear=r||"both"},draw:function(){return this.cornersBeforeContent()+'<div id="'+this.id+'" class="'+this.labelClass+'">'+this.drawTitle()+this.content+"</div>"+this.cornersAfterContent()},drawTitle:function(){return void 0!==this.title&&null!=this.title&&""!=this.title?'<h2 class="plainHeader title">'+this.title+"</h2>":""},observe:function(){1!=o.Live.newTables&&this.change("opacity",this.opacity)},destroy:function(){this.jelementWrapper().remove()},jelement:function(){return n()("#"+this.id)},jelementWrapper:function(){return""==this.newCorners?this.jelement():this.jelement().parent("."+this.newCorners+"CornersCSS3")},element:function(){return this.jelement()[0]},change:function(t,e){var i=this.jelementWrapper();switch(t){case"float":i.css({float:e});break;case"hide":i.hide();break;case"show":i.show();break;case"replace":i.replaceWith(e);break;case"width":i.css({width:e});break;case"opacity":i.css({opacity:e});break;case"z-index":i.css({"z-index":e});break;case"css":i.css(e);break;case"toggleClass":if(void 0===e||void 0===e.cls||void 0===e.toggle)break;i.toggleClass(e.cls,e.toggle);break;case"togglePadding":this.jelement().toggleClass("nopadding",!e)}},cornersBeforeContent:function(){var t=this.newCorners;return""==t?"":(""!=this.clear?'<div style="clear:'+this.clear+'; width:0px; height:0px;"></div>':"")+'<div class="'+t+'CornersCSS3">'},cornersAfterContent:function(){return""==this.newCorners?"":"</div>"+(""!=this.clear?'<div style="clear:'+this.clear+'; width:0px; height:0px;"></div>':"")}}),g=r.Class.extend({padding:0,prefix:"dd",style:"",opacity:o.Live.opacity,ctrlTimeout:250,ddTimeout:500,mouseOver:!0,isDelayed:!1,wasClicked:!1,initialize:function(t,e,i,s,r,o,a,h){this.idArr=Array.isArray(t)?t:[t],this.jElement=n()();for(var l=0,c=this.idArr.length;l<c;++l)"string"==typeof this.idArr[l]?this.jElement=this.jElement.add("#"+this.idArr[l]):this.jElement=this.jElement.add(this.idArr[l]);this.altParent=a,this.dh=null,this.isOn=!1,this.canHide=!0,this.element=this.jElement.first(),this.valign=s||"bottom",this.align=i||"left",this.prefix=e||"dd",this.style=r||"",o instanceof n()?this.contentElement=o:this.contentElement=o?n()("#"+o):n()("body"),this.documentElement=n()(document),this.mouseOver=void 0===h||h,this.events=this.getEvents(),this.ddEvents=this.getDDEvents(),this.wasClicked=!1,this.observe(),this.enable(),this.drawInBody=!1},getEvents:function(){return{keydown:n().proxy((function(t){13!=t.keyCode&&32!=t.keyCode&&40!=t.keyCode||(t.preventDefault(),this.toggle(!0))}),this),click:n().proxy((function(t){var e=!(this.mouseOver&&this.isOn)||this.wasClicked;this.wasClicked=!0,e&&this.toggle(!0),t.stopPropagation()}),this),mouseover:n().proxy((function(t){this.mouseOver&&!this.wasClicked&&this.show(!1)}),this),mouseout:n().proxy((function(t){this.mouseOver&&!this.wasClicked&&(this.isDelayed?this.delayedHide():this.hide())}),this)}},getDDEvents:function(){return{mouseover:n().proxy((function(t){this.mouseOver&&!this.wasClicked&&this.setOverDD()}),this),mouseout:n().proxy((function(t){this.mouseOver&&!this.wasClicked&&this.setOutDD()}),this),documentClick:n().proxy((function(t){if(!this.mouseOver||this.wasClicked){var e=n()(t.target);0==e.closest(this.ddElement()).length&&0==e.closest('[id="'+this.element[0].id+'"]').length&&e[0]!=this.element[0]?this.hide():n()(document).one("click",this.ddEvents.documentClick)}}),this),blur:n().proxy((function(t){0==n()(t.relatedTarget).closest(this.ddElement()).length&&(this.drawInBody&&this.element.focus(),this.hide())}),this)}},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},ddElement:function(){return void 0!==this.ddEle&&this.ddEle},observe:function(){this.jElement.on("keydown",this.events.keydown),this.jElement.on("click",this.events.click),this.jElement.on("mouseover",this.events.mouseover),this.jElement.on("mouseout",this.events.mouseout)},observeDD:function(){this.ddElement().on("mouseover",this.ddEvents.mouseover).on("mouseout",this.ddEvents.mouseout).on("focusout",this.ddEvents.blur),this.canHide=!0,this.observeContent()},reset:function(){this.ddEle=n()(this.draw()),this.ddEle.css("position","fixed"),this.drawInBody?this.contentElement.append(this.ddEle):this.element.after(this.ddEle)},getPositionedRect:function(t,e,i,s){var n={left:t.left,top:t.top+t.height+this.padding,width:e.width,height:e.height};switch(i){case"center":n.left=t.left+(t.width-e.width)/2;break;case"right":n.left=t.left+(t.width-e.width)}return"top"===s&&(n.top=t.top-e.height-this.padding),n},containsX:function(t,e){return e.left>=t.left&&e.left+e.width<=t.left+t.width},containsY:function(t,e){return e.top>=t.top&&e.top+e.height<=t.top+t.height},contains:function(t,e){return this.containsX(t,e)&&this.containsY(t,e)},positionDropDownElement:function(){var t=this,e=this.ddElement(),i=this.element,s=i.offset(),n=this.contentElement.offset(),r=["center","left","right"].filter((function(e){return e!==t.align})),o=["bottom","top"].filter((function(e){return e!==t.valign})),a={left:0,top:0,width:e.outerWidth(!0),height:e.outerHeight(!0)},h={left:s.left,top:s.top,width:i.outerWidth(),height:i.outerHeight()},l={left:n.left,top:n.top,width:this.contentElement.width(),height:this.contentElement.height()},c=this.align,u=this.getPositionedRect(h,a,c,this.valign);if(!this.containsX(l,u))for(var d=0;d<r.length;d++){var p=this.getPositionedRect(h,a,r[d],this.valign);if(this.containsX(l,p)){c=r[d],u=p;break}}if(!this.containsY(l,u))for(var f=0;f<o.length;f++){var g=this.getPositionedRect(h,a,c,o[f]);if(this.containsY(l,g)){u=g;break}}e.css({left:u.left-this.documentElement.scrollLeft(),top:u.top-this.documentElement.scrollTop()})},restrictDropDownElementHeight:function(){},show:function(t){null!=this.dh&&clearTimeout(this.dh),this.enabled&&(this.isOn||(this.wasClicked=!1,this.reset(),this.isOn=!0,this.canHide=!0,this.ddElement().show().css({top:0,left:0}),this.positionDropDownElement(),this.restrictDropDownElementHeight(),this.observeDD(),n()(".dropDownOpen").each((function(){n()(this).data("dropDownObject").hide()})),this.element.data("dropDownObject",this),this.element.toggleClass("dropDownOpen",!0),this.element.toggleClass("tb-btn-active",!0),this.onShow(),t&&this.ddElement().is(":focusable")&&this.ddElement().focus(),n()(document).one("click",this.ddEvents.documentClick)))},hide:function(){if(this.isOn&&this.canHide){this.wasClicked=!1,this.element.toggleClass("dropDownOpen",!1),this.element.toggleClass("tb-btn-active",!1),this.isOn=!1,this.canHide=!0;var t=this.ddElement();null!=t&&t.remove(),this.onHide(),n()(document).off("click",this.ddEvents.documentClick)}},toggle:function(t){this.isOn?this.hide():this.show(t)},delayedHide:function(t){null!=this.dh&&clearTimeout(this.dh),this.dh=setTimeout(this.hide.bind(this),this.ctrlTimeout)},setOverDD:function(){clearTimeout(this.dh),this.canHide=!1},setOutDD:function(t){this.canHide=!0,null!=this.dh&&clearTimeout(this.dh),this.dh=setTimeout(this.hide.bind(this),this.ddTimeout)},draw:function(){return'<div id="dd-'+this.element[0].id+'" class="'+this.prefix+"-"+this.style+'" style="position:absolute; z-index: 99; display:none;">'+this.drawContent()+"</div>"},drawContent:function(){return""},observeContent:function(){},onHide:function(){},onShow:function(){},update:function(){this.canHide=!0,this.hide()},destroy:function(){this.canHide=!0,this.hide()}}),m=g.extend({padding:2,initialize:function(t,e,i,s,r){this.parentElement="string"!=typeof t?n()(t):n()("#"+t),this.text=e,this._super(this.parentElement,i||"dde","left","middle",s||"infotext",r)},reset:function(){return this._super()},drawContent:function(){return'<div class="text">'+this.text+"</div>"},observeContent:function(){},updateContent:function(t){this.text=t,this.update()},destroy:function(){this._super()}}),v=g.extend({padding:2,initialize:function(t,e,i,s,n,r,o,a,h,c,u,d,p){this.cf=new l,this.fromArr=e,this.fromID=i,this.fromName=s,this.fromGroupName=n,this.toArr=r,this.toID=o,this.toName=a,this.toGroupName=h,this.fromItems=c,this.fromItemID=u,this.fromItemName=d,this.toItemsGroupName=p,this._super(t,"ddm","left","top","help",null,null,!1),this.element.attr("aria-expanded",!1),delete this.ddEvents.blur,delete this.ddEvents.documentClick},getFromName:function(t){return this.fromItems[t][this.fromItemName]},getToName:function(t){return this.toArr[t][this.toName]},fromItemPreselected:function(t){return!1},drawContent:function(){var t,e,i,s,n="",r="",a=this.cf.getComponent("combobox","from",null,{label:this.fromGroupName},this.fromArr,this.fromID,this.fromName);if(this.fromItems){for(n+='<div role="group" aria-labelledby="copyDDfroms"><div id="copyDDfroms" class="copyDDlistHead">'+this.toItemsGroupName+'</div><ul class="copyDDlist">',t=0,e=this.fromItems.length;t<e;++t)n+="<li>"+this.cf.getComponent("checkbox","from_"+this.fromItems[t][this.fromItemID],this.fromItemPreselected(this.fromItems[t]),{label:this.getFromName(t)})+"</li>";n+="</ul></div>"}for(r+='<div role="group" aria-labelledby="copyDDtos"><div id="copyDDtos" class="copyDDlistHead">'+this.toGroupName+'</div><ul class="copyDDlist">',i=0,s=this.toArr.length;i<s;++i)r+="<li>"+this.cf.getComponent("checkbox","to_"+this.toArr[i].regionID,!1,{label:this.getToName(i)})+"</li>";return r+="</ul></div>",'<div style="cursor: default;"><div role="group" aria-labelledby="copyDDFrom" class="copyDDSide"><h2 id="copyDDFrom" class="copyDDhead">'+o.JSStrings.tc("common:from")+'</h2><div class="copyDDinside">'+a+n+'</div></div><div role="group" aria-labelledby="copyDDTo" class="copyDDSide"><h2 id="copyDDTo" class="copyDDhead">'+o.JSStrings.tc("common:to")+'</h2><div class="copyDDinside">'+r+'</div></div><div class="copyDDbtns">'+this.cf.getComponent("button","btnCopyDD",o.JSStrings.tc("common:copyData"))+" "+this.cf.getComponent("button","btnCloseDD",o.JSStrings.tc("common:closeCopy"))+'</div></div><div style="clear:both;"></div>'},observeContent:function(){n()("#btnCopyDD").on("click",n().proxy(this.copyCopyDD,this)),n()("#btnCloseDD").on("click",n().proxy(this.hideDD,this))},copyCopyDD:function(){var t,e,i,s,n=[],r=[];if(this.fromItems)for(t=0,e=this.fromItems.length;t<e;++t)this.cf.getComValue("from_"+this.fromItems[t][this.fromItemID])&&n.push(this.fromItems[t][this.fromItemID]);for(i=0,s=this.toArr.length;i<s;++i)this.cf.getComValue("to_"+this.toArr[i][this.toID])&&r.push(this.toArr[i][this.toID]);this.copyDecision(this.cf.getComValue("from"),r,n)},onShow:function(){this.element.attr("aria-expanded",!0),n()("#from").focus()},onHide:function(){this.element.attr("aria-expanded",!1)},hideDD:function(){this.element.focus(),this.hide()}}),y=g.extend({padding:2,initialize:function(t,e,i,s,r,a){this.parentElement="string"!=typeof t?n()(t):n()("#"+t),this.title=e,this.shortDesc=i,this.longDesc=s,this.isMore=!1,this.imageElement=n()('<button type="button" class="button-plain dde-image" aria-label="'+o.JSStrings.tc("common:description",{TITLE:e})+'"></button>'),this.parentElement.append(this.imageElement),this._super(this.imageElement,"dde","left","bottom",r||"explanation",a,null,!1)},setVisuallyHidden:function(t){t?this.parentElement.find(".dde-image").first().toggleClass("offscreen",!0).toggleClass("focusable",!0):this.parentElement.find(".dde-image").first().toggleClass("offscreen",!1).toggleClass("focusable",!1)},reset:function(){return this._super()},drawContent:function(){return'<div class="title">'+this.title+'</div><div class="short-desc">'+this.shortDesc+"</div>"+(this.longDesc?'<button class="button-plain more-control" style="cursor:pointer;">'+o.JSStrings.tc("common:more")+'</button><div class="long-desc" tabindex="0" style="overflow:auto; max-height:200px;'+(this.isMore?"":" display:none;")+'">'+this.longDesc+"</div>":"")},observeContent:function(){if(this.longDesc){var t=this.ddElement();this.showMore(t),t.find(".more-control").on("click",this.clickMore.bind(this))}},onShow:function(){this.ddElement().attr("tabindex",-1).attr("role","tooltip").on("keydown",n().proxy((function(t){27===t.keyCode&&(this.hide(),this.imageElement.focus())}),this))},showMore:function(t){this.isMore?(t.find(".long-desc").show(),t.find(".more-control").html(o.JSStrings.tc("common:less"))):(t.find(".long-desc").hide(),t.find(".more-control").html(o.JSStrings.tc("common:more"))),this.positionDropDownElement()},clickMore:function(t){this.isMore=!this.isMore,this.showMore(this.ddElement()),t.stopPropagation()},updateContent:function(t,e,i){this.title=t,this.shortDesc=e,this.longDesc=i,this.update()},destroy:function(){this._super(),this.imageElement.remove()}}),b=g.extend({errorImgs:["error","error","warning","note"],errorNames:["input","fatal","warning","note"],imgType:"small",padding:2,space:2,position:"center left",size:19,errorNumber:0,parentFocusable:!1,initialize:function(t,e,i,s,r,a,h,l,c){this.contentElement=l,this.error=e,this.position=(i||"center left").split(" "),this.outer=s||!1,this.space=r||2,this.size=a||19,this.imgType=h||"small","string"!=typeof t?(this.jParentElement=n()(t),t=this.errorNumber++):this.jParentElement=n()("#"+t),this.parentFocusable=this.jParentElement.is(":focusable");var u=o.JSStrings.tc("common:error_"+this.errorNames[this.error.type-1]),d='<img src="'+Path.getPath(o.JSSettings.st("common:errorsFolder"),"check-"+this.errorImgs[this.error.type-1]+"-"+this.imgType,".png")+'" class="error-image" alt=""/>';this.parentFocusable?(this.imageElement=n()(d),this.jParentElement.after(this.imageElement)):(this.imageElement=n()('<button class="button-plain" aria-label="'+u+'">'+d+"</button>"),this.jParentElement.before(this.imageElement)),this.imageElement.css({width:this.size,height:this.size,visibility:"hidden",position:"absolute","z-index":"98"}),this.errorLabel=n()('<span id="'+t+'_error" class="offscreen" style="display: none;">'+u+": "+this.error.message+"</span>"),this.jParentElement.after(this.errorLabel),this.jParentElement.attr("aria-describedby",t+"_error"),this.parentFocusable&&this.jParentElement.on("focus",n().proxy(this.show,this,!1)).on("blur",n().proxy(this.hide,this)),this.positionImage(),1==e.type||2==e.type?this.imageElement.effect("pulsate",{times:2},1400):this.imageElement.css("opacity",0).animate({opacity:1},1e3),this._super(this.imageElement,"dderr",this.position[1],"bottom",this.errorImgs[this.error.type-1],l),this.parentFocusable&&this.jParentElement.is(":focus")&&this.show(!1)},positionImage:function(){var t={width:this.size,height:this.size},e=this.jParentElement.position(),i={width:this.jParentElement.outerWidth(!0),height:this.jParentElement.outerHeight(!0)};t.left=e.left+this.offset(this.position[1],i.width,t.width),t.top=e.top+this.offset(this.position[0],i.height,t.height),this.imageElement.css({left:t.left+"px",top:t.top+"px",visibility:"visible"})},onResize:function(){this.positionImage()},onShow:function(){var t=this.ddElement();this.parentFocusable||t.attr("tabindex",-1).attr("role","tooltip").on("keydown",n().proxy((function(t){27===t.keyCode&&(this.hide(),this.imageElement.focus())}),this))},offset:function(t,e,i){switch(t){case"left":case"top":return this.outer?-i-this.space:this.space;case"right":case"bottom":return this.outer?e+this.space:e-i-this.space;default:return(e-i)/2}},drawContent:function(){return this.error.message},updateContent:function(t){this.error=t,this.update()},destroy:function(){this._super(),this.imageElement.remove(),this.errorLabel&&this.errorLabel.remove(),this.jParentElement&&this.jParentElement.removeAttr("aria-describedby")}}),x=g.extend({isDelayed:!0,initialize:function(t,e,i,s,n,r,o,a){this.items=e,this.focusableItems=[],this.currentFocus=null,this._super(t,"ddm",i,s,n,r,o,a)},keyDown:function(t){var e=!0;switch(t.keyCode){case 37:case 38:this.focusPrevious();break;case 39:case 40:this.focusNext();break;case 36:this.focusItem(0);break;case 35:this.focusItem(this.focusableItems.length-1);break;case 27:this.hide(),this.element.focus();break;case 13:case 32:var i=this.focusableItems[this.currentFocus].index;this.element.focus(),this.onClick(i,t);break;default:e=!1}e&&(t.preventDefault(),Accessibility.toggleKeyboardModeScript(!0))},focusItem:function(t){null!=this.currentFocus&&this.focusableItems[this.currentFocus].element.off("keydown"),t<0?this.currentFocus=0:t>=this.focusableItems.length?this.currentFocus=this.focusableItems.length-1:this.currentFocus=t,this.focusableItems[this.currentFocus].element.on("keydown",n().proxy(this.keyDown,this)).focus()},focusPrevious:function(){this.focusItem(this.currentFocus-1)},focusNext:function(){this.focusItem(this.currentFocus+1)},restrictDropDownElementHeight:function(){var t,e=this.ddElement();t=n()(window).height()-parseInt(e.css("top"))-10,e.css({"box-sizing":"border-box","max-height":t+"px"})},observeContent:function(){var t,e,i=0,s=this.items.length,n=this.ddElement();for(this.focusableItems=[],this.currentFocus=null,t=0;t<s;++t)void 0!==this.items[t].label?(this.onObserve(t),e=n.find("a").eq(t-i),this.mouseOver?e.on("mouseover",this.setOverDD.bind(this)).on("mouseout",this.setOutDD.bind(this)).on("click",this.onClick.bind(this,t)):e.on("click",this.onClick.bind(this,t)),this.focusableItems.push({element:e,label:this.items[t].label,index:t})):i++},onShow:function(){this.element.toggleClass("active",!0),this.focusItem(0),this.onShowDropdown()},onShowDropdown:function(){},onHide:function(){this.focusableItems=[],this.currentFocus=null,this.element.toggleClass("active",!1),this.onHideDropdown()},onHideDropdown:function(){},onClick:function(t,e){"function"==typeof this.items[t].onClick&&(this.canHide=!0,this.hide(),this.items[t].onClick()),e.preventDefault()},onObserve:function(t){"function"==typeof this.items[t].onObserve&&this.items[t].onObserve(this)},draw:function(){return'<ul id="dd-'+this.element[0].id+'" class="'+this.prefix+"-"+this.style+'" style="position:absolute; z-index:99; display:none;" role="menu">'+this.drawContent()+"</ul>"},drawContent:function(){var t,e,i,s="",n=this.items.length;for(t=0;t<n;++t)void 0!==this.items[t].label?(i=e="",void 0!==this.items[t].cls&&(e=" "+this.items[t].cls),void 0===this.items[t].enabled||this.items[t].enabled||(i=' aria-disabled="true"'),s+='<li role="none"><a href="'+(this.items[t].url||o.Live.emptyHref)+'" class="ddmItem-'+this.style+e+'" role="menuitem" tabindex="-1"'+i+"><div>"+this.items[t].label+"</div></a></li>"):s+='<div class="hr"></div>';return s},updateContent:function(t){this.items=t,this.update()},destroy:function(){this._super(),this.parentElement&&this.parentElement.remove()}}),w=x.extend({initialize:function(t,e,i,s,n,r,o,a){this.items=e,this.focusableItems=[],this.currentFocus=null,this._super(t,"ddm",i,s,n,r,o,a)},keyDown:function(t){var e=!0,i=!0;switch(t.keyCode){case 37:case 39:case 36:i=!1,e=!1;break;case 38:this.isOn?this.focusPrevious():i=!1;break;case 35:i=!1,e=!1;break;case 40:this.isOn?this.focusNext():this.show();break;case 9:i=!1,e=!1;case 27:e=!1,this.hide();break;case 13:if(this.isOn){if(!this.focusableItems[this.currentFocus])break;var s=this.focusableItems[this.currentFocus].index;this.onClick(s,t)}else this.show();break;default:e=!1}i&&t.stopImmediatePropagation(),e&&(t.preventDefault(),Accessibility.toggleKeyboardModeScript(!0))},getEvents:function(){return{keydown:n().proxy(this.keyDown,this),mouseover:n().proxy((function(t){this.mouseOver&&!this.wasClicked&&this.show(!1)}),this),mouseout:n().proxy((function(t){this.mouseOver&&!this.wasClicked&&(this.isDelayed?this.delayedHide():this.hide())}),this)}},focusItem:function(t){var e,i,s;this.isOn&&(null!=this.currentFocus&&this.focusableItems[this.currentFocus]&&this.focusableItems[this.currentFocus].element.attr("aria-selected","false"),t<0?this.currentFocus=0:t>=this.focusableItems.length?this.currentFocus=this.focusableItems.length-1:this.currentFocus=t,this.focusableItems[this.currentFocus]&&(this.focusableItems[this.currentFocus].element.attr("aria-selected","true"),e=this.focusableItems[this.currentFocus].element[0],i=n()("#dd-"+this.element[0].id)[0].getBoundingClientRect(),(s=e.getBoundingClientRect()).y+s.height>i.y+i.height?e.scrollIntoView(!1):s.y<i.y&&e.scrollIntoView(!0),this.element.attr("aria-activedescendant",e.id),this.onFocusItem(this.focusableItems[this.currentFocus],t)))},focusPrevious:function(){this.focusItem(this.currentFocus-1)},focusNext:function(){null==this.currentFocus?this.focusItem(0):this.focusItem(this.currentFocus+1)},focusFirst:function(){this.focusItem(0)},focusLast:function(){this.focusItem(this.focusableItems.length-1)},observeContent:function(){var t,e,i=0,s=this.items.length,n=this.ddElement();for(this.focusableItems=[],this.currentFocus=null,t=0;t<s;++t)void 0!==this.items[t].label?(this.onObserve(t),e=n.find("a").eq(t-i),this.mouseOver?e.on("mouseover",this.setOverDD.bind(this)).on("mouseout",this.setOutDD.bind(this)).on("click",this.onClick.bind(this,t)):e.on("click",this.onClick.bind(this,t)),this.focusableItems.push({element:e,label:this.items[t].label,index:t})):i++},onFocusItem:function(t,e){},onShowCustom:function(){},onShow:function(){this.element.toggleClass("active",!0),this.onShowCustom()},onHide:function(){this.focusableItems=[],this.currentFocus=null,this.element.toggleClass("active",!1)},onClick:function(t,e){"function"==typeof this.items[t].onClick&&(this.canHide=!0,this.hide(),this.items[t].onClick()),e.preventDefault()},onObserve:function(t){"function"==typeof this.items[t].onObserve&&this.items[t].onObserve(this)}}),C=r.Class.extend({initialize:function(t,e,i,s,r,a,h,l){this.items=e,this.lastSearch="",this.placeholder=i||o.JSStrings.tc("common:search"),this.id=t,this.cls=a,this.element=n()("#"+t)},draw:function(){this.searchElement=n()('<input type="search" id="'+this.id+'_search" name="'+this.id+'_search" class="ddSearch" role="combobox" autocomplete="off" aria-autocomplete="list" aria-haspopup="true" aria-expanded="false" aria-label="'+this.placeholder+'" placeholder="'+this.placeholder+'" />'),this.btnClear=n()('<button id="'+this.id+'_clear" class="ddSearchClear" style="display:none;" aria-label="'+o.JSStrings.tc("common:clearInput")+'" tabindex="-1"></button>'),this.announceElement=n()('<div class="offscreen" role="status" aria-atomic="true" aria-live="polite"></div>'),this.element.append(this.searchElement),this.element.append(this.btnClear),this.element.append(this.announceElement),this.dropdownElement=new w(this.id+"_search",[],"left","bottom",this.cls,null,null,!1),this.dropdownElement.disable()},observe:function(){this.btnClear.on("click",this.clearSearch.bind(this)),this.searchElement.on("keyup",this.doSearch.bind(this)),this.searchElement.hover(function(){this.btnClear.toggleClass("hover",!0)}.bind(this),function(){this.btnClear.toggleClass("hover",!1)}.bind(this)),this.searchElement.on("focus",function(){this.btnClear.toggleClass("active",!0),this.lastFound&&0!=this.lastFound.length&&this.showList(),this.doSearch()}.bind(this)),this.searchElement.on("blur",function(t){this.btnClear.toggleClass("active",!1),this.focusMoved(t)}.bind(this)),this.dropdownElement.onShowCustom=this.onShow.bind(this),this.dropdownElement.onFocusItem=this.announceItem.bind(this)},announceMatches:function(t){var e="";switch(this.announceElement.attr("aria-live","polite"),t){case 0:case 1:case 2:e=o.JSStrings.tc("common:matchesCount"+t);break;default:e=o.JSStrings.tc("common:matchesCountMore",{COUNT:t})}this.announceElement.html(e)},announceItem:function(t){this.announceElement.attr("aria-live","assertive"),this.announceElement.html(t.label)},isSearchingTheSame:function(t){var e=!0,i=t.trim();return this.lastSearch!=i&&(e=!1),this.lastSearch=i,e},toggleClear:function(t){t?this.btnClear.show():this.btnClear.hide()},search:function(t,e,i){var s=i.filter(n().proxy((function(t,e){return-1!=e.toLowerCase().indexOf(t.toLowerCase())}),this,e));s.sort((function(t,e){var i=t.toUpperCase(),s=e.toUpperCase();return i<s?-1:i>s?1:0})),t(s)},doSearch:function(){var t=this.searchElement.val();this.isSearchingTheSame(t)||(""!=t?this.search(this.showResults.bind(this,t),t.trim(),this.items):(this.lastFound=[],this.clearSearch(),this.toggleClear(!1)))},clearSearch:function(t){t&&t.stopImmediatePropagation(),this.searchElement.val(""),this.dropdownElement.updateContent([]),this.hideList(),this.toggleClear(!1)},focusMoved:function(t){this.cls&&0!=this.dropdownElement.focusableItems.length&&n()(t.relatedTarget).length>0&&!n()(t.relatedTarget).hasClass("ddmItem-"+this.cls)&&(n()(t.relatedTarget)[0].id==this.id+"_clear"?this.showList():this.hideList())},showList:function(){this.dropdownElement.enable(),this.searchElement.attr("aria-owns","dd-"+this.id+"_dd"),this.dropdownElement.show()},hideList:function(){this.dropdownElement.disable(),this.searchElement.attr("aria-owns",null),this.dropdownElement.hide()},focusPrevious:function(){this.dropdownElement.focusPrevious()},focusNext:function(){this.dropdownElement.focusNext()},wrapBold:function(t,e){t=t.trim();var i=e.toLowerCase().indexOf(t.toLowerCase());return-1==i?e:e.substring(0,i)+"<b>"+e.substring(i,i+t.length)+"</b>"+e.substring(i+t.length,e.length)},getMenuItemLabel:function(t,e,i,s){return"normal"!=i.style?this.wrapBold(t,i.title):i.title},menuItemAction:function(t,e,i,s){},showResults:function(t,e){var i,s=e.length-1;for(this.lastFound=e;s>=0;)(i=e[s]).label=this.getMenuItemLabel(t,e,i,s),i.onClick=this.menuItemAction.bind(this,t,e,i,s),s>0&&i.title==e[s-1].title&&e.splice(s-1,1),s--;this.dropdownElement.updateContent(e),this.announceMatches(e.length),0!=e.length?this.showList():this.hideList(),this.toggleClear(!0)},onShow:function(){},onHide:function(){},destroy:function(){this.searchElement.remove(),this.btnClear.remove(),this.announceElement.remove(),this.dropdownElement.destroy()}}),S=x.extend({account:null,other:null,isDelayed:!0,initialize:function(t,e,i){var s=[];if(void 0!==e.account&&null!=e.account&&(this.account={fullName:Format.fullName(e.account.lastName,e.account.firstName,e.account.middleName),email:e.account.email}),void 0!==e.other&&null!=e.other)for(var n=0;n<e.other.length;n++){var r=e.other[n];s.push({label:r.label,onClick:r.action})}this._super(t,s,"right",null,"acc",null,null,i||!1)},draw:function(){var t='<div id="dd-'+this.element[0].id+'" class="'+this.prefix+"-"+this.style+'" style="position:absolute; z-index:99; display:none;">';return null!=this.account&&(t+='<div class="account"><div class="accountInfo"><div class="fullName">'+this.account.fullName+'</div><div class="email">'+this.account.email+'</div></div><div style="clear: both;"></div></div>'),t+'<ul class="'+this.prefix+"-"+this.style+'-menu" role="menu">'+this.drawContent()+"</ul></div>"}}),k=r.Class.extend({initialize:function(){},draw:function(){return'<div id="quarterSwitcher" class="quarterSwitcher"></div>'},observe:function(){for(var t=n()("#quarterSwitcher"),e=AEngine.areas.body.asObject.data.gameInfo.quarterToPlay,i=AEngine.areas.body.asObject.data.gameInfo.currentQuarterMax,s=o.Live.user.quarter(),r=n()('<div class="quarter-switcher-wrap"></div>'),a=0;a<e;a++){var h=a+1,l=n()('<div id="quarter-switcher-quarter'+h+'" class="quarter-switcher-quarter"></div>');0==a&&l.toggleClass("quarter-switcher-quarter-first",!0),l.css({"z-index":30-a});var c=!1,u=!1,d=!1;h<=s&&(c=!0),h>i&&(u=!0),h==i&&(d=!0);var p=o.Live.emptyHref;l.toggleClass("disabled",u),l.toggleClass("active",c),l.toggleClass("in-progress",d);var f=n()('<a href="'+p+'" class="button-plain quarter-switcher-indicator-btn"><div class="quarter-switcher-indicator-text">'+o.JSStrings.tc("common:quarterShort",{QUARTER:h})+"</div></a>");h==s?(f.toggleClass("quarter-switcher-indicator-selected",!0),f.attr("href",null)):h<=i?f.on("click",this.switchQuarter.bind(this,h)):f.attr("href",null),d&&f.append('<div class="quarter-switcher-in-progress">'+o.JSStrings.tc("tpl:arInProgress")+"</div>"),l.append(f),r.append(l)}t.html(r)},switchQuarter:function(t,e){e.preventDefault(),AEngine&&AEngine.startPage({quarter:t})}}),D=r.Class.extend({id:"",tabs:[],active:-1,cssClass:"",opacity:o.Live.opacity,preTab:"",postTab:"",initialize:function(t,e,i,s){this.id=t,this.tabs=[],this.onToggle=e||null,this.cssClass=i||"gray",this.ariaControlsForce=s||!1},addTab:function(t,e,i,s,n,r,o,a){this.tabs.push({id:t,title:e,cnt:i,cssClass:s||this.cssClass,icon:n||"",imgWidth:r||0,imgHeight:o||0,onSelect:a||null})},getPreTabID:function(){return this.id+"PreTab"},getPostTabID:function(){return this.id+"PostTab"},getTabHndID:function(t){return this.id+t+"Hnd"},getTabCntID:function(t){return this.id+t+"Cnt"},getPreTabCSS:function(){return"tabSetPreTab-"+this.cssClass},getHndCSS:function(t){return"tabSet"+(this.isActive(t)?"Active":"")+"Hnd-"+this.tabs[t].cssClass},getTabImgCSS:function(t){return"tabSetImg-"+this.tabs[t].cssClass},getPostTabCSS:function(){return"tabSetPostTab-"+this.cssClass},getCntCSS:function(t){return"tabSetCnt-"+this.tabs[t].cssClass},isActive:function(t){return this.active==t},getActiveTabID:function(){return this.tabs[this.active].id},activeTabOnSelect:function(){null!==this.tabs[this.active].onSelect&&this.tabs[this.active].onSelect()},getActive:function(){return this.active},setActive:function(t){t<0?this.active=0:t>this.tabs.length-1?this.active=this.tabs.length-1:this.active=t},setActivePrevious:function(){this.toggle(this.active-1)},setActiveNext:function(){this.toggle(this.active+1)},getDataTestAttr:function(t){return' data-test="tli'+t+'"'},draw:function(){this.setActive(0);var t,e,i='<div class="tabSetTabsHolder-'+this.cssClass+'"><div id="'+this.id+this.getPreTabID()+'" class="'+this.getPreTabCSS()+'" style="float:left;">'+this.preTab+'</div><div id="'+this.id+'_tablist" role="tablist" class="tabSetTabsTablist" tabindex="0" aria-activedescendant="'+this.getTabHndID(0)+'">',s='<div style="clear:both;">',n=this.tabs.length;for(t=0;t<n;++t){e=this.tabs[t],i+='<div role="tab" aria-controls="'+(!1!==this.ariaControlsForce?this.ariaControlsForce:this.getTabCntID(t))+'" id="'+this.getTabHndID(t)+'" tabindex="-1" aria-selected="'+!!this.isActive(t)+'" style="float:left;" class="'+this.getHndCSS(t)+'">';var r=o.JSSettings.st("common:dbImg"),a=0,h=0;""!=e.icon&&(r=e.icon,a=e.imgWidth,h=e.imgHeight),i+='<img class="tabImg-'+e.id+" "+this.getTabImgCSS(t)+'" src="'+r+'" '+(""!=e.icon?'style="width:'+a+";height:"+h+';"':"")+' alt="" />',i+="<span"+this.getDataTestAttr(e.id)+">"+e.title+"</span></div>",!1!==e.cnt&&(s+='<div id="'+this.getTabCntID(t)+'" role="tabpanel" aria-labelledby="'+this.getTabHndID(t)+'" style="'+(this.isActive(t)?"display:block;":"display:none;")+'" class="'+this.getCntCSS(t)+'"><div class="cnt">'+e.cnt+"</div></div>")}return i+='</div><div id="'+this.id+this.getPostTabID()+'" class="'+this.getPostTabCSS()+'" style="">'+this.postTab+'</div><div style="clear:both;"></div></div>',s+="</div>",'<div id="'+this.id+'" class="tabSet-'+this.cssClass+'">'+i+s+"</div>"},keyDown:function(t){var e=!0;switch(t.keyCode){case 37:this.setActivePrevious();break;case 38:case 40:break;case 39:this.setActiveNext();break;default:e=!1}e&&t.preventDefault()},selectTab:function(t){var e=this.active;this.setActive(t),n()("#"+this.getTabHndID(e)).attr("class",this.getHndCSS(e)),n()("#"+this.getTabHndID(e)).attr("aria-selected",!1),n()("#"+this.getTabCntID(e)).hide(),n()("#"+this.id+"_tablist").attr("aria-activedescendant",this.getTabHndID(this.active)),n()("#"+this.getTabHndID(this.active)).attr("aria-selected",!0),n()("#"+this.getTabHndID(this.active)).attr("class",this.getHndCSS(this.active)),n()("#"+this.getTabCntID(this.active)).show()},toggle:function(t,e){this.selectTab(t),null!=this.onToggle&&this.onToggle(),this.activeTabOnSelect()},toggleByID:function(t){for(var e=0,i=this.tabs.length;e<i;++e)if(this.tabs[e].id==t)return this.toggle(e);this.toggle(-1)},observe:function(){n()("#"+this.id+"_tablist").on("keydown",n().proxy(this.keyDown,this));for(var t=0,e=this.tabs.length;t<e;++t)n()("#"+this.getTabHndID(t)).on("click",n().proxy(this.toggle,this,t))},destroy:function(){n()("#"+this.id).remove()}}),T=r.Class.extend({sameWidths:!1,sameHeights:!1,isRadio:!1,maxCols:6,initialize:function(t,e,i,s,n,r,o,a,h,c,u,d,p){this.cf=new l,this.prefix=e,this.style=i,this.clear="",this.settings=s||{visible:!0,checked:[]},this.wasChecked=this.settings.checked.length>0,Array.isArray(this.settings.checked)||(this.settings.checked=[]),this.callback=n,this.title=t,this.list=r,this.id=o,this.name=a,this.firstColName=h,this.isSubList=void 0!==c,this.isSubList&&(this.subList=c,this.subId=u,this.subName=d,this.subColName=p),this.count=0,this.nodes=[],this.root=this.createNode(),this.visible=!0,this.drawSubName=function(t,e){return t[e].escapeHTML()},this.drawName=function(t,e){return t[e].escapeHTML()}},createNode:function(t,e,i){var s={id:this.prefix+"_"+this.count,item:e||{},parent:t||null,itemID:i||"r",nodes:[]};return null!=s.parent&&(s.itemID=s.parent.itemID+"_"+s.itemID,s.parent.nodes.push(s)),s.item.checked=this.settings.checked.indexOf(s.itemID)>-1,this.nodes[this.count++]=s,s},addNode:function(t,e,i){return this.createNode(t||this.root,e,i)},draw:function(){var t,e,i,s,n,r,a,h,l="",c="",u=this.list.length;for(c+="<div>",e=0;e<u;e++){if(n=this.list[e],a=this.addNode(this.root,n,n[this.id]),c+='<div id="'+this.id+"_div_"+e+'" class="filter-box'+(this.isSubList?"":" singleline")+'">',c+='<div class="filter-box-head">',this.isRadio?c+=this.cf.getComponent("plainradio",a.id,n.checked,{id:this.prefix,label:'<span id="'+this.id+"_head_"+a.id+'" class="filter-box-head-text">'+this.drawName(n,this.name)+'<span class="offscreen">'+this.firstColName+"</span></span>"}):c+=this.cf.getComponent("checkbox",a.id,n.checked,{label:'<span id="'+this.id+"_head_"+a.id+'" class="filter-box-head-text">'+this.drawName(n,this.name)+'<span class="offscreen">'+this.firstColName+"</span></span>"}),c+="</div>",this.isSubList){for(l='<ul id="'+this.id+"_list_"+e+'" aria-labelledby="'+this.id+"_head_"+a.id+'" class="filter-list">',i=0,s=n[this.subList].length;i<s;++i)r=n[this.subList][i],h=this.addNode(a,r,r[this.subId]),l+='<li class="filter-item">',this.isRadio?l+=this.cf.getComponent("plainradio",h.id,r.checked,{id:this.prefix+"_"+this.subName,label:this.drawSubName(r,this.subName)}):l+=this.cf.getComponent("checkbox",h.id,r.checked,{label:this.drawSubName(r,this.subName)}),l+="</li>";c+=l+="</ul>"}c+="</div>"}return c+="</div>",t=o.JSStrings.tc("common:filterFilter")+' <span class="filter-by-text">( '+this.title+" )"+this.cf.getButton(o.JSStrings.tc("common:filter"+(this.visible?"Hide":"Show")),this.prefix+"_show_hide",this.toggleFilter.bind(this),"","display: inline-block; margin-left: 10px; font-size: 1em;")+"</span>",this.sLabel=new f("",this.prefix+"_filter",c,"","","",t),this.sLabel.draw()},destroy:function(){this.cf=null,this.sLabel.destroy()},setColumnsWidth:function(){var t,e=[],i=0,s=(this.list.length,0),r=0;for(this.sameWidths&&(s=0,n()("#"+this.prefix+"_filter").find(".filter-box").css({width:""}),n()("#"+this.prefix+"_filter").find(".filter-box").each((function(){s=Math.max(n()(this).width(),s)})),n()("#"+this.prefix+"_filter").find(".filter-box").css({width:s})),t=-1,n()("#"+this.prefix+"_filter").find(".filter-box").each((function(){var s=n()(this),r=s.position();i!=r.top?(i=r.top,e[++t]=s):-1!=t&&(e[t]=e[t].add(s))})),t=0;t<e.length;t++)r=0,e[t].css({"margin-bottom":""}),e[t].find(".filter-box-head").css({height:""}),e[t].find(".filter-box-head").each((function(){r=Math.max(n()(this).height(),r)})),e[t].find(".filter-box-head").css({height:r}),this.sameHeights&&(r=0,e[t].css({height:""}),e[t].each((function(){r=Math.max(n()(this).height(),r)})),e[t].css({height:r}));e[e.length-1]&&e[e.length-1].css({"margin-bottom":0})},resize:function(){this.setColumnsWidth()},observe:function(){var t,e,i;for(this.cf.observe(),this.sLabel.observe(),this.sLabel.change("float","left"),this.sLabel.jelement().css({padding:0}),t=0;t<this.nodes.length;t++)e=this.nodes[t],this.highlightNode(e,this.settings.checked.indexOf(e.itemID)>-1),(i=n()("#"+e.id)).css({cursor:"pointer"}).on("click",n().proxy((function(t){this.clickNode(t)}),this,e)),i.on("click",this.clickNode.bind(this,e)),i.closest("label").on("mouseenter",this.hover.bind(this,e,!0)).on("mouseleave",this.hover.bind(this,e,!1));this.settings.visible||this.hideFilter(),this.isRadio&&!this.wasChecked&&this.checkNode(this.nodes[1],!0)},hoverChildNodes:function(t,e){for(var i=0,s=e.nodes.length;i<s;++i)this.hoverChildNodes(t,e.nodes[i]);n()("#"+e.id).closest("li, th, .filter-box-head").toggleClass("filter-hover",t)},hover:function(t,e){this.hoverChildNodes(e,t)},highlightNode:function(t,e){e?n()("#"+t.id).closest("li, th, .filter-box-head").toggleClass("filter-active",!0):n()("#"+t.id).closest("li, th, .filter-box-head").toggleClass("filter-active",!1)},checkNode:function(t,e){var i=n()("#"+t.id);return t.item.checked!=e&&i.length>0&&(i.prop("checked",e),t.item.checked=e,this.highlightNode(t,e),e?this.settings.checked.push(t.itemID):this.settings.checked.splice(this.settings.checked.indexOf(t.itemID),1),!0)},checkChildNodes:function(t,e){for(var i=0,s=t.nodes.length;i<s;++i)this.checkChildNodes(t.nodes[i],e);this.checkNode(t,e)},checkParentNodes:function(t){var e,i=t.parent,s=0;if(null!=i){e=!0;for(var r=0,o=i.nodes.length;r<o;++r)i.nodes[r].item.checked||(e=!1,s++);i.nodes.length!=s&&0!=s?n()("#"+i.id).prop("indeterminate",!0):n()("#"+i.id).prop("indeterminate",!1),this.checkNode(i,e)&&this.checkParentNodes(i)}},noFilterSet:function(t){var e,i,s;for(void 0===t&&(t=this.root),e=0,i=t.nodes.length;e<i;e++){if(1==(s=t.nodes[e]).item.checked)return!1;if(0==this.noFilterSet(s))return!1}return!0},showFilter:function(){this.sLabel.jelement().find(".filter-box").show(),this.visible=!0,n()("#"+this.prefix+"_show_hide").html(o.JSStrings.tc("common:filter"+(this.visible?"Hide":"Show"))),this.settings.visible=!0,this.callback(!0,!1)},hideFilter:function(){this.sLabel.jelement().find(".filter-box").hide(),this.visible=!1,n()("#"+this.prefix+"_show_hide").html(o.JSStrings.tc("common:filter"+(this.visible?"Hide":"Show"))),this.settings.visible=!1,this.callback(!0,!1)},toggleFilter:function(){this.visible?this.hideFilter():this.showFilter()},clickNode:function(t){var e,i,s,r=n()("#"+t.id);if(r.is(":checked")?(r.prop("checked",!1),e=!1):(r.prop("checked",!0),e=!0),this.isRadio)for(i=0,s=this.nodes.length;i<s;i++)this.checkChildNodes(this.nodes[i],!1);this.checkChildNodes(t,!!this.isRadio||e),this.checkParentNodes(t),this.callback(!0,!0)}}),I={lists:[],links:[],changed:[],engine:null,init:function(t){this.engine=t,this.lists=[],this.links=[],this.changed=[]},addResourceList:function(t,e,i,s,n,r,o){if(this.quarterExists(t)||(this.lists[t]=[],this.links[t]=[],this.changed[t]=[]),!this.exists(t,e)){var a=new _(t,e,i,s,n,r,o,this);this.lists[t].push(a),this.links[t][e]=a}},getResourceList:function(t,e){return this.exists(t,e)?this.links[t][e]:null},quarterExists:function(t){return void 0!==this.links[t]},exists:function(t,e){return this.quarterExists(t)&&void 0!==this.links[t][e]},view:function(t,e){this.exists(t,e)&&this.links[t][e].view()},setTab:function(t,e,i){this.exists(t,e)&&this.links[t][e].setTab(i)},getTab:function(t,e){return this.exists(t,e)?this.links[t][e].getTab():""},mostViewedItems:function(t,e,i){if(!this.quarterExists(t))return[];var s,n,r,o,a,h,l=[],c=this.links[t].length,u=0;for(r=0;r<c-1;++r){for(s=this.lists[t][r],n=r,o=0;o<c;++o)a=s,h=this.lists[t][o],(!i||a.getRun()&&h.getRun()?a.getViews()-h.getViews():a.getRun()?1:-1)<0&&(s=this.lists[t][o],n=o);if(r!=n&&(this.lists[t][n]=this.lists[t][r],this.lists[t][r]=s),i&&!s.getRun()||(l[u++]=s.resource),u>=e)break}return l},resourceChanged:function(t,e){this.quarterExists(t)&&(this.changed[t].push(e),null!=this.engine&&(this.engine.quarterSettingsChanged=!0))},saveSettings:function(t){if(!this.quarterExists(t))return[];var e,i,s=this.changed[t],n=s.length,r=[];for(e=0;e<n;++e)(i=this.links[t][s[e]]).changed&&(r.push({resource:i.resource,views:i.status.views,tab:i.status.tab,settings:i.status.settings}),i.changed=!1);return this.changed[t]=[],r},loadSettings:function(t,e){if(this.quarterExists(t)){var i,s,n=this.lists[t],r=n.length,o=e.toLookUp("resource");for(i=0;i<r;++i)null!=(s=o[n[i].resource]||null)&&n[i].initStatus(s.views,s.tab,s.settings)}}},_=r.Class.extend({initialize:function(t,e,i,s,n,r,o,a){this.quarter=t,this.resource=e,this.decisionInfo=i,this.resourceTypes=s,this.resourceLists=a||null,this.initStatus(n,r,o)},initStatus:function(t,e,i){this.status={views:t||0,settings:i||null,tab:e||""},this.changed=!1},isAvailable:function(t){var e={available:!0,reason:""};return this.decisionInfo.isResultDecision&&!this.decisionInfo.isCurrentQuarterDecision&&this.quarter>=t&&(e.available=!1,e.reason="currentQuarter"),(this.decisionInfo.isResultDecision||this.decisionInfo.isCurrentQuarterDecision)&&(null!==this.decisionInfo.startQuarter&&this.quarter<this.decisionInfo.startQuarter&&(e.available=!1,e.reason="startQuarter",e.startQuarter=this.decisionInfo.startQuarter),null!==this.decisionInfo.stopQuarter&&this.quarter>=this.decisionInfo.stopQuarter&&(e.available=!1,e.reason="stopQuarter",e.stopQuarter=this.decisionInfo.stopQuarter-1)),e},getTab:function(){switch(this.status.tab){case"S":return"story";case"T":return"task";case"W":return"workspace"}return this.status.tab},setTab:function(t){switch(t){case"story":t="S";break;case"task":t="T";break;case"workspace":t="W"}this.status.tab!=t&&(this.status.tab=t,this.setChanged())},getSettings:function(){return this.status.settings},setSettings:function(t){this.status.settings=t,this.setChanged()},view:function(){this.status.views++,this.setChanged()},setChanged:function(){this.changed=!0,null!=this.resourceLists&&this.resourceLists.resourceChanged(this.quarter,this.resource)},getViews:function(){return this.status.views},getRun:function(){return this.haveWorkspace()},haveTab:function(t){switch(t){case"story":return this.haveStory();case"task":return this.haveTask();case"workspace":return this.haveWorkspace()}},haveWorkspace:function(){return""!=this.decisionInfo.run},haveTask:function(){return this.resourceTypes.some((function(t){return"task"===t.resourceType}))},haveStory:function(){return o.Live.storyViewer()!=o.Live.STORY_NONE&&this.resourceTypes.some((function(t){return"story"===t.resourceType}))},getResources:function(){if(void 0!==this.resources)return this.resources;var t,e=this.resourceTypes.length;for(this.resources=[],t=0;t<e;++t)this.resources[this.resourceTypes[t].resourceType]=this.resourceTypes[t];return this.resources}}),L={queue:[],messages:[],displayed:!1,currentMessage:null,initialize:function(t,e){var i="ovrMsgTitle",s="ovrMsg",n="overlays";this.engine=t,this.engineType=e,"engine"==this.engineType&&(o.Live.user.isInstructor()?s="ovrMsgInst":(this.newMessage("decisionToolbarRepeat","#decisionTitleBarButtons",o.JSStrings.tc(n+":"+i+"DecisionToolbar"),o.JSStrings.tc(n+":"+s+"DecisionToolbarRepeat"),"right",50,300,!1,!1),this.newMessage("quicklinksRepeat","#Gadget_quicklinks",o.JSStrings.tc(n+":"+i+"Quicklinks"),o.JSStrings.tc(n+":"+s+"QuicklinksRepeat"),"right",50,300,!1,!1)),this.newMessage("sampleSoft",!1,o.JSStrings.tc(n+":"+i+"Sample"),o.JSStrings.tc(n+":"+s+"Sample"),"left",!1,300),this.newMessage("sampleChangingQuarters","#taskListTitle",o.JSStrings.tc(n+":"+i+"SampleChangingQuarters"),o.JSStrings.tc(n+":"+s+"SampleChangingQuarters"),"top",30,300,!1,10,!1),this.newMessage("privacy",!1,o.JSStrings.tc(n+":"+i+"Privacy"),o.JSStrings.tc(n+":"+s+"Privacy"),"left",!1,300),this.newMessage("taskList","#taskListItems",o.JSStrings.tc(n+":"+i+"TaskList"),o.JSStrings.tc(n+":"+s+"TaskList"),"left",!1,300,!1,!1,0),this.newMessage("tabs",".decTabs",o.JSStrings.tc(n+":"+i+"Tabs"),o.JSStrings.tc(n+":"+s+"Tabs"),"top",!1,300,!1,!1),this.newMessage("modifySave","#decisionButtonsBar",o.JSStrings.tc(n+":"+i+"ModifySave"),o.JSStrings.tc(n+":"+s+"ModifySave"),"bottom",15,300),this.newMessage("workspace","#workspace",o.JSStrings.tc(n+":"+i+"Workspace"),o.JSStrings.tc(n+":"+s+"Workspace"),"top",25,300),this.newMessage("decisionToolbar","#decisionTitleBarButtons",o.JSStrings.tc(n+":"+i+"DecisionToolbar"),o.JSStrings.tc(n+":"+s+"DecisionToolbar"),"right",50,300,!1,!1),this.newMessage("copyBtn","#btncopyData",o.JSStrings.tc(n+":"+i+"Copy"),o.JSStrings.tc(n+":"+s+"Copy"),"bottom",13,300),this.newMessage("quicklinks","#Gadget_quicklinks",o.JSStrings.tc(n+":"+i+"Quicklinks"),o.JSStrings.tc(n+":"+s+"Quicklinks"),"right",50,300,!1,!1),this.newMessage("proforma","#Gadget_liveproforma",o.JSStrings.tc(n+":"+i+"ProForma"),o.JSStrings.tc(n+":"+s+"ProForma"),"right",50,300,!1,!1)),"aengine"==this.engineType&&(this.newMessage("sampleGame",!1,o.JSStrings.tc(n+":"+i+"SampleGame"),o.JSStrings.tc(n+":"+s+"SampleGame"),"left",!1,400),this.newMessage("sampleSwitchingQuarters","#quarterSwitcher",o.JSStrings.tc(n+":"+i+"SampleSwitchingQuarters"),o.JSStrings.tc(n+":"+s+"SampleSwitchingQuarters"),"top",!1,400),this.newMessage("gameMenu","#gameDetailsMenu",o.JSStrings.tc(n+":"+i+"GameMenu"),o.JSStrings.tc(n+":"+s+"GameMenu"),"left",!1,300),this.newMessage("gameList","#gameListTable",o.JSStrings.tc(n+":"+i+"GameList"),o.JSStrings.tc(n+":"+s+"GameList"),"bottom",!1,300),this.newMessage("teamList","#teamListTable",o.JSStrings.tc(n+":"+i+"TeamList"),o.JSStrings.tc(n+":"+s+"TeamList"),"bottom",!1,300),this.newMessage("cqdecTool","#gdt_highlights",o.JSStrings.tc(n+":"+i+"CQDTool"),o.JSStrings.tc(n+":"+s+"CQDTool"),"left",!1,300),this.newMessage("resTool","#gdt_results",o.JSStrings.tc(n+":"+i+"ResTool"),o.JSStrings.tc(n+":"+s+"ResTool"),"left",!1,300))},newMessage:function(t,e,i,s,r,o,a,h,l,c){this.isNew()&&(this.messages[t]=new P(e,i,s,r,o,a,h,l,c),this.messages[t].onDestroy=n().proxy(this.onDestroyMessage,this,t))},triggerMessage:function(t,e){o.Live.automatedTesting||(e=e||!1,void 0!==this.engine&&this.isNew(t)&&this.messages[t]&&(this.displayed||e?this.queue.push(t):(this.messages[t].draw(),this.messages[t].resize(),this.currentMessage=t,this.displayed=!0)))},destroyCurrentMessage:function(){null!=this.currentMessage&&this.destroyMessage(this.currentMessage)},destroyMessage:function(t){this.messages[t].destroy()},resize:function(){null!=this.currentMessage&&this.messages[this.currentMessage].resize()},nextInQuerry:function(){var t=this.queue.shift();t&&this.triggerMessage(t)},onDestroyMessage:function(t){var e=this.queue.indexOf(t),i=this.messages.indexOf(t);e>-1&&this.queue.splice(e,1),i>-1&&this.messages.splice(i,1),this.currentMessage=null,this.displayed=!1,this.setAcknowledged(t),this.nextInQuerry()},isNew:function(t){return-1==this.engine.overlayMessages.indexOf(t)},setAcknowledged:function(t){this.engine.overlayMessages.push(t),"engine"!=this.engineType||this.engine.basicInfo.isSampleGame||(this.engine.settingsChanged=!0,this.engine.applySettings()),"aengine"==this.engineType&&AEngine.services.settings.call("saveOverlays",[o.Live.user,AEngine.overlayMessages])}},P=r.Class.extend({arrowHeight:20,arrowWidth:15,hideBackground:!1,hasCloseX:!1,initialize:function(t,e,i,s,r,o,a,h,l){this.positionElementSelector=t,this.title=e||"",this.text=i||"",this.orientation=s||"bottom",this.arrowOffset=r||50,this.minWidth=o||150,this.minHeight=a||50,this.offsetHoriz=h||0,this.offsetVert=l||0,this.overlayElement=n()("body")},draw:function(){var t,e;!1!==this.positionElementSelector?this.positionElement=n()(this.positionElementSelector):this.positionElement=null,this.message=n()('<div class="overlayMessage" role="dialog" aria-modal="true"></div>'),this.messageBody=n()('<div class="overlayMessageBody" tabindex="0" aria-labelledby="overlayHeader" aria-describedby="overlayMessageText"></div>'),this.messageBody.append('<h1 id="overlayHeader" class="plainHeader overlayMessageTitle">'+this.title+"</h1>"),this.messageBody.append('<div id="overlayMessageText" class="overlayMessageText">'+this.text+"</div>"),this.message.append(this.messageBody),this.message.css({"min-width":this.minWidth+"px","min-height":this.minHeight+"px"}),null!==this.positionElement&&(this.arrow=n()('<div class="arrow'+this.orientation+'"></div>'),this.arrow.appendTo(this.message)),this.messageWrap=n()('<div class="overlayMessageWrap"></div>'),this.messageWrap.append(this.message),this.hasCloseX?(t=n()('<img src="'+o.JSSettings.st("common:overlayX")+'" class="overlayX" alt=""/>'),(e=n()('<button class="overlayXWrap" aria-label="'+o.JSStrings.tc("common:close")+'"></button>')).append(t),e.hover(n().proxy(this.onXHoverIn,this,t),n().proxy(this.onXHoverOut,this,t)),e.on("click",n().proxy((function(t){t.preventDefault(),this.destroy()}),this)),this.message.append(closeXWrap)):((t=n()('<button class="button-class red-button overlayMessageButton" >OK</button>')).hover(n().proxy(this.onXHoverIn,this,t),n().proxy(this.onXHoverOut,this,t)),t.on("click",n().proxy(this.destroy,this)),this.message.append(t)),this.hideBackground||(this.curtain=n()('<div class="overlayMessageBack"></div>'),null!==this.positionElement?(this.curtainBoxTop=n()('<div class="overlayMessageBox"></div>'),this.curtainBoxLeft=n()('<div class="overlayMessageBox"></div>'),this.curtainBoxRight=n()('<div class="overlayMessageBox"></div>'),this.curtainBoxBottom=n()('<div class="overlayMessageBox"></div>'),this.curtain.append(this.curtainBoxTop),this.curtain.append(this.curtainBoxLeft),this.curtain.append(this.curtainBoxRight),this.curtain.append(this.curtainBoxBottom)):this.curtain.toggleClass("overlayMessageBox",!0),this.overlayElement.append(this.curtain)),this.overlayElement.append(this.messageWrap),this.resize(),this.resizeEvent(),this.setPosition(),this.observeControls(),n()("#userInterface, #a11y-jump-menu").attr("aria-hidden",!0)},observeControls:function(){var t=this.messageWrap.find(":focusable");this.lastFocused=n()(":focus"),t.first().focus(),t.first().on("keydown",(function(e){e.shiftKey&&9==e.which&&(t.last().focus(),e.preventDefault())})),t.last().on("keydown",(function(e){e.shiftKey||9!=e.which||(t.first().focus(),e.preventDefault())}))},setPosition:function(){var t,e;if(null!==this.positionElement)switch(t=this.positionElement.outerWidth(),e=this.positionElement.outerHeight(),this.orientation){case"bottom":this.message.css({bottom:this.offsetVert+this.arrowHeight+"px",left:0+this.offsetHoriz}),this.arrow.css({left:"calc("+this.arrowOffset+"% - "+this.arrowWidth+"px)"});break;case"top":this.message.css({top:this.offsetVert+this.arrowHeight+e+"px",left:0+this.offsetHoriz}),this.arrow.css({left:"calc("+this.arrowOffset+"% - "+this.arrowWidth+"px)"});break;case"left":this.message.css({top:this.offsetVert-this.message.height()/2+this.arrowWidth/2+"px",left:t+this.arrowWidth+this.offsetHoriz+"px"}),this.arrow.css({top:"calc("+this.arrowOffset+"% - "+this.arrowHeight/2+"px)"});break;case"right":this.message.css({top:this.offsetVert-this.message.height()/2+this.arrowWidth/2+"px",right:this.arrowWidth+this.offsetHoriz+"px"}),this.arrow.css({top:"calc("+this.arrowOffset+"% - "+this.arrowHeight/2+"px)"})}},onXHoverIn:function(t){t.attr("src",o.JSSettings.st("common:overlayXhover"))},onXHoverOut:function(t){t.attr("src",o.JSSettings.st("common:overlayX"))},resizeEvent:function(){this.resTimeout&&clearTimeout(this.resTimeout),this.resTimeout=setTimeout(n().proxy(this.resize,this),10)},resize:function(){var t,e,i;!1!==this.positionElementSelector?this.positionElement=n()(this.positionElementSelector):this.positionElement=null,null!==this.positionElement?(t=this.positionElement.offset(),e=this.positionElement.outerWidth(),i=this.positionElement.outerHeight(),this.messageWrap.css({top:t.top,left:t.left})):this.messageWrap.css({top:"calc(50% - "+this.message.outerHeight()/2+"px)",left:"calc(50% - "+this.message.outerWidth()/2+"px)"}),this.hideBackground||(this.curtain.css({"min-width":0,height:0}),this.curtain.css({"min-width":this.overlayElement[0].scrollWidth,height:this.overlayElement.outerHeight(!0)}),null!==this.positionElement&&(this.curtainBoxTop.css({top:0,left:0,width:"100%",height:t.top+"px"}),this.curtainBoxLeft.css({top:t.top,left:0,width:t.left,height:Math.min(this.curtain.outerHeight(!0)-t.top,i)+"px"}),this.curtainBoxRight.css({top:t.top,right:0,width:this.curtain.outerWidth(!0)-t.left-e+"px",height:Math.min(this.curtain.outerHeight(!0)-t.top,i)+"px"}),this.curtainBoxBottom.css({bottom:0,left:0,width:"100%",height:this.curtain.outerHeight(!0)-t.top-i+"px"}))),this.setPosition()},onDestroy:function(){},destroy:function(){this.resTimeout&&clearTimeout(this.resTimeout),n()("#userInterface, #a11y-jump-menu").removeAttr("aria-hidden"),void 0!==this.lastFocused&&this.lastFocused.focus(),this.onDestroy(),this.messageWrap.remove(),this.curtain&&this.curtain.remove()}}),A=r.Class.extend({isVisible:!1,buttonsHeight:35,absHei:!1,restrictToWp:!0,hasCloseX:!1,element:null,overlayElement:null,buttons:[],btnElements:[],isDrawn:!1,initialize:function(t,e,i,s,r,a,h,l,c,u,d,p,f,g){this.overlayElement=void 0!==t&&""!=t?t:n()("body"),this.id=void 0!==e&&""!=e?e:"",this.width=void 0!==r&&""!=r?r:"0",this.height=void 0!==s&&""!=s?s:"0",this.maxHeight=void 0!==a&&""!=a?a:"0",this.maxWidth=void 0!==h&&""!=h?h:"0",this.marginLeft=void 0!==d&&""!=d?d:"0",this.marginRight=void 0!==p&&""!=p?p:"0",this.marginTop=void 0!==f&&""!=f?f:"0",this.marginBottom=void 0!==g&&""!=g?g:"0",this.vAlign=void 0!==c&&""!=c?c:"middle",this.btnHAlign=void 0!==l&&""!=l?l:"center",this.btncls=void 0!==u&&""!=u?u:"",this.overlayName=i||o.JSStrings.tc("overlays:overlay")},haveButtons:function(){return this.buttons.length>0},drawButtons:function(){var t,e,i;for(this.buttonsText=n()(this.drawButtonsText()),this.buttonsBox.append(this.buttonsText),t=0,e=this.buttons.length;t<e;t++)i=this.buttons[t],this.btnElements[t]=n()('<input type="button" id="'+i.id+'" value="'+i.label+'" class="'+this.btncls+" "+(void 0!==i.color?i.color+" ":"")+'overlayBtn" />'),void 0!==i.click&&this.btnElements[t].on("click",i.click),this.buttonsBox.append(this.btnElements[t]);this.buttonsBox.append('<div style="clear:both;"></div>')},drawButtonsText:function(){return""},drawCloseXButton:function(t){var e,i;this.hasCloseX&&(e=n()('<img src="'+o.JSSettings.st("common:overlayX")+'" class="overlayX" alt=""/>'),(i=n()('<button class="overlayXWrap" aria-label="'+o.JSStrings.tc("common:close")+'"></button>')).append(e),i.hover(n().proxy(this.onXHoverIn,this,e),n().proxy(this.onXHoverOut,this,e)),i.on("click",n().proxy((function(t){t.preventDefault(),this.destroy()}),this)),t.append(i))},drawOverlayBox:function(){return n()('<div class="overlayBox" style="background:white;"></div>')},onXHoverIn:function(t){t.attr("src",o.JSSettings.st("common:overlayXhover"))},onXHoverOut:function(t){t.attr("src",o.JSSettings.st("common:overlayX"))},alignHorizontal:function(){this.overlayBox.css({margin:this.marginTop+" "+this.marginRight+" "+this.marginBottom+" "+this.marginLeft}),this.haveButtons()&&this.buttonsBox.css({"text-align":this.btnHAlign})},alignVertical:function(){this.overlayTdBox.css({"vertical-align":this.vAlign})},onResize:function(){},resize:function(){var t,e,i=this.haveButtons()?this.buttonsHeight:0;if("0"!==this.height){var s=this.overlayElement.height()*(this.height/100);this.overlayBox.css({"min-height":s+"px"}),this.overlayBoxContent.css({"min-height":s-i+"px"})}"0"!==this.maxHeight&&(t=this.restrictToWp?Math.min(n()(window).height(),this.overlayElement.height())*(this.maxHeight/100):this.overlayElement.height()*(this.maxHeight/100),0==this.absHei?this.overlayBoxContent.css({"max-height":t-i+"px"}):this.overlayBoxContent.css({height:t-i+"px"}),this.haveButtons()&&this.buttonsBox.css({"min-height":i+"px"})),"0"!==this.width&&this.overlayBox.css({width:this.width+"%"}),"0"!==this.maxWidth&&(e=this.restrictToWp?Math.min(n()(window).width(),this.overlayElement.outerWidth())*(this.maxWidth/100):this.overlayElement.outerWidth()*(this.maxWidth/100),this.overlayBox.css({"max-width":e+"px"})),this.element.css({"min-width":this.overlayElement.css("min-width"),"min-height":this.overlayElement.css("min-height"),height:this.overlayElement.outerHeight(!0)}),this.onResize()},draw:function(t){if(!this.isDrawn){var e=""!=this.id?'id="'+this.id+'_overlay"':"";this.element=n()("<div "+e+' class="overlayBck" style="'+(t?"":"display:none;")+'"></div>'),this.overlayTableBox=n()('<div class="overlayTableBox"></div>'),this.overlayTdBox=n()('<div class="overlayTdBox"></div>'),this.overlayBox=n()(this.drawOverlayBox()),this.overlayBoxContent=n()('<div class="overlayBoxContent"></div>'),this.overlayContent=n()(this.onDrawContent()),this.overlayBoxContent.html(this.overlayContent),this.overlayBox.append(this.overlayBoxContent),this.haveButtons()&&(this.buttonsBox=n()('<div class="overlayBtns"></div>'),this.overlayBox.append(this.buttonsBox),this.drawButtons()),this.drawCloseXButton(this.overlayBox),this.overlayTdBox.append(this.overlayBox),this.overlayTableBox.append(this.overlayTdBox),this.element.append(this.overlayTableBox),n()(this.overlayElement).append(this.element),n()(window).on("resize",n().proxy((function(){this.resize()}),this)),this.resize(),this.alignHorizontal(),this.alignVertical(),this.overlayBox.attr("role","dialog"),""!=this.overlayName&&this.overlayBox.attr("aria-label",this.overlayName),this.isDrawn=!0,this.onObserveContent(),t&&(this.isVisible=!0,this.observeControls(),n()("#userInterface, #a11y-jump-menu").attr("aria-hidden",!0))}},onOverlayDestroy:function(){},observeControls:function(){var t,e=this.element.find(":focusable");if(this.lastFocused=n()(":focus"),e.first().focus(),this.lastFocusable)for(t=0;t<this.lastFocusable.length;t++)this.lastFocusable[t].off("keydown");e.first().on("keydown",(function(t){t.shiftKey&&9==t.which&&(e.last().focus(),t.preventDefault())})),e.last().on("keydown",(function(t){t.shiftKey||9!=t.which||(e.first().focus(),t.preventDefault())})),this.lastFocusable=[e.first(),e.last()]},destroy:function(){this.isVisible&&!L.displayed&&n()("#userInterface, #a11y-jump-menu").removeAttr("aria-hidden"),this.isVisible=!1,this.onOverlayDestroy(),this.element.remove(),void 0!==this.lastFocused&&this.lastFocused.focus()},show:function(){this.element.show(),this.isVisible=!0,this.observeControls(),n()("#userInterface, #a11y-jump-menu").attr("aria-hidden",!0)},hide:function(){this.element.hide(),this.isVisible&&!L.displayed&&n()("#userInterface, #a11y-jump-menu").removeAttr("aria-hidden"),this.isVisible=!1},onDrawContent:function(){return'<div style="padding: 20px;"></div>'},onObserveContent:function(){}}),M=A.extend({overlays:[{screen:"gamedetail",id:"1",alertMessage:o.JSStrings.tc("overlays:sampleIntro")},{screen:"gamelist",id:"2",alertMessage:o.JSStrings.tc("overlays:firstGameList"),offsetTop:"#mplGameList"}],overlayID:-1,overlayObj:null,screen:"",alertMessage:"",buttons:[],initialize:function(){this._super("","info",o.JSStrings.tc("overlays:infoOverlay"),"","","","70","right","middle","","auto","auto")},onDrawContent:function(){return'<div class="infoOverlayBck" style="position:relative;padding: 20px;white-space: pre-wrap;"><div id="closeBtn" class="infoOverlayClose"></div>'+this.alertMessage+"</div>"},onObserveContent:function(){n()("#closeBtn").on("click",n().proxy(this.close,this))},onResize:function(){void 0!==this.overlayObj&&null!==this.overlayObj&&void 0!==this.overlayObj.offsetTop&&n()(this.overlayObj.offsetTop).length>0&&this.overlayTdBox.css({"vertical-align":"top",top:n()(this.overlayObj.offsetTop).offset().top-this.overlayBox.height()+"px"})},close:function(){AEngine.services.settings.call("saveOverlays",[o.Live.user,AEngine.overlays]),this.destroy()}}),E=A.extend({initialize:function(t){this.chartTypes=[{tp:"line",name:o.JSStrings.tc("tpl:line")},{tp:"bar",name:o.JSStrings.tc("tpl:bar")},{tp:"pie",name:o.JSStrings.tc("tpl:pie")}],this.cf=new l,this.instructorID=o.Live.user.useInstructorID,this.gameID=t||"",this.service=new LiveService("ISettings"),this._super("","ipreferences",o.JSStrings.tc("tpl:is"),"","","90","90","right","middle","","auto","auto"),this.buttons=[{id:"save",label:o.JSStrings.tc("common:save"),click:n().proxy(this.savePrefs,this)},{id:"cancel",label:o.JSStrings.tc("common:cancel"),click:n().proxy(this.cancelPrefs,this)}],this.draw(),this.show()},onObserveContent:function(){this.overlayBox.css({"min-width":"340px"})},savePrefs:function(){var t={settings:this.data.settings||{}},e=this.data.settings,i=this.data.features||[];t.id=this.instructorID,t.viewMode="I",t.settings.fontSize=this.cf.getComValue("fontSize"),t.settings.charts=this.cf.getComValue("charts"),t.settings.maxTeamsInReports=e.maxTeamsInReports,t.settings.maxTeamsInCharts=e.maxTeamsInCharts,t.settings.features=[];for(var s=0,n=i.length;s<n;++s)this.cf.getComValue("feature_"+i[s])&&t.settings.features.push(i[s]);void 0!==this.data.options&&(t.options={},t.options.gameDesignAllowed=this.cf.getComValue("gameDesignAllowed"),t.options.isDistAdmin=this.cf.getComValue("isDistAdmin"),t.options.logoAllowed=this.cf.getComValue("logoAllowed")),this.viewModes.length>1&&(t.viewMode=this.cf.getComValue("viewMode"));var r=this.cf.getComValue("resetTutorial"),a=this.service.call("saveInstructorSettings",[o.Live.user,this.instructorID,t,r]);this.service.handleErrors(a)&&this.data.isMe&&(r&&(AEngine.overlayMessages=[]),AEngine.reloadPage(!0)),this.destroy()},cancelPrefs:function(){this.destroy()},onDrawContent:function(){var t="",e="",i="",s=this.service.call("loadInstructorSettings",[o.Live.user,this.instructorID]);if(this.service.handleErrors(s)){this.data=s.result,e=this.data.name.escapeHTML();var n=this.data.settings,r=this.data.features||[],a=n.features||[],h='<div style="font-size: larger; margin-bottom: 5px;">'+o.JSStrings.tc("tpl:general")+"</div>";h+='<table style="padding: 3px; width: 100%">',h+='<tr><td><label for="fontSize">'+o.JSStrings.tc("tpl:fontSize")+"</label></td><td>"+this.cf.getComponent("combobox","fontSize",n.fontSize,{},o.Live.fontSizeOptions,"size","size")+"</td></tr>",h+='<tr><td><label for="charts">'+o.JSStrings.tc("tpl:chartType")+"</label></td><td>"+this.cf.getComponent("combobox","charts",n.charts,{},this.chartTypes,"tp","name")+"</td></tr>",h+='<tr><td><label for="resetTutorial">'+o.JSStrings.tc("tpl:resetTutorial")+"</label></td><td>"+this.cf.getComponent("checkbox","resetTutorial",!1)+"</td></tr>";for(var l=0,c=r.length;l<c;++l)h+='<tr><td><label for="feature_'+r[l]+'">'+o.JSStrings.tc("tpl:feature_"+r[l])+"</label></td><td>"+this.cf.getComponent("checkbox","feature_"+r[l],a.indexOf(r[l])>-1)+"</td></tr>";if(i+=new f("prefs","general",h+="</table>").draw(),this.viewModes=[{mode:"I",name:o.JSStrings.tc("tpl:imode")}],this.data.isMe&&(this.data.isDistAdmin&&this.viewModes.push({mode:"D",name:o.JSStrings.tc("tpl:dmode")}),this.data.isSuperAdmin&&this.viewModes.push({mode:"S",name:o.JSStrings.tc("tpl:smode")})),void 0!==this.data.options||this.viewModes.length>1){if(h='<div style="font-size: larger; margin-bottom: 5px;">'+o.JSStrings.tc("tpl:otherOptions")+"</div>",h+='<table style="padding: 3px; width: 100%">',void 0!==this.data.options){var u=this.data.options;h+='<tr><td><label for="gameDesignAllowed">'+o.JSStrings.tc("tpl:gdAllowed")+"</label></td><td>"+this.cf.getComponent("checkbox","gameDesignAllowed",u.gameDesignAllowed)+"</td></tr>",h+='<tr><td><label for="isDistAdmin">'+o.JSStrings.tc("tpl:distributor")+"</label></td><td>"+this.cf.getComponent("checkbox","isDistAdmin",u.isDistAdmin)+"</td></tr>",h+='<tr><td><label for="logoAllowed">'+o.JSStrings.tc("tpl:logoAllowed")+"</label></td><td>"+this.cf.getComponent("checkbox","logoAllowed",u.logoAllowed)+"</td></tr>"}this.viewModes.length>1&&(h+='<tr><td><label for="viewMode">'+o.JSStrings.tc("tpl:viewMode")+"</label></td><td>"+this.cf.getComponent("combobox","viewMode",this.data.viewMode,{},this.viewModes,"mode","name")+"</td></tr>"),i+=new f("prefs","otherOptions",h+="</table>").draw()}}return t+='<div class="decisionTitleBar">',t+='<div id="prefsTitle" class="decisionTitle">'+o.JSStrings.tc("tpl:is")+"</div>",t+='<div id="name" class="decisionTitleR" style="'+(this.data.isMe?"":"color:#C83232;")+'">'+e+"</div>",(t+="</div>")+'<div id="content" style="position:relative; clear:both; padding: 3px;">'+i+"</div>"}}),N=A.extend({alertMessage:"",buttons:[],initialize:function(){this.viewStyles=[{vs:"fit",name:o.JSStrings.tc("tpl:fit")},{vs:"full",name:o.JSStrings.tc("tpl:full")}],this._super("","preferences",o.JSStrings.tc("tpl:prefsTitle"),"","","90","90","right","middle","","auto","auto"),this.buttons=[{id:"save",label:o.JSStrings.tc("common:save"),click:n().proxy(this.savePrefs,this)},{id:"cancel",label:o.JSStrings.tc("common:cancel"),click:n().proxy(this.cancelPrefs,this)}],this.cf=new l,this.lv=o.Live,this.rga=Engine.areas.right,this.draw(),this.show()},savePrefs:function(){var t,e,i,s,n,r=!1,a=this.rga.settings.length;for(o.Live.hasFeature("animated-decisions")&&o.Live.preferFlash!=(t=this.cf.getComValue("preferFlash"))&&(o.Live.preferFlash=t,Engine.areas.body.switchDecisions(!1),r=!0),o.Live.sizeRatio!=(t=this.cf.getComValue("sizeRatio"))&&(o.Live.sizeRatio=t,Engine.ui.changeSize(),r=!0),o.Live.fontSize!=(t=this.cf.getComValue("fontSize"))&&(o.Live.fontSize=t,Engine.ui.changeFontSize(),r=!0),o.Live.viewStyle!=(t=this.cf.getComValue("viewStyle"))&&(o.Live.viewStyle=t,Engine.ui.resize(!0),r=!0),o.Live.hasFeature("video")&&o.Live.showSubtitles!=(t=this.cf.getComValue("showSubtitles"))&&(o.Live.showSubtitles=t,r=!0),o.Live.showRewards!=(t=this.cf.getComValue("showRewards"))&&(o.Live.showRewards=t,r=!0),this.cf.getComValue("resetTutorial")&&(Engine.overlayMessages=[],r=!0),r&&(Engine.settingsChanged=!0),e=0;e<a;++e)(n=this.rga.settings[e]).closable&&(i=this.rga.get(n.name),(s=this.cf.getComValue("gset_"+n.name))&&null==i?this.rga.add(n.name):s||null==i||(i.closeClick(),this.rga.remove(n.name)));this.destroy()},cancelPrefs:function(){this.destroy()},onObserveContent:function(){this.overlayBox.css({"min-width":"380px"})},onDrawContent:function(){var t,e,i,s,n,r,a="",h=this.rga.settings.length;for(t='<div style="font-size: larger; margin-bottom: 5px;">'+o.JSStrings.tc("tpl:general")+'</div><table style="padding: 3px;">'+(this.lv.hasFeature("animated-decisions")?"<tr><td>"+this.cf.getLabel(o.JSStrings.tc("tpl:richInterface"),"preferFlash","")+"</td><td>"+this.cf.getComponent("checkbox","preferFlash",this.lv.preferFlash)+"</td></tr>":"")+"<tr><td>"+this.cf.getLabel(o.JSStrings.tc("tpl:viewStyle"),"viewStyle","")+"</td><td>"+this.cf.getComponent("combobox","viewStyle",this.lv.viewStyle,{},this.viewStyles,"vs","name")+"</td></tr><tr><td>"+this.cf.getLabel(o.JSStrings.tc("tpl:size"),"sizeRatio","")+"</td><td>"+this.cf.getComponent("combobox","sizeRatio",this.lv.sizeRatio,{},this.lv.sizeOptions,"size","label")+"</td></tr><tr><td>"+this.cf.getLabel(o.JSStrings.tc("tpl:fontSize"),"fontSize","")+"</td><td>"+this.cf.getComponent("combobox","fontSize",this.lv.fontSize,{},this.lv.fontSizeOptions,"size","size")+"</td></tr>"+(this.lv.hasFeature("video")?"<tr><td>"+this.cf.getLabel(o.JSStrings.tc("tpl:showSubtitles"),"showSubtitles","")+"</td><td>"+this.cf.getComponent("combobox","showSubtitles",this.lv.showSubtitles,{},[{id:0,name:o.JSStrings.tc("tpl:off")},{id:1,name:o.JSStrings.tc("tpl:on")},{id:2,name:o.JSStrings.tc("tpl:onWithCaptions")}],"id","name")+"</td></tr>":"")+"<tr><td>"+this.cf.getLabel(o.JSStrings.tc("tpl:showRewards"),"showRewards","")+"</td><td>"+this.cf.getComponent("checkbox","showRewards",this.lv.showRewards)+"</td></tr><tr><td>"+this.cf.getLabel(o.JSStrings.tc("tpl:resetTutorial"),"resetTutorial","")+"</td><td>"+this.cf.getComponent("checkbox","resetTutorial",!1)+"</td></tr></table>",e='<div style="font-size: larger; margin-bottom: 5px;">'+o.JSStrings.tc("tpl:rightPanel")+'</div><table style="padding: 3px;">',i=0;i<h;++i)(s=this.rga.settings[i]).closable&&(e+="<tr><td>"+this.cf.getComponent("checkbox","gset_"+s.name,null!=this.rga.get(s.name))+"</td><td>"+this.cf.getLabel(o.JSStrings.tc("tpl:"+s.name),"gset_"+s.name,"")+"</td></tr>");return e+="</table>",this.lv.hasFeature("chat"),n=new f("prefs","general",t),r=new f("prefs","right",e),a+='<div class="decisionTitleBar">',a+='<div id="prefsTitle" class="decisionTitle">'+o.JSStrings.tc("tpl:prefsTitle")+"</div>",a+="</div>",a+='<div id="prefs" style="margin: 5px;">',(a+=n.draw()+r.draw())+"</div>"}}),F=A.extend({alertMessage:"",initialize:function(t,e,i,s,n,r){""==(n=n||"")&&(n="80"),this.alertMessage=e||"",this.buttons=i||[],this.overlayElement=r||"",this._super(this.overlayElement,t,o.JSStrings.tc("overlays:alertOverlay"),"","","35",n,"center","middle","","auto","auto"),this.draw(),s&&"absolute"==s&&this.overlayTableBox.css({position:"absolute"}),this.overlayBox.attr("aria-describedby","alertOvrMsg")},onDrawContent:function(){return'<div id="alertOvrMsg" style="padding: 20px;white-space: pre-wrap;">'+this.alertMessage+"</div>"},onObserveContent:function(){var t,e,i;for(t=0,e=this.buttons.length;t<e;t++)void 0!==(i=this.btnElements[t]).onDestroy&&this.btnElements[t].on("click",i.onDestroy()),this.btnElements[t].on("click",this.destroy.bind(this))}}),O=A.extend({absHei:!0,initialize:function(t){this.url=t,this.buttons=[],this._super("","login",o.JSStrings.tc("overlays:loginOverlay"),"80","80","80","80","center","middle","loginBtn","auto","auto")},onDrawContent:function(){return""+'<iframe id="relogIframe" src="'+this.url+'" style="width: 100%; height: 100%; border: none;"></iframe>'},loginAttempt:function(){},onResize:function(){},onObserveContent:function(){}}),H=A.extend({emptyOverlay:!0,preventDecisionEnter:!1,buttonsHeight:55,initialize:function(t,e,i){this.w=t,this.wm=e,this.basicInfo=i,this.labels=[],this.buttons=[{id:"skipWelcome",label:o.JSStrings.tc("tpl:startSimulation"),click:n().proxy(this.endOverlay,this)}],n().parseParams(document.location.search),this._super("","welcome",o.JSStrings.tc("overlays:welcomeOverlay"),"20","80","95","90","right","middle","welcomeBtn","auto","auto"),this.startOverlay()},onDrawContent:function(){return'<div class="addonOverlay"></div>'},onObserveContent:function(){for(var t=0;t<this.labels.length;++t)this.labels[t].observe()},endOverlay:function(){this.labels=[],this.buttons=[],this.destroy()},startOverlay:function(){var t=!1,e=!1,i=this.w.questionnaires;this.draw();for(var s=0;s<i.length;++s)for(var n=0;n<i[s].links.length;++n)i[s].links[n].preventDecisionArea&&(e=!0);e?(t=this.drawQuestions(i,!0)||t,this.observeQuestions(i)):(t=this.drawMessages(this.w.messages)||t,t=this.drawQuestions(i,!1)||t,this.observeQuestions(i),t=this.drawMicrosims(this.w.microsims)||t,this.observeMicrosims(this.w.microsims),Engine.settingsChanged=!0,Engine.applySettings()),this.overlayContent.append('<div style="clear:both;"></div>'),t?this.show():this.endOverlay()},preventDecisionArea:function(){this.preventDecisionEnter=!0,n()("#skipWelcome").off("click").css({"background-color":"#cccccc",cursor:"not-allowed"}),this.buttonsText.replaceWith('<div id="welcomeGoStraight" class="welcomeGoStraight" style="float:left; margin-top: 9px;"><div>'+o.JSStrings.tc("tpl:testEvalNote")+"</div></div>")},drawButtonsText:function(){return'<div id="welcomeGoStraight" class="welcomeGoStraight" style="float:left;"><div></div></div>'},applyHr:function(){return 1==this.emptyOverlay?(this.emptyOverlay=!1,""):'<div class="overlayItem"><div class="overlayHr"></div></div>'},getOverlayTitle:function(t,e,i){return i=i||"",e?'<h2 class="addonOverlayTitle '+i+'" tabindex="0">'+t+"</h2>":'<h2 class="addonOverlayTitle" tabindex="0">'+o.JSStrings.tc("tpl:"+t)+"</h2>"},drawMessages:function(t){for(var e="",i=(t.length,0);i<t.length;i++)e+=(""!=e?"<br />":"")+'<span style="font-weight: bold;">'+t[i].title+"</span><br />"+t[i].message;return""!=e&&(this.overlayContent.append(this.applyHr()+e),!0)},drawQuestions:function(t,e){for(var i,s,n,r="",a="",h=!1,l=!1,c=!0,u=0;u<t.length;++u){a="",h=!1;for(var d=0;d<t[u].links.length;++d)t[u].links[d].finished&&!t[u].links[d].results||(i=Addons.getAddon(t[u].id,t[u].links[d].quizID),"AOLA"!=t[u].id&&i.welcomeShown||"AOLA"==t[u].id&&t[u].links[d].results&&i.welcomeShown||(s=t[u].links[d].dueBy?o.JSStrings.tc("tpl:testTitle",{TITLE:t[u].links[d].title,DATE_AND_TIME:t[u].links[d].dueBy}):t[u].links[d].title,n=t[u].links[d].results?o.JSStrings.tc("tpl:showResults"):t[u].links[d].preventDecisionArea?o.JSStrings.tc("tpl:completeTest"):"AOLA"==t[u].id?o.JSStrings.tc("tpl:startTest"):o.JSStrings.tc("tpl:takeTest"),"AOLA"==t[u].id&&(c&=t[u].links[d].results),h=!0,a+='<tr class="addonOverlayLabel">',a+='<td class="addonOverlayText">',a+='<div class="addonOverlayName" id="quizName_'+u+"_"+d+'">'+s+"</div>",a+="</td>",a+='<td><a href="'+t[u].links[d].link+"&url="+encodeURIComponent(document.location)+'" id="quizLink_'+t[u].links[d].quizID+'" class="buttonlink addonOverlayBtn" aria-describedby="quizName_'+u+"_"+d+'">'+n+"</a></td>",a+='<div style="clear:both;"></div></tr>',t[u].links[d].preventDecisionArea&&this.preventDecisionArea(),Addons.setAddonViewed(t[u].id,t[u].links[d].quizID)));h&&(r+='<div class="overlayItem">',r+=l?this.getOverlayTitle(t[u].title,!0,"testsTitle"):this.getOverlayTitle(t[u].title,!0),l=!0,"PE"==t[u].id?r+='<div class="addonOverlayNote" style="clear: both; float: left; margin-top: 5px; margin-bottom: 10px;">'+o.JSStrings.tc("tpl:peNote")+"</div>":"SR"==t[u].id?r+='<div class="addonOverlayNote" style="clear: both; float: left; margin-top: 5px; margin-bottom: 10px;">'+o.JSStrings.tc("tpl:srNote")+"</div>":"QUIZ"==t[u].id?r+='<div class="addonOverlayNote" style="clear: both; float: left; margin-top: 5px; margin-bottom: 10px;">'+o.JSStrings.tc("tpl:quizNote")+"</div>":r+='<div class="addonOverlayNote" style="clear: both; float: left; margin-top: 5px; margin-bottom: 10px;">'+o.JSStrings.tc("tpl:testNote")+(c?"":'<br><br><span style="font-weight: bold;">'+o.JSStrings.tc("tpl:testImportantNote")+"</span>")+"</div>",r+='<table class="testsOverlay">'+a+"</table>",r+="</div>")}return""!=r&&(this.overlayContent.append(this.applyHr()+r),!0)},observeQuestions:function(t){for(var e=0;e<t.length;++e)for(var i=0;i<t[e].links.length;++i){var s,r;t[e].links[i].preventDecisionArea||"AOLA"==t[e].id?(s=t[e].links[i].link+"&url="+encodeURIComponent(document.location)+"&signoutUrl="+encodeURIComponent(Engine.getSignOffUrl(o.Live.user)),r=!1):(s=t[e].links[i].link,r=!0),n()("#quizLink_"+t[e].links[i].quizID).on("click",n().proxy((function(t,e,i,s,n){n.preventDefault(),Addons.setAddonVisited(i,s),Addons.saveAddonsVisited(),e?this.wm.open(t,"quiz","simple",1024,768):("undefined"!=typeof Engine&&Engine.finish(),window.location.href=t)}),this,s,r,t[e].id,t[e].links[i].quizID))}},drawMicrosims:function(t){var e="",i="";if(t.length>0)for(var s=0;s<t.length;++s){var n=t[s];n.accessible&&(Addons.getAddon("MIC",n.microsimID).welcomeShown||(Addons.setAddonViewed("MIC",n.microsimID),i+='<tr class="addonOverlayLabel">',void 0!==n.image?i+='<td class="addonOverlayImgWrap"><img src="'+n.image+'" alt="" class="addonOverlayImg" /></td>':i+='<td class="addonOverlayImgWrap"><div class="addonOverlayImg"></div></td>',i+='<td class="addonOverlayText">',i+='<div class="addonOverlayName" id="addonOverlayName_'+s+'">'+n.name+"</div>",i+='<div class="addonOverlayDesc">'+(void 0!==n.description?n.description:"")+"</div>",i+="</td>",i+='<td class="addonOverlayQuarter">'+n.quarter+"</td>",i+='<td><a href="'+n.weblocation+"/student-login.php?ID="+o.Live.user.id()+"&SessionID="+o.Live.user.sessionID()+"&tpl="+n.acronym+"&lang="+o.Live.user.language()+'" id="mic_'+n.microsimID+'" class="buttonlink addonOverlayBtn"  aria-describedby="addonOverlayName_'+s+'">'+o.JSStrings.tc("tpl:play")+"</a></td>",i+='<div style="clear:both;"></div></tr>'))}return""!=i&&(e+='<div class="overlayItem">',e+=this.getOverlayTitle("microsims"),e+='<div class="addonOverlayNote" style="clear: both; float: left; margin-bottom: 15px;">'+o.JSStrings.tc("tpl:microsimsNote")+"</div>",e+='<table class="microsimsWrap microsimsOverlay"><thead><tr><td></td><td></td><th class="addonOverlayQuart">'+o.JSStrings.tc("tpl:dueInQuarter")+"</th><td></td></tr></thead>"+i+"</table>",e+="</div>",this.overlayContent.append(this.applyHr()+e),!0)},observeMicrosims:function(t){for(var e=0;e<t.length;++e){var i=t[e];n()("#mic_"+i.microsimID).on("click",function(t,e){e.preventDefault(),this.wm.open(t.weblocation+"/student-login.php?ID="+o.Live.user.id()+"&SessionID="+o.Live.user.sessionID()+"&tpl="+t.acronym+"&lang="+o.Live.user.language(),"microsim","simple",1034,768),Addons.setAddonVisited("MIC",t.microsimID),Addons.saveAddonsVisited()}.bind(this,i))}}}),R=A.extend({hasCloseX:!0,initialize:function(t,e){this.cf=new l,this.imgUrl=t,this.saveCallBack=e,this.buttons=[{id:"save",label:o.JSStrings.tc("common:done"),click:n().proxy(this.saveImage,this)}],this._super("","changeImage",o.JSStrings.tc("overlays:changeImage"),"70","70","70","70","right","middle","","auto","auto"),this.draw(),this.show()},onDrawContent:function(){return""+'<div id="alertOvrMsg" style="position: relative; width: 100%; height: 100%; white-space: pre-wrap;"><div style="padding: 10px 30px 0 20px; height: 40px; box-sizing: border-box; overflow: hidden;">'+o.JSStrings.tc("overlays:panAndZoom")+'</div><div style="width: 100%; height: calc(100% - 40px); padding: 10px 20px 70px 20px; box-sizing: border-box;"><img id="imageCrop" src="'+this.imgUrl+'" alt="" style="max-width: 100%;" /></div></div><div style="clear:both;"></div>'},onResize:function(){var t=this.overlayElement.height()*(this.height/100);this.overlayBoxContent.css({height:t+"px"})},saveImage:function(){n()("#imageCrop").croppie("result",{type:"rawcanvas",size:{width:200,height:200}}).then(n().proxy((function(t){this.saveCallBack(t),this.destroy()}),this))},onObserveContent:function(){var t,e;n()("#imageCrop").croppie({enableOrientation:!0,viewport:{width:200,height:200},zoomerStep:.01}),t=n()('<button class="blueButton" style="position: absolute; left: 25px" aria-label="'+o.JSStrings.tc("common:rotateLeft")+'"><img src="'+o.JSSettings.st("common:rotateLeft")+'" class="blueButtonImage" alt /></button>'),e=n()('<button class="blueButton" style="position: absolute; left: 68px" aria-label="'+o.JSStrings.tc("common:rotateRight")+'"><img src="'+o.JSSettings.st("common:rotateRight")+'" class="blueButtonImage" alt /></button>'),n()(".cr-slider-wrap").append(t).append(e),e.on("click",(function(){n()("#imageCrop").croppie("rotate",90)})),t.on("click",(function(){n()("#imageCrop").croppie("rotate",-90)}))}}),z=r.Class.extend({width:163,dimming:!0,initialize:function(t,e,i){this.decision=t,this.decisionElement=e,this.decisionContent=i},draw:function(){this.rightPane=n()('<div id="rightPane" class="rightPane"></div>'),this.rightPane.css({width:this.width+"px"}),this.rparrow=n()('<div style="display:none;background-image:url('+this.decision.st("common:arrowLight")+');" id="rightPaneArrow" class="rightPaneArrow"></div>'),this.rparrow.css({right:this.width+"px"}),this.content=n()('<div id="rightPaneContentWrap" class="rightPaneContentWrap"></div>'),this.dimming&&this.content.toggleClass("dimmed",!0),this.rightPane.append(this.content),this.decisionContent.append(this.rightPane),this.decisionContent.append(this.rparrow),this.initScroll()},initScroll:function(){this.scrollEvt=n().proxy(this.scrollPane,this),this.decisionElement.on("scroll",this.scrollEvt)},ariaHide:function(){this.rightPane.attr("aria-hidden",!0).attr("role","presentation")},scrollPane:function(){var t;this.content&&(t=this.content.height()+this.decisionElement.scrollTop()<this.rightPane.height()?this.decisionElement.scrollTop():this.rightPane.height()-this.content.height(),this.content.css({"margin-top":t+"px"}))},positionArrow:function(t,e,i){this.rparrow&&t?(this.rparrow.show(),this.rparrow.css({top:e+"px",height:i+"px"})):this.rparrow.hide()},resize:function(){this.rightPane&&this.rightPane.css({"min-height":this.decisionElement.height()+"px"})},destroy:function(){this.scrollEvt&&this.decisionElement.off("scroll",this.scrollEvt)},activate:function(){this.dimming&&this.content.toggleClass("dimmed",!1)},deactivate:function(){this.dimming&&this.content.toggleClass("dimmed",!0)}}),X=r.Class.extend({initialize:function(t,e,i){this.decision=t,this.regionHoverInfo=!1,this.cityHoverInfo=!1,this.useSmallMaps=!1,this.hasRegionStatus=i||!1,this.simpleCities=e||!1,this.regCountText=[],this.regTables=[],this.mapWrappers=[],this.mapImages=[],this.maps=[],this.dots=[],this.selectDots=[],this.dotInfos=[]},drawRegionImages:function(t){var e,i,s,r=n()("#rmTable_"+t.regionID),o=n()("#rmTableHead_"+t.regionID),a=this.decision.data.staticData.regions.length;e=n()('<div class="tableHeadMapWrapper" aria-hidden="true"></div>'),s=n()('<div class="tableHeadMap'+a+'R"></div>'),i=this.useSmallMaps?n()('<img src="'+this.decision.st("regions:smaps_"+a+"r"+t.regionID)+'" alt=""/>'):n()('<img src="'+this.decision.st("regions:hmaps_"+a+"r"+t.regionID)+'" alt=""/>'),s.append(i),e.append(s),o.append(e),r.parents("div").first().toggleClass("cornersWithTableHeadMap",!0),this.useSmallMaps&&r.parents("div").first().toggleClass("smallMaps",!0),this.mapWrappers.push(e),this.mapImages[t.regionID]=i,this.maps[t.regionID]=s,this.dots[t.regionID]=[],this.dotInfos[t.regionID]=[],this.selectDots[t.regionID]=[],this.regionHoverInfo&&new m(i,this.regCountText[t.regionID]),this.useSmallMaps||this.drawRegionDots(t)},drawRegionDots:function(t){var e,i,s,r,o,a,h=this.decision.data.calculate;for(i=0,s=t.cities.length;i<s;++i)if(r=t.cities[i],this.simpleCities||(o=h.regionCost.toLookUp("regionID")[t.regionID].cities.toLookUp("cityID")),t.wscOpened||r.soOpened){this.getCityPos(t,r),e=n()('<div class="headMapDot"></div>');var l=n()('<div class="headMapDot selDot"></div>');l.hide(),this.dots[t.regionID][r.cityID]=e,this.selectDots[t.regionID][r.cityID]=l,this.maps[t.regionID].append(e).append(l),this.simpleCities?this.setCityDotStatus(!1,t,r,0):this.setCityDotStatus(null,t,r,o[r.cityID].cost),a=t.wscOpened&&r.soOpened?"soInfoBoth":t.wscOpened?"soInfoWeb":"soInfo",this.cityHoverInfo&&(this.dotInfos[t.regionID][r.cityID]=new m(this.dots[t.regionID][r.cityID],this.decision.tc(a,{CITY:r.cityName})))}this.hasRegionStatus&&this.setRegionStatus(t),this.selectedCityInfo=!1,this.simpleCities||(this.regTables[t.regionID].onHovRowEvent=n().proxy(this.onHovCityInfo,this,!0),this.regTables[t.regionID].onDeHovRowEvent=n().proxy(this.onHovCityInfo,this,!1),this.regTables[t.regionID].onSelectRowEvent=n().proxy(this.onSelCityInfo,this,!0),this.regTables[t.regionID].onDeselectRowEvent=n().proxy(this.onSelCityInfo,this,!1))},drawRegion:function(t){var e,i,s,n,r,o,a=this.decision.data.staticData.hasWeb?"Presence":"";if(t.isIn){for(e=i=0,s=0,n=t.cities.length;s<n;++s)r=t.cities[s],(t.wscOpened||r.soOpened)&&e++,i++;o=e!=i?this.decision.tc("openedCount"+a,{OPENED:e,MAX:i,REGION:t.regionName}):this.decision.tc("openedMax"+a,{MAX:i,REGION:t.regionName}),this.regCountText[t.regionID]=o,this.drawRegionImages(t)}},getCityPos:function(t,e){var i={},s=this.decision.data.staticData.regions.length;return null!==this.decision.st("regions:dot_left_"+s+"r"+t.regionID+"_"+e.cityID)?i.left=this.decision.st("regions:dot_left_"+s+"r"+t.regionID+"_"+e.cityID):i.left=0,null!==this.decision.st("regions:dot_top_"+s+"r"+t.regionID+"_"+e.cityID)?i.top=this.decision.st("regions:dot_top_"+s+"r"+t.regionID+"_"+e.cityID):i.top=0,i},setRegionStatus:function(t){var e,i=this.decision.data.calculate.regionCost.toLookUp("regionID"),s=this.decision.data.staticData.regions.length;e=i[t.regionID].cost>0?"hgmaps_":"hmaps_",this.mapImages[t.regionID].prop("src",this.decision.st("regions:"+e+s+"r"+t.regionID))},toggleCityDotActive:function(t,e,i){this.dots[t][e].toggleClass("activeDot",i)},setCityDotStatus:function(t,e,i,s){var n,r;s>0?(n=4,this.toggleCityDotActive(e.regionID,i.cityID,!0)):(n=3,this.toggleCityDotActive(e.regionID,i.cityID,!1)),r=this.getCityPos(e,i),null===t?(this.dots[e.regionID][i.cityID].css({"border-width":n+"px","border-radius":n+"px",left:r.left-n+"px",top:r.top-n+"px"}),n+=4,this.selectDots[e.regionID][i.cityID].css({"border-width":n+"px","border-radius":n+"px",left:r.left-n+"px",top:r.top-n+"px"})):!0===t?(n+=4,this.selectDots[e.regionID][i.cityID].css({"border-width":n+"px","border-radius":n+"px",left:r.left-n+"px",top:r.top-n+"px"})):this.dots[e.regionID][i.cityID].css({"border-width":n+"px","border-radius":n+"px",left:r.left-n+"px",top:r.top-n+"px"})},onSelCityInfo:function(t,e){t?(this.selectedCityInfo=!0,this.selectDots[e.region.regionID][e.city.cityID].show(),this.selectDots[e.region.regionID][e.city.cityID].toggleClass("hovDot",!1)):(this.selectedCityInfo=!1,this.selectDots[e.region.regionID][e.city.cityID].hide())},onHovCityInfo:function(t,e){t?(this.selectDots[e.region.regionID][e.city.cityID].toggleClass("hovDot",!0),this.selectDots[e.region.regionID][e.city.cityID].show()):(this.selectDots[e.region.regionID][e.city.cityID].toggleClass("hovDot",!1),this.selectDots[e.region.regionID][e.city.cityID].hide())},resize:function(){var t=n()("#decision"),e=t.children().first();this.mapWrappers.forEach((function(i){i.css({"margin-left":Math.max(i.siblings("div").width()+15,Math.min(t.width()-i.width()-parseInt(i.parents("table").parents("div").first().css("margin-left"),10)-parseInt(e.css("padding-left"),10)-parseInt(i.parents("caption").first().css("padding-left"),10)-parseInt(i.parents("caption").first().css("padding-right"),10),i.parents("table").width()-i.width()-parseInt(i.parents("caption").first().css("padding-left"),10)-parseInt(i.parents("caption").first().css("padding-right"),10)))+"px"})}))}})},93037:(t,e,i)=>{"use strict";i.r(e),i.d(e,{ActivityLog:()=>R,Container:()=>L,Cookie:()=>X,Cube:()=>P,CuePoint:()=>F,CuePointDisplayFactory:()=>H,CuePoints:()=>O,Format:()=>g,HistoryManager:()=>z,Instructor:()=>w,InstructorUser:()=>S,JSSettings:()=>a.WZ,JSStrings:()=>a.vc,JsonClient:()=>y,Live:()=>p,LiveEvents:()=>k,LiveService:()=>b,MultiWait:()=>T,Path:()=>m,Preload:()=>A,ServiceUpdater:()=>D,Student:()=>x,Subtitle:()=>E,Subtitles:()=>N,User:()=>C,VideoAddOns:()=>_,VideoObject:()=>I,WindowManager:()=>M,XSLProcessor:()=>v,inspectVariable:()=>f});var s=i(19755),n=i.n(s),r=i(94822),o=i(82502),a=i(6211);function h(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function u(t,e,i){return e&&c(t.prototype,e),i&&c(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}var p={version:"",servicePoint:"",remoteCalls:"json",user:null,sizeOptions:[{size:95,label:"95%"},{size:100,label:"100%"},{size:110,label:"110%"},{size:125,label:"125%"},{size:135,label:"135%"},{size:-1,label:"fit"}],mobileSizing:!1,fontSizeOptions:[{size:"11px",label:"A"},{size:"12px",label:"A"},{size:"13px",label:"A"},{size:"14px",label:"A"},{size:"15px",label:"A"}],debugMode:0,skipIntro:!1,addonsSettings:[],useCache:!0,preferFlash:!0,showSubtitles:0,showRewards:!0,serviceUpdaterInterval:5,userActive:12e5,decimalDelimiter:".",thousandDelimiter:",",viewStyle:"fit",allowNarrowLayout:!1,userInterface:"new",newTables:!0,sizeRatio:100,opacity:.95,backgroundImageOpacity:1,fontSize:"13px",minIEVersion:7,localTime:!0,companyProfile:function(){return!0},useAnim:function(){return this.preferFlash&&(!o.Detect.isIE()||o.Detect.ieVersion()>8)&&this.hasFeature("animated-decisions")},useSvg:function(){return this.svgSupport},maxQuarter:0,videoTagSupport:o.Detect.videoTagSupport(),svgSupport:o.Detect.svgSupport(),gameFeatures:0,hasFeature:function(t){var e={video:1,"animated-decisions":2,chat:4,realtime:8,"social-media":16,"pe-rebuild":32,"new-template":64,"two-qtr-rd":128,"new-navigation":256,"cola-rebuild":512,blog:1024,"one-player-team":2048,"time-in-log":4096,email:8192,"privacy-overlay":16384};return void 0!==e[t]&&(e[t]&this.gameFeatures)>0},STORY_NONE:"none",STORY_VIDEO:"video",STORY_STATIC:"static",storyViewer:function(){return this.hasFeature("video")&&this.videoTagSupport?p.STORY_VIDEO:p.STORY_NONE},cdnURL:"",newNavigation:function(){return!0},emptyHref:"javascript:void(0)",automatedTesting:"1"===(n().parseParams(document.location.search).automatedTesting||""),csrfTokenName:"XSRF-TOKEN",gameContent:[],hasContent:function(t){var e,i,s,n=t.split(","),r=!0;for(e=0,i=n.length;e<i;++e)""!=(s=n[e].trim())&&(r="!"==s[0]?r&&-1==this.gameContent.indexOf(s.substr(1)):r&&-1!=this.gameContent.indexOf(s));return r},visible:function(t,e){if(void 0===t)return!0;var i,s;e=e||this.user.visibility;for(var n=0,r=this.visibilityGroups.length;n<r;++n)if(i=this.visibilityGroups[n]&t,s=this.visibilityGroups[n]&e,0!=i&&0==(i&s))return!1;return!0},updateStudentBasicInfo:function(t){this.user.realGameID=t.realGameID,this.user.team=t.team,this.user.visibility=t.visibility,this.maxQuarter=t.maxQuarter,this.gameFeatures=t.gameFeatures},accountingDetailDropDown:!0};function f(t,e,i){if("function"==typeof e)return"";var s,n=i+"["+t+"] => ";if("object"==d(e)){for(s in n+="\n"+(i+="  ")+"(\n",e)n+=f(s,e[s],i+"  ");n+=i+")\n"}else n+=e+"\n";return n}n().extend(Error.prototype,{number:0}),n().extend(Number.prototype,{format:function(t,e,i){return g.number(this,t,e,i)},formatInt:function(t,e){return this.format(0,t,e)},formatFloat:function(t,e,i){return this.format(t||2,e,i)}}),n().extend(Array.prototype,{toLookUp:function(){var t=Array.from(arguments),e=t.length-1;return this.reduce((function(i,s){for(var n=i,r=0;r<e;++r){var o=s[t[r]];void 0===n[o]&&(n[o]=[]),n=n[o]}return n[s[t[e]]]=s,i}),[])},diffArray:function(t){var e=this;return this.filter((function(e){return t.indexOf(e)<0})).concat(t.filter((function(t){return e.indexOf(t)<0})))}});var g={currentYear:(new Date).getFullYear(),numberFormats:{},getNumberFormat:function(t,e,i){t=t||0,void 0===i&&(i=p.thousandDelimiter);var s=t+"_"+(i?"g":"ng");return this.numberFormats[s]||("object"==("undefined"==typeof Intl?"undefined":d(Intl))&&"function"==typeof Intl.NumberFormat?this.numberFormats[s]=new Intl.NumberFormat("en-US",{maximumFractionDigits:t,minimumFractionDigits:t,useGrouping:!!i}):this.numberFormats[s]={format:function(s){return this.numberFallback(s,t,e,i)}.bind(this)}),this.numberFormats[s]},number:function(t,e,i,s){return this.getNumberFormat(e,i,s).format(t)},numberFallback:function(t,e,i,s){var n,r="";e=e||0,i=i||p.decimalDelimiter,void 0===s&&(s=p.thousandDelimiter);var o,a,h=1;if(e>0?(h=Math.pow(10,e),o=Math.round(t*h)/h):o=Math.round(t),a=Math.abs(o),e>0){var l=Math.floor(a);r=i+(h+Math.round((a-l)*h)).toString().substr(1),n=l.toString()}else n=a.toString();for(var c=n.length-3;c>0;)r=s+n.substr(c,3)+r,c-=3;return(o<0?"-":"")+n.substr(0,c+3)+r},integer:function(t,e){return this.number(t,0,"",e)},real:function(t,e,i,s){return this.number(t,e||2,i,s)},instructorName:function(t,e,i,s,n){var r=e;return r+=i?", "+i:"",r+=n?" "+n:"",(r+=s?" - "+s:"")+" (#"+t+")"},userName:function(t,e,i){var s=e?e+" ":"";return(s+=i?i+" ":"")+t},smartTrim:function(t,e,i,s){if(s||(s="&hellip;"),i||(i=" "),t.length<=e)return t;var n=t.substr(0,e+i.length),r=n.lastIndexOf(i);return r>=0&&(n=n.substr(0,r)),n&&(n+=s),n},fullName:function(t,e,i){var s=t;return(s+=e?", "+e:"")+(i?" "+i:"")},initialName:function(t,e,i){return t+(e?", "+e.charAt(0)+".":"")+(i?" "+i.charAt(0)+".":"")},rdFeatureName:function(t,e,i,s,n){var r=t+(n?"":": ")+(e||"").trim(),o=[];i=i||0;for(var a=0,h=(s=s||[]).length;a<h;++a)(i&s[a].featureType)>0&&o.push(s[a].name);return o.length!=s.length&&(r+=" ("+o.join(", ")+")"),r},rdFeatureTypes:function(t,e,i){var s="",n=[];t=t||0;for(var r=0,o=(e=e||[]).length;r<o;++r)(t&e[r].featureType)>0&&n.push('<span style="vertical-align: bottom; white-space: nowrap; line-height: 15px;">'+this.brandName(e[r].name,e[r].brandType)+"</span>");return s+n.join(i)},location:function(t,e){return t+(""!=e?", "+e:"")},soapLongDate:function(t,e){return void 0!==e&&"0000-00-00T00:00:00"==t.substr(0,19)?e:t.replace("T"," ").substr(0,19)},soapShortDate:function(t){return null==t?"":t.replace("T"," ").substr(0,19)},soapMinuteDate:function(t){return null==t?"":t.replace("T"," ").substr(0,16)},zeroPad:function(t){return(t<10?"0":"")+String(t)},duration:function(t,e,i){var s,n,r=Math.floor(t/60),o=t%60;return e=e||!1,(i=i||!1)?(r-=60*(s=Math.floor(r/60)),n=this.number(s)+":"+this.zeroPad(r)):n=this.number(r),e?n+":"+this.zeroPad(o):n},tzOffset:function(t){var e=Math.abs(t),i=Math.floor(e/60),s=e-60*i;return"GMT "+(t<0?"-":"+")+this.zeroPad(i)+":"+this.zeroPad(s)},gameName:function(t,e){return'<span class="gName">'+t.escapeHTML()+'</span> (<span class="gID">'+e+"</span>)"},brandName:function(t,e){return(e?'<img src="'+m.getPath(a.WZ.st("common:btFolder"),e+"-medium",".png")+'" class="brandNameIcon" alt="" /> ':"")+t},brandSvgIcon:function(t,e,i,s){var r,o,h,l,c,u,d=n()('<div role="img" class="svgIconWrap"></div>'),p=t.brandFeatures,f=(t.brandType,e.toLookUp("featureUID"));for(i=i||47,s=s||30,o=a.WZ.st("features:svgFeatures"),u=a.WZ.st("features:counterIds"),h=0,l=o.length;h<l;h++)void 0!==f[o[h]]&&(c=f[o[h]].featureID,-1!=p.indexOf(c)&&(r=a.WZ.st("features:svgbtFolder")+u[h]+"_"+t.brandType+".svg",d.append('<img src="'+r+'" class="svgIconPart" alt style="width: '+i+"px; height: "+s+'px;" />')));return d},brandNameSvg:function(t,e,i){return'<div class="svgIconBrand">'+this.brandSvgIcon(t,e).prop("outerHTML")+'<span class="svgIconName">'+i+"</span></div>"},segmentName:function(t,e,i){var s="";return t=t||"",e?(s+='<div class="segmentNameImageWrap '+(i?"isInline":"")+'">',s+='<img src="'+m.getPath(a.WZ.st("common:segmentsFolder"),e.toLowerCase(),".png")+'" class="segmentNameImage" alt=""/>',s+="</div>",s+=t):t},materialLink:function(t,e,i,s){var n="";return s||(s=""),(n+='<img class="instructor-material-icon" src="'+m.getPath(a.WZ.st("common:iconsFolder"),e,".jpg")+'" alt="'+a.vc.tc("common:materialType_"+e)+'" />')+'<a class="materialLink" href="'+i+'" title="'+s+'">'+t+"</a>"}},m={getPath:function(t,e,i,s){return i||(i=""),s=s?"lang/"+s+"/":"",p.cdnURL+s+t+e+i},getDecPath:function(t,e,i,s){return this.getPath(a.WZ.st("common:decisionsFolder")+t+"/",e,i,s)}},v=function(){function t(){l(this,t),this.xslDom=null,this.processor=null,"undefined"!=typeof XSLTProcessor&&(this.processor=new XSLTProcessor)}return u(t,[{key:"toXMLDOM",value:function(t){var e;return window.ActiveXObject?((e=new ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t),e):e=(new DOMParser).parseFromString(t,"text/xml")}},{key:"importStylesheet",value:function(t){this.xslDom="string"==typeof t?this.toXMLDOM(t):t,null!=this.processor&&this.processor.importStylesheet(this.xslDom)}},{key:"transform",value:function(t){var e,i;return e="string"==typeof t?this.toXMLDOM(t):t,null!=this.xslDom?(i=document.createElement("div"),null!=this.processor?i.appendChild(this.processor.transformToFragment(e,document)):i.innerHTML=e.transformNode(this.xslDom),i.innerHTML):""}}]),t}(),y=function(){function t(e,i){l(this,t),this.servicePoint=e,this.sendMethod=i||"post"}return u(t,[{key:"doCallBack",value:function(t){return 0!=t.error?{result:null,error:t.error,message:t.errorMessage,errorDetail:t.errorDetail||""}:{result:t.result,error:0,message:"",errorDetail:""}}},{key:"success",value:function(t,e,i,s,n,r){var o=s;null==o&&(o={method:t,result:null,error:-6,errorMessage:"Call unsuccessfull.",errorDetail:r?r.responseText:""}),e?i(this.doCallBack(o)):this.response=o}},{key:"failure",value:function(t,e,i,s,n,r){var o={method:t,result:null,error:r?-4:-5,errorMessage:"Service failed ("+n+(r?":"+r:"")+")",errorDetail:s?s.responseText:""};"abort"!=n&&(e?i(this.doCallBack(o)):this.response=o,console.log(n,r,s?s.responseText:""))}},{key:"call",value:function(t,e,i,s){var r={},o=X.get(p.csrfTokenName);if(i||(this.response={method:t,result:null,error:-6,errorMessage:"Call unsuccessfull."}),null!==o&&(r["X-"+p.csrfTokenName]=o),this.jqXHR=n().ajax(this.servicePoint,{type:this.sendMethod,async:i,data:"post"==this.sendMethod?JSON.stringify({method:t,parameters:e}):"",dataType:"json",contentType:"application/json",crossDomain:!1,processData:!1,cache:!1,global:!0,headers:r,success:this.success.bind(this,t,i,s),error:this.failure.bind(this,t,i,s)}),!i)return this.doCallBack(this.response)}},{key:"abort",value:function(){this.jqXHR&&this.jqXHR.abort()}}]),t}(),b=function(){function t(e,i,s){l(this,t),s=s||"",this.serviceName=e,"json"===p.remoteCalls&&(this.service=new y(p.servicePoint+s+"backend-json.php?"+this.serviceName,i))}return u(t,[{key:"call",value:function(t,e,i,s){if(!i)return this.service.call(t,e,!1,null);this.service.call(t,e,i,s)}},{key:"handleErrors",value:function(e,i){return t.handleErrors(e,i)}},{key:"abort",value:function(){this.service.abort()}}]),t}();n().extend(b,{errorHandler:null,handleErrors:function(t,e){if(0==t.error)return!0;var i=this.errorHandler;return void 0!==e&&(i=e),null!=i?i(t):(alert(t.message+" (#"+t.error+")"+(p.debugMode&&t.errorDetail?"\n\n"+t.errorDetail:"")),!1)}});var x=function(){function t(e,i,s,n){l(this,t),this.studentID=e,this.sessionID=i,this.quarter=s,this.language=n,this.internal={lasttime:(new Date).getTime()}}return u(t,[{key:"setActive",value:function(){this.internal.lasttime=(new Date).getTime()}},{key:"getActive",value:function(){return(new Date).getTime()-this.internal.lasttime<p.userActive}}]),t}(),w=u((function t(e,i,s,n,r,o){l(this,t),this.instructorID=e,this.sessionID=i,this.quarter=s,this.language=n,this.realGameID=r,this.team=o})),C=function(){function t(e,i,s,n){l(this,t),null!=e&&(this.student=e),null!=i&&(this.instructor=i),this.visibility=0,this.teamUID=s||"",this.urlParts=n||[],this.realGameID=null,this.team=null}return u(t,[{key:"toQueryString",value:function(t){var e,i=null,s="";if(null!=this.student&&(i=this.student),null!=this.instructor&&(i=this.instructor),null!=i)for(e in i)i.hasOwnProperty(e)&&"function"!=typeof i[e]&&"internal"!=e&&""!==i[e]&&(s+=(""!=s?"&":"")+e+"="+i[e]);return t&&""==i.sessionID&&(s+="&"+p.csrfTokenName+"="+encodeURIComponent(X.get(p.csrfTokenName))),s}},{key:"id",value:function(){return null!=this.student?this.student.studentID:null!=this.instructor?this.instructor.instructorID:void 0}},{key:"updateSessionID",value:function(t){null!=this.student&&(this.student.sessionID=t),null!=this.instructor&&(this.instructor.sessionID=t)}},{key:"sessionID",value:function(){return null!=this.student?this.student.sessionID:null!=this.instructor?this.instructor.sessionID:void 0}},{key:"quarter",value:function(){return null!=this.student?this.student.quarter:null!=this.instructor?this.instructor.quarter:void 0}},{key:"language",value:function(){return null!=this.student?this.student.language:null!=this.instructor?this.instructor.language:void 0}},{key:"clone",value:function(){var e=new t(null,null);return null!=this.student&&(e.student=n().extend({},this.student)),null!=this.instructor&&(e.instructor=n().extend({},this.instructor)),e.teamUID=this.teamUID,e.urlParts=n().extend({},this.urlParts),e.realGameID=this.realGameID,e.team=this.team,e}},{key:"switchQuarter",value:function(t){null!=this.student&&(this.student.quarter=t),null!=this.instructor&&(this.instructor.quarter=t)}},{key:"isInstructor",value:function(){return null==this.student}},{key:"setActive",value:function(){null!=this.student&&this.student.setActive()}},{key:"getActive",value:function(){return null!=this.student&&this.student.getActive()}},{key:"getStudentID",value:function(){return null!=this.student?this.student.studentID:0}}]),t}(),S=function(){function t(e,i,s,n,r){l(this,t),this.instructorID=e,this.sessionID=i,this.language=s,this.useInstructorID=n,this.visibility=0,this.internal={quarter:0},this.urlParts=r||[]}return u(t,[{key:"toQueryString",value:function(t,e){var i,s="";for(i in t=t||{},e=e||!1,this)this.hasOwnProperty(i)&&"function"!=typeof this[i]&&"visibility"!=i&&"urlParts"!=i&&"internal"!=i&&""!==this[i]&&(s+=(""!=s?"&":"")+(void 0!==t[i]?t[i]:i)+"="+this[i]);return e&&""==this.sessionID&&(s+="&"+p.csrfTokenName+"="+encodeURIComponent(X.get(p.csrfTokenName))),s}},{key:"lang",value:function(){return this.language}},{key:"quarter",value:function(){return this.internal.quarter}},{key:"switchQuarter",value:function(t){this.internal.quarter=t}},{key:"isMe",value:function(){return this.useInstructorID==this.instructorID}},{key:"setLanguage",value:function(t){this.language=t}},{key:"clone",value:function(){return new t(this.instructorID,this.sessionID,this.language,this.useInstructorID)}}]),t}(),k={events:new Map,getSource:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.events.get(t);return void 0===i&&e&&(i=new Map,this.events.set(t,i)),i},getEventList:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=this.getSource(t,i);if(void 0!==s){var n=s.get(e);return void 0===n&&i&&(n=[],s.set(e,n)),n}},register:function(t,e,i){this.getEventList(t,e,!0).push(i)},unregister:function(t,e,i){if(void 0!==t){var s=this.getSource(t,!1);if(void 0!==s)if(void 0!==e){var n=this.getEventList(t,e,!1);if(void 0!==n)if(void 0!==i){var r=n.indexOf(i);r>-1&&n.splice(r,1)}else n.length=0}else s.clear()}else this.events.clear()},fire:function(t,e,i){var s=this.getEventList(t,e,!1);if(void 0!==s)for(var n=0,r=s.length;n<r;++n)s[n](i)}},D={service:null,mu:0,pe:null,services:["chat","email","tm_mon","wu_stat","lv_pf","binfo","stu_on","ccn","neg"],currentStatus:[0,0,0,0,0,0,0,0,0],start:function(){this.onUpdateEvent=this.onUpdate.bind(this),this.service=new b("ServiceStatus"),this.mu=0,this.executing=!1,this.pe=new r.PeriodicalExecuter(this.callService.bind(this),p.serviceUpdaterInterval)},stop:function(){null!=this.pe&&this.pe.stop()},callService:function(){if(!this.executing){this.executing=!0;var t=[];void 0!==this.onGetRunData&&(t=this.onGetRunData()),this.service.call("gs",[p.user,p.user.getActive(),t,this.currentStatus],!0,this.onUpdateEvent),k.fire("svc_update","run")}},onUpdate:function(t){try{if(0===t.error){t.result[0]!=p.version&&(p.version=t.result[0],k.fire("version","change"));var e=t.result[2],i=this.services.length;if(void 0!==t.result[3]){var s,n=t.result[3],r=n.length;for(s=0;s<r;++s){var o=n[s].data||null,a=Math.round(Math.log(n[s].id)/Math.LN2);this.currentStatus[a]=n[s].status,k.fire(this.services[a],"change",o)}}else for(a=0;a<i;++a)e[a]!=this.currentStatus[a]&&(this.currentStatus[a]=e[a],k.fire(this.services[a],"change"));t.result[1]!=p.maxQuarter&&(p.maxQuarter=t.result[1],k.fire("binfo","change"),k.fire("wu_stat","change"))}else t.error>0&&(this.service.handleErrors(t),this.pe.stop());this.executing=!1}catch(t){throw this.executing=!1,t}}},T=function(){function t(e,i){l(this,t),this.numberOfWaiting=e,this.callBack=i,this.started=!1}return u(t,[{key:"stopWaiting",value:function(){this.numberOfWaiting--,this.check()}},{key:"check",value:function(){this.started&&this.numberOfWaiting<=0&&this.callBack()}},{key:"start",value:function(){this.started=!0,this.check()}}]),t}(),I=function(){function t(e,i,s,n,r,o,a,c){l(this,t),h(this,"type","video/mp4"),h(this,"id",""),h(this,"width","100%"),h(this,"heigh","100%"),h(this,"loop",!1),h(this,"controls",!1),h(this,"preload","auto"),h(this,"style",""),this.sources=[],this.id=s,this.width=n,this.height=r,this.loop=o,this.controls=a,this.preload=c,this.subtitles=0,this.tracks=[],this.descriptionsElementID="",this.cuePoints=!1,this.cuePointsAddOn=null,this.addSource(e,i)}return u(t,[{key:"addSource",value:function(t,e){this.sources.push({file:t,type:e})}},{key:"addSubtitles",value:function(t){this.sources.length&&(this.subtitles=t)}},{key:"addTrack",value:function(t,e){for(var i=0,s=this.tracks.length;i<s;i++)if(t==this.tracks[i].src&&e==this.tracks[i].lang)return;if(this.sources.length){var n=t.indexOf(".desc.vtt")>-1?"descriptions":t.indexOf(".cc.vtt")>-1?"captions":"subtitles";if("en-us"!=e&&"subtitles"!=n)return;this.tracks.push({src:t,kind:n,lang:e,label:a.vc.tc("languages:"+e)+(t.indexOf(".cc.vtt")>-1?" - CC":"")})}}},{key:"addCuePoints",value:function(t){this.sources.length&&(this.cuePoints=!0,this.cuePointsData=t)}},{key:"attributes",value:function(){var t={id:this.id,style:this.style};return t.style+="display: block;",""!=this.width&&(t.style+="width:"+this.width+";"),""!=this.height&&(t.style+="height:"+this.height+";"),this.loop&&(t.loop="loop"),this.controls&&(t.controls="controls"),this.preload&&(t.preload="auto"),this.tracks.length>0&&(t.crossorigin="anonymous"),t}},{key:"draw",value:function(){var t,e=this.attributes(),i=this.sources.length,s="<video",n={subtitles:1!=this.subtitles,captions:2!=this.subtitles,descriptions:!0};for(t in e)s+=" "+t+'="'+e[t]+'"';for(s+=">",t=0;t<i;++t)s+='<source src="'+this.sources[t].file+'" type="'+this.sources[t].type+'" />';for(t=0,i=this.tracks.length;t<i;t++)""==this.descriptionsElementID&&"descriptions"==this.tracks[t].kind&&(this.descriptionsElementID="offscreenDescriptions_"+this.id),s+='<track src="'+this.tracks[t].src+'" kind="'+this.tracks[t].kind+'" srclang="'+this.tracks[t].lang+'" label="'+this.tracks[t].label+'" ',n[this.tracks[t].kind]||(s+='default="default" ',n[this.tracks[t].kind]=!0),s+="/>";return s+="</video>",""!=this.descriptionsElementID&&(s+='<div id="'+this.descriptionsElementID+'" class="offscreen" role="region" aria-live="polite"></div>'),s}},{key:"observe",value:function(e){if(this.offscreenDescriptions(),this.tracks.length>0){var i=t.getObject(this.id);i.volume=t.volume,i.muted=t.muted,void 0!==i.textTracks.onchange?i.textTracks.onchange=t.onClick.bind(t,i):n()(i).on("timeupdate",t.onClick.bind(t,i))}this.cuePoints&&(this.cuePointsAddOn=new _(this.id,ResourceTypeViewer.getResourceDataID(e)),this.cuePointsAddOn.setCuePoints(this.cuePointsData))}},{key:"instance",value:function(){return n()(this.draw())}},{key:"remove",value:function(){var e,i=t.getObject(this.id);t.volume=i.volume,t.muted=i.muted,n()(i).off(),(e=n()(i))[0].pause(),e.remove().length=0}},{key:"changeOffscreenDescriptions",value:function(t){var e,i="";for(e=0;e<t.activeCues.length;e++)i+=t.activeCues[e].text;n()("#"+this.descriptionsElementID).html(i)}},{key:"offscreenDescriptions",value:function(){var e,i,s=t.getObject(this.id);for(e=0;e<s.textTracks.length;e++)"descriptions"==(i=s.textTracks[e]).kind&&(i.mode="hidden",i.oncuechange=this.changeOffscreenDescriptions.bind(this,i))}}]),t}();n().extend(I,{volume:1,muted:!1,getObject:function(t){return n()("#"+t)[0]},removeObject:function(t){if(t){for(var e in t)"function"==typeof t[e]&&(t[e]=null);t.parentNode.removeChild(t)}},onClick:function(t){for(var e=0,i=0,s=t.textTracks.length;i<s;i++)"showing"==t.textTracks[i].mode&&("subtitles"==t.textTracks[i].kind&&(e=1),"captions"==t.textTracks[i].kind&&(e=2));"undefined"!=typeof Engine&&Engine.settings.showSubtitles!=e&&(Engine.settings.showSubtitles=e,Engine.settingsChanged=!0,Engine.applySettings())}});var _=function(){function t(e,i){l(this,t),this.videoTagID=e,this.video=n()("#"+e),this.resourceDataID=i,this.subtitles=null,this.subUp=null,this.subDown=null,this.cuePoints=null,this.cuePointsOn={},this.lastTimeUpdate=null,this.video.on("timeupdate",this.handleTimeUpdate.bind(this))}return u(t,[{key:"handleTimeUpdate",value:function(){this.video.length>0&&this.video[0].currentTime>0&&(null===this.lastTimeUpdate||this.lastTimeUpdate<this.video[0].currentTime)&&(null===this.lastTimeUpdate&&k.fire("video","start",this.video[0].duration),k.fire("video","timeupdate",this.video[0].currentTime),this.lastTimeUpdate=this.video[0].currentTime)}},{key:"setSubtitles",value:function(t,e){var i;if(this.subtitles=new N(e),null!=t){for(i=0;i<t.length;++i)this.subtitles.add(t[i].startTime,t[i].duration,t[i].sub);var s="color:#ffffff; font-size:1.5em; font-weight:bold; text-shadow:-2px 0 #000000, 0 2px #000000, 2px 0 #000000, 0 -2px #000000;";this.video.after('<div id="'+this.videoTagID+'SubWrap" style="position:absolute; margin-top:-90px; width:100%; text-align:center;"><span id="'+this.videoTagID+'SubUp" style="'+s+'"></span><br /><span id="'+this.videoTagID+'SubDown" style="'+s+'"></span></div>'),this.subUp=n()("#"+this.videoTagID+"SubUp"),this.subDown=n()("#"+this.videoTagID+"SubDown"),this.video.on("timeupdate",this.handleSubtitles.bind(this))}}},{key:"handleSubtitles",value:function(){var t=this.subtitles.get(this.video[0].currentTime);null!=t?(this.subUp.html(t.textUp),this.subDown.html(t.textDown)):(this.subUp.html(""),this.subDown.html(""))}},{key:"setCuePoints",value:function(t){var e;if(this.cuePoints=new O,null!=t)for(e=0;e<t._cuePoints.length;++e)this.cuePoints.add(this.videoTagID+"CuePoint"+t._cuePoints[e].id,t._cuePoints[e].time,t._cuePoints[e].duration,t[t._cuePoints[e].data],t._cuePoints[e].display,t._cuePoints[e].displayParams);this.video.on("timeupdate",this.handleCuePoints.bind(this))}},{key:"handleCuePoints",value:function(){var t,e,i=this.cuePoints.get(this.video[0].currentTime),s={};for(t=0;t<i.length;t++)s[i[t].id]=!0,void 0!==this.cuePointsOn[i[t].id]&&null!=this.cuePointsOn[i[t].id]||(this.video.after(H.draw(i[t].id,i[t].data,i[t].display,"videoWidth="+this.video.width()+";videoHeight="+this.video.height()+";"+i[t].displayParams)),this.cuePointsOn[i[t].id]=n()("#"+i[t].id));for(e in this.cuePointsOn)void 0===s[e]&&null!=this.cuePointsOn[e]&&(this.cuePointsOn[e].remove(),this.cuePointsOn[e]=null)}}]),t}(),L=function(){function t(e,i){l(this,t),h(this,"left",0),h(this,"top",0),h(this,"width",0),h(this,"height",0),h(this,"marginLeft",0),h(this,"marginTop",0),h(this,"marginRight",0),h(this,"marginBottom",0),h(this,"minimizedWidth",0),h(this,"minimizedHeight",0),h(this,"orientation","vertical"),h(this,"windowState","normal"),h(this,"mainContainer",!1),this.element=n()("#"+e),this.owner=i,this.contentElement=n()("#"+e+"Content"),this.contentObject=null}return u(t,[{key:"getLeft",value:function(){return"maximized"==this.windowState&&null!=this.owner?0:this.left}},{key:"getTop",value:function(){return"maximized"==this.windowState&&null!=this.owner?0:this.top}},{key:"getWidth",value:function(){if(null!=this.owner&&"full-screen"==this.owner.windowState)return this.mainContainer||"vertical"!=this.orientation?this.width:0;switch(this.windowState){case"maximized":return null!=this.owner?this.owner.getWidth():this.width;case"minimized":return"vertical"!=this.orientation?this.width:this.minimizedWidth;default:return this.width}}},{key:"getHeight",value:function(){if(null!=this.owner&&"full-screen"==this.owner.windowState)return this.mainContainer||"horizontal"!=this.orientation?this.height:0;switch(this.windowState){case"maximized":return null!=this.owner?this.owner.getHeight():this.height;case"minimized":return"horizontal"!=this.orientation?this.height:this.minimizedHeight;default:return this.height}}},{key:"resize",value:function(){null!=this.content&&this.content.resize()}},{key:"update",value:function(){if(this.element.css({left:this.getLeft()+"px",top:this.getTop()+"px",width:this.getWidth()+"px",height:this.getHeight()+"px"}),null!=this.contentElement)if("minimized"==this.windowState||null!=this.owner&&"full-screen"==this.owner.windowState&&!this.mainContainer)this.contentElement.hide();else{this.contentElement.show();var t=this.getWidth()-this.marginLeft-this.marginRight,e=this.getHeight()-this.marginTop-this.marginBottom;this.contentElement.css({left:this.marginLeft+"px",top:this.marginTop+"px",width:t+"px",height:e+"px"})}null!=this.content&&this.content.resize()}},{key:"minimize",value:function(){this.windowState="minimized",null!=this.owner?(this.owner.showContainers(),this.owner.resize(!0)):this.update()}},{key:"restore",value:function(){this.windowState="normal",null!=this.owner?(this.element.toggleClass("maximized",!1),n()("body").toggleClass("maximized",!1),this.owner.showContainers(),this.owner.resize(!0)):this.update()}},{key:"maximize",value:function(){this.windowState="maximized",null!=this.owner?(this.element.toggleClass("maximized",!0),n()("body").toggleClass("maximized",!0),this.owner.hideContainers(),this.show(),this.owner.resize(!0)):(this.show(),this.update())}},{key:"show",value:function(){this.element.show()}},{key:"hide",value:function(){this.element.hide()}},{key:"visible",value:function(){return this.element.is(":visible")}},{key:"setContentObject",value:function(t){this.content=t}}]),t}(),P=function(){function t(e){l(this,t),this.name=e.name,this.decimals=e.decimals,this.value=e.value,this.type=e.type}return u(t,[{key:"cubeLookUp",value:function(){var t,e=[],i=this.value.data,s=i.length;for(t=0;t<s;++t)e[i[t].keys.join("_")]=i[t];return e}},{key:"addItems",value:function(t,e,i,s){var n,r,o,a,h,l,c,u,d=0;for(h=0,l=e.labels.length;h<l;++h){if(r={id:(n=e.labels[h]).id,name:n.name,value:0},s[e.id]=r.id,0==i.length)for(o=s.join("_"),a=void 0!==this.dlu[o],r.details=[],r.value=a?this.dlu[o].value:0,d+=Number(r.value),c=0,u=this.value.details.length;c<u;++c)r.details.push({name:this.value.details[c].name,decimals:this.value.details[c].decimals,value:a?this.dlu[o].details[c]:0});else r.cubes=[],this.addCubes(r,i,s),d+=r.value;t.items.push(r)}t.value=d}},{key:"addCubes",value:function(t,e,i){var s,n,r,o=e.length;for(s=0;s<o;++s)r={id:(n=e.shift()).id,name:n.name,value:0,items:[]},this.addItems(r,n,e,i),t.value=r.value,t.cubes.push(r),e.push(n)}},{key:"getCube",value:function(){var t,e,i,s,n;if("cube"==this.type){for(t={name:this.name,decimals:this.decimals,value:0,cubes:[]},n=[],e=0,i=this.value.dims.length;e<i;++e)n[e]=this.value.dims[e];this.dlu=this.cubeLookUp(),this.addCubes(t,n,[])}else if("value"==this.type){for(s=[],e=0,i=this.value.details.length;e<i;++e)s.push({name:this.value.details[e].name,decimals:this.value.details[e].decimals,value:this.value.data.details[e]});t={name:this.name,decimals:this.decimals,value:this.value.data.value,details:s}}return t}}]),t}(),A={run:function(t){this.preload(t)},preload:function(t){if(t.length>0){var e=t.shift();n().ajax(e,{async:!0,type:"get",success:this.run.bind(this,t)})}}},M=function(){function t(e,i,s){l(this,t),this.name=e,this.parent=s||window,this.windowNameMode=i||"auto",this.childs=[],this.counter=0}return u(t,[{key:"destroy",value:function(){this.closeChilds()}},{key:"getWindowName",value:function(t){return""==(t=t||"")||"auto"==this.windowNameMode?"wm_"+this.name+"_"+this.counter++:"wm_"+this.name+"_"+t}},{key:"closeChilds",value:function(t){for(var e=0,i=this.childs.length;e<i;++e)void 0!==this.childs[e]&&this.childs[e].close();this.childs=[]}},{key:"open",value:function(e,i,s,n,r,o,a,h,l){this.childs.push(t.open(this.parent,e,this.getWindowName(i),s,n,r,o,a,h,l))}}]),t}();n().extend(M,{invalidPopUpBlocker:function(){return o.Detect.ieVersion()>0},parentLeft:function(t){return t.screenX||t.screenLeft},parentTop:function(t){return t.screenY||t.screenTop},parentWidth:function(t){return t.outerWidth||n()(t.window).width()},parentHeight:function(t){return t.outerHeight||n()(t.window).height()},open:function(t,e,i,s,n,r,o,a,h,l){switch(n=n||200,r=r||200,h=h||0,l=l||0,s=s||"simple",a=a||"center",o=o||"center"){case"left":h=this.parentLeft(t);break;case"center":h=this.parentLeft(t)+(this.parentWidth(t)-n)/2;break;case"right":h=this.parentLeft(t)+(this.parentWidth(t)-n)}switch(a){case"top":l=this.parentTop(t);break;case"center":l=this.parentTop(t)+(this.parentHeight(t)-r)/2;break;case"bottom":l=this.parentTop(t)+(this.parentHeight(t)-r)}var c,u="left="+h+",top="+l+",width="+n+",height="+r;switch(s){case"simple":u+=",location=no,menubar=no,resizable=yes,scrollbars=yes,status=yes,titlebar=yes,toolbar=no";break;case"tool":u+=",location=no,menubar=no,resizable=no,scrollbars=no,status=no,titlebar=yes,toolbar=no";break;case"full":u=""}return(c=t.open(e,i,u)).focus(),c}});var E=u((function t(e,i,s,n,r){l(this,t),this.id=e,this.from=i,this.to=s,this.textUp=n,this.textDown=r||""})),N=function(){function t(e){l(this,t),h(this,"stopChars",[".","","!","","?"]),this.lastID=1,this.subtitles=[],this.charsPerLine=e||50}return u(t,[{key:"convertStrTime",value:function(t){var e=t.split(":");return 60*e[0]+1*e[1]}},{key:"getSentences",value:function(t){var e,i,s=0,n=[];for(e=0,i=t.length;e<i;++e)"."!=t.charAt(e)&&""!=t.charAt(e)&&"!"!=t.charAt(e)&&""!=t.charAt(e)&&"?"!=t.charAt(e)&&e!=i-1||(n.push(t.substr(s,e-s+1)),s=e+1);return n}},{key:"getPos2",value:function(t,e){var i=t.indexOf(" ",e);return-1==i&&(i=t.indexOf(",",e)),-1==i&&(i=t.indexOf("",e)),-1==i&&(i=t.indexOf(";",e)),-1==i&&(i=t.indexOf("",e)),-1==i&&(i=t.length-1),i}},{key:"add",value:function(t,e,i){var s,n,r,o,a,h,l,c,u,d,p,f=this.convertStrTime(t),g=f+this.convertStrTime(e),m=this.getSentences(i),v=(g-f)/i.length;for(p=0;p<m.length;++p){for(n=(s=m[p]).length,o=Math.ceil(n/this.charsPerLine),r=Math.min(Math.ceil(n/o*1.15),this.charsPerLine),h=0,l="",c="",u="";h<n;)a=this.getPos2(s,h),l=s.substr(h,a-h+1),0==u.length&&c.length+l.length<=r?c+=l:u.length+l.length<=r?u+=l:(c.length>0&&(d=v*(c.length+u.length),this.subtitles.push(new E(this.lastID++,f,f+d,c,u)),f+=d),c=l,u=""),h=a+1;c.length>0&&(d=v*(c.length+u.length),this.subtitles.push(new E(this.lastID++,f,f+d,c,u)),f+=d,c="",u="")}}},{key:"get",value:function(t){for(var e=0;e<this.subtitles.length;++e)if(this.subtitles[e].from<=t&&t<=this.subtitles[e].to)return this.subtitles[e];return null}}]),t}(),F=u((function t(e,i,s,n,r,o){l(this,t),this.id=e,this.from=i,this.to=s,this.data=n,this.display=r,this.displayParams=o||""})),O=function(){function t(){l(this,t),this.cuePoints=[]}return u(t,[{key:"convertStrTime",value:function(t){return 1*t}},{key:"add",value:function(t,e,i,s,n,r){var o=this.convertStrTime(e),a=o+this.convertStrTime(i);this.cuePoints.push(new F(t,o,a,s,n,r))}},{key:"get",value:function(t){var e,i=[];for(e=0;e<this.cuePoints.length;++e)this.cuePoints[e].from<=t&&t<=this.cuePoints[e].to&&i.push(this.cuePoints[e]);return i}}]),t}(),H={parseDisplayParams:function(t){var e,i,s,n={},r=(t=t||"").split(";");for(i=0,s=r.length;i<s;i++)2==(e=r[i].split("=")).length&&(n[e[0].trim()]=e[1].trim());return n},draw:function(t,e,i,s){var r,o,h=H.parseDisplayParams(s),l="position:absolute; pointer-events:none;",c=100*(h.x||.571),u=100*(h.y||.325),d=100-c,f=100-u-10,g=void 0!==h.fontColor?h.fontColor:"#222222",v=void 0!==h.decreasingFontSize?Math.round(h.videoHeight*h.decreasingFontSize):void 0!==h.fontSize?Math.round(h.videoHeight*h.fontSize):15;if(l+="top:"+u+"%; left:"+c+"%; width:"+d+"%; height:"+f+"%;",l+="color:"+g+"; font-size:"+v+"px; font-weight:bold;","number"==i&&(r=Number(e).format(h.decimals||0)),"list"==i){for(r='<table style="opacity:'+(p.opacity-.1)+"; padding:10px;",void 0!==h.frame?r+="border:"+h.frame+";":void 0===h.noFrame&&(r+="border:3px solid #68b2f5;"),void 0!==h.bg?r+="background:url("+m.getPath(a.WZ.st("common:customPlayersFolder"),"list-"+h.bg,".png")+") no-repeat;":void 0===h.noBg&&(r+="background:url("+m.getPath(a.WZ.st("common:customPlayersFolder"),"list-blue",".png")+") no-repeat;"),void 0!==h.bgColor&&(r+="background-color:"+h.bgColor+";"),r+="color:"+(void 0!==h.fontColor?h.fontColor:"#ffffff")+";",r+='">',o=0;o<e.length;o++)void 0!==h.decreasingFontSize?r+='<tr style="font-size:'+(v-o)+'px;">':r+="<tr>",r+="<td>"+e[o]+"</td></tr>";r+="</table>"}if("table"==i){var y,b=h.cols.split("|"),x=h.align.split("|"),w=h.decimals.split("|");for(r='<table style="opacity:'+(p.opacity-.1)+"; padding:10px;",void 0!==h.frame?r+="border:"+h.frame+";":void 0===h.noFrame&&(r+="border:3px solid #68b2f5;"),void 0!==h.bg?r+="background:url("+m.getPath(a.WZ.st("common:customPlayersFolder"),"table-"+h.bg,".png")+") no-repeat;":void 0===h.noBg&&(r+="background:url("+m.getPath(a.WZ.st("common:customPlayersFolder"),"table-blue",".png")+") no-repeat;"),void 0!==h.bgColor&&(r+="background-color:"+h.bgColor+";"),r+="color:"+(void 0!==h.fontColor?h.fontColor:"#ffffff")+";",r+='">',o=0;o<e.length;o++){for(void 0!==h.decreasingFontSize?r+='<tr style="font-size:'+(v-o)+'px;">':r+="<tr>",I=0;I<b.length;I++)y=-1,void 0===w[I]||isNaN(w[I])||(y=Number(w[I])),r+='<td style="text-align:'+x[I]+';">'+(y>-1?Number(e[o][b[I]]).format(y):e[o][b[I]])+"</td>";r+="</tr>"}r+="</table>"}if("pie-chart"==i){var C,S,k=[0,5,10,15,20,25,30,40,45,50,55,75,100],D=(b=[1,1,2,3,3,3,3,4,4,5,5,4,4][e.length],0),T=[40,40,40,30,25,25,25,24,24,19,19,9,9][e.length]+"%";for(r='<table style="width:'+100*h.w+'%;">',o=0;o<e.length;o++){if((S=Number(e[o][h.value]))>=1){for(S=Math.round(S),I=0;I<k.length;I++)S>=k[I]&&(C=I);C<k.length-1&&C++}else S=Math.round(S,2),C=1;0==D&&(r+="<tr>"),r+='<td style="width:'+T+';"> <table><tr><td colspan="2" style="color:#0d421f; font-weight:normal; text-align:center;">'+e[o][h.label]+"</td></tr>",r+='<tr><td style="color:#b71001; font-size:'+Math.max(100,150-5*(e.length-1))+'%; font-weight:normal; text-align:right;">'+S+"%</td>",r+='<td><img id="'+t+"_pimg"+o+'" src="'+m.getPath(a.WZ.st("common:customPlayersFolder"),"pie-"+C,".png")+'" style="width:100%;" alt="" /></td></tr></table> </td>',r+="<td></td>",++D==b&&(r+="</tr>",D=0)}if(0!=D){for(o=D+1;o<=b;o++)r+="<td></td><td></td>";r+="</tr>",D=0}0==e.length&&(r+="<tr><td></td>",r+='<td style="width:'+T+';"><img id="'+t+'_pimg" src="'+m.getPath(a.WZ.st("common:customPlayersFolder"),"pie-0",".png")+'" style="width:100%;" alt="" /></td>',r+="<td></td></tr>"),r+="</table>"}if("teams-on-floors"==i){var I,_,L=h.fx.split("|"),P=h.fy.split("|"),A=h.fw.split("|"),M=Math.min(Math.floor(13/e.length),2),E=p.opacity-.1;for(r="",I=e.length-1;I>=0;I--)o=I*M,_=Number(h.ly)+I*((.9-h.ly)/13*M),r+='<img id="'+t+"_fimg"+I+'" src="'+m.getPath(a.WZ.st("common:customPlayersFolder"),"floor-"+(o+1),".png")+'" style="position:absolute; visibility:hidden; top:'+110*P[o]+"%; left:"+100*L[o]+"%; width:"+100*A[o]+"%; opacity:"+(E-.03*I)+';" alt="" />',r+='<div id="'+t+"_fdiv"+I+'" style="position:absolute; visibility:hidden; top:'+110*_+"%; left:"+100*h.lx+"%; width:"+100*h.lw+"%; opacity:"+(E-.03*I)+'; border:2px solid #ffbb55; background-color:#ffffff; padding-left:3px;">'+e[I]+"</div>",setTimeout(function(t,e){n()("#"+t).css({visibility:"visible"}),n()("#"+e).css({visibility:"visible"})}.bind(this,t+"_fimg"+I,t+"_fdiv"+I),500*(e.length-I))}return'<div id="'+t+'" style="'+l+'">'+r+"</div>"}},R=function(){function t(e){l(this,t),h(this,"area",""),this.area=e,this.activities=[],this.activity=null,this.changed=!1,"help"===e?k.register("help","content-change",this.logContentChange.bind(this)):(k.register("decision","content-change",this.logContentChange.bind(this)),k.register("video","start",this.logActivityStart.bind(this)),k.register("video","timeupdate",this.logActivityDone.bind(this)))}return u(t,[{key:"time",value:function(){return(new Date).getTime()}},{key:"createActivity",value:function(t,e,i,s,n){return{area:this.area,quarter:e,resource:i,tab:s,files:n,timeStart:t,timeEnd:t,activityStart:null,activityLength:null,activityDone:null,activityEnd:null}}},{key:"finishActivity",value:function(t){t=t||this.time(),null!=this.activity&&(this.updateActivity=null,this.activity.timeEnd=t,this.activities.push(this.activity),this.changed=!0,this.activity=null)}},{key:"logContentChange",value:function(t){var e=this.time();this.finishActivity(e),this.activity=this.createActivity(e,t.quarter,t.resource,t.tab,t.files)}},{key:"logActivityStart",value:function(t){var e=this.time();this.updateActivity=this.activity,this.updateActivity.activityStart=e,this.updateActivity.activityLength=t,this.updateActivity.activityDone=0,this.updateActivity.activityEnd=e}},{key:"logActivityDone",value:function(t){if(null!=this.updateActivity){var e=this.time();t>this.updateActivity.activityDone&&(t>this.updateActivity.activityLength&&(t=this.updateActivity.activityLength),this.updateActivity.activityDone=t),this.updateActivity.activityEnd=e}}},{key:"save",value:function(){var t=this.activities;return this.activities=[],this.changed=!1,t}}]),t}(),z={active:!0,inPopState:!0,popEvent:null,supported:!(!window.history||!history.pushState),initialize:function(t,e){this.active=t&&this.supported,this.popEvent=e,this.inPopState=!1,this.active&&n()(window).on("popstate",n().proxy(this.popState,this)),this.inPopState=!1},pushState:function(t,e,i){this.active&&history.pushState(t,e,i)},replaceState:function(t,e,i){this.active&&history.replaceState(t,e,i)},popState:function(t){this.active&&(this.inPopState=!0,this.popEvent(t.originalEvent.state),this.inPopState=!1)},inPopStateEvent:function(){return this.inPopState}},X={set:function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+"; path=/"},get:function(t){var e=document.cookie.match("(^|;)\\s*"+encodeURIComponent(t)+"\\s*=\\s*([^;]+)");return e?decodeURIComponent(e.pop()):null}}},33316:(t,e,i)=>{"use strict";function s(t,e){t.Class=e.Class,t.PeriodicalExecuter=e.PeriodicalExecuter}function n(t,e){t.Detect=e.Detect}function r(t,e){t.Live=e.Live,t.inspectVariable=e.inspectVariable,t.Format=e.Format,t.Path=e.Path,t.XSLProcessor=e.XSLProcessor,t.JsonClient=e.JsonClient,t.LiveService=e.LiveService,t.Student=e.Student,t.Instructor=e.Instructor,t.User=e.User,t.InstructorUser=e.InstructorUser,t.JSStrings=e.JSStrings,t.JSSettings=e.JSSettings,t.LiveEvents=e.LiveEvents,t.ServiceUpdater=e.ServiceUpdater,t.MultiWait=e.MultiWait,t.VideoObject=e.VideoObject,t.VideoAddOns=e.VideoAddOns,t.Container=e.Container,t.Cube=e.Cube,t.Preload=e.Preload,t.WindowManager=e.WindowManager,t.Subtitle=e.Subtitle,t.Subtitles=e.Subtitles,t.CuePoint=e.CuePoint,t.CuePoints=e.CuePoints,t.CuePointDisplayFactory=e.CuePointDisplayFactory,t.ActivityLog=e.ActivityLog,t.HistoryManager=e.HistoryManager,t.Cookie=e.Cookie}function o(t,e){t.Component=e.Component,t.ComponentFactory=e.ComponentFactory,t.DecisionTable=e.DecisionTable,t.HeaderComponent=e.HeaderComponent,t.DetailsListComponent=e.DetailsListComponent,t.SplitButtonComponent=e.SplitButtonComponent,t.DecisionLabel=e.DecisionLabel,t.DropDownStatic=e.DropDownStatic,t.DropDownStaticInfo=e.DropDownStaticInfo,t.DropDownStaticCopy=e.DropDownStaticCopy,t.DropDownStaticExplanation=e.DropDownStaticExplanation,t.DropDownStaticError=e.DropDownStaticError,t.DropDownStaticMenu=e.DropDownStaticMenu,t.DropDownStaticMenuPlain=e.DropDownStaticMenuPlain,t.DropDownStaticSearch=e.DropDownStaticSearch,t.DropDownStaticAccount=e.DropDownStaticAccount,t.QuarterSwitcherInstructor=e.QuarterSwitcherInstructor,t.Tabset=e.Tabset,t.MultiLevelFilter=e.MultiLevelFilter,t.ResourceLists=e.ResourceLists,t.ResourceList=e.ResourceList,t.OverlayMessages=e.OverlayMessages,t.OverlayMessage=e.OverlayMessage,t.Overlay=e.Overlay,t.InfoOverlay=e.InfoOverlay,t.IPreferencesOverlay=e.IPreferencesOverlay,t.PreferencesOverlay=e.PreferencesOverlay,t.AlertOverlay=e.AlertOverlay,t.LoginOverlay=e.LoginOverlay,t.WelcomeOverlay=e.WelcomeOverlay,t.ChangeImageOverlay=e.ChangeImageOverlay,t.SidePane=e.SidePane,t.RegionsMaps=e.RegionsMaps}function a(t,e){t.Accessibility=e.Accessibility}function h(t,e){t.ResourceTypeViewer=e.ResourceTypeViewer,t.TitleViewer=e.TitleViewer,t.StoryViewer=e.StoryViewer,t.ResultBasedViewer=e.ResultBasedViewer,t.WorkspaceViewer=e.WorkspaceViewer,t.ResourceTypeViewerFactory=e.ResourceTypeViewerFactory,t.MimeTypeViewer=e.MimeTypeViewer,t.VideoViewer=e.VideoViewer,t.ResultBasedVideoViewer=e.ResultBasedVideoViewer,t.TextViewer=e.TextViewer,t.PlainTextViewer=e.PlainTextViewer,t.LectureViewer=e.LectureViewer,t.SubtitleViewer=e.SubtitleViewer,t.XSLTransformViewer=e.XSLTransformViewer,t.ImageViewer=e.ImageViewer,t.MimeTypeViewerFactory=e.MimeTypeViewerFactory,t.CuepointViewer=e.CuepointViewer}function l(t,e){t.ServiceFactory=e.ServiceFactory,t.DecisionFactory=e.DecisionFactory,t.Decision=e.Decision,t.SocialMessage=e.SocialMessage}function c(t,e){t.ComponentScene=e.ComponentScene,t.SceneTable=e.SceneTable}function u(t,e){t.GraphDefaults=e.GraphDefaults,t.Chart=e.Chart,t.PieChart=e.PieChart,t.BarChart=e.BarChart,t.VerticalBarChart=e.VerticalBarChart,t.LineChart=e.LineChart,t.RelationshipsChart=e.RelationshipsChart,t.XYScatterChart=e.XYScatterChart,t.PerceptualMapChart=e.PerceptualMapChart}function d(t,e){t.SvgCharts=e.SvgCharts}function p(t,e){t.Cache=e.Cache,t.Engine=e.Engine,t.TopBarButton=e.TopBarButton,t.Addons=e.Addons,t.TopBarArea=e.TopBarArea,t.TaskListArea=e.TaskListArea,t.DecisionAreaItem=e.DecisionAreaItem,t.DecisionArea=e.DecisionArea,t.GadgetsArea=e.GadgetsArea,t.UI=e.UI}function f(t,e){t.TaskList=e.TaskList,t.TaskListSearch=e.TaskListSearch,t.TaskListItem=e.TaskListItem,t.TaskTabList=e.TaskTabList,t.TaskTabListItem=e.TaskTabListItem}function g(t,e){t.GadgetsFactory=e.GadgetsFactory,t.Gadget=e.Gadget,t.MonitorGadget=e.MonitorGadget,t.WuStatusGadget=e.WuStatusGadget,t.LiveProFormaGadget=e.LiveProFormaGadget,t.ScheduleGadget=e.ScheduleGadget,t.ChatChannel=e.ChatChannel,t.Chat=e.Chat,t.Email=e.Email,t.ChatGadget=e.ChatGadget,t.EmailGadget=e.EmailGadget,t.QuickLinksGadget=e.QuickLinksGadget,t.LogoGadget=e.LogoGadget,t.YourTurnGadget=e.YourTurnGadget}function m(t,e){t.CubeTree=e.CubeTree,t.CubeValue=e.CubeValue,t.Details=e.Details,t.DropDownAccountingDetail=e.DropDownAccountingDetail}function v(t,e){t.ServiceFactory=e.ServiceFactory,t.AdmScreenFactory=e.AdmScreenFactory,t.AdmScreen=e.AdmScreen,t.AdmGameScreen=e.AdmGameScreen}function y(t,e){t.Pagination=e.Pagination}function b(t,e){t.InstructorToolBar=e.InstructorToolBar}function x(t,e){t.AEngine=e.AEngine,t.ITopBarButton=e.ITopBarButton,t.InstructorTopBarArea=e.InstructorTopBarArea,t.InstructorMainArea=e.InstructorMainArea,t.AUI=e.AUI}i.d(e,{Gh:()=>a,Gz:()=>s,LI:()=>p,Pn:()=>u,TZ:()=>d,_7:()=>h,gc:()=>r,ih:()=>x,mp:()=>o,nz:()=>f,om:()=>y,pN:()=>m,s7:()=>l,sJ:()=>b,t:()=>g,uz:()=>v,wz:()=>n,yV:()=>c})},82502:(t,e,i)=>{"use strict";i.r(e),i.d(e,{Detect:()=>s});var s={ieVersion:function(){return(-1!=navigator.userAgent.indexOf("MSIE")?/MSIE (\d+\.\d+);/:-1!=navigator.userAgent.indexOf("Trident")?/Trident.*rv[ :]*(\d+\.\d+)/:/Edge\/(\d+\.\d+)/).test(navigator.userAgent)?Number(RegExp.$1):0},isIE:function(){return 0!=this.ieVersion()},isSafari:function(){var t=navigator.userAgent.indexOf("Chrome")>-1,e=navigator.userAgent.indexOf("Safari")>-1;return t&&e&&(e=!1),e},ffVersion:function(){if(/Firefox\/(\d+\.\d+)/.test(navigator.userAgent))try{return Number(RegExp.$1)}catch(t){return 0}return 0},isMobile:{Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)||navigator.userAgent.match(/WPDesktop/i)},any:function(){return this.Android()||this.BlackBerry()||this.iOS()||this.Opera()||this.Windows()}},videoTagSupport:function(){return!!document.createElement("video").canPlayType},svgSupport:function(){return!!document.createElement("svg").getAttributeNS}}},94822:(t,e,i)=>{"use strict";i.r(e),i.d(e,{Class:()=>r,PeriodicalExecuter:()=>c});var s=i(19755),n=i.n(s),r=function(){var t=!1,e=/xyz/.test((function(){xyz}))?/\b_super\b/:/.*/,i=function(){};return i.extend=function i(s){var n=this.prototype;t=!0;var r=new this;for(var o in t=!1,s)r[o]="function"==typeof s[o]&&"function"==typeof n[o]&&e.test(s[o])?function(t,e){return function(){var i=this._super;this._super=n[t];var s=e.apply(this,arguments);return this._super=i,s}}(o,s[o]):s[o];function a(){!t&&this.initialize&&this.initialize.apply(this,arguments)}return a.prototype=r,a.prototype.constructor=a,a.extend=i,a},i}();n().extend(String.prototype,{escapeHTML:function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},unescapeHTML:function(){return this.replace(/<\w+(\s+("[^"]*"|'[^']*'|[^>])+)?(\/)?>|<\/\w+>/gi,"").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")},truncate:function(t,e){return t=t||30,e=void 0===e?"...":e,this.length>t?this.slice(0,t-e.length)+e:String(this)},include:function(t){return this.indexOf(t)>-1}});var o,a,h,l,c=r.extend({initialize:function(t,e){this.callback=t,this.frequency=e,this.currentlyExecuting=!1,this.registerCallback()},registerCallback:function(){this.timer=setInterval(this.onTimerEvent.bind(this),1e3*this.frequency)},execute:function(){this.callback(this)},stop:function(){this.timer&&(clearInterval(this.timer),this.timer=null)},onTimerEvent:function(){if(!this.currentlyExecuting)try{this.currentlyExecuting=!0,this.execute(),this.currentlyExecuting=!1}catch(t){throw this.currentlyExecuting=!1,t}}});o=n(),a=/([^?&=]+)=?([^&]*)/g,h=/\+/g,l=function(t){return decodeURIComponent(t.replace(h," "))},o.parseParams=function(t){for(var e,i={};null!==(e=a.exec(t));){var s=l(e[1]),n=l(e[2]);"[]"===s.substring(s.length-2)?(i[s=s.substring(0,s.length-2)]||(i[s]=[])).push(n):i[s]=n}return i}},6211:(t,e,i)=>{"use strict";function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function n(){return n="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,i){var s=r(t,e);if(s){var n=Object.getOwnPropertyDescriptor(s,e);return n.get?n.get.call(arguments.length<3?t:i):n.value}},n.apply(this,arguments)}function r(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=m(t)););return t}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var s,n,r=[],o=!0,a=!1;try{for(i=i.call(t);!(o=(s=i.next()).done)&&(r.push(s.value),!e||r.length!==e);o=!0);}catch(t){a=!0,n=t}finally{try{o||null==i.return||i.return()}finally{if(a)throw n}}return r}}(t,e)||a(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){if(t){if("string"==typeof t)return h(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?h(t,e):void 0}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e)}function c(t){var e=f();return function(){var i,s=m(t);if(e){var n=m(this).constructor;i=Reflect.construct(s,arguments,n)}else i=s.apply(this,arguments);return u(this,i)}}function u(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function d(t){var e="function"==typeof Map?new Map:void 0;return d=function(t){if(null===t||(i=t,-1===Function.toString.call(i).indexOf("[native code]")))return t;var i;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,s)}function s(){return p(t,arguments,m(this).constructor)}return s.prototype=Object.create(t.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),g(s,t)},d(t)}function p(t,e,i){return p=f()?Reflect.construct.bind():function(t,e,i){var s=[null];s.push.apply(s,e);var n=new(Function.bind.apply(t,s));return i&&g(n,i.prototype),n},p.apply(null,arguments)}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function g(t,e){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},g(t,e)}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function b(t,e,i){return e&&y(t.prototype,e),i&&y(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}i.d(e,{WZ:()=>P,vc:()=>L});var x=function(){function t(){v(this,t)}return b(t,[{key:"set",value:function(t,e){void 0===t?this.value=e:(void 0===this.map&&(this.map=new Map),this.map.set(t,e))}},{key:"get",value:function(t){return void 0!==this.map&&this.map.has(t)?this.map.get(t):void 0!==this.value?this.value:void 0}}]),t}(),w=function(t){l(i,t);var e=c(i);function i(t){var s;return v(this,i),(s=e.call(this)).updateEntries(t),s}return b(i,[{key:"updateEntries",value:function(t){var e,i=function(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=a(t))){i&&(t=i);var s=0,n=function(){};return{s:n,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,h=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return o=t.done,t},e:function(t){h=!0,r=t},f:function(){try{o||null==i.return||i.return()}finally{if(h)throw r}}}}(t);try{for(i.s();!(e=i.n()).done;){var s=o(e.value,2),n=s[0],r=s[1];this.setValue(n,r)}}catch(t){i.e(t)}finally{i.f()}}},{key:"setValue",value:function(t,e){var i=o(t.split("#"),2),s=i[0],n=i[1],r=this.get(s);void 0===r&&(r=new x,this.set(s,r)),r.set(n,e)}},{key:"getValue",value:function(t,e){var i=this.get(t);if(void 0!==i)return i.get(e)}}]),i}(d(Map)),C=function(t){l(i,t);var e=c(i);function i(){return v(this,i),e.apply(this,arguments)}return b(i,[{key:"getValue",value:function(t,e,s){var r=n(m(i.prototype),"getValue",this).call(this,t,e);if(void 0!==r){if(void 0!==s)for(var a=0,h=Object.entries(s);a<h.length;a++){var l=o(h[a],2),c=l[0],u=l[1];r=r.replace(new RegExp("{"+c+"}","gi"),u)}return r}return"UNDEF:"+t+" ("+Object.entries(s||{}).map((function(t){var e=o(t,2),i=e[0],s=e[1];return"".concat(i," = ").concat(s)})).join(", ")+")"}}]),i}(w),S=function(t){l(i,t);var e=c(i);function i(){return v(this,i),e.apply(this,arguments)}return b(i,[{key:"getValue",value:function(t,e,s){var r=n(m(i.prototype),"getValue",this).call(this,t,e);if(void 0!==r){switch(r.type||""){case"cdn":return s.cdnURL+r.url;case"svc":return s.servicePoint+r.url}return r}return null}}]),i}(w),k=function(t){l(i,t);var e=c(i);function i(){return v(this,i),e.apply(this,arguments)}return b(i,[{key:"getValue",value:function(t,e){return n(m(i.prototype),"getValue",this).call(this,t,e)||null}}]),i}(w),D=function(t){l(i,t);var e=c(i);function i(){return v(this,i),e.apply(this,arguments)}return b(i,[{key:"update",value:function(t,e){var i=this.get(t);void 0===i?this.set(t,this.createValueMap(e)):i.updateEntries(e)}},{key:"createValueMap",value:function(t){return new w(t)}},{key:"getValue",value:function(t,e,i){var s=o(t.split(":"),2),n=s[0],r=s[1],a=this.get(n);return void 0!==a?a.getValue(r,e,i):null}}]),i}(d(Map)),T=function(t){l(i,t);var e=c(i);function i(){return v(this,i),e.apply(this,arguments)}return b(i,[{key:"createValueMap",value:function(t){return new C(t)}},{key:"getValue",value:function(t,e,s){var r=n(m(i.prototype),"getValue",this).call(this,t,e,s);return null!=r?r:"UNDEF NS: "+t}}]),i}(D),I=function(t){l(i,t);var e=c(i);function i(){return v(this,i),e.apply(this,arguments)}return b(i,[{key:"createValueMap",value:function(t){return new k(t)}}]),i}(D),_=function(t){l(i,t);var e=c(i);function i(){return v(this,i),e.apply(this,arguments)}return b(i,[{key:"createValueMap",value:function(t){return new S(t)}}]),i}(D),L={textConstants:new T,explanations:new I,scenario:"",add:function(t,e){this.textConstants.update(t,e)},addExp:function(t,e){this.explanations.update(t,e)},getTcs:function(t){return this.textConstants.get(t)||null},tc:function(t,e,i){return this.textConstants.getValue(t,i||this.scenario,e)},getExp:function(t){return this.explanations.get(t)||null},eo:function(t,e){return this.explanations.getValue(t,e||this.scenario)}},P={settings:new _,add:function(t,e){this.settings.update(t,e)},getSt:function(t){return this.settings.get(t)||null},st:function(t,e){return this.settings.getValue(t,e,Live)}}},94092:(t,e,i)=>{var s,n,r;!function(o){"use strict";n=[i(19755)],void 0===(r="function"==typeof(s=function(t){var e=-1,i=-1,s=function(t){return parseFloat(t)||0},n=function(e){var i=t(e),n=null,r=[];return i.each((function(){var e=t(this),i=e.offset().top-s(e.css("margin-top")),o=r.length>0?r[r.length-1]:null;null===o?r.push(e):Math.floor(Math.abs(n-i))<=1?r[r.length-1]=o.add(e):r.push(e),n=i})),r},r=function(e){var i={byRow:!0,property:"height",target:null,remove:!1};return"object"==typeof e?t.extend(i,e):("boolean"==typeof e?i.byRow=e:"remove"===e&&(i.remove=!0),i)},o=t.fn.matchHeight=function(e){var i=r(e);if(i.remove){var s=this;return this.css(i.property,""),t.each(o._groups,(function(t,e){e.elements=e.elements.not(s)})),this}return this.length<=1&&!i.target||(o._groups.push({elements:this,options:i}),o._apply(this,i)),this};o.version="0.7.2",o._groups=[],o._throttle=80,o._maintainScroll=!1,o._beforeUpdate=null,o._afterUpdate=null,o._rows=n,o._parse=s,o._parseOptions=r,o._apply=function(e,i){var a=r(i),h=t(e),l=[h],c=t(window).scrollTop(),u=t("html").outerHeight(!0),d=h.parents().filter(":hidden");return d.each((function(){var e=t(this);e.data("style-cache",e.attr("style"))})),d.css("display","block"),a.byRow&&!a.target&&(h.each((function(){var e=t(this),i=e.css("display");"inline-block"!==i&&"flex"!==i&&"inline-flex"!==i&&(i="block"),e.data("style-cache",e.attr("style")),e.css({display:i,"padding-top":"0","padding-bottom":"0","margin-top":"0","margin-bottom":"0","border-top-width":"0","border-bottom-width":"0",height:"100px",overflow:"hidden"})})),l=n(h),h.each((function(){var e=t(this);e.attr("style",e.data("style-cache")||"")}))),t.each(l,(function(e,i){var n=t(i),r=0;if(a.target)r=a.target.outerHeight(!1);else{if(a.byRow&&n.length<=1)return void n.css(a.property,"");n.each((function(){var e=t(this),i=e.attr("style"),s=e.css("display");"inline-block"!==s&&"flex"!==s&&"inline-flex"!==s&&(s="block");var n={display:s};n[a.property]="",e.css(n),e.outerHeight(!1)>r&&(r=e.outerHeight(!1)),i?e.attr("style",i):e.css("display","")}))}n.each((function(){var e=t(this),i=0;a.target&&e.is(a.target)||("border-box"!==e.css("box-sizing")&&(i+=s(e.css("border-top-width"))+s(e.css("border-bottom-width")),i+=s(e.css("padding-top"))+s(e.css("padding-bottom"))),e.css(a.property,r-i+"px"))}))})),d.each((function(){var e=t(this);e.attr("style",e.data("style-cache")||null)})),o._maintainScroll&&t(window).scrollTop(c/u*t("html").outerHeight(!0)),this},o._applyDataApi=function(){var e={};t("[data-match-height], [data-mh]").each((function(){var i=t(this),s=i.attr("data-mh")||i.attr("data-match-height");e[s]=s in e?e[s].add(i):i})),t.each(e,(function(){this.matchHeight(!0)}))};var a=function(e){o._beforeUpdate&&o._beforeUpdate(e,o._groups),t.each(o._groups,(function(){o._apply(this.elements,this.options)})),o._afterUpdate&&o._afterUpdate(e,o._groups)};o._update=function(s,n){if(n&&"resize"===n.type){var r=t(window).width();if(r===e)return;e=r}s?-1===i&&(i=setTimeout((function(){a(n),i=-1}),o._throttle)):a(n)},t(o._applyDataApi);var h=t.fn.on?"on":"bind";t(window)[h]("load",(function(t){o._update(!1,t)})),t(window)[h]("resize orientationchange",(function(t){o._update(!0,t)}))})?s.apply(e,n):s)||(t.exports=r)}()},25557:()=>{!function(t){if(t.support.touch="ontouchend"in document,t.support.touch){var e,i=t.ui.mouse.prototype,s=i._mouseInit,n=i._mouseDestroy;i._touchStart=function(t){!e&&this._mouseCapture(t.originalEvent.changedTouches[0])&&(e=!0,this._touchMoved=!1,r(t,"mouseover"),r(t,"mousemove"),r(t,"mousedown"))},i._touchMove=function(t){e&&(this._touchMoved=!0,r(t,"mousemove"))},i._touchEnd=function(t){e&&(r(t,"mouseup"),r(t,"mouseout"),this._touchMoved||r(t,"click"),e=!1)},i._mouseInit=function(){var e=this;e.element.bind({touchstart:t.proxy(e,"_touchStart"),touchmove:t.proxy(e,"_touchMove"),touchend:t.proxy(e,"_touchEnd")}),s.call(e)},i._mouseDestroy=function(){var e=this;e.element.unbind({touchstart:t.proxy(e,"_touchStart"),touchmove:t.proxy(e,"_touchMove"),touchend:t.proxy(e,"_touchEnd")}),n.call(e)}}function r(t,e){if(!(t.originalEvent.touches.length>1)){t.preventDefault();var i=t.originalEvent.changedTouches[0],s=document.createEvent("MouseEvents");s.initMouseEvent(e,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(s)}}}(jQuery)},36912:(t,e,i)=>{var s,n;void 0===(n="function"==typeof(s=["jquery","./data","./disable-selection","./focusable","./form","./ie","./keycode","./labels","./jquery-1-7","./plugin","./safe-active-element","./safe-blur","./scroll-parent","./tabbable","./unique-id","./version"])?s.call(e,i,e,t):s)||(t.exports=n)},26400:(t,e,i)=>{var s,n,r;n=[i(19755),i(85592)],void 0===(r="function"==typeof(s=function(t){return t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo((function(e){return function(i){return!!t.data(i,e)}})):function(e,i,s){return!!t.data(e,s[3])}})})?s.apply(e,n):s)||(t.exports=r)},63762:(t,e,i)=>{var s,n;s=[i(19755),i(85592)],void 0===(n=function(t){var e,i="ui-effects-",s="ui-effects-style",n="ui-effects-animated",r=t;return t.effects={effect:{}},function(t,e){var i,s=/^([\-+])=\s*(\d+\.?\d*)/,n=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],r=t.Color=function(e,i,s,n){return new t.Color.fn.parse(e,i,s,n)},o={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},a={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},h=r.support={},l=t("<p>")[0],c=t.each;function u(t,e,i){var s=a[e.type]||{};return null==t?i||!e.def?null:e.def:(t=s.floor?~~t:parseFloat(t),isNaN(t)?e.def:s.mod?(t+s.mod)%s.mod:0>t?0:s.max<t?s.max:t)}function d(e){var s=r(),a=s._rgba=[];return e=e.toLowerCase(),c(n,(function(t,i){var n,r=i.re.exec(e),h=r&&i.parse(r),l=i.space||"rgba";if(h)return n=s[l](h),s[o[l].cache]=n[o[l].cache],a=s._rgba=n._rgba,!1})),a.length?("0,0,0,0"===a.join()&&t.extend(a,i.transparent),s):i[e]}function p(t,e,i){return 6*(i=(i+1)%1)<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}l.style.cssText="background-color:rgba(1,1,1,.5)",h.rgba=l.style.backgroundColor.indexOf("rgba")>-1,c(o,(function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}})),r.fn=t.extend(r.prototype,{parse:function(s,n,a,h){if(s===e)return this._rgba=[null,null,null,null],this;(s.jquery||s.nodeType)&&(s=t(s).css(n),n=e);var l=this,p=t.type(s),f=this._rgba=[];return n!==e&&(s=[s,n,a,h],p="array"),"string"===p?this.parse(d(s)||i._default):"array"===p?(c(o.rgba.props,(function(t,e){f[e.idx]=u(s[e.idx],e)})),this):"object"===p?(c(o,s instanceof r?function(t,e){s[e.cache]&&(l[e.cache]=s[e.cache].slice())}:function(e,i){var n=i.cache;c(i.props,(function(t,e){if(!l[n]&&i.to){if("alpha"===t||null==s[t])return;l[n]=i.to(l._rgba)}l[n][e.idx]=u(s[t],e,!0)})),l[n]&&t.inArray(null,l[n].slice(0,3))<0&&(l[n][3]=1,i.from&&(l._rgba=i.from(l[n])))}),this):void 0},is:function(t){var e=r(t),i=!0,s=this;return c(o,(function(t,n){var r,o=e[n.cache];return o&&(r=s[n.cache]||n.to&&n.to(s._rgba)||[],c(n.props,(function(t,e){if(null!=o[e.idx])return i=o[e.idx]===r[e.idx]}))),i})),i},_space:function(){var t=[],e=this;return c(o,(function(i,s){e[s.cache]&&t.push(i)})),t.pop()},transition:function(t,e){var i=r(t),s=i._space(),n=o[s],h=0===this.alpha()?r("transparent"):this,l=h[n.cache]||n.to(h._rgba),d=l.slice();return i=i[n.cache],c(n.props,(function(t,s){var n=s.idx,r=l[n],o=i[n],h=a[s.type]||{};null!==o&&(null===r?d[n]=o:(h.mod&&(o-r>h.mod/2?r+=h.mod:r-o>h.mod/2&&(r-=h.mod)),d[n]=u((o-r)*e+r,s)))})),this[s](d)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),s=i.pop(),n=r(e)._rgba;return r(t.map(i,(function(t,e){return(1-s)*n[e]+s*t})))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,(function(t,e){return null==t?e>2?1:0:t}));return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),(function(t,e){return null==t&&(t=e>2?1:0),e&&e<3&&(t=Math.round(100*t)+"%"),t}));return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),s=i.pop();return e&&i.push(~~(255*s)),"#"+t.map(i,(function(t){return 1===(t=(t||0).toString(16)).length?"0"+t:t})).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),r.fn.parse.prototype=r.fn,o.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,s=t[0]/255,n=t[1]/255,r=t[2]/255,o=t[3],a=Math.max(s,n,r),h=Math.min(s,n,r),l=a-h,c=a+h,u=.5*c;return e=h===a?0:s===a?60*(n-r)/l+360:n===a?60*(r-s)/l+120:60*(s-n)/l+240,i=0===l?0:u<=.5?l/c:l/(2-c),[Math.round(e)%360,i,u,null==o?1:o]},o.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],s=t[2],n=t[3],r=s<=.5?s*(1+i):s+i-s*i,o=2*s-r;return[Math.round(255*p(o,r,e+1/3)),Math.round(255*p(o,r,e)),Math.round(255*p(o,r,e-1/3)),n]},c(o,(function(i,n){var o=n.props,a=n.cache,h=n.to,l=n.from;r.fn[i]=function(i){if(h&&!this[a]&&(this[a]=h(this._rgba)),i===e)return this[a].slice();var s,n=t.type(i),d="array"===n||"object"===n?i:arguments,p=this[a].slice();return c(o,(function(t,e){var i=d["object"===n?t:e.idx];null==i&&(i=p[e.idx]),p[e.idx]=u(i,e)})),l?((s=r(l(p)))[a]=p,s):r(p)},c(o,(function(e,n){r.fn[e]||(r.fn[e]=function(r){var o,a=t.type(r),h="alpha"===e?this._hsla?"hsla":"rgba":i,l=this[h](),c=l[n.idx];return"undefined"===a?c:("function"===a&&(r=r.call(this,c),a=t.type(r)),null==r&&n.empty?this:("string"===a&&(o=s.exec(r))&&(r=c+parseFloat(o[2])*("+"===o[1]?1:-1)),l[n.idx]=r,this[h](l)))})}))})),r.hook=function(e){var i=e.split(" ");c(i,(function(e,i){t.cssHooks[i]={set:function(e,s){var n,o,a="";if("transparent"!==s&&("string"!==t.type(s)||(n=d(s)))){if(s=r(n||s),!h.rgba&&1!==s._rgba[3]){for(o="backgroundColor"===i?e.parentNode:e;(""===a||"transparent"===a)&&o&&o.style;)try{a=t.css(o,"backgroundColor"),o=o.parentNode}catch(t){}s=s.blend(a&&"transparent"!==a?a:"_default")}s=s.toRgbaString()}try{e.style[i]=s}catch(t){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=r(e.elem,i),e.end=r(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}}))},r.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),t.cssHooks.borderColor={expand:function(t){var e={};return c(["Top","Right","Bottom","Left"],(function(i,s){e["border"+s+"Color"]=t})),e}},i=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(r),function(){var e,i=["add","remove","toggle"],s={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function n(e){var i,s,n=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,r={};if(n&&n.length&&n[0]&&n[n[0]])for(s=n.length;s--;)"string"==typeof n[i=n[s]]&&(r[t.camelCase(i)]=n[i]);else for(i in n)"string"==typeof n[i]&&(r[i]=n[i]);return r}t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],(function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(r.style(t.elem,i,t.end),t.setAttr=!0)}})),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(e,r,o,a){var h=t.speed(r,o,a);return this.queue((function(){var r,o=t(this),a=o.attr("class")||"",l=h.children?o.find("*").addBack():o;l=l.map((function(){return{el:t(this),start:n(this)}})),(r=function(){t.each(i,(function(t,i){e[i]&&o[i+"Class"](e[i])}))})(),l=l.map((function(){return this.end=n(this.el[0]),this.diff=function(e,i){var n,r,o={};for(n in i)r=i[n],e[n]!==r&&(s[n]||!t.fx.step[n]&&isNaN(parseFloat(r))||(o[n]=r));return o}(this.start,this.end),this})),o.attr("class",a),l=l.map((function(){var e=this,i=t.Deferred(),s=t.extend({},h,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,s),i.promise()})),t.when.apply(t,l.get()).done((function(){r(),t.each(arguments,(function(){var e=this.el;t.each(this.diff,(function(t){e.css(t,"")}))})),h.complete.call(o[0])}))}))},t.fn.extend({addClass:(e=t.fn.addClass,function(i,s,n,r){return s?t.effects.animateClass.call(this,{add:i},s,n,r):e.apply(this,arguments)}),removeClass:function(e){return function(i,s,n,r){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},s,n,r):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(i,s,n,r,o){return"boolean"==typeof s||void 0===s?n?t.effects.animateClass.call(this,s?{add:i}:{remove:i},n,r,o):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:i},s,n,r)}}(t.fn.toggleClass),switchClass:function(e,i,s,n,r){return t.effects.animateClass.call(this,{add:i,remove:e},s,n,r)}})}(),function(){var e;function r(e,i,s,n){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(n=i,s=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(n=s,s=i,i={}),t.isFunction(s)&&(n=s,s=null),i&&t.extend(e,i),s=s||i.duration,e.duration=t.fx.off?0:"number"==typeof s?s:s in t.fx.speeds?t.fx.speeds[s]:t.fx.speeds._default,e.complete=n||i.complete,e}function o(e){return!(e&&"number"!=typeof e&&!t.fx.speeds[e])||"string"==typeof e&&!t.effects.effect[e]||!!t.isFunction(e)||"object"==typeof e&&!e.effect}function a(t,e){var i=e.outerWidth(),s=e.outerHeight(),n=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(t)||["",0,i,s,0];return{top:parseFloat(n[1])||0,right:"auto"===n[2]?i:parseFloat(n[2]),bottom:"auto"===n[3]?s:parseFloat(n[3]),left:parseFloat(n[4])||0}}t.expr&&t.expr.filters&&t.expr.filters.animated&&(t.expr.filters.animated=(e=t.expr.filters.animated,function(i){return!!t(i).data(n)||e(i)})),!1!==t.uiBackCompat&&t.extend(t.effects,{save:function(t,e){for(var s=0,n=e.length;s<n;s++)null!==e[s]&&t.data(i+e[s],t[0].style[e[s]])},restore:function(t,e){for(var s,n=0,r=e.length;n<r;n++)null!==e[n]&&(s=t.data(i+e[n]),t.css(e[n],s))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),float:e.css("float")},s=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),n={width:e.width(),height:e.height()},r=document.activeElement;try{r.id}catch(t){r=document.body}return e.wrap(s),(e[0]===r||t.contains(e[0],r))&&t(r).trigger("focus"),s=e.parent(),"static"===e.css("position")?(s.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],(function(t,s){i[s]=e.css(s),isNaN(parseInt(i[s],10))&&(i[s]="auto")})),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(n),s.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).trigger("focus")),e}}),t.extend(t.effects,{version:"1.12.1",define:function(e,i,s){return s||(s=i,i="effect"),t.effects.effect[e]=s,t.effects.effect[e].mode=i,s},scaledDimensions:function(t,e,i){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var s="horizontal"!==i?(e||100)/100:1,n="vertical"!==i?(e||100)/100:1;return{height:t.height()*n,width:t.width()*s,outerHeight:t.outerHeight()*n,outerWidth:t.outerWidth()*s}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,i){var s=t.queue();e>1&&s.splice.apply(s,[1,0].concat(s.splice(e,i))),t.dequeue()},saveStyle:function(t){t.data(s,t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data(s)||"",t.removeData(s)},mode:function(t,e){var i=t.is(":hidden");return"toggle"===e&&(e=i?"show":"hide"),(i?"hide"===e:"show"===e)&&(e="none"),e},getBaseline:function(t,e){var i,s;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":s=0;break;case"center":s=.5;break;case"right":s=1;break;default:s=t[1]/e.width}return{x:s,y:i}},createPlaceholder:function(e){var s,n=e.css("position"),r=e.position();return e.css({marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),/^(static|relative)/.test(n)&&(n="absolute",s=t("<"+e[0].nodeName+">").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight"),float:e.css("float")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"),e.data(i+"placeholder",s)),e.css({position:n,left:r.left,top:r.top}),s},removePlaceholder:function(t){var e=i+"placeholder",s=t.data(e);s&&(s.remove(),t.removeData(e))},cleanUp:function(e){t.effects.restoreStyle(e),t.effects.removePlaceholder(e)},setTransition:function(e,i,s,n){return n=n||{},t.each(i,(function(t,i){var r=e.cssUnit(i);r[0]>0&&(n[i]=r[0]*s+r[1])})),n}}),t.fn.extend({effect:function(){var e=r.apply(this,arguments),i=t.effects.effect[e.effect],s=i.mode,o=e.queue,a=o||"fx",h=e.complete,l=e.mode,c=[],u=function(e){var i=t(this),r=t.effects.mode(i,l)||s;i.data(n,!0),c.push(r),s&&("show"===r||r===s&&"hide"===r)&&i.show(),s&&"none"===r||t.effects.saveStyle(i),t.isFunction(e)&&e()};if(t.fx.off||!i)return l?this[l](e.duration,h):this.each((function(){h&&h.call(this)}));function d(r){var o=t(this);function a(){t.isFunction(h)&&h.call(o[0]),t.isFunction(r)&&r()}e.mode=c.shift(),!1===t.uiBackCompat||s?"none"===e.mode?(o[l](),a()):i.call(o[0],e,(function(){o.removeData(n),t.effects.cleanUp(o),"hide"===e.mode&&o.hide(),a()})):(o.is(":hidden")?"hide"===l:"show"===l)?(o[l](),a()):i.call(o[0],e,a)}return!1===o?this.each(u).each(d):this.queue(a,u).queue(a,d)},show:function(t){return function(e){if(o(e))return t.apply(this,arguments);var i=r.apply(this,arguments);return i.mode="show",this.effect.call(this,i)}}(t.fn.show),hide:function(t){return function(e){if(o(e))return t.apply(this,arguments);var i=r.apply(this,arguments);return i.mode="hide",this.effect.call(this,i)}}(t.fn.hide),toggle:function(t){return function(e){if(o(e)||"boolean"==typeof e)return t.apply(this,arguments);var i=r.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),s=[];return t.each(["em","px","%","pt"],(function(t,e){i.indexOf(e)>0&&(s=[parseFloat(i),e])})),s},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):a(this.css("clip"),this)},transfer:function(e,i){var s=t(this),n=t(e.to),r="fixed"===n.css("position"),o=t("body"),a=r?o.scrollTop():0,h=r?o.scrollLeft():0,l=n.offset(),c={top:l.top-a,left:l.left-h,height:n.innerHeight(),width:n.innerWidth()},u=s.offset(),d=t("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(e.className).css({top:u.top-a,left:u.left-h,height:s.innerHeight(),width:s.innerWidth(),position:r?"fixed":"absolute"}).animate(c,e.duration,e.easing,(function(){d.remove(),t.isFunction(i)&&i()}))}}),t.fx.step.clip=function(e){e.clipInit||(e.start=t(e.elem).cssClip(),"string"==typeof e.end&&(e.end=a(e.end,e.elem)),e.clipInit=!0),t(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})}}(),e={},t.each(["Quad","Cubic","Quart","Quint","Expo"],(function(t,i){e[i]=function(e){return Math.pow(e,t+2)}})),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;t<((e=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,(function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return t<.5?i(2*t)/2:1-i(-2*t+2)/2}})),t.effects}.apply(e,s))||(t.exports=n)},944:(t,e,i)=>{var s,n,r;n=[i(19755),i(85592),i(63762)],void 0===(r="function"==typeof(s=function(t){return t.effects.define("highlight","show",(function(e,i){var s=t(this),n={backgroundColor:s.css("backgroundColor")};"hide"===e.mode&&(n.opacity=0),t.effects.saveStyle(s),s.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(n,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}))})?s.apply(e,n):s)||(t.exports=r)},29287:(t,e,i)=>{var s,n,r;n=[i(19755),i(85592),i(63762)],void 0===(r="function"==typeof(s=function(t){return t.effects.define("pulsate","show",(function(e,i){var s=t(this),n=e.mode,r="show"===n,o=r||"hide"===n,a=2*(e.times||5)+(o?1:0),h=e.duration/a,l=0,c=1,u=s.queue().length;for(!r&&s.is(":visible")||(s.css("opacity",0).show(),l=1);c<a;c++)s.animate({opacity:l},h,e.easing),l=1-l;s.animate({opacity:l},h,e.easing),s.queue(i),t.effects.unshift(s,u,a+1)}))})?s.apply(e,n):s)||(t.exports=r)},55042:(t,e,i)=>{var s,n,r;n=[i(19755),i(85592)],void 0===(r="function"==typeof(s=function(t){return t.ui.escapeSelector=(e=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g,function(t){return t.replace(e,"\\$1")});var e})?s.apply(e,n):s)||(t.exports=r)},5436:(t,e,i)=>{var s,n,r;n=[i(19755),i(85592)],void 0===(r="function"==typeof(s=function(t){return t.ui.focusable=function(e,i){var s,n,r,o,a,h=e.nodeName.toLowerCase();return"area"===h?(n=(s=e.parentNode).name,!(!e.href||!n||"map"!==s.nodeName.toLowerCase())&&(r=t("img[usemap='#"+n+"']")).length>0&&r.is(":visible")):(/^(input|select|textarea|button|object)$/.test(h)?(o=!e.disabled)&&(a=t(e).closest("fieldset")[0])&&(o=!a.disabled):o="a"===h&&e.href||i,o&&t(e).is(":visible")&&function(t){for(var e=t.css("visibility");"inherit"===e;)e=(t=t.parent()).css("visibility");return"hidden"!==e}(t(e)))},t.extend(t.expr[":"],{focusable:function(e){return t.ui.focusable(e,null!=t.attr(e,"tabindex"))}}),t.ui.focusable})?s.apply(e,n):s)||(t.exports=r)},97808:(t,e,i)=>{var s,n,r;n=[i(19755),i(65588),i(85592)],void 0===(r="function"==typeof(s=function(t){return t.ui.formResetMixin={_formResetHandler:function(){var e=t(this);setTimeout((function(){var i=e.data("ui-form-reset-instances");t.each(i,(function(){this.refresh()}))}))},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var t=this.form.data("ui-form-reset-instances")||[];t.length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t)}},_unbindFormResetHandler:function(){if(this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(t.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}}})?s.apply(e,n):s)||(t.exports=r)},65588:(t,e,i)=>{var s,n,r;n=[i(19755),i(85592)],void 0===(r="function"==typeof(s=function(t){return t.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):t(this[0].form)}})?s.apply(e,n):s)||(t.exports=r)},21870:(t,e,i)=>{var s,n,r;n=[i(19755),i(85592)],void 0===(r="function"==typeof(s=function(t){return t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())})?s.apply(e,n):s)||(t.exports=r)},28012:(t,e,i)=>{var s,n,r;n=[i(19755),i(85592)],void 0===(r="function"==typeof(s=function(t){"1.7"===t.fn.jquery.substring(0,3)&&(t.each(["Width","Height"],(function(e,i){var s="Width"===i?["Left","Right"]:["Top","Bottom"],n=i.toLowerCase(),r={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};function o(e,i,n,r){return t.each(s,(function(){i-=parseFloat(t.css(e,"padding"+this))||0,n&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),r&&(i-=parseFloat(t.css(e,"margin"+this))||0)})),i}t.fn["inner"+i]=function(e){return void 0===e?r["inner"+i].call(this):this.each((function(){t(this).css(n,o(this,e)+"px")}))},t.fn["outer"+i]=function(e,s){return"number"!=typeof e?r["outer"+i].call(this,e):this.each((function(){t(this).css(n,o(this,e,!0,s)+"px")}))}})),t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))})})?s.apply(e,n):s)||(t.exports=r)},17053:(t,e,i)=>{var s,n,r;n=[i(19755),i(85592)],void 0===(r="function"==typeof(s=function(t){return t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}})?s.apply(e,n):s)||(t.exports=r)},96575:(t,e,i)=>{var s,n,r;n=[i(19755),i(85592),i(55042)],void 0===(r="function"==typeof(s=function(t){return t.fn.labels=function(){var e,i,s,n,r;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(n=this.eq(0).parents("label"),(s=this.attr("id"))&&(r=(e=this.eq(0).parents().last()).add(e.length?e.siblings():this.siblings()),i="label[for='"+t.ui.escapeSelector(s)+"']",n=n.add(r.find(i).addBack(i))),this.pushStack(n))}})?s.apply(e,n):s)||(t.exports=r)},31624:(t,e,i)=>{var s,n,r;n=[i(19755),i(85592)],s=function(t){return t.ui.plugin={add:function(e,i,s){var n,r=t.ui[e].prototype;for(n in s)r.plugins[n]=r.plugins[n]||[],r.plugins[n].push([i,s[n]])},call:function(t,e,i,s){var n,r=t.plugins[e];if(r&&(s||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(n=0;n<r.length;n++)t.options[r[n][0]]&&r[n][1].apply(t.element,i)}}},void 0===(r=s.apply(e,n))||(t.exports=r)},91822:(t,e,i)=>{var s,n;s=[i(19755),i(85592)],void 0===(n=function(t){return function(){var e,i=Math.max,s=Math.abs,n=/left|center|right/,r=/top|center|bottom/,o=/[\+\-]\d+(\.[\d]+)?%?/,a=/^\w+/,h=/%$/,l=t.fn.position;function c(t,e,i){return[parseFloat(t[0])*(h.test(t[0])?e/100:1),parseFloat(t[1])*(h.test(t[1])?i/100:1)]}function u(e,i){return parseInt(t.css(e,i),10)||0}function d(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.position={scrollbarWidth:function(){if(void 0!==e)return e;var i,s,n=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),r=n.children()[0];return t("body").append(n),i=r.offsetWidth,n.css("overflow","scroll"),i===(s=r.offsetWidth)&&(s=n[0].clientWidth),n.remove(),e=i-s},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),s=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),n="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth;return{width:"scroll"===s||"auto"===s&&e.height<e.element[0].scrollHeight?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),s=t.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:s,isDocument:n,offset:s||n?{left:0,top:0}:t(e).offset(),scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return l.apply(this,arguments);e=t.extend({},e);var h,p,f,g,m,v,y=t(e.of),b=t.position.getWithinInfo(e.within),x=t.position.getScrollInfo(b),w=(e.collision||"flip").split(" "),C={};return v=d(y),y[0].preventDefault&&(e.at="left top"),p=v.width,f=v.height,g=v.offset,m=t.extend({},g),t.each(["my","at"],(function(){var t,i,s=(e[this]||"").split(" ");1===s.length&&(s=n.test(s[0])?s.concat(["center"]):r.test(s[0])?["center"].concat(s):["center","center"]),s[0]=n.test(s[0])?s[0]:"center",s[1]=r.test(s[1])?s[1]:"center",t=o.exec(s[0]),i=o.exec(s[1]),C[this]=[t?t[0]:0,i?i[0]:0],e[this]=[a.exec(s[0])[0],a.exec(s[1])[0]]})),1===w.length&&(w[1]=w[0]),"right"===e.at[0]?m.left+=p:"center"===e.at[0]&&(m.left+=p/2),"bottom"===e.at[1]?m.top+=f:"center"===e.at[1]&&(m.top+=f/2),h=c(C.at,p,f),m.left+=h[0],m.top+=h[1],this.each((function(){var n,r,o=t(this),a=o.outerWidth(),l=o.outerHeight(),d=u(this,"marginLeft"),v=u(this,"marginTop"),S=a+d+u(this,"marginRight")+x.width,k=l+v+u(this,"marginBottom")+x.height,D=t.extend({},m),T=c(C.my,o.outerWidth(),o.outerHeight());"right"===e.my[0]?D.left-=a:"center"===e.my[0]&&(D.left-=a/2),"bottom"===e.my[1]?D.top-=l:"center"===e.my[1]&&(D.top-=l/2),D.left+=T[0],D.top+=T[1],n={marginLeft:d,marginTop:v},t.each(["left","top"],(function(i,s){t.ui.position[w[i]]&&t.ui.position[w[i]][s](D,{targetWidth:p,targetHeight:f,elemWidth:a,elemHeight:l,collisionPosition:n,collisionWidth:S,collisionHeight:k,offset:[h[0]+T[0],h[1]+T[1]],my:e.my,at:e.at,within:b,elem:o})})),e.using&&(r=function(t){var n=g.left-D.left,r=n+p-a,h=g.top-D.top,c=h+f-l,u={target:{element:y,left:g.left,top:g.top,width:p,height:f},element:{element:o,left:D.left,top:D.top,width:a,height:l},horizontal:r<0?"left":n>0?"right":"center",vertical:c<0?"top":h>0?"bottom":"middle"};p<a&&s(n+r)<p&&(u.horizontal="center"),f<l&&s(h+c)<f&&(u.vertical="middle"),i(s(n),s(r))>i(s(h),s(c))?u.important="horizontal":u.important="vertical",e.using.call(this,t,u)}),o.offset(t.extend(D,{using:r}))}))},t.ui.position={fit:{left:function(t,e){var s,n=e.within,r=n.isWindow?n.scrollLeft:n.offset.left,o=n.width,a=t.left-e.collisionPosition.marginLeft,h=r-a,l=a+e.collisionWidth-o-r;e.collisionWidth>o?h>0&&l<=0?(s=t.left+h+e.collisionWidth-o-r,t.left+=h-s):t.left=l>0&&h<=0?r:h>l?r+o-e.collisionWidth:r:h>0?t.left+=h:l>0?t.left-=l:t.left=i(t.left-a,t.left)},top:function(t,e){var s,n=e.within,r=n.isWindow?n.scrollTop:n.offset.top,o=e.within.height,a=t.top-e.collisionPosition.marginTop,h=r-a,l=a+e.collisionHeight-o-r;e.collisionHeight>o?h>0&&l<=0?(s=t.top+h+e.collisionHeight-o-r,t.top+=h-s):t.top=l>0&&h<=0?r:h>l?r+o-e.collisionHeight:r:h>0?t.top+=h:l>0?t.top-=l:t.top=i(t.top-a,t.top)}},flip:{left:function(t,e){var i,n,r=e.within,o=r.offset.left+r.scrollLeft,a=r.width,h=r.isWindow?r.scrollLeft:r.offset.left,l=t.left-e.collisionPosition.marginLeft,c=l-h,u=l+e.collisionWidth-a-h,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];c<0?((i=t.left+d+p+f+e.collisionWidth-a-o)<0||i<s(c))&&(t.left+=d+p+f):u>0&&((n=t.left-e.collisionPosition.marginLeft+d+p+f-h)>0||s(n)<u)&&(t.left+=d+p+f)},top:function(t,e){var i,n,r=e.within,o=r.offset.top+r.scrollTop,a=r.height,h=r.isWindow?r.scrollTop:r.offset.top,l=t.top-e.collisionPosition.marginTop,c=l-h,u=l+e.collisionHeight-a-h,d="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,p="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,f=-2*e.offset[1];c<0?((n=t.top+d+p+f+e.collisionHeight-a-o)<0||n<s(c))&&(t.top+=d+p+f):u>0&&((i=t.top-e.collisionPosition.marginTop+d+p+f-h)>0||s(i)<u)&&(t.top+=d+p+f)}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}(),t.ui.position}.apply(e,s))||(t.exports=n)},86575:(t,e,i)=>{var s,n,r;n=[i(19755),i(85592)],void 0===(r="function"==typeof(s=function(t){return t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(i){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e}})?s.apply(e,n):s)||(t.exports=r)},10192:(t,e,i)=>{var s,n,r;n=[i(19755),i(85592)],void 0===(r="function"==typeof(s=function(t){return t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")}})?s.apply(e,n):s)||(t.exports=r)},40464:(t,e,i)=>{var s,n,r;n=[i(19755),i(85592)],void 0===(r="function"==typeof(s=function(t){return t.fn.scrollParent=function(e){var i=this.css("position"),s="absolute"===i,n=e?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter((function(){var e=t(this);return(!s||"static"!==e.css("position"))&&n.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))})).eq(0);return"fixed"!==i&&r.length?r:t(this[0].ownerDocument||document)}})?s.apply(e,n):s)||(t.exports=r)},83614:(t,e,i)=>{var s,n,r;n=[i(19755),i(85592),i(5436)],void 0===(r="function"==typeof(s=function(t){return t.extend(t.expr[":"],{tabbable:function(e){var i=t.attr(e,"tabindex"),s=null!=i;return(!s||i>=0)&&t.ui.focusable(e,s)}})})?s.apply(e,n):s)||(t.exports=r)},85592:(t,e,i)=>{var s,n,r;n=[i(19755)],void 0===(r="function"==typeof(s=function(t){return t.ui=t.ui||{},t.ui.version="1.12.1"})?s.apply(e,n):s)||(t.exports=r)},26891:(t,e,i)=>{var s,n;s=[i(19755),i(85592)],void 0===(n=function(t){var e,i=0,s=Array.prototype.slice;return t.cleanData=(e=t.cleanData,function(i){var s,n,r;for(r=0;null!=(n=i[r]);r++)try{(s=t._data(n,"events"))&&s.remove&&t(n).triggerHandler("remove")}catch(t){}e(i)}),t.widget=function(e,i,s){var n,r,o,a={},h=e.split(".")[0],l=h+"-"+(e=e.split(".")[1]);return s||(s=i,i=t.Widget),t.isArray(s)&&(s=t.extend.apply(null,[{}].concat(s))),t.expr[":"][l.toLowerCase()]=function(e){return!!t.data(e,l)},t[h]=t[h]||{},n=t[h][e],r=t[h][e]=function(t,e){if(!this._createWidget)return new r(t,e);arguments.length&&this._createWidget(t,e)},t.extend(r,n,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),(o=new i).options=t.widget.extend({},o.options),t.each(s,(function(e,s){t.isFunction(s)?a[e]=function(){function t(){return i.prototype[e].apply(this,arguments)}function n(t){return i.prototype[e].apply(this,t)}return function(){var e,i=this._super,r=this._superApply;return this._super=t,this._superApply=n,e=s.apply(this,arguments),this._super=i,this._superApply=r,e}}():a[e]=s})),r.prototype=t.widget.extend(o,{widgetEventPrefix:n&&o.widgetEventPrefix||e},a,{constructor:r,namespace:h,widgetName:e,widgetFullName:l}),n?(t.each(n._childConstructors,(function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,r,i._proto)})),delete n._childConstructors):i._childConstructors.push(r),t.widget.bridge(e,r),r},t.widget.extend=function(e){for(var i,n,r=s.call(arguments,1),o=0,a=r.length;o<a;o++)for(i in r[o])n=r[o][i],r[o].hasOwnProperty(i)&&void 0!==n&&(t.isPlainObject(n)?e[i]=t.isPlainObject(e[i])?t.widget.extend({},e[i],n):t.widget.extend({},n):e[i]=n);return e},t.widget.bridge=function(e,i){var n=i.prototype.widgetFullName||e;t.fn[e]=function(r){var o="string"==typeof r,a=s.call(arguments,1),h=this;return o?this.length||"instance"!==r?this.each((function(){var i,s=t.data(this,n);return"instance"===r?(h=s,!1):s?t.isFunction(s[r])&&"_"!==r.charAt(0)?(i=s[r].apply(s,a))!==s&&void 0!==i?(h=i&&i.jquery?h.pushStack(i.get()):i,!1):void 0:t.error("no such method '"+r+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+r+"'")})):h=void 0:(a.length&&(r=t.widget.extend.apply(null,[r].concat(a))),this.each((function(){var e=t.data(this,n);e?(e.option(r||{}),e._init&&e._init()):t.data(this,n,new i(r,this))}))),h}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,s){s=t(s||this.defaultElement||this)[0],this.element=t(s),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},s!==this&&(t.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===s&&this.destroy()}}),this.document=t(s.style?s.ownerDocument:s.document||s),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,(function(t,i){e._removeClass(i,t)})),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var s,n,r,o=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(o={},s=e.split("."),e=s.shift(),s.length){for(n=o[e]=t.widget.extend({},this.options[e]),r=0;r<s.length-1;r++)n[s[r]]=n[s[r]]||{},n=n[s[r]];if(e=s.pop(),1===arguments.length)return void 0===n[e]?null:n[e];n[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];o[e]=i}return this._setOptions(o),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var i,s,n;for(i in e)n=this.classesElementLookup[i],e[i]!==this.options.classes[i]&&n&&n.length&&(s=t(n.get()),this._removeClass(n,i),s.addClass(this._classes({element:s,keys:i,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){var i=[],s=this;function n(n,r){var o,a;for(a=0;a<n.length;a++)o=s.classesElementLookup[n[a]]||t(),o=e.add?t(t.unique(o.get().concat(e.element.get()))):t(o.not(e.element).get()),s.classesElementLookup[n[a]]=o,i.push(n[a]),r&&e.classes[n[a]]&&i.push(e.classes[n[a]])}return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&n(e.keys.match(/\S+/g)||[],!0),e.extra&&n(e.extra.match(/\S+/g)||[]),i.join(" ")},_untrackClassesElement:function(e){var i=this;t.each(i.classesElementLookup,(function(s,n){-1!==t.inArray(e.target,n)&&(i.classesElementLookup[s]=t(n.not(e.target).get()))}))},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,s){s="boolean"==typeof s?s:i;var n="string"==typeof t||null===t,r={extra:n?e:i,keys:n?t:e,element:n?this.element:t,add:s};return r.element.toggleClass(this._classes(r),s),this},_on:function(e,i,s){var n,r=this;"boolean"!=typeof e&&(s=i,i=e,e=!1),s?(i=n=t(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),t.each(s,(function(s,o){function a(){if(e||!0!==r.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof o?r[o]:o).apply(r,arguments)}"string"!=typeof o&&(a.guid=o.guid=o.guid||a.guid||t.guid++);var h=s.match(/^([\w:-]*)\s*(.*)$/),l=h[1]+r.eventNamespace,c=h[2];c?n.on(l,c,a):i.on(l,a)}))},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(i).off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){var i=this;return setTimeout((function(){return("string"==typeof t?i[t]:t).apply(i,arguments)}),e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,s){var n,r,o=this.options[e];if(s=s||{},(i=t.Event(i)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],r=i.originalEvent)for(n in r)n in i||(i[n]=r[n]);return this.element.trigger(i,s),!(t.isFunction(o)&&!1===o.apply(this.element[0],[i].concat(s))||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},(function(e,i){t.Widget.prototype["_"+e]=function(s,n,r){var o;"string"==typeof n&&(n={effect:n});var a=n?!0===n||"number"==typeof n?i:n.effect||i:e;"number"==typeof(n=n||{})&&(n={duration:n}),o=!t.isEmptyObject(n),n.complete=r,n.delay&&s.delay(n.delay),o&&t.effects&&t.effects.effect[a]?s[e](n):a!==e&&s[a]?s[a](n.duration,n.easing,r):s.queue((function(i){t(this)[e](),r&&r.call(s[0]),i()}))}})),t.widget}.apply(e,s))||(t.exports=n)},79366:(t,e,i)=>{var s,n;s=[i(19755),i(90341),i(61193),i(17053),i(26891)],void 0===(n=function(t){var e;return t.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),null!=(t=this.element[0].disabled)&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===t.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(e,i){var s="iconPosition"!==e,n=s?this.options.iconPosition:i,r="top"===n||"bottom"===n;this.icon?s&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),s&&this._addClass(this.icon,null,i),this._attachIcon(n),r?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(n))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var e=void 0===t.showLabel?this.options.showLabel:t.showLabel,i=void 0===t.icon?this.options.icon:t.icon;e||i||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),this.element[0].disabled=e,e&&this.element.blur())},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),!1!==t.uiBackCompat&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){"text"!==t?("showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),this._superApply(arguments)):this._super("showLabel",e)}}),t.fn.button=(e=t.fn.button,function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?e.apply(this,arguments):(t.ui.checkboxradio||t.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),t.ui.button}.apply(e,s))||(t.exports=n)},61193:(t,e,i)=>{var s,n,r;n=[i(19755),i(55042),i(97808),i(96575),i(26891)],void 0===(r="function"==typeof(s=function(t){return t.widget("ui.checkboxradio",[t.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,i,s=this,n=this._super()||{};return this._readType(),i=this.element.labels(),this.label=t(i[i.length-1]),this.label.length||t.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each((function(){s.originalLabel+=3===this.nodeType?t(this).text():this.outerHTML})),this.originalLabel&&(n.label=this.originalLabel),null!=(e=this.element[0].disabled)&&(n.disabled=e),n},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===e&&/radio|checkbox/.test(this.type)||t.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e=this.element[0].name,i="input[name='"+t.ui.escapeSelector(e)+"']";return e?(this.form.length?t(this.form[0].elements).filter(i):t(i).filter((function(){return 0===t(this).form().length}))).not(this.element):t([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each((function(){var e=t(this).checkboxradio("instance");e&&e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active")}))},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){if("label"!==t||e){if(this._super(t,e),"disabled"===t)return this._toggleClass(this.label,null,"ui-state-disabled",e),void(this.element[0].disabled=e);this.refresh()}},_updateIcon:function(e){var i="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=t("<span>"),this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(i+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):i+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",i),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var t=this.label.contents().not(this.element[0]);this.icon&&(t=t.not(this.icon[0])),this.iconSpace&&(t=t.not(this.iconSpace[0])),t.remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]),t.ui.checkboxradio})?s.apply(e,n):s)||(t.exports=r)},90341:(t,e,i)=>{var s,n,r;n=[i(19755),i(26891)],void 0===(r="function"==typeof(s=function(t){var e=/ui-corner-([a-z]){2,6}/g;return t.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var e=this,i=[];t.each(this.options.items,(function(s,n){var r,o={};if(n)return"controlgroupLabel"===s?((r=e.element.find(n)).each((function(){var e=t(this);e.children(".ui-controlgroup-label-contents").length||e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")})),e._addClass(r,null,"ui-widget ui-widget-content ui-state-default"),void(i=i.concat(r.get()))):void(t.fn[s]&&(o=e["_"+s+"Options"]?e["_"+s+"Options"]("middle"):{classes:{}},e.element.find(n).each((function(){var n=t(this),r=n[s]("instance"),a=t.widget.extend({},o);if("button"!==s||!n.parent(".ui-spinner").length){r||(r=n[s]()[s]("instance")),r&&(a.classes=e._resolveClassesValues(a.classes,r)),n[s](a);var h=n[s]("widget");t.data(h[0],"ui-controlgroup-data",r||n[s]("instance")),i.push(h[0])}}))))})),this.childWidgets=t(t.unique(i)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each((function(){var i=t(this).data("ui-controlgroup-data");i&&i[e]&&i[e]()}))},_updateCornerClass:function(t,e){var i=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),this._addClass(t,null,i)},_buildSimpleOptions:function(t,e){var i="vertical"===this.options.direction,s={classes:{}};return s.classes[e]={middle:"",first:"ui-corner-"+(i?"top":"left"),last:"ui-corner-"+(i?"bottom":"right"),only:"ui-corner-all"}[t],s},_spinnerOptions:function(t){var e=this._buildSimpleOptions(t,"ui-spinner");return e.classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:!!e&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(i,s){var n={};return t.each(i,(function(r){var o=s.options.classes[r]||"";o=t.trim(o.replace(e,"")),n[r]=(o+" "+i[r]).replace(/\s+/g," ")})),n},_setOption:function(t,e){"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"!==t?this.refresh():this._callChildMethod(e?"disable":"enable")},refresh:function(){var e,i=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),e=this.childWidgets,this.options.onlyVisible&&(e=e.filter(":visible")),e.length&&(t.each(["first","last"],(function(t,s){var n=e[s]().data("ui-controlgroup-data");if(n&&i["_"+n.widgetName+"Options"]){var r=i["_"+n.widgetName+"Options"](1===e.length?"only":s);r.classes=i._resolveClassesValues(r.classes,n),n.element[n.widgetName](r)}else i._updateCornerClass(e[s](),s)})),this._callChildMethod("refresh"))}})})?s.apply(e,n):s)||(t.exports=r)},87285:(t,e,i)=>{var s,n,r;n=[i(19755),i(66177),i(26400),i(31624),i(86575),i(10192),i(40464),i(85592),i(26891)],void 0===(r="function"==typeof(s=function(t){return t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(e){var i=this.options;return!(this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0||(this.handle=this._getHandle(e),!this.handle||(this._blurActiveElement(e),this._blockFrames(!0===i.iframeFix?"iframe":i.iframeFix),0)))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map((function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=t.ui.safeActiveElement(this.document[0]);t(e.target).closest(i).length||t.ui.safeBlur(i)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter((function(){return"fixed"===t(this).css("position")})).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(!1===this._trigger("drag",e,s))return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=s.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,s=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(s=t.ui.ddmanager.drop(this,e)),this.dropped&&(s=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||!0===this.options.revert||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),(function(){!1!==i._trigger("stop",e)&&i._clear()})):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper),n=s?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options,r=this.document[0];this.relativeContainer=null,n.containment?"window"!==n.containment?"document"!==n.containment?n.containment.constructor!==Array?("parent"===n.containment&&(n.containment=this.helper[0].parentNode),(s=(i=t(n.containment))[0])&&(e=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i)):this.containment=n.containment:this.containment=[0,0,t(r).width()-this.helperProportions.width-this.margins.left,(t(r).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,s,n,r,o=this.options,a=this._isRootNode(this.scrollParent[0]),h=t.pageX,l=t.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(h=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(l=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(h=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(l=i[3]+this.offset.click.top)),o.grid&&(n=o.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,l=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-o.grid[1]:n+o.grid[1]:n,r=o.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,h=i?r-this.offset.click.left>=i[0]||r-this.offset.click.left>i[2]?r:r-this.offset.click.left>=i[0]?r-o.grid[0]:r+o.grid[0]:r),"y"===o.axis&&(h=this.originalPageX),"x"===o.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,i,s){return s=s||this._uiHash(),t.ui.plugin.call(this,e,[i,s,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),s.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,s){var n=t.extend({},i,{item:s.element});s.sortables=[],t(s.options.connectToSortable).each((function(){var i=t(this).sortable("instance");i&&!i.options.disabled&&(s.sortables.push(i),i.refreshPositions(),i._trigger("activate",e,n))}))},stop:function(e,i,s){var n=t.extend({},i,{item:s.element});s.cancelHelperRemoval=!1,t.each(s.sortables,(function(){var t=this;t.isOver?(t.isOver=0,s.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,n))}))},drag:function(e,i,s){t.each(s.sortables,(function(){var n=!1,r=this;r.positionAbs=s.positionAbs,r.helperProportions=s.helperProportions,r.offset.click=s.offset.click,r._intersectsWith(r.containerCache)&&(n=!0,t.each(s.sortables,(function(){return this.positionAbs=s.positionAbs,this.helperProportions=s.helperProportions,this.offset.click=s.offset.click,this!==r&&this._intersectsWith(this.containerCache)&&t.contains(r.element[0],this.element[0])&&(n=!1),n}))),n?(r.isOver||(r.isOver=1,s._parent=i.helper.parent(),r.currentItem=i.helper.appendTo(r.element).data("ui-sortable-item",!0),r.options._helper=r.options.helper,r.options.helper=function(){return i.helper[0]},e.target=r.currentItem[0],r._mouseCapture(e,!0),r._mouseStart(e,!0,!0),r.offset.click.top=s.offset.click.top,r.offset.click.left=s.offset.click.left,r.offset.parent.left-=s.offset.parent.left-r.offset.parent.left,r.offset.parent.top-=s.offset.parent.top-r.offset.parent.top,s._trigger("toSortable",e),s.dropped=r.element,t.each(s.sortables,(function(){this.refreshPositions()})),s.currentItem=s.element,r.fromOutside=s),r.currentItem&&(r._mouseDrag(e),i.position=r.position)):r.isOver&&(r.isOver=0,r.cancelHelperRemoval=!0,r.options._revert=r.options.revert,r.options.revert=!1,r._trigger("out",e,r._uiHash(r)),r._mouseStop(e,!0),r.options.revert=r.options._revert,r.options.helper=r.options._helper,r.placeholder&&r.placeholder.remove(),i.helper.appendTo(s._parent),s._refreshOffsets(e),i.position=s._generatePosition(e,!0),s._trigger("fromSortable",e),s.dropped=!1,t.each(s.sortables,(function(){this.refreshPositions()})))}))}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,s){var n=t("body"),r=s.options;n.css("cursor")&&(r._cursor=n.css("cursor")),n.css("cursor",r.cursor)},stop:function(e,i,s){var n=s.options;n._cursor&&t("body").css("cursor",n._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,s){var n=t(i.helper),r=s.options;n.css("opacity")&&(r._opacity=n.css("opacity")),n.css("opacity",r.opacity)},stop:function(e,i,s){var n=s.options;n._opacity&&t(i.helper).css("opacity",n._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,i,s){var n=s.options,r=!1,o=s.scrollParentNotHidden[0],a=s.document[0];o!==a&&"HTML"!==o.tagName?(n.axis&&"x"===n.axis||(s.overflowOffset.top+o.offsetHeight-e.pageY<n.scrollSensitivity?o.scrollTop=r=o.scrollTop+n.scrollSpeed:e.pageY-s.overflowOffset.top<n.scrollSensitivity&&(o.scrollTop=r=o.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(s.overflowOffset.left+o.offsetWidth-e.pageX<n.scrollSensitivity?o.scrollLeft=r=o.scrollLeft+n.scrollSpeed:e.pageX-s.overflowOffset.left<n.scrollSensitivity&&(o.scrollLeft=r=o.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(e.pageY-t(a).scrollTop()<n.scrollSensitivity?r=t(a).scrollTop(t(a).scrollTop()-n.scrollSpeed):t(window).height()-(e.pageY-t(a).scrollTop())<n.scrollSensitivity&&(r=t(a).scrollTop(t(a).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(e.pageX-t(a).scrollLeft()<n.scrollSensitivity?r=t(a).scrollLeft(t(a).scrollLeft()-n.scrollSpeed):t(window).width()-(e.pageX-t(a).scrollLeft())<n.scrollSensitivity&&(r=t(a).scrollLeft(t(a).scrollLeft()+n.scrollSpeed)))),!1!==r&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(s,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,s){var n=s.options;s.snapElements=[],t(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each((function(){var e=t(this),i=e.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})}))},drag:function(e,i,s){var n,r,o,a,h,l,c,u,d,p,f=s.options,g=f.snapTolerance,m=i.offset.left,v=m+s.helperProportions.width,y=i.offset.top,b=y+s.helperProportions.height;for(d=s.snapElements.length-1;d>=0;d--)l=(h=s.snapElements[d].left-s.margins.left)+s.snapElements[d].width,u=(c=s.snapElements[d].top-s.margins.top)+s.snapElements[d].height,v<h-g||m>l+g||b<c-g||y>u+g||!t.contains(s.snapElements[d].item.ownerDocument,s.snapElements[d].item)?(s.snapElements[d].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(n=Math.abs(c-b)<=g,r=Math.abs(u-y)<=g,o=Math.abs(h-v)<=g,a=Math.abs(l-m)<=g,n&&(i.position.top=s._convertPositionTo("relative",{top:c-s.helperProportions.height,left:0}).top),r&&(i.position.top=s._convertPositionTo("relative",{top:u,left:0}).top),o&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h-s.helperProportions.width}).left),a&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l}).left)),p=n||r||o||a,"outer"!==f.snapMode&&(n=Math.abs(c-y)<=g,r=Math.abs(u-b)<=g,o=Math.abs(h-m)<=g,a=Math.abs(l-v)<=g,n&&(i.position.top=s._convertPositionTo("relative",{top:c,left:0}).top),r&&(i.position.top=s._convertPositionTo("relative",{top:u-s.helperProportions.height,left:0}).top),o&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h}).left),a&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l-s.helperProportions.width}).left)),!s.snapElements[d].snapping&&(n||r||o||a||p)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=n||r||o||a||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,s){var n,r=s.options,o=t.makeArray(t(r.stack)).sort((function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)}));o.length&&(n=parseInt(t(o[0]).css("zIndex"),10)||0,t(o).each((function(e){t(this).css("zIndex",n+e)})),this.css("zIndex",n+o.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,s){var n=t(i.helper),r=s.options;n.css("zIndex")&&(r._zIndex=n.css("zIndex")),n.css("zIndex",r.zIndex)},stop:function(e,i,s){var n=s.options;n._zIndex&&t(i.helper).css("zIndex",n._zIndex)}}),t.ui.draggable})?s.apply(e,n):s)||(t.exports=r)},66709:(t,e,i)=>{var s,n;s=[i(19755),i(87285),i(66177),i(85592),i(26891)],void 0===(n=function(t){t.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,s=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(s)?s:function(t){return t.is(s)},this.proportions=function(){if(!arguments.length)return e||(e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});e=arguments[0]},this._addToManager(i.scope),i.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;e<t.length;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,i){if("accept"===e)this.accept=t.isFunction(i)?i:function(t){return t.is(i)};else if("scope"===e){var s=t.ui.ddmanager.droppables[this.options.scope];this._splice(s),this._addToManager(i)}this._super(e,i)},_activate:function(e){var i=t.ui.ddmanager.current;this._addActiveClass(),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this._removeActiveClass(),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(i)))},_drop:function(i,s){var n=s||t.ui.ddmanager.current,r=!1;return!(!n||(n.currentItem||n.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each((function(){var s=t(this).droppable("instance");if(s.options.greedy&&!s.options.disabled&&s.options.scope===n.options.scope&&s.accept.call(s.element[0],n.currentItem||n.element)&&e(n,t.extend(s,{offset:s.element.offset()}),s.options.tolerance,i))return r=!0,!1})),!r&&!!this.accept.call(this.element[0],n.currentItem||n.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",i,this.ui(n)),this.element))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var e=t.ui.intersect=function(){function t(t,e,i){return t>=e&&t<e+i}return function(e,i,s,n){if(!i.offset)return!1;var r=(e.positionAbs||e.position.absolute).left+e.margins.left,o=(e.positionAbs||e.position.absolute).top+e.margins.top,a=r+e.helperProportions.width,h=o+e.helperProportions.height,l=i.offset.left,c=i.offset.top,u=l+i.proportions().width,d=c+i.proportions().height;switch(s){case"fit":return l<=r&&a<=u&&c<=o&&h<=d;case"intersect":return l<r+e.helperProportions.width/2&&a-e.helperProportions.width/2<u&&c<o+e.helperProportions.height/2&&h-e.helperProportions.height/2<d;case"pointer":return t(n.pageY,c,i.proportions().height)&&t(n.pageX,l,i.proportions().width);case"touch":return(o>=c&&o<=d||h>=c&&h<=d||o<c&&h>d)&&(r>=l&&r<=u||a>=l&&a<=u||r<l&&a>u);default:return!1}}}();return t.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,i){var s,n,r=t.ui.ddmanager.droppables[e.options.scope]||[],o=i?i.type:null,a=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(s=0;s<r.length;s++)if(!(r[s].options.disabled||e&&!r[s].accept.call(r[s].element[0],e.currentItem||e.element))){for(n=0;n<a.length;n++)if(a[n]===r[s].element[0]){r[s].proportions().height=0;continue t}r[s].visible="none"!==r[s].element.css("display"),r[s].visible&&("mousedown"===o&&r[s]._activate.call(r[s],i),r[s].offset=r[s].element.offset(),r[s].proportions({width:r[s].element[0].offsetWidth,height:r[s].element[0].offsetHeight}))}},drop:function(i,s){var n=!1;return t.each((t.ui.ddmanager.droppables[i.options.scope]||[]).slice(),(function(){this.options&&(!this.options.disabled&&this.visible&&e(i,this,this.options.tolerance,s)&&(n=this._drop.call(this,s)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,s)))})),n},dragStart:function(e,i){e.element.parentsUntil("body").on("scroll.droppable",(function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}))},drag:function(i,s){i.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(i,s),t.each(t.ui.ddmanager.droppables[i.options.scope]||[],(function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,r,o,a=e(i,this,this.options.tolerance,s),h=!a&&this.isover?"isout":a&&!this.isover?"isover":null;h&&(this.options.greedy&&(r=this.options.scope,(o=this.element.parents(":data(ui-droppable)").filter((function(){return t(this).droppable("instance").options.scope===r}))).length&&((n=t(o[0]).droppable("instance")).greedyChild="isover"===h)),n&&"isover"===h&&(n.isover=!1,n.isout=!0,n._out.call(n,s)),this[h]=!0,this["isout"===h?"isover":"isout"]=!1,this["isover"===h?"_over":"_out"].call(this,s),n&&"isout"===h&&(n.isout=!1,n.isover=!0,n._over.call(n,s)))}}))},dragStop:function(e,i){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}},!1!==t.uiBackCompat&&t.widget("ui.droppable",t.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),t.ui.droppable}.apply(e,s))||(t.exports=n)},66177:(t,e,i)=>{var s,n,r;n=[i(19755),i(21870),i(85592),i(26891)],void 0===(r="function"==typeof(s=function(t){var e=!1;return t(document).on("mouseup",(function(){e=!1})),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,(function(t){return e._mouseDown(t)})).on("click."+this.widgetName,(function(i){if(!0===t.data(i.target,e.widgetName+".preventClickEvent"))return t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1})),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!e){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var s=this,n=1===i.which,r=!("string"!=typeof this.options.cancel||!i.target.nodeName)&&t(i.target).closest(this.options.cancel).length;return!(n&&!r&&this._mouseCapture(i)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout((function(){s.mouseDelayMet=!0}),this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=!1!==this._mouseStart(i),!this._mouseStarted)?(i.preventDefault(),0):(!0===t.data(i.target,this.widgetName+".preventClickEvent")&&t.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return s._mouseMove(t)},this._mouseUpDelegate=function(t){return s._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),e=!0,0)))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(i){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,i.target===this._mouseDownEvent.target&&t.data(i.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(i)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,e=!1,i.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})?s.apply(e,n):s)||(t.exports=r)},62526:(t,e,i)=>{var s,n;s=[i(19755),i(66177),i(26400),i(21870),i(40464),i(85592),i(26891)],void 0===(n=function(t){return t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&t<e+i},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,(function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")}))},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,i){var s=null,n=!1,r=this;return!(this.reverting||this.options.disabled||"static"===this.options.type||(this._refreshItems(e),t(e.target).parents().each((function(){if(t.data(this,r.widgetName+"-item")===r)return s=t(this),!1})),t.data(e.target,r.widgetName+"-item")===r&&(s=t(e.target)),!s||this.options.handle&&!i&&(t(this.options.handle,s).find("*").addBack().each((function(){this===e.target&&(n=!0)})),!n)||(this.currentItem=s,this._removeCurrentsFromItems(),0)))},_mouseStart:function(e,i,s){var n,r,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(r=this.document.find("body"),this.storedCursor=r.css("cursor"),r.css("cursor",o.cursor),this.storedStylesheet=t("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(r)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,s,n,r,o=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+o.scrollSpeed:e.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+o.scrollSpeed:e.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(e.pageY-this.document.scrollTop()<o.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<o.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),e.pageX-this.document.scrollLeft()<o.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),!1!==a&&t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(n=(s=this.items[i]).item[0],(r=this._intersectsWithPointer(s))&&s.instance===this.currentContainer&&!(n===this.currentItem[0]||this.placeholder[1===r?"next":"prev"]()[0]===n||t.contains(this.placeholder[0],n)||"semi-dynamic"===this.options.type&&t.contains(this.element[0],n))){if(this.direction=1===r?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(e,s),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var s=this,n=this.placeholder.offset(),r=this.options.axis,o={};r&&"x"!==r||(o.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(o.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(o,parseInt(this.options.revert,10)||500,(function(){s._clear(e)}))}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},t(i).each((function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&s.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))})),!s.length&&e.key&&s.push(e.key+"="),s.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},i.each((function(){s.push(t(e.item||this).attr(e.attribute||"id")||"")})),s},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,r=t.left,o=r+t.width,a=t.top,h=a+t.height,l=this.offset.click.top,c=this.offset.click.left,u="x"===this.options.axis||s+l>a&&s+l<h,d="y"===this.options.axis||e+c>r&&e+c<o,p=u&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:r<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<o&&a<s+this.helperProportions.height/2&&n-this.helperProportions.height/2<h},_intersectsWithPointer:function(t){var e,i,s="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width);return!(!s||!n)&&(e=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?"right"===i||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),s=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return this.floating&&n?"right"===n&&i||"left"===n&&!i:s&&("down"===s&&e||"up"===s&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var i,s,n,r,o=[],a=[],h=this._connectWith();if(h&&e)for(i=h.length-1;i>=0;i--)for(s=(n=t(h[i],this.document[0])).length-1;s>=0;s--)(r=t.data(n[s],this.widgetFullName))&&r!==this&&!r.options.disabled&&a.push([t.isFunction(r.options.items)?r.options.items.call(r.element):t(r.options.items,r.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),r]);function l(){o.push(this)}for(a.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=a.length-1;i>=0;i--)a[i][0].each(l);return t(o)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,(function(t){for(var i=0;i<e.length;i++)if(e[i]===t.item[0])return!1;return!0}))},_refreshItems:function(e){this.items=[],this.containers=[this];var i,s,n,r,o,a,h,l,c=this.items,u=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(s=(n=t(d[i],this.document[0])).length-1;s>=0;s--)(r=t.data(n[s],this.widgetFullName))&&r!==this&&!r.options.disabled&&(u.push([t.isFunction(r.options.items)?r.options.items.call(r.element[0],e,{item:this.currentItem}):t(r.options.items,r.element),r]),this.containers.push(r));for(i=u.length-1;i>=0;i--)for(o=u[i][1],s=0,l=(a=u[i][0]).length;s<l;s++)(h=t(a[s])).data(this.widgetName+"-item",o),c.push({item:h,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(e){var i,s,n,r;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),i=this.items.length-1;i>=0;i--)(s=this.items[i]).instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?t(this.options.toleranceElement,s.item):s.item,e||(s.width=n.outerWidth(),s.height=n.outerHeight()),r=n.offset(),s.left=r.left,s.top=r.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)r=this.containers[i].element.offset(),this.containers[i].containerCache.left=r.left,this.containers[i].containerCache.top=r.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){var i,s=(e=e||this).options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=e.currentItem[0].nodeName.toLowerCase(),n=t("<"+s+">",e.document[0]);return e._addClass(n,"ui-sortable-placeholder",i||e.currentItem[0].className)._removeClass(n,"ui-sortable-helper"),"tbody"===s?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(n)):"tr"===s?e._createTrPlaceholder(e.currentItem,n):"img"===s&&n.attr("src",e.currentItem.attr("src")),i||n.css("visibility","hidden"),n},update:function(t,n){i&&!s.forcePlaceholderSize||(n.height()||n.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(s.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),s.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,i){var s=this;e.children().each((function(){t("<td>&#160;</td>",s.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(i)}))},_contactContainers:function(e){var i,s,n,r,o,a,h,l,c,u,d=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(d&&t.contains(this.containers[i].element[0],d.element[0]))continue;d=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(n=1e4,r=null,o=(c=d.floating||this._isFloating(this.currentItem))?"left":"top",a=c?"width":"height",u=c?"pageX":"pageY",s=this.items.length-1;s>=0;s--)t.contains(this.containers[p].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(h=this.items[s].item.offset()[o],l=!1,e[u]-h>this.items[s][a]/2&&(l=!0),Math.abs(e[u]-h)<n&&(n=Math.abs(e[u]-h),r=this.items[s],this.direction=l?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));r?this._rearrange(e,r,null,!0):this._rearrange(e,null,this.containers[p].element,!0),this._trigger("change",e,this._uiHash()),this.containers[p]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),s[0].style.width&&!i.forceHelperSize||s.width(this.currentItem.width()),s[0].style.height&&!i.forceHelperSize||s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),"document"!==n.containment&&"window"!==n.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===n.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===n.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(e=t(n.containment)[0],i=t(n.containment).offset(),s="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var s="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:n.scrollLeft())*s}},_generatePosition:function(e){var i,s,n=this.options,r=e.pageX,o=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((o-this.originalPageY)/n.grid[1])*n.grid[1],o=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((r-this.originalPageX)/n.grid[0])*n.grid[0],r=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():h?0:a.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:a.scrollLeft())}},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay((function(){n===this.counter&&this.refreshPositions(!s)}))},_clear:function(t,e){this.reverting=!1;var i,s=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();function n(t,e,i){return function(s){i._trigger(t,s,e._uiHash(e))}}for(this.fromOutside&&!e&&s.push((function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))})),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||s.push((function(t){this._trigger("update",t,this._uiHash())})),this!==this.currentContainer&&(e||(s.push((function(t){this._trigger("remove",t,this._uiHash())})),s.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),s.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)e||s.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(s.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(i=0;i<s.length;i++)s[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===t.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}})}.apply(e,s))||(t.exports=n)},1431:(t,e,i)=>{var s,n;s=[i(19755),i(79366),i(85592),i(17053),i(86575),i(26891)],void 0===(n=function(t){function e(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}return t.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e=this._super(),i=this.element;return t.each(["min","max","step"],(function(t,s){var n=i.attr(s);null!=n&&n.length&&(e[s]=n)})),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay((function(){this.spinning&&this._stop(t)}),100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){var i;function s(){this.element[0]===t.ui.safeActiveElement(this.document[0])||(this.element.trigger("focus"),this.previous=i,this._delay((function(){this.previous=i})))}i=this.element[0]===t.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),e.preventDefault(),s.call(this),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur,s.call(this)})),!1!==this._start(e)&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){if(t(e.currentTarget).hasClass("ui-state-active"))return!1!==this._start(e)&&void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var i=this.options,s=t.ui.keyCode;switch(e.keyCode){case s.UP:return this._repeat(null,1,e),!0;case s.DOWN:return this._repeat(null,-1,e),!0;case s.PAGE_UP:return this._repeat(null,i.page,e),!0;case s.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_start:function(t){return!(!this.spinning&&!1===this._trigger("start",t)||(this.counter||(this.counter=1),this.spinning=!0,0))},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay((function(){this._repeat(40,e,i)}),t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",e,{value:i})||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),i=e.indexOf(".");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,s=this.options;return i=t-(e=null!==s.min?s.min:0),t=e+(i=Math.round(i/s.step)*s.step),t=parseFloat(t.toFixed(this._precision())),null!==s.max&&t>s.max?s.max:null!==s.min&&t<s.min?s.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){var i,s,n;if("culture"===t||"numberFormat"===t)return i=this._parse(this.element.val()),this.options[t]=e,void this.element.val(this._format(i));"max"!==t&&"min"!==t&&"step"!==t||"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(s=this.buttons.first().find(".ui-icon"),this._removeClass(s,null,this.options.icons.up),this._addClass(s,null,e.up),n=this.buttons.last().find(".ui-icon"),this._removeClass(n,null,this.options.icons.down),this._addClass(n,null,e.down)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable")},_setOptions:e((function(t){this._super(t)})),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null!==t&&t===this._adjustValue(t)},_value:function(t,e){var i;""!==t&&null!==(i=this._parse(t))&&(e||(i=this._adjustValue(i)),t=this._format(i)),this.element.val(t),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:e((function(t){this._stepUp(t)})),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:e((function(t){this._stepDown(t)})),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:e((function(t){this._stepUp((t||1)*this.options.page)})),pageDown:e((function(t){this._stepDown((t||1)*this.options.page)})),value:function(t){if(!arguments.length)return this._parse(this.element.val());e(this._value).call(this,t)},widget:function(){return this.uiSpinner}}),!1!==t.uiBackCompat&&t.widget("ui.spinner",t.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}}),t.ui.spinner}.apply(e,s))||(t.exports=n)},19755:function(t,e){var i;!function(e,i){"use strict";"object"==typeof t.exports?t.exports=e.document?i(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return i(t)}:i(e)}("undefined"!=typeof window?window:this,(function(s,n){"use strict";var r=[],o=Object.getPrototypeOf,a=r.slice,h=r.flat?function(t){return r.flat.call(t)}:function(t){return r.concat.apply([],t)},l=r.push,c=r.indexOf,u={},d=u.toString,p=u.hasOwnProperty,f=p.toString,g=f.call(Object),m={},v=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType&&"function"!=typeof t.item},y=function(t){return null!=t&&t===t.window},b=s.document,x={type:!0,src:!0,nonce:!0,noModule:!0};function w(t,e,i){var s,n,r=(i=i||b).createElement("script");if(r.text=t,e)for(s in x)(n=e[s]||e.getAttribute&&e.getAttribute(s))&&r.setAttribute(s,n);i.head.appendChild(r).parentNode.removeChild(r)}function C(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?u[d.call(t)]||"object":typeof t}var S="3.6.0",k=function(t,e){return new k.fn.init(t,e)};function D(t){var e=!!t&&"length"in t&&t.length,i=C(t);return!v(t)&&!y(t)&&("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t)}k.fn=k.prototype={jquery:S,constructor:k,length:0,toArray:function(){return a.call(this)},get:function(t){return null==t?a.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=k.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return k.each(this,t)},map:function(t){return this.pushStack(k.map(this,(function(e,i){return t.call(e,i,e)})))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(k.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack(k.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:r.sort,splice:r.splice},k.extend=k.fn.extend=function(){var t,e,i,s,n,r,o=arguments[0]||{},a=1,h=arguments.length,l=!1;for("boolean"==typeof o&&(l=o,o=arguments[a]||{},a++),"object"==typeof o||v(o)||(o={}),a===h&&(o=this,a--);a<h;a++)if(null!=(t=arguments[a]))for(e in t)s=t[e],"__proto__"!==e&&o!==s&&(l&&s&&(k.isPlainObject(s)||(n=Array.isArray(s)))?(i=o[e],r=n&&!Array.isArray(i)?[]:n||k.isPlainObject(i)?i:{},n=!1,o[e]=k.extend(l,r,s)):void 0!==s&&(o[e]=s));return o},k.extend({expando:"jQuery"+(S+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,i;return!(!t||"[object Object]"!==d.call(t)||(e=o(t))&&("function"!=typeof(i=p.call(e,"constructor")&&e.constructor)||f.call(i)!==g))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,i){w(t,{nonce:e&&e.nonce},i)},each:function(t,e){var i,s=0;if(D(t))for(i=t.length;s<i&&!1!==e.call(t[s],s,t[s]);s++);else for(s in t)if(!1===e.call(t[s],s,t[s]))break;return t},makeArray:function(t,e){var i=e||[];return null!=t&&(D(Object(t))?k.merge(i,"string"==typeof t?[t]:t):l.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:c.call(e,t,i)},merge:function(t,e){for(var i=+e.length,s=0,n=t.length;s<i;s++)t[n++]=e[s];return t.length=n,t},grep:function(t,e,i){for(var s=[],n=0,r=t.length,o=!i;n<r;n++)!e(t[n],n)!==o&&s.push(t[n]);return s},map:function(t,e,i){var s,n,r=0,o=[];if(D(t))for(s=t.length;r<s;r++)null!=(n=e(t[r],r,i))&&o.push(n);else for(r in t)null!=(n=e(t[r],r,i))&&o.push(n);return h(o)},guid:1,support:m}),"function"==typeof Symbol&&(k.fn[Symbol.iterator]=r[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){u["[object "+e+"]"]=e.toLowerCase()}));var T=function(t){var e,i,s,n,r,o,a,h,l,c,u,d,p,f,g,m,v,y,b,x="sizzle"+1*new Date,w=t.document,C=0,S=0,k=ht(),D=ht(),T=ht(),I=ht(),_=function(t,e){return t===e&&(u=!0),0},L={}.hasOwnProperty,P=[],A=P.pop,M=P.push,E=P.push,N=P.slice,F=function(t,e){for(var i=0,s=t.length;i<s;i++)if(t[i]===e)return i;return-1},O="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",H="[\\x20\\t\\r\\n\\f]",R="(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",z="\\[[\\x20\\t\\r\\n\\f]*("+R+")(?:"+H+"*([*^$|!~]?=)"+H+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+R+"))|)"+H+"*\\]",X=":("+R+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+z+")*)|.*)\\)|)",Y=new RegExp(H+"+","g"),j=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),B=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),W=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),V=new RegExp(H+"|>"),q=new RegExp(X),U=new RegExp("^"+R+"$"),J={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R+"|[*])"),ATTR:new RegExp("^"+z),PSEUDO:new RegExp("^"+X),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+O+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},G=/HTML$/i,Q=/^(?:input|select|textarea|button)$/i,$=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),it=function(t,e){var i="0x"+t.slice(1)-65536;return e||(i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320))},st=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,nt=function(t,e){return e?"\0"===t?"":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},rt=function(){d()},ot=xt((function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{E.apply(P=N.call(w.childNodes),w.childNodes),P[w.childNodes.length].nodeType}catch(t){E={apply:P.length?function(t,e){M.apply(t,N.call(e))}:function(t,e){for(var i=t.length,s=0;t[i++]=e[s++];);t.length=i-1}}}function at(t,e,s,n){var r,a,l,c,u,f,v,y=e&&e.ownerDocument,w=e?e.nodeType:9;if(s=s||[],"string"!=typeof t||!t||1!==w&&9!==w&&11!==w)return s;if(!n&&(d(e),e=e||p,g)){if(11!==w&&(u=Z.exec(t)))if(r=u[1]){if(9===w){if(!(l=e.getElementById(r)))return s;if(l.id===r)return s.push(l),s}else if(y&&(l=y.getElementById(r))&&b(e,l)&&l.id===r)return s.push(l),s}else{if(u[2])return E.apply(s,e.getElementsByTagName(t)),s;if((r=u[3])&&i.getElementsByClassName&&e.getElementsByClassName)return E.apply(s,e.getElementsByClassName(r)),s}if(i.qsa&&!I[t+" "]&&(!m||!m.test(t))&&(1!==w||"object"!==e.nodeName.toLowerCase())){if(v=t,y=e,1===w&&(V.test(t)||W.test(t))){for((y=tt.test(t)&&vt(e.parentNode)||e)===e&&i.scope||((c=e.getAttribute("id"))?c=c.replace(st,nt):e.setAttribute("id",c=x)),a=(f=o(t)).length;a--;)f[a]=(c?"#"+c:":scope")+" "+bt(f[a]);v=f.join(",")}try{return E.apply(s,y.querySelectorAll(v)),s}catch(e){I(t,!0)}finally{c===x&&e.removeAttribute("id")}}}return h(t.replace(j,"$1"),e,s,n)}function ht(){var t=[];return function e(i,n){return t.push(i+" ")>s.cacheLength&&delete e[t.shift()],e[i+" "]=n}}function lt(t){return t[x]=!0,t}function ct(t){var e=p.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ut(t,e){for(var i=t.split("|"),n=i.length;n--;)s.attrHandle[i[n]]=e}function dt(t,e){var i=e&&t,s=i&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(s)return s;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function pt(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ft(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function gt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ot(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function mt(t){return lt((function(e){return e=+e,lt((function(i,s){for(var n,r=t([],i.length,e),o=r.length;o--;)i[n=r[o]]&&(i[n]=!(s[n]=i[n]))}))}))}function vt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in i=at.support={},r=at.isXML=function(t){var e=t&&t.namespaceURI,i=t&&(t.ownerDocument||t).documentElement;return!G.test(e||i&&i.nodeName||"HTML")},d=at.setDocument=function(t){var e,n,o=t?t.ownerDocument||t:w;return o!=p&&9===o.nodeType&&o.documentElement?(f=(p=o).documentElement,g=!r(p),w!=p&&(n=p.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",rt,!1):n.attachEvent&&n.attachEvent("onunload",rt)),i.scope=ct((function(t){return f.appendChild(t).appendChild(p.createElement("div")),void 0!==t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length})),i.attributes=ct((function(t){return t.className="i",!t.getAttribute("className")})),i.getElementsByTagName=ct((function(t){return t.appendChild(p.createComment("")),!t.getElementsByTagName("*").length})),i.getElementsByClassName=K.test(p.getElementsByClassName),i.getById=ct((function(t){return f.appendChild(t).id=x,!p.getElementsByName||!p.getElementsByName(x).length})),i.getById?(s.filter.ID=function(t){var e=t.replace(et,it);return function(t){return t.getAttribute("id")===e}},s.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var i=e.getElementById(t);return i?[i]:[]}}):(s.filter.ID=function(t){var e=t.replace(et,it);return function(t){var i=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}},s.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var i,s,n,r=e.getElementById(t);if(r){if((i=r.getAttributeNode("id"))&&i.value===t)return[r];for(n=e.getElementsByName(t),s=0;r=n[s++];)if((i=r.getAttributeNode("id"))&&i.value===t)return[r]}return[]}}),s.find.TAG=i.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):i.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,s=[],n=0,r=e.getElementsByTagName(t);if("*"===t){for(;i=r[n++];)1===i.nodeType&&s.push(i);return s}return r},s.find.CLASS=i.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&g)return e.getElementsByClassName(t)},v=[],m=[],(i.qsa=K.test(p.querySelectorAll))&&(ct((function(t){var e;f.appendChild(t).innerHTML="<a id='"+x+"'></a><select id='"+x+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),t.querySelectorAll("[selected]").length||m.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+O+")"),t.querySelectorAll("[id~="+x+"-]").length||m.push("~="),(e=p.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||m.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),t.querySelectorAll(":checked").length||m.push(":checked"),t.querySelectorAll("a#"+x+"+*").length||m.push(".#.+[+~]"),t.querySelectorAll("\\\f"),m.push("[\\r\\n\\f]")})),ct((function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=p.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&m.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),f.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),m.push(",.*:")}))),(i.matchesSelector=K.test(y=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&ct((function(t){i.disconnectedMatch=y.call(t,"*"),y.call(t,"[s!='']:x"),v.push("!=",X)})),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),e=K.test(f.compareDocumentPosition),b=e||K.test(f.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,s=e&&e.parentNode;return t===s||!(!s||1!==s.nodeType||!(i.contains?i.contains(s):t.compareDocumentPosition&&16&t.compareDocumentPosition(s)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},_=e?function(t,e){if(t===e)return u=!0,0;var s=!t.compareDocumentPosition-!e.compareDocumentPosition;return s||(1&(s=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!i.sortDetached&&e.compareDocumentPosition(t)===s?t==p||t.ownerDocument==w&&b(w,t)?-1:e==p||e.ownerDocument==w&&b(w,e)?1:c?F(c,t)-F(c,e):0:4&s?-1:1)}:function(t,e){if(t===e)return u=!0,0;var i,s=0,n=t.parentNode,r=e.parentNode,o=[t],a=[e];if(!n||!r)return t==p?-1:e==p?1:n?-1:r?1:c?F(c,t)-F(c,e):0;if(n===r)return dt(t,e);for(i=t;i=i.parentNode;)o.unshift(i);for(i=e;i=i.parentNode;)a.unshift(i);for(;o[s]===a[s];)s++;return s?dt(o[s],a[s]):o[s]==w?-1:a[s]==w?1:0},p):p},at.matches=function(t,e){return at(t,null,null,e)},at.matchesSelector=function(t,e){if(d(t),i.matchesSelector&&g&&!I[e+" "]&&(!v||!v.test(e))&&(!m||!m.test(e)))try{var s=y.call(t,e);if(s||i.disconnectedMatch||t.document&&11!==t.document.nodeType)return s}catch(t){I(e,!0)}return at(e,p,null,[t]).length>0},at.contains=function(t,e){return(t.ownerDocument||t)!=p&&d(t),b(t,e)},at.attr=function(t,e){(t.ownerDocument||t)!=p&&d(t);var n=s.attrHandle[e.toLowerCase()],r=n&&L.call(s.attrHandle,e.toLowerCase())?n(t,e,!g):void 0;return void 0!==r?r:i.attributes||!g?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},at.escape=function(t){return(t+"").replace(st,nt)},at.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},at.uniqueSort=function(t){var e,s=[],n=0,r=0;if(u=!i.detectDuplicates,c=!i.sortStable&&t.slice(0),t.sort(_),u){for(;e=t[r++];)e===t[r]&&(n=s.push(r));for(;n--;)t.splice(s[n],1)}return c=null,t},n=at.getText=function(t){var e,i="",s=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=n(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[s++];)i+=n(e);return i},s=at.selectors={cacheLength:50,createPseudo:lt,match:J,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,it),t[3]=(t[3]||t[4]||t[5]||"").replace(et,it),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||at.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&at.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return J.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&q.test(i)&&(e=o(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,it).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=k[t+" "];return e||(e=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+t+"("+H+"|$)"))&&k(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,i){return function(s){var n=at.attr(s,t);return null==n?"!="===e:!e||(n+="","="===e?n===i:"!="===e?n!==i:"^="===e?i&&0===n.indexOf(i):"*="===e?i&&n.indexOf(i)>-1:"$="===e?i&&n.slice(-i.length)===i:"~="===e?(" "+n.replace(Y," ")+" ").indexOf(i)>-1:"|="===e&&(n===i||n.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,i,s,n){var r="nth"!==t.slice(0,3),o="last"!==t.slice(-4),a="of-type"===e;return 1===s&&0===n?function(t){return!!t.parentNode}:function(e,i,h){var l,c,u,d,p,f,g=r!==o?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!h&&!a,b=!1;if(m){if(r){for(;g;){for(d=e;d=d[g];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=g="only"===t&&!f&&"nextSibling"}return!0}if(f=[o?m.firstChild:m.lastChild],o&&y){for(b=(p=(l=(c=(u=(d=m)[x]||(d[x]={}))[d.uniqueID]||(u[d.uniqueID]={}))[t]||[])[0]===C&&l[1])&&l[2],d=p&&m.childNodes[p];d=++p&&d&&d[g]||(b=p=0)||f.pop();)if(1===d.nodeType&&++b&&d===e){c[t]=[C,p,b];break}}else if(y&&(b=p=(l=(c=(u=(d=e)[x]||(d[x]={}))[d.uniqueID]||(u[d.uniqueID]={}))[t]||[])[0]===C&&l[1]),!1===b)for(;(d=++p&&d&&d[g]||(b=p=0)||f.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++b||(y&&((c=(u=d[x]||(d[x]={}))[d.uniqueID]||(u[d.uniqueID]={}))[t]=[C,b]),d!==e)););return(b-=n)===s||b%s==0&&b/s>=0}}},PSEUDO:function(t,e){var i,n=s.pseudos[t]||s.setFilters[t.toLowerCase()]||at.error("unsupported pseudo: "+t);return n[x]?n(e):n.length>1?(i=[t,t,"",e],s.setFilters.hasOwnProperty(t.toLowerCase())?lt((function(t,i){for(var s,r=n(t,e),o=r.length;o--;)t[s=F(t,r[o])]=!(i[s]=r[o])})):function(t){return n(t,0,i)}):n}},pseudos:{not:lt((function(t){var e=[],i=[],s=a(t.replace(j,"$1"));return s[x]?lt((function(t,e,i,n){for(var r,o=s(t,null,n,[]),a=t.length;a--;)(r=o[a])&&(t[a]=!(e[a]=r))})):function(t,n,r){return e[0]=t,s(e,null,r,i),e[0]=null,!i.pop()}})),has:lt((function(t){return function(e){return at(t,e).length>0}})),contains:lt((function(t){return t=t.replace(et,it),function(e){return(e.textContent||n(e)).indexOf(t)>-1}})),lang:lt((function(t){return U.test(t||"")||at.error("unsupported lang: "+t),t=t.replace(et,it).toLowerCase(),function(e){var i;do{if(i=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(i=i.toLowerCase())===t||0===i.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===f},focus:function(t){return t===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:gt(!1),disabled:gt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!s.pseudos.empty(t)},header:function(t){return $.test(t.nodeName)},input:function(t){return Q.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:mt((function(){return[0]})),last:mt((function(t,e){return[e-1]})),eq:mt((function(t,e,i){return[i<0?i+e:i]})),even:mt((function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t})),odd:mt((function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t})),lt:mt((function(t,e,i){for(var s=i<0?i+e:i>e?e:i;--s>=0;)t.push(s);return t})),gt:mt((function(t,e,i){for(var s=i<0?i+e:i;++s<e;)t.push(s);return t}))}},s.pseudos.nth=s.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})s.pseudos[e]=pt(e);for(e in{submit:!0,reset:!0})s.pseudos[e]=ft(e);function yt(){}function bt(t){for(var e=0,i=t.length,s="";e<i;e++)s+=t[e].value;return s}function xt(t,e,i){var s=e.dir,n=e.next,r=n||s,o=i&&"parentNode"===r,a=S++;return e.first?function(e,i,n){for(;e=e[s];)if(1===e.nodeType||o)return t(e,i,n);return!1}:function(e,i,h){var l,c,u,d=[C,a];if(h){for(;e=e[s];)if((1===e.nodeType||o)&&t(e,i,h))return!0}else for(;e=e[s];)if(1===e.nodeType||o)if(c=(u=e[x]||(e[x]={}))[e.uniqueID]||(u[e.uniqueID]={}),n&&n===e.nodeName.toLowerCase())e=e[s]||e;else{if((l=c[r])&&l[0]===C&&l[1]===a)return d[2]=l[2];if(c[r]=d,d[2]=t(e,i,h))return!0}return!1}}function wt(t){return t.length>1?function(e,i,s){for(var n=t.length;n--;)if(!t[n](e,i,s))return!1;return!0}:t[0]}function Ct(t,e,i,s,n){for(var r,o=[],a=0,h=t.length,l=null!=e;a<h;a++)(r=t[a])&&(i&&!i(r,s,n)||(o.push(r),l&&e.push(a)));return o}function St(t,e,i,s,n,r){return s&&!s[x]&&(s=St(s)),n&&!n[x]&&(n=St(n,r)),lt((function(r,o,a,h){var l,c,u,d=[],p=[],f=o.length,g=r||function(t,e,i){for(var s=0,n=e.length;s<n;s++)at(t,e[s],i);return i}(e||"*",a.nodeType?[a]:a,[]),m=!t||!r&&e?g:Ct(g,d,t,a,h),v=i?n||(r?t:f||s)?[]:o:m;if(i&&i(m,v,a,h),s)for(l=Ct(v,p),s(l,[],a,h),c=l.length;c--;)(u=l[c])&&(v[p[c]]=!(m[p[c]]=u));if(r){if(n||t){if(n){for(l=[],c=v.length;c--;)(u=v[c])&&l.push(m[c]=u);n(null,v=[],l,h)}for(c=v.length;c--;)(u=v[c])&&(l=n?F(r,u):d[c])>-1&&(r[l]=!(o[l]=u))}}else v=Ct(v===o?v.splice(f,v.length):v),n?n(null,o,v,h):E.apply(o,v)}))}function kt(t){for(var e,i,n,r=t.length,o=s.relative[t[0].type],a=o||s.relative[" "],h=o?1:0,c=xt((function(t){return t===e}),a,!0),u=xt((function(t){return F(e,t)>-1}),a,!0),d=[function(t,i,s){var n=!o&&(s||i!==l)||((e=i).nodeType?c(t,i,s):u(t,i,s));return e=null,n}];h<r;h++)if(i=s.relative[t[h].type])d=[xt(wt(d),i)];else{if((i=s.filter[t[h].type].apply(null,t[h].matches))[x]){for(n=++h;n<r&&!s.relative[t[n].type];n++);return St(h>1&&wt(d),h>1&&bt(t.slice(0,h-1).concat({value:" "===t[h-2].type?"*":""})).replace(j,"$1"),i,h<n&&kt(t.slice(h,n)),n<r&&kt(t=t.slice(n)),n<r&&bt(t))}d.push(i)}return wt(d)}return yt.prototype=s.filters=s.pseudos,s.setFilters=new yt,o=at.tokenize=function(t,e){var i,n,r,o,a,h,l,c=D[t+" "];if(c)return e?0:c.slice(0);for(a=t,h=[],l=s.preFilter;a;){for(o in i&&!(n=B.exec(a))||(n&&(a=a.slice(n[0].length)||a),h.push(r=[])),i=!1,(n=W.exec(a))&&(i=n.shift(),r.push({value:i,type:n[0].replace(j," ")}),a=a.slice(i.length)),s.filter)!(n=J[o].exec(a))||l[o]&&!(n=l[o](n))||(i=n.shift(),r.push({value:i,type:o,matches:n}),a=a.slice(i.length));if(!i)break}return e?a.length:a?at.error(t):D(t,h).slice(0)},a=at.compile=function(t,e){var i,n=[],r=[],a=T[t+" "];if(!a){for(e||(e=o(t)),i=e.length;i--;)(a=kt(e[i]))[x]?n.push(a):r.push(a);a=T(t,function(t,e){var i=e.length>0,n=t.length>0,r=function(r,o,a,h,c){var u,f,m,v=0,y="0",b=r&&[],x=[],w=l,S=r||n&&s.find.TAG("*",c),k=C+=null==w?1:Math.random()||.1,D=S.length;for(c&&(l=o==p||o||c);y!==D&&null!=(u=S[y]);y++){if(n&&u){for(f=0,o||u.ownerDocument==p||(d(u),a=!g);m=t[f++];)if(m(u,o||p,a)){h.push(u);break}c&&(C=k)}i&&((u=!m&&u)&&v--,r&&b.push(u))}if(v+=y,i&&y!==v){for(f=0;m=e[f++];)m(b,x,o,a);if(r){if(v>0)for(;y--;)b[y]||x[y]||(x[y]=A.call(h));x=Ct(x)}E.apply(h,x),c&&!r&&x.length>0&&v+e.length>1&&at.uniqueSort(h)}return c&&(C=k,l=w),b};return i?lt(r):r}(r,n)),a.selector=t}return a},h=at.select=function(t,e,i,n){var r,h,l,c,u,d="function"==typeof t&&t,p=!n&&o(t=d.selector||t);if(i=i||[],1===p.length){if((h=p[0]=p[0].slice(0)).length>2&&"ID"===(l=h[0]).type&&9===e.nodeType&&g&&s.relative[h[1].type]){if(!(e=(s.find.ID(l.matches[0].replace(et,it),e)||[])[0]))return i;d&&(e=e.parentNode),t=t.slice(h.shift().value.length)}for(r=J.needsContext.test(t)?0:h.length;r--&&(l=h[r],!s.relative[c=l.type]);)if((u=s.find[c])&&(n=u(l.matches[0].replace(et,it),tt.test(h[0].type)&&vt(e.parentNode)||e))){if(h.splice(r,1),!(t=n.length&&bt(h)))return E.apply(i,n),i;break}}return(d||a(t,p))(n,e,!g,i,!e||tt.test(t)&&vt(e.parentNode)||e),i},i.sortStable=x.split("").sort(_).join("")===x,i.detectDuplicates=!!u,d(),i.sortDetached=ct((function(t){return 1&t.compareDocumentPosition(p.createElement("fieldset"))})),ct((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||ut("type|href|height|width",(function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),i.attributes&&ct((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||ut("value",(function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue})),ct((function(t){return null==t.getAttribute("disabled")}))||ut(O,(function(t,e,i){var s;if(!i)return!0===t[e]?e.toLowerCase():(s=t.getAttributeNode(e))&&s.specified?s.value:null})),at}(s);k.find=T,k.expr=T.selectors,k.expr[":"]=k.expr.pseudos,k.uniqueSort=k.unique=T.uniqueSort,k.text=T.getText,k.isXMLDoc=T.isXML,k.contains=T.contains,k.escapeSelector=T.escape;var I=function(t,e,i){for(var s=[],n=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(n&&k(t).is(i))break;s.push(t)}return s},_=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},L=k.expr.match.needsContext;function P(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var A=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function M(t,e,i){return v(e)?k.grep(t,(function(t,s){return!!e.call(t,s,t)!==i})):e.nodeType?k.grep(t,(function(t){return t===e!==i})):"string"!=typeof e?k.grep(t,(function(t){return c.call(e,t)>-1!==i})):k.filter(e,t,i)}k.filter=function(t,e,i){var s=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===s.nodeType?k.find.matchesSelector(s,t)?[s]:[]:k.find.matches(t,k.grep(e,(function(t){return 1===t.nodeType})))},k.fn.extend({find:function(t){var e,i,s=this.length,n=this;if("string"!=typeof t)return this.pushStack(k(t).filter((function(){for(e=0;e<s;e++)if(k.contains(n[e],this))return!0})));for(i=this.pushStack([]),e=0;e<s;e++)k.find(t,n[e],i);return s>1?k.uniqueSort(i):i},filter:function(t){return this.pushStack(M(this,t||[],!1))},not:function(t){return this.pushStack(M(this,t||[],!0))},is:function(t){return!!M(this,"string"==typeof t&&L.test(t)?k(t):t||[],!1).length}});var E,N=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(k.fn.init=function(t,e,i){var s,n;if(!t)return this;if(i=i||E,"string"==typeof t){if(!(s="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:N.exec(t))||!s[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(s[1]){if(e=e instanceof k?e[0]:e,k.merge(this,k.parseHTML(s[1],e&&e.nodeType?e.ownerDocument||e:b,!0)),A.test(s[1])&&k.isPlainObject(e))for(s in e)v(this[s])?this[s](e[s]):this.attr(s,e[s]);return this}return(n=b.getElementById(s[2]))&&(this[0]=n,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):v(t)?void 0!==i.ready?i.ready(t):t(k):k.makeArray(t,this)}).prototype=k.fn,E=k(b);var F=/^(?:parents|prev(?:Until|All))/,O={children:!0,contents:!0,next:!0,prev:!0};function H(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}k.fn.extend({has:function(t){var e=k(t,this),i=e.length;return this.filter((function(){for(var t=0;t<i;t++)if(k.contains(this,e[t]))return!0}))},closest:function(t,e){var i,s=0,n=this.length,r=[],o="string"!=typeof t&&k(t);if(!L.test(t))for(;s<n;s++)for(i=this[s];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(o?o.index(i)>-1:1===i.nodeType&&k.find.matchesSelector(i,t))){r.push(i);break}return this.pushStack(r.length>1?k.uniqueSort(r):r)},index:function(t){return t?"string"==typeof t?c.call(k(t),this[0]):c.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),k.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return I(t,"parentNode")},parentsUntil:function(t,e,i){return I(t,"parentNode",i)},next:function(t){return H(t,"nextSibling")},prev:function(t){return H(t,"previousSibling")},nextAll:function(t){return I(t,"nextSibling")},prevAll:function(t){return I(t,"previousSibling")},nextUntil:function(t,e,i){return I(t,"nextSibling",i)},prevUntil:function(t,e,i){return I(t,"previousSibling",i)},siblings:function(t){return _((t.parentNode||{}).firstChild,t)},children:function(t){return _(t.firstChild)},contents:function(t){return null!=t.contentDocument&&o(t.contentDocument)?t.contentDocument:(P(t,"template")&&(t=t.content||t),k.merge([],t.childNodes))}},(function(t,e){k.fn[t]=function(i,s){var n=k.map(this,e,i);return"Until"!==t.slice(-5)&&(s=i),s&&"string"==typeof s&&(n=k.filter(s,n)),this.length>1&&(O[t]||k.uniqueSort(n),F.test(t)&&n.reverse()),this.pushStack(n)}}));var R=/[^\x20\t\r\n\f]+/g;function z(t){return t}function X(t){throw t}function Y(t,e,i,s){var n;try{t&&v(n=t.promise)?n.call(t).done(e).fail(i):t&&v(n=t.then)?n.call(t,e,i):e.apply(void 0,[t].slice(s))}catch(t){i.apply(void 0,[t])}}k.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return k.each(t.match(R)||[],(function(t,i){e[i]=!0})),e}(t):k.extend({},t);var e,i,s,n,r=[],o=[],a=-1,h=function(){for(n=n||t.once,s=e=!0;o.length;a=-1)for(i=o.shift();++a<r.length;)!1===r[a].apply(i[0],i[1])&&t.stopOnFalse&&(a=r.length,i=!1);t.memory||(i=!1),e=!1,n&&(r=i?[]:"")},l={add:function(){return r&&(i&&!e&&(a=r.length-1,o.push(i)),function e(i){k.each(i,(function(i,s){v(s)?t.unique&&l.has(s)||r.push(s):s&&s.length&&"string"!==C(s)&&e(s)}))}(arguments),i&&!e&&h()),this},remove:function(){return k.each(arguments,(function(t,e){for(var i;(i=k.inArray(e,r,i))>-1;)r.splice(i,1),i<=a&&a--})),this},has:function(t){return t?k.inArray(t,r)>-1:r.length>0},empty:function(){return r&&(r=[]),this},disable:function(){return n=o=[],r=i="",this},disabled:function(){return!r},lock:function(){return n=o=[],i||e||(r=i=""),this},locked:function(){return!!n},fireWith:function(t,i){return n||(i=[t,(i=i||[]).slice?i.slice():i],o.push(i),e||h()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!s}};return l},k.extend({Deferred:function(t){var e=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],i="pending",n={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},catch:function(t){return n.then(null,t)},pipe:function(){var t=arguments;return k.Deferred((function(i){k.each(e,(function(e,s){var n=v(t[s[4]])&&t[s[4]];r[s[1]]((function(){var t=n&&n.apply(this,arguments);t&&v(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[s[0]+"With"](this,n?[t]:arguments)}))})),t=null})).promise()},then:function(t,i,n){var r=0;function o(t,e,i,n){return function(){var a=this,h=arguments,l=function(){var s,l;if(!(t<r)){if((s=i.apply(a,h))===e.promise())throw new TypeError("Thenable self-resolution");l=s&&("object"==typeof s||"function"==typeof s)&&s.then,v(l)?n?l.call(s,o(r,e,z,n),o(r,e,X,n)):(r++,l.call(s,o(r,e,z,n),o(r,e,X,n),o(r,e,z,e.notifyWith))):(i!==z&&(a=void 0,h=[s]),(n||e.resolveWith)(a,h))}},c=n?l:function(){try{l()}catch(s){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(s,c.stackTrace),t+1>=r&&(i!==X&&(a=void 0,h=[s]),e.rejectWith(a,h))}};t?c():(k.Deferred.getStackHook&&(c.stackTrace=k.Deferred.getStackHook()),s.setTimeout(c))}}return k.Deferred((function(s){e[0][3].add(o(0,s,v(n)?n:z,s.notifyWith)),e[1][3].add(o(0,s,v(t)?t:z)),e[2][3].add(o(0,s,v(i)?i:X))})).promise()},promise:function(t){return null!=t?k.extend(t,n):n}},r={};return k.each(e,(function(t,s){var o=s[2],a=s[5];n[s[1]]=o.add,a&&o.add((function(){i=a}),e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),o.add(s[3].fire),r[s[0]]=function(){return r[s[0]+"With"](this===r?void 0:this,arguments),this},r[s[0]+"With"]=o.fireWith})),n.promise(r),t&&t.call(r,r),r},when:function(t){var e=arguments.length,i=e,s=Array(i),n=a.call(arguments),r=k.Deferred(),o=function(t){return function(i){s[t]=this,n[t]=arguments.length>1?a.call(arguments):i,--e||r.resolveWith(s,n)}};if(e<=1&&(Y(t,r.done(o(i)).resolve,r.reject,!e),"pending"===r.state()||v(n[i]&&n[i].then)))return r.then();for(;i--;)Y(n[i],o(i),r.reject);return r.promise()}});var j=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;k.Deferred.exceptionHook=function(t,e){s.console&&s.console.warn&&t&&j.test(t.name)&&s.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},k.readyException=function(t){s.setTimeout((function(){throw t}))};var B=k.Deferred();function W(){b.removeEventListener("DOMContentLoaded",W),s.removeEventListener("load",W),k.ready()}k.fn.ready=function(t){return B.then(t).catch((function(t){k.readyException(t)})),this},k.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--k.readyWait:k.isReady)||(k.isReady=!0,!0!==t&&--k.readyWait>0||B.resolveWith(b,[k]))}}),k.ready.then=B.then,"complete"===b.readyState||"loading"!==b.readyState&&!b.documentElement.doScroll?s.setTimeout(k.ready):(b.addEventListener("DOMContentLoaded",W),s.addEventListener("load",W));var V=function(t,e,i,s,n,r,o){var a=0,h=t.length,l=null==i;if("object"===C(i))for(a in n=!0,i)V(t,e,a,i[a],!0,r,o);else if(void 0!==s&&(n=!0,v(s)||(o=!0),l&&(o?(e.call(t,s),e=null):(l=e,e=function(t,e,i){return l.call(k(t),i)})),e))for(;a<h;a++)e(t[a],i,o?s:s.call(t[a],a,e(t[a],i)));return n?t:l?e.call(t):h?e(t[0],i):r},q=/^-ms-/,U=/-([a-z])/g;function J(t,e){return e.toUpperCase()}function G(t){return t.replace(q,"ms-").replace(U,J)}var Q=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function $(){this.expando=k.expando+$.uid++}$.uid=1,$.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Q(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var s,n=this.cache(t);if("string"==typeof e)n[G(e)]=i;else for(s in e)n[G(s)]=e[s];return n},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][G(e)]},access:function(t,e,i){return void 0===e||e&&"string"==typeof e&&void 0===i?this.get(t,e):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,s=t[this.expando];if(void 0!==s){if(void 0!==e){i=(e=Array.isArray(e)?e.map(G):(e=G(e))in s?[e]:e.match(R)||[]).length;for(;i--;)delete s[e[i]]}(void 0===e||k.isEmptyObject(s))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!k.isEmptyObject(e)}};var K=new $,Z=new $,tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function it(t,e,i){var s;if(void 0===i&&1===t.nodeType)if(s="data-"+e.replace(et,"-$&").toLowerCase(),"string"==typeof(i=t.getAttribute(s))){try{i=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:tt.test(t)?JSON.parse(t):t)}(i)}catch(t){}Z.set(t,e,i)}else i=void 0;return i}k.extend({hasData:function(t){return Z.hasData(t)||K.hasData(t)},data:function(t,e,i){return Z.access(t,e,i)},removeData:function(t,e){Z.remove(t,e)},_data:function(t,e,i){return K.access(t,e,i)},_removeData:function(t,e){K.remove(t,e)}}),k.fn.extend({data:function(t,e){var i,s,n,r=this[0],o=r&&r.attributes;if(void 0===t){if(this.length&&(n=Z.get(r),1===r.nodeType&&!K.get(r,"hasDataAttrs"))){for(i=o.length;i--;)o[i]&&0===(s=o[i].name).indexOf("data-")&&(s=G(s.slice(5)),it(r,s,n[s]));K.set(r,"hasDataAttrs",!0)}return n}return"object"==typeof t?this.each((function(){Z.set(this,t)})):V(this,(function(e){var i;if(r&&void 0===e)return void 0!==(i=Z.get(r,t))||void 0!==(i=it(r,t))?i:void 0;this.each((function(){Z.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){Z.remove(this,t)}))}}),k.extend({queue:function(t,e,i){var s;if(t)return e=(e||"fx")+"queue",s=K.get(t,e),i&&(!s||Array.isArray(i)?s=K.access(t,e,k.makeArray(i)):s.push(i)),s||[]},dequeue:function(t,e){e=e||"fx";var i=k.queue(t,e),s=i.length,n=i.shift(),r=k._queueHooks(t,e);"inprogress"===n&&(n=i.shift(),s--),n&&("fx"===e&&i.unshift("inprogress"),delete r.stop,n.call(t,(function(){k.dequeue(t,e)}),r)),!s&&r&&r.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return K.get(t,i)||K.access(t,i,{empty:k.Callbacks("once memory").add((function(){K.remove(t,[e+"queue",i])}))})}}),k.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?k.queue(this[0],t):void 0===e?this:this.each((function(){var i=k.queue(this,t,e);k._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&k.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){k.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,s=1,n=k.Deferred(),r=this,o=this.length,a=function(){--s||n.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";o--;)(i=K.get(r[o],t+"queueHooks"))&&i.empty&&(s++,i.empty.add(a));return a(),n.promise(e)}});var st=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,nt=new RegExp("^(?:([+-])=|)("+st+")([a-z%]*)$","i"),rt=["Top","Right","Bottom","Left"],ot=b.documentElement,at=function(t){return k.contains(t.ownerDocument,t)},ht={composed:!0};ot.getRootNode&&(at=function(t){return k.contains(t.ownerDocument,t)||t.getRootNode(ht)===t.ownerDocument});var lt=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&at(t)&&"none"===k.css(t,"display")};function ct(t,e,i,s){var n,r,o=20,a=s?function(){return s.cur()}:function(){return k.css(t,e,"")},h=a(),l=i&&i[3]||(k.cssNumber[e]?"":"px"),c=t.nodeType&&(k.cssNumber[e]||"px"!==l&&+h)&&nt.exec(k.css(t,e));if(c&&c[3]!==l){for(h/=2,l=l||c[3],c=+h||1;o--;)k.style(t,e,c+l),(1-r)*(1-(r=a()/h||.5))<=0&&(o=0),c/=r;c*=2,k.style(t,e,c+l),i=i||[]}return i&&(c=+c||+h||0,n=i[1]?c+(i[1]+1)*i[2]:+i[2],s&&(s.unit=l,s.start=c,s.end=n)),n}var ut={};function dt(t){var e,i=t.ownerDocument,s=t.nodeName,n=ut[s];return n||(e=i.body.appendChild(i.createElement(s)),n=k.css(e,"display"),e.parentNode.removeChild(e),"none"===n&&(n="block"),ut[s]=n,n)}function pt(t,e){for(var i,s,n=[],r=0,o=t.length;r<o;r++)(s=t[r]).style&&(i=s.style.display,e?("none"===i&&(n[r]=K.get(s,"display")||null,n[r]||(s.style.display="")),""===s.style.display&&lt(s)&&(n[r]=dt(s))):"none"!==i&&(n[r]="none",K.set(s,"display",i)));for(r=0;r<o;r++)null!=n[r]&&(t[r].style.display=n[r]);return t}k.fn.extend({show:function(){return pt(this,!0)},hide:function(){return pt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){lt(this)?k(this).show():k(this).hide()}))}});var ft,gt,mt=/^(?:checkbox|radio)$/i,vt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,yt=/^$|^module$|\/(?:java|ecma)script/i;ft=b.createDocumentFragment().appendChild(b.createElement("div")),(gt=b.createElement("input")).setAttribute("type","radio"),gt.setAttribute("checked","checked"),gt.setAttribute("name","t"),ft.appendChild(gt),m.checkClone=ft.cloneNode(!0).cloneNode(!0).lastChild.checked,ft.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!ft.cloneNode(!0).lastChild.defaultValue,ft.innerHTML="<option></option>",m.option=!!ft.lastChild;var bt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function xt(t,e){var i;return i=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&P(t,e)?k.merge([t],i):i}function wt(t,e){for(var i=0,s=t.length;i<s;i++)K.set(t[i],"globalEval",!e||K.get(e[i],"globalEval"))}bt.tbody=bt.tfoot=bt.colgroup=bt.caption=bt.thead,bt.th=bt.td,m.option||(bt.optgroup=bt.option=[1,"<select multiple='multiple'>","</select>"]);var Ct=/<|&#?\w+;/;function St(t,e,i,s,n){for(var r,o,a,h,l,c,u=e.createDocumentFragment(),d=[],p=0,f=t.length;p<f;p++)if((r=t[p])||0===r)if("object"===C(r))k.merge(d,r.nodeType?[r]:r);else if(Ct.test(r)){for(o=o||u.appendChild(e.createElement("div")),a=(vt.exec(r)||["",""])[1].toLowerCase(),h=bt[a]||bt._default,o.innerHTML=h[1]+k.htmlPrefilter(r)+h[2],c=h[0];c--;)o=o.lastChild;k.merge(d,o.childNodes),(o=u.firstChild).textContent=""}else d.push(e.createTextNode(r));for(u.textContent="",p=0;r=d[p++];)if(s&&k.inArray(r,s)>-1)n&&n.push(r);else if(l=at(r),o=xt(u.appendChild(r),"script"),l&&wt(o),i)for(c=0;r=o[c++];)yt.test(r.type||"")&&i.push(r);return u}var kt=/^([^.]*)(?:\.(.+)|)/;function Dt(){return!0}function Tt(){return!1}function It(t,e){return t===function(){try{return b.activeElement}catch(t){}}()==("focus"===e)}function _t(t,e,i,s,n,r){var o,a;if("object"==typeof e){for(a in"string"!=typeof i&&(s=s||i,i=void 0),e)_t(t,a,i,s,e[a],r);return t}if(null==s&&null==n?(n=i,s=i=void 0):null==n&&("string"==typeof i?(n=s,s=void 0):(n=s,s=i,i=void 0)),!1===n)n=Tt;else if(!n)return t;return 1===r&&(o=n,n=function(t){return k().off(t),o.apply(this,arguments)},n.guid=o.guid||(o.guid=k.guid++)),t.each((function(){k.event.add(this,e,n,s,i)}))}function Lt(t,e,i){i?(K.set(t,e,!1),k.event.add(t,e,{namespace:!1,handler:function(t){var s,n,r=K.get(this,e);if(1&t.isTrigger&&this[e]){if(r.length)(k.event.special[e]||{}).delegateType&&t.stopPropagation();else if(r=a.call(arguments),K.set(this,e,r),s=i(this,e),this[e](),r!==(n=K.get(this,e))||s?K.set(this,e,!1):n={},r!==n)return t.stopImmediatePropagation(),t.preventDefault(),n&&n.value}else r.length&&(K.set(this,e,{value:k.event.trigger(k.extend(r[0],k.Event.prototype),r.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===K.get(t,e)&&k.event.add(t,e,Dt)}k.event={global:{},add:function(t,e,i,s,n){var r,o,a,h,l,c,u,d,p,f,g,m=K.get(t);if(Q(t))for(i.handler&&(i=(r=i).handler,n=r.selector),n&&k.find.matchesSelector(ot,n),i.guid||(i.guid=k.guid++),(h=m.events)||(h=m.events=Object.create(null)),(o=m.handle)||(o=m.handle=function(e){return void 0!==k&&k.event.triggered!==e.type?k.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(R)||[""]).length;l--;)p=g=(a=kt.exec(e[l])||[])[1],f=(a[2]||"").split(".").sort(),p&&(u=k.event.special[p]||{},p=(n?u.delegateType:u.bindType)||p,u=k.event.special[p]||{},c=k.extend({type:p,origType:g,data:s,handler:i,guid:i.guid,selector:n,needsContext:n&&k.expr.match.needsContext.test(n),namespace:f.join(".")},r),(d=h[p])||((d=h[p]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(t,s,f,o)||t.addEventListener&&t.addEventListener(p,o)),u.add&&(u.add.call(t,c),c.handler.guid||(c.handler.guid=i.guid)),n?d.splice(d.delegateCount++,0,c):d.push(c),k.event.global[p]=!0)},remove:function(t,e,i,s,n){var r,o,a,h,l,c,u,d,p,f,g,m=K.hasData(t)&&K.get(t);if(m&&(h=m.events)){for(l=(e=(e||"").match(R)||[""]).length;l--;)if(p=g=(a=kt.exec(e[l])||[])[1],f=(a[2]||"").split(".").sort(),p){for(u=k.event.special[p]||{},d=h[p=(s?u.delegateType:u.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=r=d.length;r--;)c=d[r],!n&&g!==c.origType||i&&i.guid!==c.guid||a&&!a.test(c.namespace)||s&&s!==c.selector&&("**"!==s||!c.selector)||(d.splice(r,1),c.selector&&d.delegateCount--,u.remove&&u.remove.call(t,c));o&&!d.length&&(u.teardown&&!1!==u.teardown.call(t,f,m.handle)||k.removeEvent(t,p,m.handle),delete h[p])}else for(p in h)k.event.remove(t,p+e[l],i,s,!0);k.isEmptyObject(h)&&K.remove(t,"handle events")}},dispatch:function(t){var e,i,s,n,r,o,a=new Array(arguments.length),h=k.event.fix(t),l=(K.get(this,"events")||Object.create(null))[h.type]||[],c=k.event.special[h.type]||{};for(a[0]=h,e=1;e<arguments.length;e++)a[e]=arguments[e];if(h.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,h)){for(o=k.event.handlers.call(this,h,l),e=0;(n=o[e++])&&!h.isPropagationStopped();)for(h.currentTarget=n.elem,i=0;(r=n.handlers[i++])&&!h.isImmediatePropagationStopped();)h.rnamespace&&!1!==r.namespace&&!h.rnamespace.test(r.namespace)||(h.handleObj=r,h.data=r.data,void 0!==(s=((k.event.special[r.origType]||{}).handle||r.handler).apply(n.elem,a))&&!1===(h.result=s)&&(h.preventDefault(),h.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,h),h.result}},handlers:function(t,e){var i,s,n,r,o,a=[],h=e.delegateCount,l=t.target;if(h&&l.nodeType&&!("click"===t.type&&t.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==t.type||!0!==l.disabled)){for(r=[],o={},i=0;i<h;i++)void 0===o[n=(s=e[i]).selector+" "]&&(o[n]=s.needsContext?k(n,this).index(l)>-1:k.find(n,this,null,[l]).length),o[n]&&r.push(s);r.length&&a.push({elem:l,handlers:r})}return l=this,h<e.length&&a.push({elem:l,handlers:e.slice(h)}),a},addProp:function(t,e){Object.defineProperty(k.Event.prototype,t,{enumerable:!0,configurable:!0,get:v(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[k.expando]?t:new k.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return mt.test(e.type)&&e.click&&P(e,"input")&&Lt(e,"click",Dt),!1},trigger:function(t){var e=this||t;return mt.test(e.type)&&e.click&&P(e,"input")&&Lt(e,"click"),!0},_default:function(t){var e=t.target;return mt.test(e.type)&&e.click&&P(e,"input")&&K.get(e,"click")||P(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},k.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},k.Event=function(t,e){if(!(this instanceof k.Event))return new k.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Dt:Tt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&k.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[k.expando]=!0},k.Event.prototype={constructor:k.Event,isDefaultPrevented:Tt,isPropagationStopped:Tt,isImmediatePropagationStopped:Tt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Dt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Dt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Dt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},k.event.addProp),k.each({focus:"focusin",blur:"focusout"},(function(t,e){k.event.special[t]={setup:function(){return Lt(this,t,It),!1},trigger:function(){return Lt(this,t),!0},_default:function(){return!0},delegateType:e}})),k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){k.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,s=this,n=t.relatedTarget,r=t.handleObj;return n&&(n===s||k.contains(s,n))||(t.type=r.origType,i=r.handler.apply(this,arguments),t.type=e),i}}})),k.fn.extend({on:function(t,e,i,s){return _t(this,t,e,i,s)},one:function(t,e,i,s){return _t(this,t,e,i,s,1)},off:function(t,e,i){var s,n;if(t&&t.preventDefault&&t.handleObj)return s=t.handleObj,k(t.delegateTarget).off(s.namespace?s.origType+"."+s.namespace:s.origType,s.selector,s.handler),this;if("object"==typeof t){for(n in t)this.off(n,e,t[n]);return this}return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=Tt),this.each((function(){k.event.remove(this,t,i,e)}))}});var Pt=/<script|<style|<link/i,At=/checked\s*(?:[^=]|=\s*.checked.)/i,Mt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Et(t,e){return P(t,"table")&&P(11!==e.nodeType?e:e.firstChild,"tr")&&k(t).children("tbody")[0]||t}function Nt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Ft(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Ot(t,e){var i,s,n,r,o,a;if(1===e.nodeType){if(K.hasData(t)&&(a=K.get(t).events))for(n in K.remove(e,"handle events"),a)for(i=0,s=a[n].length;i<s;i++)k.event.add(e,n,a[n][i]);Z.hasData(t)&&(r=Z.access(t),o=k.extend({},r),Z.set(e,o))}}function Ht(t,e){var i=e.nodeName.toLowerCase();"input"===i&&mt.test(t.type)?e.checked=t.checked:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}function Rt(t,e,i,s){e=h(e);var n,r,o,a,l,c,u=0,d=t.length,p=d-1,f=e[0],g=v(f);if(g||d>1&&"string"==typeof f&&!m.checkClone&&At.test(f))return t.each((function(n){var r=t.eq(n);g&&(e[0]=f.call(this,n,r.html())),Rt(r,e,i,s)}));if(d&&(r=(n=St(e,t[0].ownerDocument,!1,t,s)).firstChild,1===n.childNodes.length&&(n=r),r||s)){for(a=(o=k.map(xt(n,"script"),Nt)).length;u<d;u++)l=n,u!==p&&(l=k.clone(l,!0,!0),a&&k.merge(o,xt(l,"script"))),i.call(t[u],l,u);if(a)for(c=o[o.length-1].ownerDocument,k.map(o,Ft),u=0;u<a;u++)l=o[u],yt.test(l.type||"")&&!K.access(l,"globalEval")&&k.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?k._evalUrl&&!l.noModule&&k._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},c):w(l.textContent.replace(Mt,""),l,c))}return t}function zt(t,e,i){for(var s,n=e?k.filter(e,t):t,r=0;null!=(s=n[r]);r++)i||1!==s.nodeType||k.cleanData(xt(s)),s.parentNode&&(i&&at(s)&&wt(xt(s,"script")),s.parentNode.removeChild(s));return t}k.extend({htmlPrefilter:function(t){return t},clone:function(t,e,i){var s,n,r,o,a=t.cloneNode(!0),h=at(t);if(!(m.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||k.isXMLDoc(t)))for(o=xt(a),s=0,n=(r=xt(t)).length;s<n;s++)Ht(r[s],o[s]);if(e)if(i)for(r=r||xt(t),o=o||xt(a),s=0,n=r.length;s<n;s++)Ot(r[s],o[s]);else Ot(t,a);return(o=xt(a,"script")).length>0&&wt(o,!h&&xt(t,"script")),a},cleanData:function(t){for(var e,i,s,n=k.event.special,r=0;void 0!==(i=t[r]);r++)if(Q(i)){if(e=i[K.expando]){if(e.events)for(s in e.events)n[s]?k.event.remove(i,s):k.removeEvent(i,s,e.handle);i[K.expando]=void 0}i[Z.expando]&&(i[Z.expando]=void 0)}}}),k.fn.extend({detach:function(t){return zt(this,t,!0)},remove:function(t){return zt(this,t)},text:function(t){return V(this,(function(t){return void 0===t?k.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return Rt(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Et(this,t).appendChild(t)}))},prepend:function(){return Rt(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Et(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return Rt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return Rt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(k.cleanData(xt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return k.clone(this,t,e)}))},html:function(t){return V(this,(function(t){var e=this[0]||{},i=0,s=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Pt.test(t)&&!bt[(vt.exec(t)||["",""])[1].toLowerCase()]){t=k.htmlPrefilter(t);try{for(;i<s;i++)1===(e=this[i]||{}).nodeType&&(k.cleanData(xt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return Rt(this,arguments,(function(e){var i=this.parentNode;k.inArray(this,t)<0&&(k.cleanData(xt(this)),i&&i.replaceChild(e,this))}),t)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){k.fn[t]=function(t){for(var i,s=[],n=k(t),r=n.length-1,o=0;o<=r;o++)i=o===r?this:this.clone(!0),k(n[o])[e](i),l.apply(s,i.get());return this.pushStack(s)}}));var Xt=new RegExp("^("+st+")(?!px)[a-z%]+$","i"),Yt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=s),e.getComputedStyle(t)},jt=function(t,e,i){var s,n,r={};for(n in e)r[n]=t.style[n],t.style[n]=e[n];for(n in s=i.call(t),e)t.style[n]=r[n];return s},Bt=new RegExp(rt.join("|"),"i");function Wt(t,e,i){var s,n,r,o,a=t.style;return(i=i||Yt(t))&&(""!==(o=i.getPropertyValue(e)||i[e])||at(t)||(o=k.style(t,e)),!m.pixelBoxStyles()&&Xt.test(o)&&Bt.test(e)&&(s=a.width,n=a.minWidth,r=a.maxWidth,a.minWidth=a.maxWidth=a.width=o,o=i.width,a.width=s,a.minWidth=n,a.maxWidth=r)),void 0!==o?o+"":o}function Vt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(c){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ot.appendChild(l).appendChild(c);var t=s.getComputedStyle(c);i="1%"!==t.top,h=12===e(t.marginLeft),c.style.right="60%",o=36===e(t.right),n=36===e(t.width),c.style.position="absolute",r=12===e(c.offsetWidth/3),ot.removeChild(l),c=null}}function e(t){return Math.round(parseFloat(t))}var i,n,r,o,a,h,l=b.createElement("div"),c=b.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===c.style.backgroundClip,k.extend(m,{boxSizingReliable:function(){return t(),n},pixelBoxStyles:function(){return t(),o},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),h},scrollboxSize:function(){return t(),r},reliableTrDimensions:function(){var t,e,i,n;return null==a&&(t=b.createElement("table"),e=b.createElement("tr"),i=b.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",e.style.cssText="border:1px solid",e.style.height="1px",i.style.height="9px",i.style.display="block",ot.appendChild(t).appendChild(e).appendChild(i),n=s.getComputedStyle(e),a=parseInt(n.height,10)+parseInt(n.borderTopWidth,10)+parseInt(n.borderBottomWidth,10)===e.offsetHeight,ot.removeChild(t)),a}}))}();var qt=["Webkit","Moz","ms"],Ut=b.createElement("div").style,Jt={};function Gt(t){return k.cssProps[t]||Jt[t]||(t in Ut?t:Jt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),i=qt.length;i--;)if((t=qt[i]+e)in Ut)return t}(t)||t)}var Qt=/^(none|table(?!-c[ea]).+)/,$t=/^--/,Kt={position:"absolute",visibility:"hidden",display:"block"},Zt={letterSpacing:"0",fontWeight:"400"};function te(t,e,i){var s=nt.exec(e);return s?Math.max(0,s[2]-(i||0))+(s[3]||"px"):e}function ee(t,e,i,s,n,r){var o="width"===e?1:0,a=0,h=0;if(i===(s?"border":"content"))return 0;for(;o<4;o+=2)"margin"===i&&(h+=k.css(t,i+rt[o],!0,n)),s?("content"===i&&(h-=k.css(t,"padding"+rt[o],!0,n)),"margin"!==i&&(h-=k.css(t,"border"+rt[o]+"Width",!0,n))):(h+=k.css(t,"padding"+rt[o],!0,n),"padding"!==i?h+=k.css(t,"border"+rt[o]+"Width",!0,n):a+=k.css(t,"border"+rt[o]+"Width",!0,n));return!s&&r>=0&&(h+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-r-h-a-.5))||0),h}function ie(t,e,i){var s=Yt(t),n=(!m.boxSizingReliable()||i)&&"border-box"===k.css(t,"boxSizing",!1,s),r=n,o=Wt(t,e,s),a="offset"+e[0].toUpperCase()+e.slice(1);if(Xt.test(o)){if(!i)return o;o="auto"}return(!m.boxSizingReliable()&&n||!m.reliableTrDimensions()&&P(t,"tr")||"auto"===o||!parseFloat(o)&&"inline"===k.css(t,"display",!1,s))&&t.getClientRects().length&&(n="border-box"===k.css(t,"boxSizing",!1,s),(r=a in t)&&(o=t[a])),(o=parseFloat(o)||0)+ee(t,e,i||(n?"border":"content"),r,s,o)+"px"}function se(t,e,i,s,n){return new se.prototype.init(t,e,i,s,n)}k.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=Wt(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,i,s){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var n,r,o,a=G(e),h=$t.test(e),l=t.style;if(h||(e=Gt(a)),o=k.cssHooks[e]||k.cssHooks[a],void 0===i)return o&&"get"in o&&void 0!==(n=o.get(t,!1,s))?n:l[e];"string"==(r=typeof i)&&(n=nt.exec(i))&&n[1]&&(i=ct(t,e,n),r="number"),null!=i&&i==i&&("number"!==r||h||(i+=n&&n[3]||(k.cssNumber[a]?"":"px")),m.clearCloneStyle||""!==i||0!==e.indexOf("background")||(l[e]="inherit"),o&&"set"in o&&void 0===(i=o.set(t,i,s))||(h?l.setProperty(e,i):l[e]=i))}},css:function(t,e,i,s){var n,r,o,a=G(e);return $t.test(e)||(e=Gt(a)),(o=k.cssHooks[e]||k.cssHooks[a])&&"get"in o&&(n=o.get(t,!0,i)),void 0===n&&(n=Wt(t,e,s)),"normal"===n&&e in Zt&&(n=Zt[e]),""===i||i?(r=parseFloat(n),!0===i||isFinite(r)?r||0:n):n}}),k.each(["height","width"],(function(t,e){k.cssHooks[e]={get:function(t,i,s){if(i)return!Qt.test(k.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?ie(t,e,s):jt(t,Kt,(function(){return ie(t,e,s)}))},set:function(t,i,s){var n,r=Yt(t),o=!m.scrollboxSize()&&"absolute"===r.position,a=(o||s)&&"border-box"===k.css(t,"boxSizing",!1,r),h=s?ee(t,e,s,a,r):0;return a&&o&&(h-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(r[e])-ee(t,e,"border",!1,r)-.5)),h&&(n=nt.exec(i))&&"px"!==(n[3]||"px")&&(t.style[e]=i,i=k.css(t,e)),te(0,i,h)}}})),k.cssHooks.marginLeft=Vt(m.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(Wt(t,"marginLeft"))||t.getBoundingClientRect().left-jt(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),k.each({margin:"",padding:"",border:"Width"},(function(t,e){k.cssHooks[t+e]={expand:function(i){for(var s=0,n={},r="string"==typeof i?i.split(" "):[i];s<4;s++)n[t+rt[s]+e]=r[s]||r[s-2]||r[0];return n}},"margin"!==t&&(k.cssHooks[t+e].set=te)})),k.fn.extend({css:function(t,e){return V(this,(function(t,e,i){var s,n,r={},o=0;if(Array.isArray(e)){for(s=Yt(t),n=e.length;o<n;o++)r[e[o]]=k.css(t,e[o],!1,s);return r}return void 0!==i?k.style(t,e,i):k.css(t,e)}),t,e,arguments.length>1)}}),k.Tween=se,se.prototype={constructor:se,init:function(t,e,i,s,n,r){this.elem=t,this.prop=i,this.easing=n||k.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=s,this.unit=r||(k.cssNumber[i]?"":"px")},cur:function(){var t=se.propHooks[this.prop];return t&&t.get?t.get(this):se.propHooks._default.get(this)},run:function(t){var e,i=se.propHooks[this.prop];return this.options.duration?this.pos=e=k.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):se.propHooks._default.set(this),this}},se.prototype.init.prototype=se.prototype,se.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=k.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){k.fx.step[t.prop]?k.fx.step[t.prop](t):1!==t.elem.nodeType||!k.cssHooks[t.prop]&&null==t.elem.style[Gt(t.prop)]?t.elem[t.prop]=t.now:k.style(t.elem,t.prop,t.now+t.unit)}}},se.propHooks.scrollTop=se.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},k.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},k.fx=se.prototype.init,k.fx.step={};var ne,re,oe=/^(?:toggle|show|hide)$/,ae=/queueHooks$/;function he(){re&&(!1===b.hidden&&s.requestAnimationFrame?s.requestAnimationFrame(he):s.setTimeout(he,k.fx.interval),k.fx.tick())}function le(){return s.setTimeout((function(){ne=void 0})),ne=Date.now()}function ce(t,e){var i,s=0,n={height:t};for(e=e?1:0;s<4;s+=2-e)n["margin"+(i=rt[s])]=n["padding"+i]=t;return e&&(n.opacity=n.width=t),n}function ue(t,e,i){for(var s,n=(de.tweeners[e]||[]).concat(de.tweeners["*"]),r=0,o=n.length;r<o;r++)if(s=n[r].call(i,e,t))return s}function de(t,e,i){var s,n,r=0,o=de.prefilters.length,a=k.Deferred().always((function(){delete h.elem})),h=function(){if(n)return!1;for(var e=ne||le(),i=Math.max(0,l.startTime+l.duration-e),s=1-(i/l.duration||0),r=0,o=l.tweens.length;r<o;r++)l.tweens[r].run(s);return a.notifyWith(t,[l,s,i]),s<1&&o?i:(o||a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l]),!1)},l=a.promise({elem:t,props:k.extend({},e),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},i),originalProperties:e,originalOptions:i,startTime:ne||le(),duration:i.duration,tweens:[],createTween:function(e,i){var s=k.Tween(t,l.opts,e,i,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(s),s},stop:function(e){var i=0,s=e?l.tweens.length:0;if(n)return this;for(n=!0;i<s;i++)l.tweens[i].run(1);return e?(a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l,e])):a.rejectWith(t,[l,e]),this}}),c=l.props;for(function(t,e){var i,s,n,r,o;for(i in t)if(n=e[s=G(i)],r=t[i],Array.isArray(r)&&(n=r[1],r=t[i]=r[0]),i!==s&&(t[s]=r,delete t[i]),(o=k.cssHooks[s])&&"expand"in o)for(i in r=o.expand(r),delete t[s],r)i in t||(t[i]=r[i],e[i]=n);else e[s]=n}(c,l.opts.specialEasing);r<o;r++)if(s=de.prefilters[r].call(l,t,c,l.opts))return v(s.stop)&&(k._queueHooks(l.elem,l.opts.queue).stop=s.stop.bind(s)),s;return k.map(c,ue,l),v(l.opts.start)&&l.opts.start.call(t,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),k.fx.timer(k.extend(h,{elem:t,anim:l,queue:l.opts.queue})),l}k.Animation=k.extend(de,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return ct(i.elem,t,nt.exec(e),i),i}]},tweener:function(t,e){v(t)?(e=t,t=["*"]):t=t.match(R);for(var i,s=0,n=t.length;s<n;s++)i=t[s],de.tweeners[i]=de.tweeners[i]||[],de.tweeners[i].unshift(e)},prefilters:[function(t,e,i){var s,n,r,o,a,h,l,c,u="width"in e||"height"in e,d=this,p={},f=t.style,g=t.nodeType&&lt(t),m=K.get(t,"fxshow");for(s in i.queue||(null==(o=k._queueHooks(t,"fx")).unqueued&&(o.unqueued=0,a=o.empty.fire,o.empty.fire=function(){o.unqueued||a()}),o.unqueued++,d.always((function(){d.always((function(){o.unqueued--,k.queue(t,"fx").length||o.empty.fire()}))}))),e)if(n=e[s],oe.test(n)){if(delete e[s],r=r||"toggle"===n,n===(g?"hide":"show")){if("show"!==n||!m||void 0===m[s])continue;g=!0}p[s]=m&&m[s]||k.style(t,s)}if((h=!k.isEmptyObject(e))||!k.isEmptyObject(p))for(s in u&&1===t.nodeType&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],null==(l=m&&m.display)&&(l=K.get(t,"display")),"none"===(c=k.css(t,"display"))&&(l?c=l:(pt([t],!0),l=t.style.display||l,c=k.css(t,"display"),pt([t]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===k.css(t,"float")&&(h||(d.done((function(){f.display=l})),null==l&&(c=f.display,l="none"===c?"":c)),f.display="inline-block")),i.overflow&&(f.overflow="hidden",d.always((function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]}))),h=!1,p)h||(m?"hidden"in m&&(g=m.hidden):m=K.access(t,"fxshow",{display:l}),r&&(m.hidden=!g),g&&pt([t],!0),d.done((function(){for(s in g||pt([t]),K.remove(t,"fxshow"),p)k.style(t,s,p[s])}))),h=ue(g?m[s]:0,s,d),s in m||(m[s]=h.start,g&&(h.end=h.start,h.start=0))}],prefilter:function(t,e){e?de.prefilters.unshift(t):de.prefilters.push(t)}}),k.speed=function(t,e,i){var s=t&&"object"==typeof t?k.extend({},t):{complete:i||!i&&e||v(t)&&t,duration:t,easing:i&&e||e&&!v(e)&&e};return k.fx.off?s.duration=0:"number"!=typeof s.duration&&(s.duration in k.fx.speeds?s.duration=k.fx.speeds[s.duration]:s.duration=k.fx.speeds._default),null!=s.queue&&!0!==s.queue||(s.queue="fx"),s.old=s.complete,s.complete=function(){v(s.old)&&s.old.call(this),s.queue&&k.dequeue(this,s.queue)},s},k.fn.extend({fadeTo:function(t,e,i,s){return this.filter(lt).css("opacity",0).show().end().animate({opacity:e},t,i,s)},animate:function(t,e,i,s){var n=k.isEmptyObject(t),r=k.speed(e,i,s),o=function(){var e=de(this,k.extend({},t),r);(n||K.get(this,"finish"))&&e.stop(!0)};return o.finish=o,n||!1===r.queue?this.each(o):this.queue(r.queue,o)},stop:function(t,e,i){var s=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each((function(){var e=!0,n=null!=t&&t+"queueHooks",r=k.timers,o=K.get(this);if(n)o[n]&&o[n].stop&&s(o[n]);else for(n in o)o[n]&&o[n].stop&&ae.test(n)&&s(o[n]);for(n=r.length;n--;)r[n].elem!==this||null!=t&&r[n].queue!==t||(r[n].anim.stop(i),e=!1,r.splice(n,1));!e&&i||k.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,i=K.get(this),s=i[t+"queue"],n=i[t+"queueHooks"],r=k.timers,o=s?s.length:0;for(i.finish=!0,k.queue(this,t,[]),n&&n.stop&&n.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===t&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<o;e++)s[e]&&s[e].finish&&s[e].finish.call(this);delete i.finish}))}}),k.each(["toggle","show","hide"],(function(t,e){var i=k.fn[e];k.fn[e]=function(t,s,n){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(ce(e,!0),t,s,n)}})),k.each({slideDown:ce("show"),slideUp:ce("hide"),slideToggle:ce("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){k.fn[t]=function(t,i,s){return this.animate(e,t,i,s)}})),k.timers=[],k.fx.tick=function(){var t,e=0,i=k.timers;for(ne=Date.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||k.fx.stop(),ne=void 0},k.fx.timer=function(t){k.timers.push(t),k.fx.start()},k.fx.interval=13,k.fx.start=function(){re||(re=!0,he())},k.fx.stop=function(){re=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(t,e){return t=k.fx&&k.fx.speeds[t]||t,e=e||"fx",this.queue(e,(function(e,i){var n=s.setTimeout(e,t);i.stop=function(){s.clearTimeout(n)}}))},function(){var t=b.createElement("input"),e=b.createElement("select").appendChild(b.createElement("option"));t.type="checkbox",m.checkOn=""!==t.value,m.optSelected=e.selected,(t=b.createElement("input")).value="t",t.type="radio",m.radioValue="t"===t.value}();var pe,fe=k.expr.attrHandle;k.fn.extend({attr:function(t,e){return V(this,k.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){k.removeAttr(this,t)}))}}),k.extend({attr:function(t,e,i){var s,n,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return void 0===t.getAttribute?k.prop(t,e,i):(1===r&&k.isXMLDoc(t)||(n=k.attrHooks[e.toLowerCase()]||(k.expr.match.bool.test(e)?pe:void 0)),void 0!==i?null===i?void k.removeAttr(t,e):n&&"set"in n&&void 0!==(s=n.set(t,i,e))?s:(t.setAttribute(e,i+""),i):n&&"get"in n&&null!==(s=n.get(t,e))?s:null==(s=k.find.attr(t,e))?void 0:s)},attrHooks:{type:{set:function(t,e){if(!m.radioValue&&"radio"===e&&P(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,s=0,n=e&&e.match(R);if(n&&1===t.nodeType)for(;i=n[s++];)t.removeAttribute(i)}}),pe={set:function(t,e,i){return!1===e?k.removeAttr(t,i):t.setAttribute(i,i),i}},k.each(k.expr.match.bool.source.match(/\w+/g),(function(t,e){var i=fe[e]||k.find.attr;fe[e]=function(t,e,s){var n,r,o=e.toLowerCase();return s||(r=fe[o],fe[o]=n,n=null!=i(t,e,s)?o:null,fe[o]=r),n}}));var ge=/^(?:input|select|textarea|button)$/i,me=/^(?:a|area)$/i;function ve(t){return(t.match(R)||[]).join(" ")}function ye(t){return t.getAttribute&&t.getAttribute("class")||""}function be(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(R)||[]}k.fn.extend({prop:function(t,e){return V(this,k.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[k.propFix[t]||t]}))}}),k.extend({prop:function(t,e,i){var s,n,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&k.isXMLDoc(t)||(e=k.propFix[e]||e,n=k.propHooks[e]),void 0!==i?n&&"set"in n&&void 0!==(s=n.set(t,i,e))?s:t[e]=i:n&&"get"in n&&null!==(s=n.get(t,e))?s:t[e]},propHooks:{tabIndex:{get:function(t){var e=k.find.attr(t,"tabindex");return e?parseInt(e,10):ge.test(t.nodeName)||me.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(k.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){k.propFix[this.toLowerCase()]=this})),k.fn.extend({addClass:function(t){var e,i,s,n,r,o,a,h=0;if(v(t))return this.each((function(e){k(this).addClass(t.call(this,e,ye(this)))}));if((e=be(t)).length)for(;i=this[h++];)if(n=ye(i),s=1===i.nodeType&&" "+ve(n)+" "){for(o=0;r=e[o++];)s.indexOf(" "+r+" ")<0&&(s+=r+" ");n!==(a=ve(s))&&i.setAttribute("class",a)}return this},removeClass:function(t){var e,i,s,n,r,o,a,h=0;if(v(t))return this.each((function(e){k(this).removeClass(t.call(this,e,ye(this)))}));if(!arguments.length)return this.attr("class","");if((e=be(t)).length)for(;i=this[h++];)if(n=ye(i),s=1===i.nodeType&&" "+ve(n)+" "){for(o=0;r=e[o++];)for(;s.indexOf(" "+r+" ")>-1;)s=s.replace(" "+r+" "," ");n!==(a=ve(s))&&i.setAttribute("class",a)}return this},toggleClass:function(t,e){var i=typeof t,s="string"===i||Array.isArray(t);return"boolean"==typeof e&&s?e?this.addClass(t):this.removeClass(t):v(t)?this.each((function(i){k(this).toggleClass(t.call(this,i,ye(this),e),e)})):this.each((function(){var e,n,r,o;if(s)for(n=0,r=k(this),o=be(t);e=o[n++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==t&&"boolean"!==i||((e=ye(this))&&K.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":K.get(this,"__className__")||""))}))},hasClass:function(t){var e,i,s=0;for(e=" "+t+" ";i=this[s++];)if(1===i.nodeType&&(" "+ve(ye(i))+" ").indexOf(e)>-1)return!0;return!1}});var xe=/\r/g;k.fn.extend({val:function(t){var e,i,s,n=this[0];return arguments.length?(s=v(t),this.each((function(i){var n;1===this.nodeType&&(null==(n=s?t.call(this,i,k(this).val()):t)?n="":"number"==typeof n?n+="":Array.isArray(n)&&(n=k.map(n,(function(t){return null==t?"":t+""}))),(e=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,n,"value")||(this.value=n))}))):n?(e=k.valHooks[n.type]||k.valHooks[n.nodeName.toLowerCase()])&&"get"in e&&void 0!==(i=e.get(n,"value"))?i:"string"==typeof(i=n.value)?i.replace(xe,""):null==i?"":i:void 0}}),k.extend({valHooks:{option:{get:function(t){var e=k.find.attr(t,"value");return null!=e?e:ve(k.text(t))}},select:{get:function(t){var e,i,s,n=t.options,r=t.selectedIndex,o="select-one"===t.type,a=o?null:[],h=o?r+1:n.length;for(s=r<0?h:o?r:0;s<h;s++)if(((i=n[s]).selected||s===r)&&!i.disabled&&(!i.parentNode.disabled||!P(i.parentNode,"optgroup"))){if(e=k(i).val(),o)return e;a.push(e)}return a},set:function(t,e){for(var i,s,n=t.options,r=k.makeArray(e),o=n.length;o--;)((s=n[o]).selected=k.inArray(k.valHooks.option.get(s),r)>-1)&&(i=!0);return i||(t.selectedIndex=-1),r}}}}),k.each(["radio","checkbox"],(function(){k.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=k.inArray(k(t).val(),e)>-1}},m.checkOn||(k.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})})),m.focusin="onfocusin"in s;var we=/^(?:focusinfocus|focusoutblur)$/,Ce=function(t){t.stopPropagation()};k.extend(k.event,{trigger:function(t,e,i,n){var r,o,a,h,l,c,u,d,f=[i||b],g=p.call(t,"type")?t.type:t,m=p.call(t,"namespace")?t.namespace.split("."):[];if(o=d=a=i=i||b,3!==i.nodeType&&8!==i.nodeType&&!we.test(g+k.event.triggered)&&(g.indexOf(".")>-1&&(m=g.split("."),g=m.shift(),m.sort()),l=g.indexOf(":")<0&&"on"+g,(t=t[k.expando]?t:new k.Event(g,"object"==typeof t&&t)).isTrigger=n?2:3,t.namespace=m.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:k.makeArray(e,[t]),u=k.event.special[g]||{},n||!u.trigger||!1!==u.trigger.apply(i,e))){if(!n&&!u.noBubble&&!y(i)){for(h=u.delegateType||g,we.test(h+g)||(o=o.parentNode);o;o=o.parentNode)f.push(o),a=o;a===(i.ownerDocument||b)&&f.push(a.defaultView||a.parentWindow||s)}for(r=0;(o=f[r++])&&!t.isPropagationStopped();)d=o,t.type=r>1?h:u.bindType||g,(c=(K.get(o,"events")||Object.create(null))[t.type]&&K.get(o,"handle"))&&c.apply(o,e),(c=l&&o[l])&&c.apply&&Q(o)&&(t.result=c.apply(o,e),!1===t.result&&t.preventDefault());return t.type=g,n||t.isDefaultPrevented()||u._default&&!1!==u._default.apply(f.pop(),e)||!Q(i)||l&&v(i[g])&&!y(i)&&((a=i[l])&&(i[l]=null),k.event.triggered=g,t.isPropagationStopped()&&d.addEventListener(g,Ce),i[g](),t.isPropagationStopped()&&d.removeEventListener(g,Ce),k.event.triggered=void 0,a&&(i[l]=a)),t.result}},simulate:function(t,e,i){var s=k.extend(new k.Event,i,{type:t,isSimulated:!0});k.event.trigger(s,null,e)}}),k.fn.extend({trigger:function(t,e){return this.each((function(){k.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var i=this[0];if(i)return k.event.trigger(t,e,i,!0)}}),m.focusin||k.each({focus:"focusin",blur:"focusout"},(function(t,e){var i=function(t){k.event.simulate(e,t.target,k.event.fix(t))};k.event.special[e]={setup:function(){var s=this.ownerDocument||this.document||this,n=K.access(s,e);n||s.addEventListener(t,i,!0),K.access(s,e,(n||0)+1)},teardown:function(){var s=this.ownerDocument||this.document||this,n=K.access(s,e)-1;n?K.access(s,e,n):(s.removeEventListener(t,i,!0),K.remove(s,e))}}}));var Se=s.location,ke={guid:Date.now()},De=/\?/;k.parseXML=function(t){var e,i;if(!t||"string"!=typeof t)return null;try{e=(new s.DOMParser).parseFromString(t,"text/xml")}catch(t){}return i=e&&e.getElementsByTagName("parsererror")[0],e&&!i||k.error("Invalid XML: "+(i?k.map(i.childNodes,(function(t){return t.textContent})).join("\n"):t)),e};var Te=/\[\]$/,Ie=/\r?\n/g,_e=/^(?:submit|button|image|reset|file)$/i,Le=/^(?:input|select|textarea|keygen)/i;function Pe(t,e,i,s){var n;if(Array.isArray(e))k.each(e,(function(e,n){i||Te.test(t)?s(t,n):Pe(t+"["+("object"==typeof n&&null!=n?e:"")+"]",n,i,s)}));else if(i||"object"!==C(e))s(t,e);else for(n in e)Pe(t+"["+n+"]",e[n],i,s)}k.param=function(t,e){var i,s=[],n=function(t,e){var i=v(e)?e():e;s[s.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==i?"":i)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!k.isPlainObject(t))k.each(t,(function(){n(this.name,this.value)}));else for(i in t)Pe(i,t[i],e,n);return s.join("&")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=k.prop(this,"elements");return t?k.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!k(this).is(":disabled")&&Le.test(this.nodeName)&&!_e.test(t)&&(this.checked||!mt.test(t))})).map((function(t,e){var i=k(this).val();return null==i?null:Array.isArray(i)?k.map(i,(function(t){return{name:e.name,value:t.replace(Ie,"\r\n")}})):{name:e.name,value:i.replace(Ie,"\r\n")}})).get()}});var Ae=/%20/g,Me=/#.*$/,Ee=/([?&])_=[^&]*/,Ne=/^(.*?):[ \t]*([^\r\n]*)$/gm,Fe=/^(?:GET|HEAD)$/,Oe=/^\/\//,He={},Re={},ze="*/".concat("*"),Xe=b.createElement("a");function Ye(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var s,n=0,r=e.toLowerCase().match(R)||[];if(v(i))for(;s=r[n++];)"+"===s[0]?(s=s.slice(1)||"*",(t[s]=t[s]||[]).unshift(i)):(t[s]=t[s]||[]).push(i)}}function je(t,e,i,s){var n={},r=t===Re;function o(a){var h;return n[a]=!0,k.each(t[a]||[],(function(t,a){var l=a(e,i,s);return"string"!=typeof l||r||n[l]?r?!(h=l):void 0:(e.dataTypes.unshift(l),o(l),!1)})),h}return o(e.dataTypes[0])||!n["*"]&&o("*")}function Be(t,e){var i,s,n=k.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((n[i]?t:s||(s={}))[i]=e[i]);return s&&k.extend(!0,t,s),t}Xe.href=Se.href,k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Se.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Se.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ze,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Be(Be(t,k.ajaxSettings),e):Be(k.ajaxSettings,t)},ajaxPrefilter:Ye(He),ajaxTransport:Ye(Re),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,n,r,o,a,h,l,c,u,d,p=k.ajaxSetup({},e),f=p.context||p,g=p.context&&(f.nodeType||f.jquery)?k(f):k.event,m=k.Deferred(),v=k.Callbacks("once memory"),y=p.statusCode||{},x={},w={},C="canceled",S={readyState:0,getResponseHeader:function(t){var e;if(l){if(!o)for(o={};e=Ne.exec(r);)o[e[1].toLowerCase()+" "]=(o[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=o[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return l?r:null},setRequestHeader:function(t,e){return null==l&&(t=w[t.toLowerCase()]=w[t.toLowerCase()]||t,x[t]=e),this},overrideMimeType:function(t){return null==l&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(l)S.always(t[S.status]);else for(e in t)y[e]=[y[e],t[e]];return this},abort:function(t){var e=t||C;return i&&i.abort(e),D(0,e),this}};if(m.promise(S),p.url=((t||p.url||Se.href)+"").replace(Oe,Se.protocol+"//"),p.type=e.method||e.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(R)||[""],null==p.crossDomain){h=b.createElement("a");try{h.href=p.url,h.href=h.href,p.crossDomain=Xe.protocol+"//"+Xe.host!=h.protocol+"//"+h.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=k.param(p.data,p.traditional)),je(He,p,e,S),l)return S;for(u in(c=k.event&&p.global)&&0==k.active++&&k.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Fe.test(p.type),n=p.url.replace(Me,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Ae,"+")):(d=p.url.slice(n.length),p.data&&(p.processData||"string"==typeof p.data)&&(n+=(De.test(n)?"&":"?")+p.data,delete p.data),!1===p.cache&&(n=n.replace(Ee,"$1"),d=(De.test(n)?"&":"?")+"_="+ke.guid+++d),p.url=n+d),p.ifModified&&(k.lastModified[n]&&S.setRequestHeader("If-Modified-Since",k.lastModified[n]),k.etag[n]&&S.setRequestHeader("If-None-Match",k.etag[n])),(p.data&&p.hasContent&&!1!==p.contentType||e.contentType)&&S.setRequestHeader("Content-Type",p.contentType),S.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+ze+"; q=0.01":""):p.accepts["*"]),p.headers)S.setRequestHeader(u,p.headers[u]);if(p.beforeSend&&(!1===p.beforeSend.call(f,S,p)||l))return S.abort();if(C="abort",v.add(p.complete),S.done(p.success),S.fail(p.error),i=je(Re,p,e,S)){if(S.readyState=1,c&&g.trigger("ajaxSend",[S,p]),l)return S;p.async&&p.timeout>0&&(a=s.setTimeout((function(){S.abort("timeout")}),p.timeout));try{l=!1,i.send(x,D)}catch(t){if(l)throw t;D(-1,t)}}else D(-1,"No Transport");function D(t,e,o,h){var u,d,b,x,w,C=e;l||(l=!0,a&&s.clearTimeout(a),i=void 0,r=h||"",S.readyState=t>0?4:0,u=t>=200&&t<300||304===t,o&&(x=function(t,e,i){for(var s,n,r,o,a=t.contents,h=t.dataTypes;"*"===h[0];)h.shift(),void 0===s&&(s=t.mimeType||e.getResponseHeader("Content-Type"));if(s)for(n in a)if(a[n]&&a[n].test(s)){h.unshift(n);break}if(h[0]in i)r=h[0];else{for(n in i){if(!h[0]||t.converters[n+" "+h[0]]){r=n;break}o||(o=n)}r=r||o}if(r)return r!==h[0]&&h.unshift(r),i[r]}(p,S,o)),!u&&k.inArray("script",p.dataTypes)>-1&&k.inArray("json",p.dataTypes)<0&&(p.converters["text script"]=function(){}),x=function(t,e,i,s){var n,r,o,a,h,l={},c=t.dataTypes.slice();if(c[1])for(o in t.converters)l[o.toLowerCase()]=t.converters[o];for(r=c.shift();r;)if(t.responseFields[r]&&(i[t.responseFields[r]]=e),!h&&s&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),h=r,r=c.shift())if("*"===r)r=h;else if("*"!==h&&h!==r){if(!(o=l[h+" "+r]||l["* "+r]))for(n in l)if((a=n.split(" "))[1]===r&&(o=l[h+" "+a[0]]||l["* "+a[0]])){!0===o?o=l[n]:!0!==l[n]&&(r=a[0],c.unshift(a[1]));break}if(!0!==o)if(o&&t.throws)e=o(e);else try{e=o(e)}catch(t){return{state:"parsererror",error:o?t:"No conversion from "+h+" to "+r}}}return{state:"success",data:e}}(p,x,S,u),u?(p.ifModified&&((w=S.getResponseHeader("Last-Modified"))&&(k.lastModified[n]=w),(w=S.getResponseHeader("etag"))&&(k.etag[n]=w)),204===t||"HEAD"===p.type?C="nocontent":304===t?C="notmodified":(C=x.state,d=x.data,u=!(b=x.error))):(b=C,!t&&C||(C="error",t<0&&(t=0))),S.status=t,S.statusText=(e||C)+"",u?m.resolveWith(f,[d,C,S]):m.rejectWith(f,[S,C,b]),S.statusCode(y),y=void 0,c&&g.trigger(u?"ajaxSuccess":"ajaxError",[S,p,u?d:b]),v.fireWith(f,[S,C]),c&&(g.trigger("ajaxComplete",[S,p]),--k.active||k.event.trigger("ajaxStop")))}return S},getJSON:function(t,e,i){return k.get(t,e,i,"json")},getScript:function(t,e){return k.get(t,void 0,e,"script")}}),k.each(["get","post"],(function(t,e){k[e]=function(t,i,s,n){return v(i)&&(n=n||s,s=i,i=void 0),k.ajax(k.extend({url:t,type:e,dataType:n,data:i,success:s},k.isPlainObject(t)&&t))}})),k.ajaxPrefilter((function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")})),k._evalUrl=function(t,e,i){return k.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){k.globalEval(t,e,i)}})},k.fn.extend({wrapAll:function(t){var e;return this[0]&&(v(t)&&(t=t.call(this[0])),e=k(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return v(t)?this.each((function(e){k(this).wrapInner(t.call(this,e))})):this.each((function(){var e=k(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)}))},wrap:function(t){var e=v(t);return this.each((function(i){k(this).wrapAll(e?t.call(this,i):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){k(this).replaceWith(this.childNodes)})),this}}),k.expr.pseudos.hidden=function(t){return!k.expr.pseudos.visible(t)},k.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new s.XMLHttpRequest}catch(t){}};var We={0:200,1223:204},Ve=k.ajaxSettings.xhr();m.cors=!!Ve&&"withCredentials"in Ve,m.ajax=Ve=!!Ve,k.ajaxTransport((function(t){var e,i;if(m.cors||Ve&&!t.crossDomain)return{send:function(n,r){var o,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)a[o]=t.xhrFields[o];for(o in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),n)a.setRequestHeader(o,n[o]);e=function(t){return function(){e&&(e=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?r(0,"error"):r(a.status,a.statusText):r(We[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=e(),i=a.onerror=a.ontimeout=e("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&s.setTimeout((function(){e&&i()}))},e=e("abort");try{a.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}})),k.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return k.globalEval(t),t}}}),k.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),k.ajaxTransport("script",(function(t){var e,i;if(t.crossDomain||t.scriptAttrs)return{send:function(s,n){e=k("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&n("error"===t.type?404:200,t.type)}),b.head.appendChild(e[0])},abort:function(){i&&i()}}}));var qe,Ue=[],Je=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ue.pop()||k.expando+"_"+ke.guid++;return this[t]=!0,t}}),k.ajaxPrefilter("json jsonp",(function(t,e,i){var n,r,o,a=!1!==t.jsonp&&(Je.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Je.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return n=t.jsonpCallback=v(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Je,"$1"+n):!1!==t.jsonp&&(t.url+=(De.test(t.url)?"&":"?")+t.jsonp+"="+n),t.converters["script json"]=function(){return o||k.error(n+" was not called"),o[0]},t.dataTypes[0]="json",r=s[n],s[n]=function(){o=arguments},i.always((function(){void 0===r?k(s).removeProp(n):s[n]=r,t[n]&&(t.jsonpCallback=e.jsonpCallback,Ue.push(n)),o&&v(r)&&r(o[0]),o=r=void 0})),"script"})),m.createHTMLDocument=((qe=b.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===qe.childNodes.length),k.parseHTML=function(t,e,i){return"string"!=typeof t?[]:("boolean"==typeof e&&(i=e,e=!1),e||(m.createHTMLDocument?((s=(e=b.implementation.createHTMLDocument("")).createElement("base")).href=b.location.href,e.head.appendChild(s)):e=b),r=!i&&[],(n=A.exec(t))?[e.createElement(n[1])]:(n=St([t],e,r),r&&r.length&&k(r).remove(),k.merge([],n.childNodes)));var s,n,r},k.fn.load=function(t,e,i){var s,n,r,o=this,a=t.indexOf(" ");return a>-1&&(s=ve(t.slice(a)),t=t.slice(0,a)),v(e)?(i=e,e=void 0):e&&"object"==typeof e&&(n="POST"),o.length>0&&k.ajax({url:t,type:n||"GET",dataType:"html",data:e}).done((function(t){r=arguments,o.html(s?k("<div>").append(k.parseHTML(t)).find(s):t)})).always(i&&function(t,e){o.each((function(){i.apply(this,r||[t.responseText,e,t])}))}),this},k.expr.pseudos.animated=function(t){return k.grep(k.timers,(function(e){return t===e.elem})).length},k.offset={setOffset:function(t,e,i){var s,n,r,o,a,h,l=k.css(t,"position"),c=k(t),u={};"static"===l&&(t.style.position="relative"),a=c.offset(),r=k.css(t,"top"),h=k.css(t,"left"),("absolute"===l||"fixed"===l)&&(r+h).indexOf("auto")>-1?(o=(s=c.position()).top,n=s.left):(o=parseFloat(r)||0,n=parseFloat(h)||0),v(e)&&(e=e.call(t,i,k.extend({},a))),null!=e.top&&(u.top=e.top-a.top+o),null!=e.left&&(u.left=e.left-a.left+n),"using"in e?e.using.call(t,u):c.css(u)}},k.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){k.offset.setOffset(this,t,e)}));var e,i,s=this[0];return s?s.getClientRects().length?(e=s.getBoundingClientRect(),i=s.ownerDocument.defaultView,{top:e.top+i.pageYOffset,left:e.left+i.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,i,s=this[0],n={top:0,left:0};if("fixed"===k.css(s,"position"))e=s.getBoundingClientRect();else{for(e=this.offset(),i=s.ownerDocument,t=s.offsetParent||i.documentElement;t&&(t===i.body||t===i.documentElement)&&"static"===k.css(t,"position");)t=t.parentNode;t&&t!==s&&1===t.nodeType&&((n=k(t).offset()).top+=k.css(t,"borderTopWidth",!0),n.left+=k.css(t,"borderLeftWidth",!0))}return{top:e.top-n.top-k.css(s,"marginTop",!0),left:e.left-n.left-k.css(s,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===k.css(t,"position");)t=t.offsetParent;return t||ot}))}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var i="pageYOffset"===e;k.fn[t]=function(s){return V(this,(function(t,s,n){var r;if(y(t)?r=t:9===t.nodeType&&(r=t.defaultView),void 0===n)return r?r[e]:t[s];r?r.scrollTo(i?r.pageXOffset:n,i?n:r.pageYOffset):t[s]=n}),t,s,arguments.length)}})),k.each(["top","left"],(function(t,e){k.cssHooks[e]=Vt(m.pixelPosition,(function(t,i){if(i)return i=Wt(t,e),Xt.test(i)?k(t).position()[e]+"px":i}))})),k.each({Height:"height",Width:"width"},(function(t,e){k.each({padding:"inner"+t,content:e,"":"outer"+t},(function(i,s){k.fn[s]=function(n,r){var o=arguments.length&&(i||"boolean"!=typeof n),a=i||(!0===n||!0===r?"margin":"border");return V(this,(function(e,i,n){var r;return y(e)?0===s.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===n?k.css(e,i,a):k.style(e,i,n,a)}),e,o?n:void 0,o)}}))})),k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){k.fn[e]=function(t){return this.on(e,t)}})),k.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,s){return this.on(e,t,i,s)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){k.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}));var Ge=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;k.proxy=function(t,e){var i,s,n;if("string"==typeof e&&(i=t[e],e=t,t=i),v(t))return s=a.call(arguments,2),n=function(){return t.apply(e||this,s.concat(a.call(arguments)))},n.guid=t.guid=t.guid||k.guid++,n},k.holdReady=function(t){t?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=P,k.isFunction=v,k.isWindow=y,k.camelCase=G,k.type=C,k.now=Date.now,k.isNumeric=function(t){var e=k.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},k.trim=function(t){return null==t?"":(t+"").replace(Ge,"")},void 0===(i=function(){return k}.apply(e,[]))||(t.exports=i);var Qe=s.jQuery,$e=s.$;return k.noConflict=function(t){return s.$===k&&(s.$=$e),t&&s.jQuery===k&&(s.jQuery=Qe),k},void 0===n&&(s.jQuery=s.$=k),k}))},61965:()=>{!function(t,e,i,s){"use strict";var n=t.fn.twbsPagination,r=function(e,i){if(this.$element=t(e),this.options=t.extend({},t.fn.twbsPagination.defaults,i),this.options.startPage<1||this.options.startPage>this.options.totalPages)throw new Error("Start page option is incorrect");if(this.options.totalPages=parseInt(this.options.totalPages),isNaN(this.options.totalPages))throw new Error("Total pages option is not correct!");if(this.options.visiblePages=parseInt(this.options.visiblePages),isNaN(this.options.visiblePages))throw new Error("Visible pages option is not correct!");if(this.options.beforePageClick instanceof Function&&this.$element.first().on("beforePage",this.options.beforePageClick),this.options.onPageClick instanceof Function&&this.$element.first().on("page",this.options.onPageClick),this.options.hideOnlyOnePage&&1==this.options.totalPages)return this.options.initiateStartPageClick&&this.$element.trigger("page",1),this;if(this.options.href&&(this.options.startPage=this.getPageFromQueryString(),this.options.startPage||(this.options.startPage=1)),"UL"===("function"==typeof this.$element.prop?this.$element.prop("tagName"):this.$element.attr("tagName")))this.$listContainer=this.$element;else{var s=this.$element,n=t([]);s.each((function(e){var i=t("<ul></ul>");t(this).append(i),n.push(i[0])})),this.$listContainer=n,this.$element=n}return this.$listContainer.addClass(this.options.paginationClass),this.options.initiateStartPageClick?this.show(this.options.startPage):(this.currentPage=this.options.startPage,this.render(this.getPages(this.options.startPage)),this.setupEvents()),this};r.prototype={constructor:r,destroy:function(){return this.$element.empty(),this.$element.removeData("twbs-pagination"),this.$element.off("page"),this},show:function(t){if(t<1||t>this.options.totalPages)throw new Error("Page is incorrect.");this.currentPage=t,this.$element.trigger("beforePage",t);var e=this.getPages(t);return this.render(e),this.setupEvents(),this.$element.trigger("page",t),e},enable:function(){this.show(this.currentPage)},disable:function(){var e=this;this.$listContainer.off("click").on("click","li",(function(t){t.preventDefault()})),this.$listContainer.children().each((function(){t(this).hasClass(e.options.activeClass)||t(this).addClass(e.options.disabledClass)}))},buildListItems:function(t){var e=[];if(this.options.first&&e.push(this.buildItem("first",1)),this.options.prev){var i=t.currentPage>1?t.currentPage-1:this.options.loop?this.options.totalPages:1;e.push(this.buildItem("prev",i))}for(var s=0;s<t.numeric.length;s++)e.push(this.buildItem("page",t.numeric[s]));if(this.options.next){var n=t.currentPage<this.options.totalPages?t.currentPage+1:this.options.loop?1:this.options.totalPages;e.push(this.buildItem("next",n))}return this.options.last&&e.push(this.buildItem("last",this.options.totalPages)),e},buildItem:function(e,i){var s=t("<li></li>"),n=t("<a></a>"),r=this.options[e]?this.makeText(this.options[e],i):i;return s.addClass(this.options[e+"Class"]),s.data("page",i),s.data("page-type",e),s.append(n.attr("href",this.makeHref(i)).addClass(this.options.anchorClass).html(r)),s},getPages:function(t){var e=[],i=Math.floor(this.options.visiblePages/2),s=t-i+1-this.options.visiblePages%2,n=t+i,r=this.options.visiblePages;r>this.options.totalPages&&(r=this.options.totalPages),s<=0&&(s=1,n=r),n>this.options.totalPages&&(s=this.options.totalPages-r+1,n=this.options.totalPages);for(var o=s;o<=n;)e.push(o),o++;return{currentPage:t,numeric:e}},render:function(e){var i=this;this.$listContainer.children().remove();var s=this.buildListItems(e);t.each(s,(function(t,e){i.$listContainer.append(e)})),this.$listContainer.children().each((function(){var s=t(this);switch(s.data("page-type")){case"page":s.data("page")===e.currentPage&&s.addClass(i.options.activeClass);break;case"first":s.toggleClass(i.options.disabledClass,1===e.currentPage);break;case"last":s.toggleClass(i.options.disabledClass,e.currentPage===i.options.totalPages);break;case"prev":s.toggleClass(i.options.disabledClass,!i.options.loop&&1===e.currentPage);break;case"next":s.toggleClass(i.options.disabledClass,!i.options.loop&&e.currentPage===i.options.totalPages)}}))},setupEvents:function(){var e=this;this.$listContainer.off("click").on("click","li",(function(i){var s=t(this);if(s.hasClass(e.options.disabledClass)||s.hasClass(e.options.activeClass))return!1;!e.options.href&&i.preventDefault(),e.show(parseInt(s.data("page")))}))},changeTotalPages:function(t,e){return this.options.totalPages=t,this.show(e)},makeHref:function(t){return this.options.href?this.generateQueryString(t):"#"},makeText:function(t,e){return t.replace(this.options.pageVariable,e).replace(this.options.totalPagesVariable,this.options.totalPages)},getPageFromQueryString:function(t){var e=this.getSearchString(t),i=new RegExp(this.options.pageVariable+"(=([^&#]*)|&|#|$)").exec(e);return i&&i[2]?(i=decodeURIComponent(i[2]),i=parseInt(i),isNaN(i)?null:i):null},generateQueryString:function(t,e){var i=this.getSearchString(e),s=new RegExp(this.options.pageVariable+"=*[^&#]*");return i?"?"+i.replace(s,this.options.pageVariable+"="+t):""},getSearchString:function(t){var i=t||e.location.search;return""===i?null:(0===i.indexOf("?")&&(i=i.substr(1)),i)},getCurrentPage:function(){return this.currentPage},getTotalPages:function(){return this.options.totalPages}},t.fn.twbsPagination=function(e){var i,n=Array.prototype.slice.call(arguments,1),o=t(this),a=o.data("twbs-pagination"),h="object"==typeof e?e:{};return a||o.data("twbs-pagination",a=new r(this,h)),"string"==typeof e&&(i=a[e].apply(a,n)),i===s?o:i},t.fn.twbsPagination.defaults={totalPages:1,startPage:1,visiblePages:5,initiateStartPageClick:!0,hideOnlyOnePage:!1,href:!1,pageVariable:"{{page}}",totalPagesVariable:"{{total_pages}}",page:null,first:"First",prev:"Previous",next:"Next",last:"Last",loop:!1,beforePageClick:null,onPageClick:null,paginationClass:"pagination",nextClass:"page-item next",prevClass:"page-item prev",lastClass:"page-item last",firstClass:"page-item first",pageClass:"page-item",activeClass:"active",disabledClass:"disabled",anchorClass:"page-link"},t.fn.twbsPagination.Constructor=r,t.fn.twbsPagination.noConflict=function(){return t.fn.twbsPagination=n,this},t.fn.twbsPagination.version="1.4.2"}(window.jQuery,window,document)}},i={};function s(t){var n=i[t];if(void 0!==n)return n.exports;var r=i[t]={exports:{}};return e[t].call(r.exports,r,r.exports,s),r.exports}s.m=e,t=[],s.O=(e,i,n,r)=>{if(!i){var o=1/0;for(c=0;c<t.length;c++){for(var[i,n,r]=t[c],a=!0,h=0;h<i.length;h++)(!1&r||o>=r)&&Object.keys(s.O).every((t=>s.O[t](i[h])))?i.splice(h--,1):(a=!1,r<o&&(o=r));if(a){t.splice(c--,1);var l=n();void 0!==l&&(e=l)}}return e}r=r||0;for(var c=t.length;c>0&&t[c-1][2]>r;c--)t[c]=t[c-1];t[c]=[i,n,r]},s.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return s.d(e,{a:e}),e},s.d=(t,e)=>{for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),s.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t={561321:0};s.O.j=e=>0===t[e];var e=(e,i)=>{var n,r,[o,a,h]=i,l=0;if(o.some((e=>0!==t[e]))){for(n in a)s.o(a,n)&&(s.m[n]=a[n]);if(h)var c=h(s)}for(e&&e(i);l<o.length;l++)r=o[l],s.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return s.O(c)},i=self.webpackChunkmpl_web5=self.webpackChunkmpl_web5||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))})();var n={};(()=>{"use strict";var t={};s.r(t),s.d(t,{Accessibility:()=>p});var e={};s.r(e),s.d(e,{CuepointViewer:()=>P,ImageViewer:()=>_,LectureViewer:()=>D,MimeTypeViewer:()=>x,MimeTypeViewerFactory:()=>L,PlainTextViewer:()=>k,ResourceTypeViewer:()=>f,ResourceTypeViewerFactory:()=>b,ResultBasedVideoViewer:()=>C,ResultBasedViewer:()=>v,StoryViewer:()=>m,SubtitleViewer:()=>T,TextViewer:()=>S,TitleViewer:()=>g,VideoViewer:()=>w,WorkspaceViewer:()=>y,XSLTransformViewer:()=>I});var i={};s.r(i),s.d(i,{BarChart:()=>F,Chart:()=>E,GraphDefaults:()=>M,LineChart:()=>H,PerceptualMapChart:()=>X,PieChart:()=>N,RelationshipsChart:()=>R,VerticalBarChart:()=>O,XYScatterChart:()=>z});var n={};s.r(n),s.d(n,{SvgCharts:()=>St});var r={};s.r(r),s.d(r,{ComponentScene:()=>kt,SceneTable:()=>Dt});var o=s(19755),a=s.n(o);window.jQuery=window.j$=window.$=a(),a().fn.extend({position:function(){if(this[0]){var t,e,i,s=this[0],n={top:0,left:0};if("fixed"===a().css(s,"position"))e=s.getBoundingClientRect();else{for(e=this.offset(),i=s.ownerDocument,t=s.offsetParent||i.documentElement;t&&t!==i.documentElement&&"static"===a().css(t,"position");)t=t.offsetParent||i.documentElement;t&&t!==s&&1===t.nodeType&&"static"!==a().css(t,"position")&&((n=a()(t).offset()).top+=a().css(t,"borderTopWidth",!0),n.left+=a().css(t,"borderLeftWidth",!0))}return{top:e.top-n.top-a().css(s,"marginTop",!0),left:e.left-n.left-a().css(s,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===a().css(t,"position");)t=t.offsetParent;return t||documentElement}))}}),s(36912),s(26891),s(91822),s(26400),s(5436),s(97808),s(28012),s(17053),s(96575),s(40464),s(83614),s(87285),s(66709),s(62526),s(79366),s(61193),s(90341),s(66177),s(1431),s(63762),s(944),s(29287),s(25557),s(61965),s(94092);var h=s(94822),l=s(82502),c=s(93037),u=s(7619),d=s(6211),p={initializeJumpMenu:function(){this.createA11yDropdown(),a()("#a11y-jump-menu").on("focusin",function(){this.showJumpMenu()}.bind(this)).on("focusout",function(){this.hideJumpMenu()}.bind(this))},createA11yDropdown:function(){var t=new u.ComponentFactory,e=[{id:"navigate-main-menu",label:d.vc.tc("tpl:a11ySelectMainMenu"),onClick:this.jumpMenuNavigate.bind(this,"navigate-main-menu")},{id:"navigate-decision",label:d.vc.tc("tpl:a11ySelectDecision"),onClick:this.jumpMenuNavigate.bind(this,"navigate-decision")},{id:"navigate-top-bar",label:d.vc.tc("tpl:a11ySelectTopBar"),onClick:this.jumpMenuNavigate.bind(this,"navigate-top-bar")},{id:"navigate-quick-links",label:d.vc.tc("tpl:a11ySelectQuickLinks"),onClick:this.jumpMenuNavigate.bind(this,"navigate-quick-links")}];(Live.hasFeature("chat")||Live.hasFeature("email"))&&e.push({id:"navigate-chat",label:d.vc.tc("tpl:a11ySelectChat"),onClick:this.jumpMenuNavigate.bind(this,"navigate-chat")}),this.dropDown=new u.DropDownStaticMenu("a11y-jump-menu-select",e,"left","bottom","jump-menu-select",null,a()("#userInterface"),!1),this.dropDown.onShowDropdown=function(){this.showJumpMenu()}.bind(this),a()("#a11y-jump-menu-select").append(this.dropDown.draw()),t.observe()},jumpMenuNavigate:function(t){switch(t){case"navigate-main-menu":a()("#taskListItems0").focus();break;case"navigate-decision":a()("#decisionTitle").focus();break;case"navigate-chat":var e=a()("#minimizechat");0===e.length&&(e=a()("#minimizeemail")),e.focus();break;case"navigate-top-bar":Engine.areas.top.focusButton("first",!0);break;case"navigate-quick-links":a()("#rightContainer").focus()}},showJumpMenu:function(){a()("#a11y-jump-menu").toggleClass("offscreen",!1),a()("body").toggleClass("jump-menu-open",!0),a()("html").css("overflow","hidden")},hideJumpMenu:function(){a()("#a11y-jump-menu").toggleClass("offscreen",!0),a()("body").toggleClass("jump-menu-open",!1),a()("html").css("overflow","")},observeKeyboardMode:function(){a()(window).on("keydown",this.toggleKeyboardMode.bind(this,!0)),a()(window).on("mousedown",this.toggleKeyboardMode.bind(this,!1))},toggleKeyboardMode:function(t,e){e.target,t?9==e.keyCode&&a()("body").toggleClass("mouseMode",!1).toggleClass("keyboardMode",!0):a()("body").toggleClass("mouseMode",!0).toggleClass("keyboardMode",!1)},toggleKeyboardModeScript:function(t){a()("body").toggleClass("mouseMode",!t).toggleClass("keyboardMode",t)}},f=h.Class.extend({initialize:function(t,e,i,s){this.language=s||"en-us",this.type=t,this.resources=[],this.resourceObjects=[],this.resourcesDrawn=[];for(var n=0,r=i.length;n<r;++n)c.Live.visible(i[n].visibility)&&(this.resources.push(i[n]),this.resourceObjects.push(L.getViewer(i[n],this)))},draw:function(t){var e="";this.resourcesDrawn=[];for(var i=0;i<this.resources.length;i++)e+=this.resourceObjects[i].draw(),this.resourcesDrawn.push(this.resourceObjects[i].resourceDrawn);return e},getResourceDataID:function(t){return f.getResourceDataID(t)},data:function(t,e,i){for(var s,n=0;n<this.resources.length;n++)if(this.resources[n].mimeType==t&&null!==(s=this.getResourceDataID(this.resourceObjects[n].url))&&s==e)return i?this.resources[n].extendedData:this.resourceObjects[n].data;return null},destroy:function(){for(var t=0;t<this.resources.length;t++)this.resourceObjects[t].destroy()},observe:function(){for(var t=0;t<this.resources.length;t++)this.resourceObjects[t].observe()}});a().extend(f,{getResourceDataID:function(t){var e=t.match(/([^\.\/]+)\.[\.a-zA-Z0-9_-]+$/i);return null!=e?e[1]:null}});var g=f.extend({draw:function(t){var e="";this.resourcesDrawn=[];for(var i=0;i<this.resources.length;i++)"text/plain"==this.resources[i].mimeType&&(e+=this.resourceObjects[i].draw("no-tags"==t),this.resourcesDrawn.push(this.resourceObjects[i].resourceDrawn));return e}}),m=f.extend({draw:function(t){if("narrator"==t)return this.drawNarrator();var e="";this.resourcesDrawn=[];for(var i=0;i<this.resources.length;i++)if("video/x-flv"==this.resources[i].mimeType){if("narrator"!=this.resources[i].viewer)return e=this.resourceObjects[i].draw(),this.resourcesDrawn.push(this.resourceObjects[i].resourceDrawn),e}else e+=this.resourceObjects[i].draw(),this.resourcesDrawn.push(this.resourceObjects[i].resourceDrawn);return e},drawNarrator:function(){var t="";this.resourcesDrawn=[];for(var e=0;e<this.resources.length;e++)if("video/x-flv"==this.resources[e].mimeType&&"narrator"==this.resources[e].viewer)return t=this.resourceObjects[e].draw(),this.resourcesDrawn.push(this.resourceObjects[e].resourceDrawn),t;return""}}),v=f.extend({initialize:function(t,e,i,s){var n=c.Live.user.clone();n.switchQuarter(n.quarter()-1);for(var r=[],o=[],a=0;a<i.length;a++)c.Live.visible(i[a].visibility)&&("video/x-flv"==(d=i[a]).mimeType&&"narrator"!=d.viewer?o.push(d):r.push(i[a]));var h=new c.LiveService("MarketResults"),l=h.call("resolve",[n,o],!1),u=!1;if(h.handleErrors(l))for(a=0;a<o.length;a++){for(var d=o[a],p=0;p<l.result.length;p++){var f=l.result[p];if(d.url==f.url&&d.mimeType==f.mimeType){d.extendedData=f.data,d.hasCuePoints=!0,r.push(d),u=!0;break}}if(u)break}this._super(t,e,r,s)},drawNarrator:function(){var t="";this.resourcesDrawn=[];for(var e=0;e<this.resources.length;e++)if("video/x-flv"==this.resources[e].mimeType&&"narrator"==this.resources[e].viewer)return t=this.resourceObjects[e].draw(),this.resourcesDrawn.push(this.resourceObjects[e].resourceDrawn),t;return""}}),y=f.extend({draw:function(t){if("narrator"==t)return this.drawNarrator();var e="";this.resourcesDrawn=[];for(var i=0;i<this.resources.length;i++)if("video/x-flv"==this.resources[i].mimeType){if("narrator"!=this.resources[i].viewer)return e=this.resourceObjects[i].draw(),this.resourcesDrawn.push(this.resourceObjects[i].resourceDrawn),e}else e+=this.resourceObjects[i].draw(),this.resourcesDrawn.push(this.resourceObjects[i].resourceDrawn);return""},drawNarrator:function(){var t="";this.resourcesDrawn=[];for(var e=0;e<this.resources.length;e++)if("video/x-flv"==this.resources[e].mimeType&&"narrator"==this.resources[e].viewer)return t=this.resourceObjects[e].draw(),this.resourcesDrawn.push(this.resourceObjects[e].resourceDrawn),t;return""}}),b={service:new c.LiveService("CustomResourceTypeViewer"),cmpHandlers:{equal:function(t,e){return t.toString()==e.toString()},"less-equal":function(t,e){return t-e<=0},less:function(t,e){return t-e<0},"greater-equal":function(t,e){return t-e>=0},greater:function(t,e){return t-e>0},in:function(t,e){return e.split("|").indexOf(t.toString())>-1}},fulfil:function(t,e,i){for(var s="and"==t,n=i.params.toLookUp("name"),r=0,o=e.params.length;r<o;++r){var a=void 0!==n[(r=e.params[r]).name]&&void 0!==this.cmpHandlers[n[r.name].operator]&&this.cmpHandlers[n[r.name].operator](r.value,n[r.name].value);if(s&&!a)return!1;if(!s&&a)return!0}return s},resolve:function(t,e,i){var s=[],n=c.Live.user.clone();n.switchQuarter(n.quarter()-1);var r=this.service.call(t,[n],!1,null);if(c.LiveService.handleErrors(r))for(var o=r.result,a=0,h=i.length;a<h;++a)this.fulfil(e,o,i[a])&&s.push(i[a]);return s},getViewer:function(t,e,i,s,n){switch(""!=e&&"resultBased"!=e&&(s=this.resolve(e,i,s)),t){case"title":return new g(t,e,s,n);case"story":case"task":case"lecture":return"resultBased"==e?new v(t,e,s,n):new m(t,e,s,n);case"workspace":return new y(t,e,s,n)}return new f(t,e,s,n)}},x=h.Class.extend({aspect:1,initialize:function(t,e){this.resourceTypeViewer=e,this.type=t.mimeType,this.viewer=t.viewer,this.url=t.url,this.params=t.params,this.data=t.data,this.resource=t,this.resourceDrawn=""},draw:function(){return this.resourceDrawn=this.url,this.data},destroy:function(){},observe:function(){}}),w=x.extend({draw:function(){var t=c.Live.cdnURL+this.url.replace(".flv",".mp4"),e=this.resourceTypeViewer.getResourceDataID(this.url);this.video=new VideoObject(t,"video/mp4","objectStoryTask","100%","",!1,!0,"auto"),t=c.Live.cdnURL+this.url.replace(".flv",".ogv"),this.video.addSource(t,"video/ogg"),this.resourceDrawn=t,this.video.addSubtitles(c.Live.showSubtitles);for(var i=0;i<this.resourceTypeViewer.resources.length;i++){var s=this.resourceTypeViewer.resources[i],n=this.resourceTypeViewer.getResourceDataID(s.url);"text/vtt"==s.mimeType&&e==n&&this.video.addTrack(c.Live.cdnURL+s.url,this.resourceTypeViewer.language)}return this.resource.hasCuePoints&&this.video.addCuePoints(this.resource.extendedData),this.video.draw()},destroy:function(){void 0!==this.video&&this.video.remove()},observe:function(){void 0!==this.video&&this.video.observe(this.url)}}),C=x.extend({initialize:function(t){this.resources=t,this.params=this.resources.split(";");var e=this.params[0].split("=");this.url=e[1]},draw:function(){var t=c.Live.cdnURL+this.url.replace(".flv",".mp4"),e=this.resourceTypeViewer.getResourceDataID(this.url);this.video=new VideoObject(t,"video/mp4","objectStoryTask","100%","",!1,!0,"auto"),t=c.Live.cdnURL+this.url.replace(".flv",".ogv"),this.video.addSource(t,"video/ogg"),this.resourceDrawn=t,this.video.addSubtitles(c.Live.showSubtitles);for(var i=0;i<this.resourceTypeViewer.resources.length;i++){var s=this.resourceTypeViewer.resources[i],n=this.resourceTypeViewer.getResourceDataID(s.url);"text/vtt"==s.mimeType&&e==n&&this.video.addTrack(c.Live.cdnURL+s.url,this.resourceTypeViewer.language)}return this.video.addCuePoints(this.resource.extendedData),this.video.draw()},destroy:function(){void 0!==this.video&&this.video.remove()},observe:function(){void 0!==this.video&&this.video.observe(this.url)}}),S=x.extend({draw:function(t){return this.resourceDrawn=this.url,t?this.data:"<div>"+this.data+"</div>"}}),k=S.extend({draw:function(){return this._super(!0)}}),D=x.extend({draw:function(t){return this.resourceDrawn=this.url,t?this.data:'<div class="lectureWrapper">'+this.data+"</div>"},observeHelpLinks:function(t){if("undefined"!=typeof Engine){var e,i=t.find(".help-source-link"),s=i.length,n=function(t,e){e.preventDefault(),Engine.showHelp(t)};for(e=0;e<s;++e)a()(i[e]).attr("href",Engine.getHelpLink(i[e].id)).on("click",n.bind(Engine,i[e].id))}},observeMore:function(t){var e,i,s,n=t.find(".inlinemore-link"),r=n.length,o=function(t,e){e.toggle(),t.attr("aria-expanded",e.is(":visible"))};for(e=0;e<r;++e)(i=(s=a()(n[e])).next(".inlinemore-content")).hide(),s.on("click",o.bind(this,s,i))},observeContentVisibility:function(t){t.find("[data-visibility], [data-content]").each((function(){(function(t){var e=a()(t),i=e.attr("data-visibility"),s=e.attr("data-content");return!(void 0!==i&&!c.Live.visible(i))&&(void 0===s||c.Live.hasContent(s))})(this)||a()(this).css("display","none")}))},observe:function(){var t=a()(".lectureWrapper");this.observeHelpLinks(t),this.observeMore(t),this.observeContentVisibility(t)}}),T=x.extend({draw:function(){return this.resourceDrawn=this.url,""}}),I=x.extend({draw:function(){return this.resourceDrawn=this.url,L.xslProcessor.transform(this.data)}}),_=x.extend({draw:function(){var t="left";this.resourceDrawn=this.url;for(var e=0;e<this.params.length;e++)"align"==this.params[e].name&&(t=this.params[e].value);return'<img src="'+this.url+'" style="margin: 5px; border: none;" align="'+t+'" />'}}),L={xslProcessor:null,getViewer:function(t,e){var i=t.viewer,s=t.mimeType;if("video"===i)switch(s){case"video/x-flv":return new w(t,e);case"text/xml-sub":return new T(t,e)}else switch(s){case"text/xml-sub":return new T(t,e);case"text/xml-lec":return new D(t,e);case"text/plain":return new k(t,e);case"text/html":case"text/xml":return new S(t,e);case"image/png":case"image/jpeg":case"image/gif":return new _(t,e);case"audio":case"application":break;case"video/x-flv":if(c.Live.storyViewer()==c.Live.STORY_VIDEO)return new w(t,e)}return new x(t,e)}},P=h.Class.extend({initialize:function(t,e){this.videoObj=t||null,this.cuepoints=e||[]},update:function(){var t,e,i,s,n,r=this.videoObj.currentTime;for(e=0;e<this.cuepoints.length;e++)i=(t=this.cuepoints[e]).displayObj||null,n=(s=Number(t.time))+Number(t.duration),s>r&&null==i&&a()("#decisionTitle").html(t.display),n<t.time&&null!=i&&a()("#decisionTitle").html("xxx")},getResourceDataID:function(t){var e=t.match(/([^\/]+)\.[a-zA-Z0-9_-]+$/i);return null!=e?e[1]:null},data:function(t,e,i){for(var s,n=0;n<this.resources.length;n++)if(this.resources[n].mimeType==t&&null!==(s=this.getResourceDataID(this.resourceObjects[n].url))&&s==e)return i?this.resources[n].extendedData:this.resourceObjects[n].data;return null},destroy:function(){this.videoObj=null,this.cuepoints=null},observe:function(){}});function A(t){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A(t)}var M={shadeFactor:60,defMin:-999999999,defMax:999999999,dsx:10,dsy:7,legendCharLimit:-1,style:{labelFontName:"arial",labelFontSize:"22px",labelXFontName:"arial",labelXFontSize:"13px",labelYFontName:"arial",labelYFontSize:"13px",axisXFontName:"arial",axisXFontSize:"13px",axisYFontName:"arial",axisYFontSize:"13px",legendFontName:"arial",legendFontSize:"13px",labelColor:[99,99,99],labelXColor:[0,0,0],labelYColor:[0,0,0],axisXLabelsColor:[0,0,0],axisYLabelsColor:[0,0,0],legendColor:[99,99,99],labelBGColor:[],labelXBGColor:[],labelYBGColor:[],axisXLabelsBGColor:[],axisYLabelsBGColor:[],legendBGColor:[],graphColor:[243,243,243],graphColorBorder:[248,248,248],graphDataColor:[255,255,255],graphDataColorBorder:[210,210,210],legendDataColor:[255,255,255],legendDataColorBorder:[210,210,210],axisXColor:[0,0,0],axisYColor:[0,0,0],gridXColor:[230,230,230],gridYColor:[230,230,230],borderColor:[120,120,120],xLinesColor:[0,0,0],xLinesWidth:2,yLinesColor:[0,0,0],yLinesWidth:2},margin:{top:12,left:12,bottom:12,right:16,labelData:4,labelXData:4,labelYData:4,legendData:6,legendMargin:10,axisLabels:4,pointRadius:4,barSpace:3,percentIncreaseX:10,percentIncreaseY:10},color:[[96,143,221],[242,105,33],[163,211,149],[245,161,186],[230,199,0],[0,170,172],[197,190,170],[130,202,244],[232,75,77],[162,168,87],[153,143,197],[249,155,28]],lineColor:[[96,143,221],[242,105,33],[163,211,149],[245,161,186],[230,199,0],[0,170,172],[197,190,170],[130,202,244],[232,75,77],[162,168,87],[153,143,197],[249,155,28]]},E=h.Class.extend({width:500,height:400,textZIndex:100,label:"",labels:[],legend:!0,showValues:!1,showLabels:!1,style:{},margin:{},color:[],lineColor:{},element:null,ctx:null,canvas:null,dsy:M.dsy,dsx:M.dsx,xLines:[],yLines:[],legendCharLimit:M.legendCharLimit,initialize:function(t,e,i){var s;this.element="string"==typeof t?a()("#"+t):a()(t),this.width=this.element.width(),this.height=this.element.height(),this.element.html(""),this.canvas=this.element[0].appendChild(document.createElement("canvas")),this.canvas.width=this.width,this.canvas.height=this.height,"undefined"!=typeof G_vmlCanvasManager?(G_vmlCanvasManager.initElement(this.canvas),this.ctx=this.canvas.getContext("2d"),"0px"===(s=this.canvas.firstChild.style).width&&(s.width=this.width+"px",s.height=this.height+"px")):this.ctx=this.canvas.getContext("2d"),this.style=a().extend({},M.style),this.margin=a().extend({},M.margin),this.color=a().extend({},M.color),this.lineColor=a().extend({},M.lineColor),this.ctx.lineWidth=1,"string"==typeof e&&"object"==A(i)&&(this.spriteImage=document.createElement("img"),a()(this.spriteImage).on("load",this.draw.bind(this)),a()(this.spriteImage).attr("src",e),a()(this.spriteImage).attr("alt",""),this.spriteDesc=i),this.afterInit()},resizeChart:function(){this.width=this.element.width(),this.height=this.element.height(),this.margin.percentIncreaseX=0,this.margin.percentIncreaseY=0,this.canvas.width=this.width,this.canvas.height=this.height,this.draw()},afterInit:function(){},shadeColor:function(t){var e,i=[0,0,0];for(e=0;e<3;e++)i[e]=Math.max(0,t[e]-M.shadeFactor);return i},brightenColor:function(t){var e,i=[0,0,0];for(e=0;e<3;e++)i[e]=Math.max(0,t[e]+M.shadeFactor);return i},brightenColorTimes:function(t,e,i){var s,n=[0,0,0];for(i=i||M.shadeFactor,s=0;s<3;s++)n[s]=Math.max(0,t[s]+i*e);return n},rgb:function(t){return t.length>0?"rgb("+t.join(",")+")":""},getColor:function(t,e){return e&&(t=t%100-1),this.color[t%12]},realToScreen:function(t,e,i,s,n){var r=i-e!=0?(n-s)/(i-e):0;return r*t+(n-i*r)},realToScreenKQ:function(t,e,i,s){var n=e-t!=0?(s-i)/(e-t):0;return{k:n,q:s-e*n}},rts:function(t,e){return e.k*t+e.q},screenToReal:function(t,e,i,s,n){var r=i-e!=0?(n-s)/(i-e):0;return r>0?(t-(n-i*r))/r:0},str:function(t,e){return e.k>0?(t-e.q)/e.k:0},giveRight:function(t,e){if(e=e||0,t<=0)return 0;if(t<1&&e>0)return this.giveRight(10*t,e-1)/10;if(t<2)return 1;if(t<5)return 2*Math.round(t/2);if(t<30)return 5*Math.round(t/5);var i=Math.pow(10,Math.floor(Math.log(t)*Math.LOG10E));return Math.round(Math.round(t/i)*i)},rect:function(t,e,i,s,n,r,o){o=o||1,i<=0||s<=0||(this.ctx.save(),void 0!==r?(this.ctx.lineWidth=o,this.ctx.lineJoin="round",this.ctx.strokeStyle=this.rgb(r),this.ctx.fillStyle=this.rgb(n),this.ctx.strokeRect(t+o/2,e+o/2,i-o,s-o),this.ctx.fillRect(t+o,e+o,i-2*o,s-2*o)):(this.ctx.fillStyle=this.rgb(n),this.ctx.fillRect(t,e,i,s)),this.ctx.restore())},rectClear:function(t,e,i,s,n,r){r=r||1,i<=0||s<=0||(this.ctx.save(),this.ctx.clearRect(t+r,e+r,i-2*r,s-2*r),void 0!==n&&(this.ctx.lineWidth=r,this.ctx.lineJoin="round",this.ctx.strokeStyle=this.rgb(n),this.ctx.strokeRect(t+r/2,e+r/2,i-r,s-r)),this.ctx.restore())},rectByCorners:function(t,e,i,s,n,r,o,a,h,l){a=a||!1,l=l||!1,h=h||1,o=o||1,this.ctx.save(),void 0!==r&&(this.ctx.lineWidth=o,this.ctx.lineJoin="round",l&&(this.ctx.globalCompositeOperation="destination-over"),this.ctx.globalAlpha=h,this.ctx.strokeStyle=this.rgb(r),this.ctx.fillStyle=this.rgb(n),this.ctx.beginPath(),this.ctx.moveTo(t,e),this.ctx.lineTo(t,s),this.ctx.lineTo(i,s),this.ctx.lineTo(i,e),this.ctx.lineTo(t,e),this.ctx.stroke(),a&&this.ctx.fill()),this.ctx.restore()},line:function(t,e,i,s,n,r,o){r=r||1,o=o||"butt",this.ctx.save(),this.ctx.beginPath(),this.ctx.moveTo(t,e),this.ctx.lineTo(i,s),this.ctx.strokeStyle=this.rgb(n),this.ctx.lineWidth=r,this.ctx.lineCap=o,this.ctx.stroke(),this.ctx.restore()},circle:function(t,e,i,s,n,r){r=r||1,i<=0||(this.ctx.save(),void 0===n?(this.ctx.beginPath(),this.ctx.arc(t,e,i,0,2*Math.PI),this.ctx.fillStyle=this.rgb(s),this.ctx.fill()):(this.ctx.beginPath(),this.ctx.arc(t,e,i,0,2*Math.PI),this.ctx.fillStyle=this.rgb(n),this.ctx.fill(),this.ctx.beginPath(),this.ctx.arc(t,e,i-r,0,2*Math.PI),this.ctx.fillStyle=this.rgb(s),this.ctx.fill()),this.ctx.restore())},ellipseByCenter:function(t,e,i,s,n,r,o,a,h){i<=0||s<=0||this.ellipse(t-i/2,e-s/2,i,s,n,r,o,a,h)},ellipse:function(t,e,i,s,n,r,o,a,h){if(a=a||!1,h=h||1,o=o||1,!(i<=0||s<=0)){var l=.5522848,c=i/2*l,u=s/2*l,d=t+i,p=e+s,f=t+i/2,g=e+s/2;this.ctx.save(),void 0===r&&(r=n),this.ctx.globalCompositeOperation="destination-over",this.ctx.globalAlpha=h,this.ctx.strokeStyle=this.rgb(r),this.ctx.fillStyle=this.rgb(n),this.ctx.lineWidth=o,this.ctx.beginPath(),this.ctx.moveTo(t,g),this.ctx.bezierCurveTo(t,g-u,f-c,e,f,e),this.ctx.bezierCurveTo(f+c,e,d,g-u,d,g),this.ctx.bezierCurveTo(d,g+u,f+c,p,f,p),this.ctx.bezierCurveTo(f-c,p,t,g+u,t,g),this.ctx.stroke(),1==a&&this.ctx.fill(),this.ctx.globalCompositeOperation="source-over",this.ctx.restore()}},triangle:function(t,e,i,s,n,r,o){var a=Math.round(s/2);this.ctx.save(),this.ctx.beginPath(),this.ctx.moveTo(t,e),this.ctx.lineTo(t+i,e+a),this.ctx.lineTo(t,e+s),this.ctx.closePath(),this.ctx.fillStyle=this.rgb(n),this.ctx.fill(),this.ctx.strokeStyle=this.rgb(r||n),this.ctx.lineWidth=o||1,this.ctx.lineJoin="round",this.ctx.stroke(),this.ctx.restore()},hexagon:function(t,e,i,s,n,r,o){var a=Math.round(i/4),h=Math.round(s/2);this.ctx.save(),this.ctx.beginPath(),this.ctx.moveTo(t+a,e),this.ctx.lineTo(t+i-a,e),this.ctx.lineTo(t+i,e+h),this.ctx.lineTo(t+i-a,e+s),this.ctx.lineTo(t+a,e+s),this.ctx.lineTo(t,e+h),this.ctx.closePath(),this.ctx.fillStyle=this.rgb(n),this.ctx.fill(),this.ctx.strokeStyle=this.rgb(r||n),this.ctx.lineWidth=o||1,this.ctx.lineJoin="round",this.ctx.stroke(),this.ctx.restore()},createText:function(t,e,i,s,n,r,o){var h=t,l=t,c=a()(this.element[0].appendChild(document.createElement(e)));return(o=o||-1)>-1&&(h=h.truncate(o,"...")),r&&(h=h.escapeHTML(),l=l.escapeHTML()),c.html(h),l!=h&&c.attr("title",l),c.css({"font-family":i,"font-size":s,color:this.rgb(n),"z-index":this.textZIndex}),c[0]},prepareTextAPI:function(t,e,i,s,n,r,o){var a,h,l={},c=Number(s.replace("px",""));return"object"==A(t)?(a=t.text||"",h=t.spriteID||""):(a=t,h=""),r=r||"left",(o=o||-1)>-1&&(a=a.truncate(o,"...")),this.ctx.save(),this.ctx.font=s+" "+i,this.ctx.fillStyle=this.rgb(n),this.ctx.textAlign=r,0==e?(l.width=this.ctx.measureText(a).width,l.height=c):e==Math.tan(Math.PI/2)||e==Math.tan(-Math.PI/2)?(l.width=c,l.height=this.ctx.measureText(a).width):(l.width=Math.sin(Math.atan(e))*c,l.height=Math.cos(Math.atan(e))*c),this.ctx.restore(),{text:a,spriteID:h,tgA:e,fontName:i,fontSize:s,fontColor:n,align:r,width:l.width,height:l.height,getDimensions:function(){return l}}},createTextAPI:function(t,e,i,s,n,r,o,a){o=o||"left",(a=a||-1)>-1&&(t=t.truncate(a,"...")),this.ctx.save(),this.ctx.font=n+" "+s,this.ctx.fillStyle=this.rgb(r),this.ctx.textAlign=o,this.ctx.fillText(t,e,i+Number(n.replace("px",""))),this.ctx.restore()},createTextAPIRotate:function(t,e,i,s,n,r,o,a,h){this.ctx.save(),this.ctx.translate(e,i),this.ctx.rotate(Math.atan(s)),this.createTextAPI(t,0,0,n,r,o,a,h),this.ctx.restore()},positionTextAPI:function(t,e,i){if(0==t.tgA){if(this.createTextAPI(t.text,e,i,t.fontName,t.fontSize,t.fontColor,t.align),""!=t.spriteID){var s=this.spriteDesc[t.spriteID];this.ctx.drawImage(this.spriteImage,s.left,s.top,s.width,s.height,e+t.width,i,s.width,s.height)}}else this.createTextAPIRotate(t.text,e,i,t.tgA,t.fontName,t.fontSize,t.fontColor,t.align)},fixLabel:function(t){this.legendCharLimit>0&&("object"==A(this.labels[t])?this.labels[t].label=this.labels[t].label.truncate(this.legendCharLimit,"..."):this.labels[t]=this.labels[t].truncate(this.legendCharLimit,"..."))},getLabelText:function(t){return"object"==A(this.labels[t])?this.labels[t].label:this.labels[t]},getLabelColor:function(t){return"object"==A(this.labels[t])&&void 0!==this.labels[t].color?this.getColor(this.labels[t].color):this.getColor(t)},createLegendAPI:function(t){var e,i,s=this.labels.length,n=0,r={top:0,left:0,width:0,height:0},o=Number(this.style.legendFontSize.replace("px",""));if(t=t||!1,this.legend){for(e=0;e<s;++e)this.fixLabel(e),n<this.ctx.measureText(this.getLabelText(e)).width&&(n=this.ctx.measureText(this.getLabelText(e)).width);for(r.width=n+3*this.margin.legendData+o,r.height=1.5*this.margin.legendData+s*(o+this.margin.legendData/2),r.left=this.width-this.margin.right-r.width,r.top=this.margin.top+Number(this.style.labelFontSize.replace("px",""))+this.margin.labelData,this.rect(r.left,r.top,r.width,r.height,this.style.legendDataColor,this.style.legendDataColorBorder),e=0;e<s;++e)i=t?s-1-e:e,this.rect(r.left+this.margin.legendData,r.top+this.margin.legendData+e*(o+this.margin.legendData/2),o,o,this.getLabelColor(i)),this.createTextAPI(this.getLabelText(i),r.left+2*this.margin.legendData+o,r.top+this.margin.legendData+e*(o+this.margin.legendData/2),this.style.legendFontName,this.style.legendFontSize,this.style.legendColor)}return r}}),N=E.extend({data:[],highlight:[],radius:150,angle3d:Math.PI/6,height3d:30,centerShift:3,highlightCenterShift:15,sorted:!1,decV:0,decP:0,afterInit:function(){this.margin.top=5,this.margin.left=5,this.margin.right=5,this.margin.bottom=5},draw:function(){var t,e,i,s,n,r,o,a,h,l,c,u,d,p,f,g,m,v=0,y=0,b=0,x=this.data.length,w=[],C=Math.sin(this.angle3d),S=Math.cos(this.angle3d),k=S/C,D=[],T=[],I=[],_=[];for(i=0;i<x;++i)b+=this.data[i];for(i=0;i<x;++i)t=this.highlight.indexOf(i)>-1?this.highlightCenterShift:this.centerShift,y=v+(e=0==b?0:this.data[i]/b)*Math.PI*2,w.push({p:e,s:v,e:y,a:(v+y)/2,sh:t,c:this.getColor(i)}),v=y;for(this.rect(0,0,this.width,this.height,this.style.graphColor,this.style.graphColorBorder,1),r=(n=this.prepareTextAPI(this.label,0,this.style.labelFontName,this.style.labelFontSize,this.style.labelColor)).getDimensions(),o=this.createLegendAPI(),h={x:(a={left:this.margin.left,top:this.margin.top+this.margin.labelData+r.height,width:this.width-this.margin.left-this.margin.right-o.width-(this.legend?this.margin.legendMargin:0),height:this.height-this.margin.top-this.margin.labelData-r.height-this.margin.bottom}).left+a.width/2,y:a.top+a.height/2},this.ctx.save(),this.ctx.scale(1,C),h.y=1/C*h.y+S*this.height3d,h.y3dh=h.y-k*(this.height3d/2),h.y3d=h.y-k*this.height3d,i=0;i<x;++i)0!=w[i].p&&(l={x:h.x+w[i].sh*Math.cos(w[i].a),y:h.y+w[i].sh*Math.sin(w[i].a)*C},this.ctx.beginPath(),this.ctx.moveTo(l.x,l.y),this.ctx.arc(l.x,l.y,this.radius,w[i].s,w[i].e,!1),this.ctx.fillStyle=this.rgb(this.shadeColor(w[i].c)),this.ctx.fill(),w[i].s>Math.PI/2&&w[i].s<3*Math.PI/2&&D.push(w[i]),(w[i].e>3*Math.PI/2||w[i].e<Math.PI/2)&&(w[i].e<Math.PI/2?I.push(w[i]):T.push(w[i])),w[i].s<Math.PI&&_.push(w[i]));for(I.forEach((function(t){T.push(t)})),i=D.length-1;i>=0;--i)l={x:h.x+D[i].sh*Math.cos(D[i].a),y:h.y+D[i].sh*Math.sin(D[i].a)*C},c={x:h.x+D[i].sh*Math.cos(D[i].a),y:h.y3d+D[i].sh*Math.sin(D[i].a)*C},this.ctx.beginPath(),this.ctx.moveTo(l.x,l.y),this.ctx.lineTo(l.x+this.radius*Math.cos(D[i].s),l.y+this.radius*Math.sin(D[i].s)),this.ctx.lineTo(c.x+this.radius*Math.cos(D[i].s),c.y+this.radius*Math.sin(D[i].s)),this.ctx.lineTo(c.x,c.y),this.ctx.closePath(),this.ctx.fillStyle=this.rgb(this.shadeColor(D[i].c)),this.ctx.fill();for(i=0,s=T.length;i<s;++i)l={x:h.x+T[i].sh*Math.cos(T[i].a),y:h.y+T[i].sh*Math.sin(T[i].a)*C},c={x:h.x+T[i].sh*Math.cos(T[i].a),y:h.y3d+T[i].sh*Math.sin(T[i].a)*C},this.ctx.beginPath(),this.ctx.moveTo(l.x,l.y),this.ctx.lineTo(l.x+this.radius*Math.cos(T[i].e),l.y+this.radius*Math.sin(T[i].e)),this.ctx.lineTo(c.x+this.radius*Math.cos(T[i].e),c.y+this.radius*Math.sin(T[i].e)),this.ctx.lineTo(c.x,c.y),this.ctx.closePath(),this.ctx.fillStyle=this.rgb(this.shadeColor(T[i].c)),this.ctx.fill();for(i=0,s=_.length;i<s;++i)l={x:h.x+_[i].sh*Math.cos(_[i].a),y:h.y+_[i].sh*Math.sin(_[i].a)*C},c={x:h.x+_[i].sh*Math.cos(_[i].a),y:h.y3d+_[i].sh*Math.sin(_[i].a)*C},y=_[i].e>Math.PI?Math.PI:_[i].e,this.ctx.beginPath(),this.ctx.arc(l.x,l.y,this.radius,_[i].s,y,!1),this.ctx.lineTo(c.x+this.radius*Math.cos(y),c.y+this.radius*Math.sin(y)),this.ctx.lineTo(c.x+this.radius*Math.cos(_[i].s),c.y+this.radius*Math.sin(_[i].s)),this.ctx.closePath(),this.ctx.fillStyle=this.rgb(this.shadeColor(_[i].c)),this.ctx.fill();for(i=0;i<x;++i)0!=w[i].p&&(l={x:h.x+w[i].sh*Math.cos(w[i].a),y:h.y3d+w[i].sh*Math.sin(w[i].a)*C},c3dh={x:h.x+w[i].sh*Math.cos(w[i].a),y:h.y3dh+w[i].sh*Math.sin(w[i].a)*C},this.showValues&&(u=40*Math.abs(Math.sin(w[i].a)),d={x:l.x+Math.cos(w[i].a)*this.radius,y:c3dh.y+Math.sin(w[i].a)*this.radius},p={x:l.x+Math.cos(w[i].a)*(this.radius+u),y:c3dh.y+Math.sin(w[i].a)*(this.radius+u)},f=Math.cos(w[i].a)>0?1:-1,this.line(d.x,d.y,p.x,p.y,this.style.legendColor),this.line(p.x,p.y,p.x+5*f,p.y,this.style.legendColor)),this.ctx.beginPath(),this.ctx.moveTo(l.x,l.y),this.ctx.arc(l.x,l.y,this.radius,w[i].s,w[i].e,!1),this.ctx.fillStyle=this.rgb(w[i].c),this.ctx.fill());for(this.ctx.restore(),i=0;i<x;++i)0!=w[i].p&&(l={x:h.x+w[i].sh*Math.cos(w[i].a),y:h.y3d+w[i].sh*Math.sin(w[i].a)*C},c3dh={x:h.x+w[i].sh*Math.cos(w[i].a),y:h.y3dh+w[i].sh*Math.sin(w[i].a)*C},this.showValues&&(u=40*Math.abs(Math.sin(w[i].a)),d={x:l.x+Math.cos(w[i].a)*this.radius,y:c3dh.y+Math.sin(w[i].a)*this.radius},p={x:l.x+Math.cos(w[i].a)*(this.radius+u),y:c3dh.y+Math.sin(w[i].a)*(this.radius+u)},f=Math.cos(w[i].a)>0?1:-1,m=(g=this.prepareTextAPI((100*w[i].p).format(this.decP)+"%",0,this.style.legendFontName,this.style.legendFontSize,this.style.legendColor)).getDimensions(),this.positionTextAPI(g,Math.round(p.x+5*f-(f>0?0:m.width)),Math.round(p.y*C-m.height/2))));this.positionTextAPI(n,(this.width-r.width)/2,this.margin.top)}}),F=E.extend({minX:M.defMax,minY:M.defMax,maxX:M.defMin,maxY:M.defMin,incX:0,incY:0,gridX:!0,gridY:!0,labelX:"",labelY:"",category:[],data:[],intersectionX:0,intersectionY:0,decX:0,decY:0,points:!0,draw:function(){var t,e,i,s,n,r,o,a,h,l,c,u,d,p,f,g,m,v,y,b=this.category.length,x=this.data.length,w=this.minX==M.defMax,C=this.minY==M.defMax,S=this.maxX==M.defMin,k=this.maxY==M.defMin,D=0==this.incX,T=0==this.incY,I=0,_=0,L=[],P=[];for(this.rect(0,0,this.width,this.height,this.style.graphColor,this.style.graphColorBorder,7),e=(t=this.prepareTextAPI(this.label,0,this.style.labelFontName,this.style.labelFontSize,this.style.labelColor)).getDimensions(),s=(i=this.prepareTextAPI(this.labelX,0,this.style.labelXFontName,this.style.labelXFontSize,this.style.labelXColor)).getDimensions(),r=(n=this.prepareTextAPI(this.labelY,Math.tan(-Math.PI/2),this.style.labelYFontName,this.style.labelYFontSize,this.style.labelYColor)).getDimensions(),o=this.createLegendAPI(),w&&(this.minX=0),S&&(this.maxX=this.category.length),h=0;h<b;++h)for(l=0;l<x;++l)C&&this.minY>this.data[l][h]&&(this.minY=this.data[l][h]),k&&this.maxY<this.data[l][h]&&(this.maxY=this.data[l][h]);for(c=0,u=this.yLines.length;c<u;++c)C&&this.minY>this.yLines[c]&&(this.minY=this.yLines[c]),k&&this.maxY<this.yLines[c]&&(this.maxY=this.yLines[c]);for(c=0,u=this.xLines.length;c<u;++c)C&&this.minX>this.xLines[c]&&(this.minX=this.xLines[c]),k&&this.maxX<this.xLines[c]&&(this.maxX=this.xLines[c]);for(D&&(this.incX=1),T&&(this.incY=this.giveRight((this.maxY-this.minY)/this.dsy)),this.intersectionX<this.minX&&(this.intersectionX=this.minX),this.intersectionX>this.maxX&&(this.intersectionX=this.maxX),this.intersectionY<this.minY&&(this.intersectionY=this.minY),this.intersectionY>this.maxY&&(this.intersectionY=this.maxY),d=this.minX+(this.intersectionX-this.minX)%this.incX,p=this.minY+(this.intersectionY-this.minY)%this.incY,h=0;h<b;++h)L.push(this.prepareTextAPI(this.category[h],0,this.style.axisXFontName,this.style.axisXFontSize,this.style.axisXLabelsColor)),I<(m=L[L.length-1].getDimensions()).height&&(I=m.height);for(c=0;p+c*this.incY<=this.maxY;)P.push(this.prepareTextAPI((p+c*this.incY).format(this.decY),0,this.style.axisYFontName,this.style.axisYFontSize,this.style.axisYLabelsColor)),_<(m=P[P.length-1].getDimensions()).width&&(_=m.width),c++;for(a={left:this.margin.left+this.margin.labelYData+r.width+_+this.margin.axisLabels,top:this.margin.top+this.margin.labelData+e.height,width:this.width-this.margin.left-this.margin.right-o.width-(this.legend?this.margin.legendMargin:0)-this.margin.labelYData-r.width-_-this.margin.axisLabels,height:this.height-this.margin.top-this.margin.labelData-e.height-this.margin.bottom-this.margin.labelXData-s.height-I-this.margin.axisLabels},this.rect(a.left,a.top,a.width,a.height,this.style.graphDataColor,this.style.graphDataColorBorder),f=this.realToScreenKQ(this.minX,this.maxX,a.left,a.left+a.width),g=this.realToScreenKQ(this.minY,this.maxY,a.top+a.height,a.top),h=0;h<b;++h)h<b&&(m=L[h].getDimensions(),this.positionTextAPI(L[h],(this.rts(d+h*this.incX,f)+this.rts(d+(h+1)*this.incX,f))/2-m.width/2,a.top+a.height+this.margin.axisLabels)),this.gridX&&this.line(this.rts(d+h*this.incX,f),this.rts(this.minY,g),this.rts(d+h*this.incX,f),this.rts(this.maxY,g),this.style.gridXColor),this.line(this.rts(d+h*this.incX,f),this.rts(this.intersectionY,g)+this.margin.axisLabels/2,this.rts(d+h*this.incX,f),this.rts(this.intersectionY,g)-this.margin.axisLabels/2,this.style.axisXColor);for(c=0;p+c*this.incY<=this.maxY;)m=P[c].getDimensions(),this.positionTextAPI(P[c],a.left-m.width-this.margin.axisLabels,this.rts(p+c*this.incY,g)-m.height/2),this.gridY&&this.line(this.rts(this.minX,f),this.rts(p+c*this.incY,g),this.rts(this.maxX,f),this.rts(p+c*this.incY,g),this.style.gridYColor),this.line(this.rts(this.intersectionX,f)-this.margin.axisLabels/2,this.rts(p+c*this.incY,g),this.rts(this.intersectionX,f)+this.margin.axisLabels/2,this.rts(p+c*this.incY,g),this.style.axisYColor),c++;for(v=(this.rts(d+this.incX,f)-this.rts(d,f)-3*this.margin.barSpace)/this.data.length-this.margin.barSpace,h=0;h<b;++h)for(y=this.rts(d+h*this.incX,f)+2*this.margin.barSpace,l=0;l<x;++l)this.data[c][h]>this.intersectionY?this.rect(y,this.rts(this.data[l][h],g),v,this.rts(this.intersectionY,g)-this.rts(this.data[c][j],g),this.getColor(l)):this.rect(y,this.rts(this.intersectionY,g),v,this.rts(this.data[l][h],g)-this.rts(this.intersectionY,g),this.getColor(l)),y+=v+this.margin.barSpace;this.line(this.rts(this.minX,f),this.rts(this.intersectionY,g),this.rts(this.maxX,f),this.rts(this.intersectionY,g),this.style.axisXColor),this.line(this.rts(this.intersectionX,f),this.rts(this.minY,g),this.rts(this.intersectionX,f),this.rts(this.maxY,g),this.style.axisYColor),this.positionTextAPI(i,a.left+(a.width-s.width)/2,this.height-this.margin.bottom-s.height),this.positionTextAPI(n,this.margin.left,a.top+(a.height-r.height)/2),e=t.getDimensions(),this.positionTextAPI(t,(this.width-e.width)/2,this.margin.top)}}),O=F.extend({afterInit:function(){this.margin.right=13,this.legend=!1,this.showValues=!0,this.showLabels=!0},draw:function(){var t,e,i,s,n,r,o,a,h,l,c,u,d,p,f,g,m,v,y,b,x,w,C,S=this.category.length,k=this.data.length,D=this.minX==M.defMax,T=this.minY==M.defMax,I=this.maxX==M.defMin,_=this.maxY==M.defMin,L=0==this.incX,P=0==this.incY,E=0,N=0,F=[],O=[];for(this.rect(0,0,this.width,this.height,this.style.graphColor,this.style.graphColorBorder,7),e=(t=this.prepareTextAPI(this.label,0,this.style.labelFontName,this.style.labelFontSize,this.style.labelColor)).getDimensions(),s=(i=this.prepareTextAPI(this.labelY,0,this.style.labelXFontName,this.style.labelXFontSize,this.style.labelXColor)).getDimensions(),r=(n=this.prepareTextAPI(this.labelX,Math.tan(-Math.PI/2),this.style.labelYFontName,this.style.labelYFontSize,this.style.labelYColor)).getDimensions(),o=this.createLegendAPI(),D&&(this.minX=0),I&&(this.maxX=this.category.length),h=0;h<S;++h)for(l=0;l<k;++l)"object"!=A(this.data[l][h])&&(this.data[l][h]=[0,this.data[l][h]]);for(h=0;h<S;++h)for(l=0;l<k;++l)T&&this.minY>this.data[l][h][0]&&(this.minY=this.data[l][h][0]),_&&this.maxY<this.data[l][h][1]&&(this.maxY=this.data[l][h][1]);for(c=0,u=this.yLines.length;c<u;++c)T&&this.minY>this.yLines[c]&&(this.minY=this.yLines[c]),_&&this.maxY<this.yLines[c]&&(this.maxY=this.yLines[c]);for(c=0,u=this.xLines.length;c<u;++c)D&&this.minX>this.xLines[c]&&(this.minX=this.xLines[c]),I&&this.maxX<this.xLines[c]&&(this.maxX=this.xLines[c]);for(this.minY>0&&(this.minY=0),this.maxY<0&&(this.maxY=0),this.minY==this.maxY&&(this.maxY+=1),L&&(this.incX=1),P&&(this.incY=this.giveRight((this.maxY-this.minY)/this.dsy,this.decY)),this.intersectionX<this.minX&&(this.intersectionX=this.minX),this.intersectionX>this.maxX&&(this.intersectionX=this.maxX),this.intersectionY<this.minY&&(this.intersectionY=this.minY),this.intersectionY>this.maxY&&(this.intersectionY=this.maxY),d=this.minX+(this.intersectionX-this.minX)%this.incX,p=this.minY+(this.intersectionY-this.minY)%this.incY,h=0;h<S;++h)F.push(this.prepareTextAPI(this.category[h],0,this.style.axisXFontName,this.style.axisXFontSize,this.style.axisXLabelsColor)),N<(y=F[F.length-1].getDimensions()).width&&(N=y.width);for(c=0;p+c*this.incY<=this.maxY;)O.push(this.prepareTextAPI((p+c*this.incY).format(this.decY),0,this.style.axisYFontName,this.style.axisYFontSize,this.style.axisYLabelsColor)),E<(y=O[O.length-1].getDimensions()).height&&(E=y.height),c++;a={left:this.margin.left+this.margin.labelYData+r.width+N+this.margin.axisLabels,top:this.margin.top+this.margin.labelData+e.height,width:this.width-this.margin.left-this.margin.right-o.width-(this.legend?this.margin.legendMargin:0)-this.margin.labelYData-r.width-N-this.margin.axisLabels,height:this.height-this.margin.top-this.margin.labelData-e.height-this.margin.bottom-this.margin.labelXData-s.height-E-this.margin.axisLabels},this.rect(a.left,a.top,a.width,a.height,this.style.graphDataColor,this.style.graphDataColorBorder);var H=this.minY,R=this.maxY;for(f=(this.maxX-this.minX)*(this.margin.percentIncreaseX/100)/2,g=(this.maxY-this.minY)*(this.margin.percentIncreaseY/100)/2,this.minX-=f,this.maxX+=f,this.minY-=g,this.maxY+=g,v=this.realToScreenKQ(this.minY,this.maxY,a.left,a.left+a.width),m=this.realToScreenKQ(this.minX,this.maxX,a.top+a.height,a.top),h=0;h<=S;++h)h<S&&(y=F[h].getDimensions(),this.positionTextAPI(F[h],a.left-y.width-this.margin.axisLabels,(this.rts(d+h*this.incX,m)+this.rts(d+(h+1)*this.incX,m))/2-y.height/2)),S>1&&(this.gridX&&this.line(this.rts(this.minY,v),this.rts(d+h*this.incX,m),this.rts(this.maxY,v),this.rts(d+h*this.incX,m),this.style.gridXColor),this.line(this.rts(this.intersectionY,v)+this.margin.axisLabels/2,this.rts(d+h*this.incX,m),this.rts(this.intersectionY,v)-this.margin.axisLabels/2,this.rts(d+h*this.incX,m),this.style.axisXColor));for(c=0;p+c*this.incY<=this.maxY-g;)y=O[c].getDimensions(),this.positionTextAPI(O[c],this.rts(p+c*this.incY,v)-y.width/2,a.top+a.height+this.margin.axisLabels),this.gridY&&this.line(this.rts(p+c*this.incY,v),this.rts(this.minX,m),this.rts(p+c*this.incY,v),this.rts(this.maxX,m),this.style.gridYColor),this.line(this.rts(p+c*this.incY,v),this.rts(this.intersectionX,m)-this.margin.axisLabels/2,this.rts(p+c*this.incY,v),this.rts(this.intersectionX,m)+this.margin.axisLabels/2,this.style.axisYColor),c++;for(b=(this.rts(d,m)-this.rts(d+this.incX,m)-this.margin.barSpace)/this.data.length-this.margin.barSpace,h=0;h<S;++h)for(x=this.rts(d+h*this.incX,m)-this.margin.barSpace/2,l=0;l<k;++l)c=k-l-1,x-=b,1==S&&this.gridX&&this.line(this.rts(this.minY,v),x-this.margin.barSpace/2,this.rts(this.maxY,v),x-this.margin.barSpace/2,this.style.gridXColor),this.data[c][h][1]<this.intersectionY?this.rect(this.rts(this.data[c][h][0],v),x,this.rts(this.data[c][h][1],v)-this.rts(this.data[c][h][0],v),b,this.getColor(c)):this.rect(this.rts(this.intersectionY+this.data[c][h][0],v),x,this.rts(this.data[c][h][1],v)-this.rts(this.data[c][h][0],v),b,this.getColor(c)),this.showLabels&&(y=(C=this.prepareTextAPI(this.labels[c],0,this.style.axisYFontName,this.style.axisYFontSize,this.style.axisYLabelsColor,!0)).getDimensions(),this.positionTextAPI(C,this.rts(this.minY+g,v)+5,x+(b-y.height)/2)),this.showValues&&(y=(w=this.prepareTextAPI((Number(this.data[c][h][1])-Number(this.data[c][h][0])).format(this.decY),0,this.style.legendFontName,this.style.legendFontSize,this.style.legendColor)).getDimensions(),this.positionTextAPI(w,this.rts(this.maxY,v)-5-y.width,x+(b-y.height)/2)),x-=this.margin.barSpace;var z=!0;for(c=0,u=this.yLines.length;c<u;c++)this.conditionalYLines&&(z=H<this.yLines[c]&&this.yLines[c]<R),z&&this.line(this.rts(this.yLines[c],v),this.rts(this.minX,m),this.rts(this.yLines[c],v),this.rts(this.maxX,m),this.style.yLinesColor,this.style.yLinesWidth);this.line(this.rts(this.intersectionY,v),this.rts(this.minX,m),this.rts(this.intersectionY,v),this.rts(this.maxX,m),this.style.axisXColor),this.line(this.rts(this.minY,v),this.rts(this.intersectionX,m),this.rts(this.maxY,v),this.rts(this.intersectionX,m),this.style.axisYColor),this.positionTextAPI(i,a.left+(a.width-s.width)/2,this.height-this.margin.bottom-s.height),this.positionTextAPI(n,this.margin.left,a.top+a.height-(a.height-r.height)/2),e=t.getDimensions(),this.positionTextAPI(t,(this.width-e.width)/2,this.margin.top)}}),H=E.extend({minX:M.defMax,minY:M.defMax,maxX:M.defMin,maxY:M.defMin,incX:0,incY:0,gridX:!0,gridY:!0,labelX:"",labelY:"",category:[],data:[],intersectionX:0,intersectionY:0,decX:0,decY:0,points:!0,draw:function(){var t,e,i,s,n,r,o,a,h,l,c,u,d,p,f,g,m,v,y,b,x,w,C,S,k,D,T=this.category.length,I=this.data.length,_=this.minX==M.defMax,L=this.minY==M.defMax,P=this.maxX==M.defMin,A=this.maxY==M.defMin,E=0==this.incX,N=0==this.incY,F=0,O=0,H=[],R=[];for(this.color=this.lineColor,this.rect(0,0,this.width,this.height,this.style.graphColor,this.style.graphColorBorder,7),e=(t=this.prepareTextAPI(this.label,0,this.style.labelFontName,this.style.labelFontSize,this.style.labelColor)).getDimensions(),s=(i=this.prepareTextAPI(this.labelX,0,this.style.labelXFontName,this.style.labelXFontSize,this.style.labelXColor)).getDimensions(),r=(n=this.prepareTextAPI(this.labelY,Math.tan(-Math.PI/2),this.style.labelYFontName,this.style.labelYFontSize,this.style.labelYColor)).getDimensions(),o=this.createLegendAPI(),h=0;h<T;++h)for(_&&this.minX>this.category[h]&&(this.minX=this.category[h]),P&&this.maxX<this.category[h]&&(this.maxX=this.category[h]),l=0;l<I;++l)L&&this.minY>this.data[l][h]&&(this.minY=this.data[l][h]),A&&this.maxY<this.data[l][h]&&(this.maxY=this.data[l][h]);for(c=0,u=this.yLines.length;c<u;++c)L&&this.minY>this.yLines[c]&&(this.minY=this.yLines[c]),A&&this.maxY<this.yLines[c]&&(this.maxY=this.yLines[c]);for(c=0,u=this.xLines.length;c<u;++c)_&&this.minX>this.xLines[c]&&(this.minX=this.xLines[c]),P&&this.maxX<this.xLines[c]&&(this.maxX=this.xLines[c]);for(this.minY==this.maxY&&(this.maxY+=1),E&&(this.incX=this.giveRight((this.maxX-this.minX)/this.dsx,this.decX)),N&&(this.incY=this.giveRight((this.maxY-this.minY)/this.dsy,this.decY)),this.intersectionX<this.minX&&(this.intersectionX=this.minX),this.intersectionX>this.maxX&&(this.intersectionX=this.maxX),this.intersectionY<this.minY&&(this.intersectionY=this.minY),this.intersectionY>this.maxY&&(this.intersectionY=this.maxY),f=this.minX+(this.intersectionX-this.minX)%this.incX,g=this.minY+(this.intersectionY-this.minY)%this.incY,c=0;f+c*this.incX<=this.maxX;)H.push(this.prepareTextAPI((f+c*this.incX).format(this.decX),0,this.style.axisXFontName,this.style.axisXFontSize,this.style.axisXLabelsColor)),F<(x=H[H.length-1].getDimensions()).height&&(F=x.height),c++;for(c=0;g+c*this.incY<=this.maxY;)R.push(this.prepareTextAPI((g+c*this.incY).format(this.decY),0,this.style.axisYFontName,this.style.axisYFontSize,this.style.axisYLabelsColor)),O<(x=R[R.length-1].getDimensions()).width&&(O=x.width),c++;for(a={left:this.margin.left+this.margin.labelYData+r.width+O+this.margin.axisLabels,top:this.margin.top+this.margin.labelData+e.height,width:this.width-this.margin.left-this.margin.right-o.width-(this.legend?this.margin.legendMargin:0)-this.margin.labelYData-r.width-O-this.margin.axisLabels,height:this.height-this.margin.top-this.margin.labelData-e.height-this.margin.bottom-this.margin.labelXData-s.height-F-this.margin.axisLabels},this.rect(a.left,a.top,a.width,a.height,this.style.graphDataColor,this.style.graphDataColorBorder),m=(this.maxX-this.minX)*(this.margin.percentIncreaseX/100)/2,v=(this.maxY-this.minY)*(this.margin.percentIncreaseY/100)/2,this.minX-=m,this.maxX+=m,this.minY-=v,this.maxY+=v,y=this.realToScreenKQ(this.minX,this.maxX,a.left,a.left+a.width),b=this.realToScreenKQ(this.minY,this.maxY,a.top+a.height,a.top),c=0,u=H.length;c<u;++c)x=H[c].getDimensions(),this.positionTextAPI(H[c],this.rts(f+c*this.incX,y)-x.width/2,a.top+a.height+this.margin.axisLabels),this.gridX&&this.line(this.rts(f+c*this.incX,y),this.rts(this.minY,b),this.rts(f+c*this.incX,y),this.rts(this.maxY,b),this.style.gridXColor),this.line(this.rts(f+c*this.incX,y),this.rts(this.intersectionY,b)+this.margin.axisLabels/2,this.rts(f+c*this.incX,y),this.rts(this.intersectionY,b)-this.margin.axisLabels/2,this.style.axisXColor);for(c=0,u=R.length;c<u;++c)x=R[c].getDimensions(),this.positionTextAPI(R[c],a.left-x.width-this.margin.axisLabels,this.rts(g+c*this.incY,b)-x.height/2),this.gridY&&this.line(this.rts(this.minX,y),this.rts(g+c*this.incY,b),this.rts(this.maxX,y),this.rts(g+c*this.incY,b),this.style.gridYColor),this.line(this.rts(this.intersectionX,y)-this.margin.axisLabels/2,this.rts(g+c*this.incY,b),this.rts(this.intersectionX,y)+this.margin.axisLabels/2,this.rts(g+c*this.incY,b),this.style.axisYColor);for(c=0,u=this.data.length;c<u;++c)if(this.data[c].length>0){for(this.ctx.beginPath(),D=!1,d=0,p=this.data[c].length;d<p;++d)w=this.rts(this.category[d],y),(C=this.rts(this.data[c][d],b))>=a.top&&C<=a.top+a.height&&(D?this.ctx.lineTo(w,C):(D=!0,d>0&&(w=S+(a.top-k)*(w-S)/(C-k),C=a.top),this.ctx.moveTo(w,C))),S=w,k=C;this.ctx.strokeStyle=this.rgb(this.getLabelColor(c)),this.ctx.lineWidth=2,this.ctx.stroke()}for(c=0,u=this.yLines.length;c<u;++c)this.line(this.rts(this.minX,y),this.rts(this.yLines[c],b),this.rts(this.maxX,y),this.rts(this.yLines[c],b),this.style.yLinesColor,this.style.yLinesWidth);for(c=0,u=this.xLines.length;c<u;++c)this.line(this.rts(this.xLines[c],y),this.rts(this.minY,b),this.rts(this.xLines[c],y),this.rts(this.maxY,b),this.style.xLinesColor,this.style.xLinesWidth);this.line(this.rts(this.minX,y),this.rts(this.intersectionY,b),this.rts(this.maxX,y),this.rts(this.intersectionY,b),this.style.axisXColor),this.line(this.rts(this.intersectionX,y),this.rts(this.minY,b),this.rts(this.intersectionX,y),this.rts(this.maxY,b),this.style.axisYColor),this.positionTextAPI(i,a.left+(a.width-s.width)/2,this.height-this.margin.bottom-s.height),this.positionTextAPI(n,this.margin.left,a.top+a.height-(a.height-r.height)/2),e=t.getDimensions(),this.positionTextAPI(t,(this.width-e.width)/2,this.margin.top)}}),R=E.extend({minX:M.defMax,minY:M.defMax,maxX:M.defMin,maxY:M.defMin,incX:0,incY:0,labelX:"",labelY:"",category:[],data:[],intersectionX:0,intersectionY:0,decX:0,decY:0,points:!0,w:{sup:95,supCon:-15,supNo:-1,supNoCon:5,sup2Res:10,res:95,resCon:0,res2Reg:0,reg:42,regCon:0,reg2Chan:15,chan:1,chan2Lab:5,chanLab:-1,chan2No:10,chanNo:-1,chan2Bar:5,chanBar:-1,seg:-1,segImg:30,segNo:-1,segGap:5},h:{sup:87,res:56,reg:42,reg2:129,seg:23},regPos:{americas:{x:1,y:1},apac:{x:2,y:1},emea:{x:3,y:1},noram:{x:4,y:1},latam:{x:5,y:1},mea:{x:2,y:2},europe:{x:5,y:2}},segPos:{cost:1,inno:2,merc:3,work:4,trav:5},segColors:{cost:[0,163,61],inno:[191,0,0],merc:[142,61,130],work:[48,48,48],trav:[4,115,145]},initialize:function(t,e,i){this._super(t),this.data=e,this.callback=i||null,this.sprite=document.createElement("img"),a()(this.sprite).on("load",this.draw.bind(this)),a()(this.sprite).attr("src",Path.getPath(JSSettings.st("common:chartsFolder"),"business-relationships",".png")),a()(this.sprite).attr("alt","")},draw:function(){var t,e,i,s,n,r,o,a,h,l,c,u,d,p,f,g,m,v,y,b,x,w,C,S,k,D,T,I,_,L,P,A,M,E,N=this.data,F=N.teams.toLookUp("teamID"),O=N.regions.toLookUp("regionID"),H=N.segments.toLookUp("segmentID"),R=0,z=0,X=0,Y=0,j=0,B=[],W=0,V=[],q=[],U=14;for(c=0;c<N.suppliers.length;c++){for(B[c]=0,R<N.suppliers[c].supplied&&(R=N.suppliers[c].supplied),u=0;u<N.suppliers[c].resellers.length;u++)u>0&&(B[c]+=5),B[c]+=22,this.w.supNo<N.suppliers[c].resellers[u].amount&&(this.w.supNo=N.suppliers[c].resellers[u].amount);B[c]+=U+this.h.sup/2-4,B[c]<U+this.h.sup+U+8&&(B[c]=U+this.h.sup+U+8),j+=B[c]}for(t=this.w.supNo,this.w.supNo=this.ctx.measureText(this.w.supNo.format()).width,p=this.ctx.measureText(R.format()).width,this.w.chanLab=this.ctx.measureText(N.labels.offices).width,null!=N.labels.web&&this.w.chanLab<this.ctx.measureText(N.labels.web).width&&(this.w.chanLab=this.ctx.measureText(N.labels.web).width),c=0;c<N.resellers.length;c++){for(V[N.resellers[c].teamID]=0,q[N.resellers[c].teamID]=0==c?0:q[N.resellers[c-1].teamID]+V[N.resellers[c-1].teamID],z<N.resellers[c].sold&&(z=N.resellers[c].sold),u=0;u<N.resellers[c].regions.length;u++)for(V[N.resellers[c].teamID]+=28+this.h.seg+U+8+4+10,X<N.resellers[c].regions[u].offices+N.resellers[c].regions[u].web&&(X=N.resellers[c].regions[u].offices+N.resellers[c].regions[u].web),this.w.chanNo<N.resellers[c].regions[u].offices&&(this.w.chanNo=N.resellers[c].regions[u].offices),this.w.chanNo<N.resellers[c].regions[u].web&&(this.w.chanNo=N.resellers[c].regions[u].web),d=0;d<N.resellers[c].regions[u].segments.length;d++)this.w.segNo<N.resellers[c].regions[u].segments[d]&&(this.w.segNo=N.resellers[c].regions[u].segments[d]);V[N.resellers[c].teamID]+=15,V[N.resellers[c].teamID]<U+this.h.res+U+8+15&&(V[N.resellers[c].teamID]=U+this.h.res+U+8+15),W+=V[N.resellers[c].teamID]}for(Y=this.w.chanNo,this.w.chanNo=this.ctx.measureText(this.w.chanNo.format()).width,this.w.chanBar=this.ctx.measureText(Y.format()).width,e=this.w.segNo,this.w.segNo=this.ctx.measureText(this.w.segNo.format()).width,this.w.seg=this.w.segGap+Math.max(this.w.segImg,this.w.segNo)+this.w.segGap,f=this.ctx.measureText(z.format()).width,g=this.ctx.measureText(X.format()).width,m=Math.max(this.w.chan+this.w.chan2Lab+this.w.chanLab+this.w.chan2No+this.w.chanNo+this.w.chan2Bar+this.w.chanBar,N.segments.length*this.w.seg),i=this.w.sup+this.w.supCon+this.w.supNoCon+this.w.supNo+this.w.supNoCon+this.w.sup2Res+this.w.resCon+this.w.res+this.w.resCon+this.w.res2Reg+this.w.regCon+this.w.reg+this.w.regCon+this.w.reg2Chan+m,l=(this.width-20-i)/3,this.w.sup2Res+=1*l,this.w.res2Reg+=2*l,v=Math.max(j,W),this.height=42+v+10,this.canvas.height=this.height,this.rect(0,0,this.width,this.height,this.style.graphColor,this.style.graphColorBorder,7),this.ctx.translate(0,10),this.createTextAPI(N.labels.title,Math.round(this.width/2),0,this.style.labelFontName,this.style.labelFontSize,this.style.labelColor,"center"),this.ctx.translate(10,42),b=(y=(v-j)/N.suppliers.length)/2,x=this.w.sup+this.w.supCon+this.w.supNoCon+this.w.supNo+this.w.supNoCon+this.w.sup2Res,c=0;c<N.suppliers.length;c++)for(a=this.getColor(N.suppliers[c].teamID,!0),w=this.shadeColor(a),c>0&&(b+=B[c-1]+y),this.ctx.drawImage(this.sprite,0,this.h.seg+this.h.reg,this.w.sup,this.h.sup,0,b,this.w.sup,this.h.sup),this.createTextAPI(F[N.suppliers[c].teamID].companyName,0,b+this.h.sup,this.style.legendFontName,this.style.legendFontSize,w,"left"),this.createTextAPI(N.suppliers[c].supplied.format(),0,b+this.h.sup+U,this.style.legendFontName,this.style.legendFontSize,w,"left"),l=this.realToScreen(N.suppliers[c].supplied,0,R,0,p),this.line(0,b+U+this.h.sup+U+4,0+l,b+U+this.h.sup+U+4,w,8),s=this.w.sup,n=b+U+this.h.sup/2,r=s+this.w.supCon,o=n,this.line(s-26,n,r,o,w),r=s=r,N.suppliers[c].resellers.length>1&&(o=n+27*N.suppliers[c].resellers.length-5-22,this.line(s,n,r,o,w)),n-=27,r=s+this.w.supNoCon+this.w.supNo+this.w.supNoCon,u=0;u<N.suppliers[c].resellers.length;u++)o=n+=27,this.line(s,n,r,o,w),l=this.realToScreen(N.suppliers[c].resellers[u].amount,0,t,0,this.w.supNo),this.line(s+this.w.supNoCon+(this.w.supNo-l)/2,n,s+this.w.supNoCon+(this.w.supNo-l)/2+l,o,w,8),this.createTextAPI(N.suppliers[c].resellers[u].amount.format(),(s+r)/2,n+4,this.style.legendFontName,this.style.legendFontSize,w,"center"),this.line(r,n,x,q[N.suppliers[c].resellers[u].resellerID]+U+this.h.res/2-12,w);for(S=x+this.w.resCon+this.w.res+this.w.resCon+this.w.res2Reg,c=0;c<N.resellers.length;c++)for(a=this.getColor(N.resellers[c].teamID,!0),w=this.shadeColor(a),this.ctx.drawImage(this.sprite,this.w.sup+1,this.h.seg+this.h.reg+1,this.w.res,this.h.res,x+this.w.resCon,q[N.resellers[c].teamID],this.w.res,this.h.res),this.createTextAPI(F[N.resellers[c].teamID].companyName,x+this.w.resCon+this.w.res/2,q[N.resellers[c].teamID]+this.h.res,this.style.legendFontName,this.style.legendFontSize,w,"center"),this.createTextAPI(N.resellers[c].sold.format(),x+this.w.resCon+this.w.res/2,q[N.resellers[c].teamID]+this.h.res+U,this.style.legendFontName,this.style.legendFontSize,w,"center"),l=this.realToScreen(N.resellers[c].sold,0,z,0,f),this.line(x+this.w.resCon+this.w.res/2-l/2,q[N.resellers[c].teamID]+U+this.h.res+U+4,x+this.w.resCon+this.w.res/2+l/2,q[N.resellers[c].teamID]+U+this.h.res+U+4,w,8),s=x,n=q[N.resellers[c].teamID]+U+this.h.res/2,r=s+this.w.resCon,o=n,this.line(s,n,r,o,w),r=(s=x+this.w.resCon+this.w.res)+this.w.resCon,this.line(s,n,r,o,w),k=q[N.resellers[c].teamID],u=0;u<N.resellers[c].regions.length;u++)for(h=this.getColor(N.resellers[c].regions[u].regionID,!0),C=this.shadeColor(h),u>0&&(k+=28+this.h.seg+U+8+4+10),this.createTextAPI(O[N.resellers[c].regions[u].regionID].name,S+this.w.regCon+this.w.reg/2,k,this.style.legendFontName,this.style.legendFontSize,C,"center"),this.ctx.drawImage(this.sprite,(this.regPos[O[N.resellers[c].regions[u].regionID].shortName.toLowerCase()].x-1)*this.w.reg,(this.regPos[O[N.resellers[c].regions[u].regionID].shortName.toLowerCase()].y-1)*this.h.reg2+this.h.seg,this.w.reg,this.h.reg,S+this.w.regCon,k+U,this.w.reg,this.h.reg),s=S,n=k+U+this.h.reg/2,r=s+this.w.regCon,o=n,this.line(s,n,r,o,C),r=(s=S+this.w.regCon+this.w.reg)+this.w.regCon,this.line(s,n,r,o,C),r=(s=r)+this.w.reg2Chan,this.line(s,n,r,o,C),s=x+this.w.resCon+this.w.res+this.w.resCon,n=q[N.resellers[c].teamID]+U+this.h.res/2,r=S,o=k+U+this.h.reg/2,this.line(s-3,n-19,r,o,w),I=s-3+2*(D=r-(s-3))/3,_=n-19+2*(T=o-(n-19))/3,L=T/D,this.createTextAPIRotate((N.resellers[c].regions[u].offices+N.resellers[c].regions[u].web).format(),I-4*Math.sin(Math.atan(L)),_+4*Math.cos(Math.atan(L)),L,this.style.legendFontName,this.style.legendFontSize,w,"center"),l=this.realToScreen(N.resellers[c].regions[u].offices+N.resellers[c].regions[u].web,0,X,0,g),s=I-(P=Math.cos(Math.atan(L))*l/2),n=_-(A=Math.sin(Math.atan(L))*l/2),r=I+P,o=_+A,this.line(s,n,r,o,w,8),r=s=M=S+this.w.regCon+this.w.reg+this.w.regCon+this.w.reg2Chan,o=(n=(E=k+U+this.h.reg/2-28)+(null==N.labels.web?U:0))+(null!=N.labels.web?2:1)*U+this.h.seg+U+8+4,this.line(s,n,r,o,C),r=(s=M)+m,o=n=E+28,this.line(s,n,r,o,C),this.createTextAPI(N.labels.offices,M+this.w.chan+this.w.chan2Lab,E+(null==N.labels.web?U:0),this.style.legendFontName,this.style.legendFontSize,C,"left"),this.createTextAPI(N.resellers[c].regions[u].offices.format(),M+this.w.chan+this.w.chan2Lab+this.w.chanLab+this.w.chan2No+this.w.chanNo,E+(null==N.labels.web?U:0),this.style.legendFontName,this.style.legendFontSize,C,"right"),l=this.realToScreen(N.resellers[c].regions[u].offices,0,Y,0,this.w.chanBar),r=(s=M+this.w.chan+this.w.chan2Lab+this.w.chanLab+this.w.chan2No+this.w.chanNo+this.w.chan2Bar)+l,o=n=E+(null==N.labels.web?U:0)+7-2,this.line(s,n,r,o,C,8),null!=N.labels.web&&(this.createTextAPI(N.labels.web,M+this.w.chan+this.w.chan2Lab,E+U-2,this.style.legendFontName,this.style.legendFontSize,C,"left"),this.createTextAPI(N.resellers[c].regions[u].web.format(),M+this.w.chan+this.w.chan2Lab+this.w.chanLab+this.w.chan2No+this.w.chanNo,E+U-2,this.style.legendFontName,this.style.legendFontSize,C,"right"),l=this.realToScreen(N.resellers[c].regions[u].web,0,Y,0,this.w.chanBar),r=(s=M+this.w.chan+this.w.chan2Lab+this.w.chanLab+this.w.chan2No+this.w.chanNo+this.w.chan2Bar)+l,o=n=E+U+7-2,this.line(s,n,r,o,C,8)),d=0;d<N.resellers[c].regions[u].segments.length;d++)this.ctx.drawImage(this.sprite,(this.segPos[H[d+1].shortName.toLowerCase()]-1)*this.w.segImg,0,this.w.segImg,this.h.seg,M+d*this.w.seg+(this.w.seg-this.w.segImg)/2,E+28+4,this.w.segImg,this.h.seg),this.createTextAPI(N.resellers[c].regions[u].segments[d].format(),M+d*this.w.seg+this.w.seg/2,E+28+4+this.h.seg,this.style.legendFontName,this.style.legendFontSize,this.segColors[H[d+1].shortName.toLowerCase()],"center"),l=this.realToScreen(N.resellers[c].regions[u].segments[d],0,e,0,this.w.segNo),r=(s=M+d*this.w.seg+(this.w.seg-l)/2)+l,o=n=E+28+4+this.h.seg+U+4,this.line(s,n,r,o,this.segColors[H[d+1].shortName.toLowerCase()],8);null!=this.callback&&this.callback()}}),z=E.extend({minX:M.defMax,minY:M.defMax,maxX:M.defMin,maxY:M.defMin,incX:0,incY:0,gridX:!0,gridY:!0,labelX:"",labelY:"",category:[],data:[],intersectionX:0,intersectionY:0,decX:0,decY:0,points:!0,draw:function(){this.margin={top:8,left:10,bottom:10,right:12,labelData:8,labelXData:4,labelYData:4,legendData:6,legendMargin:6,axisLabels:4,pointRadius:4,barSpace:3,percentIncreaseX:10,percentIncreaseY:10};var t,e,i,s,n,r,o,a,h={},l=this.data.length,c=this.minX==M.defMax,u=this.maxX==M.defMin,d=this.minY==M.defMax,p=this.maxY==M.defMin;for(this.rect(0,0,this.width,this.height,this.style.graphColor,this.style.graphColorBorder,6),t=this.createLegendAPI(),this.createTextAPI(this.label,this.width/2,this.margin.top,this.style.labelFontName,this.style.labelFontSize,this.style.labelColor,"center"),e=0;e<l;++e)for(i=0,s=this.data[e].length;i<s;++i)c&&this.minX>this.data[e][i].x&&(this.minX=this.data[e][i].x),u&&this.maxX<this.data[e][i].x&&(this.maxX=this.data[e][i].x),d&&this.minY>this.data[e][i].y&&(this.minY=this.data[e][i].y),p&&this.maxY<this.data[e][i].y&&(this.maxY=this.data[e][i].y);for(i=0,s=this.xLines.length;i<s;++i)c&&this.minX>this.xLines[i]&&(this.minX=this.xLines[i]),u&&this.maxX<this.xLines[i]&&(this.maxX=this.xLines[i]);for(i=0,s=this.yLines.length;i<s;++i)p&&this.maxY<this.yLines[i]&&(this.maxY=this.yLines[i]),d&&this.minY>this.yLines[i]&&(this.minY=this.yLines[i]);for(this.minY==this.maxY&&(this.maxY+=1),h.left=this.margin.left+Number(this.style.labelYFontSize.replace("px",""))+this.margin.labelYData,h.top=this.margin.top+Number(this.style.labelFontSize.replace("px",""))+this.margin.labelData,h.width=this.width-h.left-(this.legend?this.margin.legendMargin+t.width:0)-this.margin.right,h.height=this.height-h.top-(Number(this.style.labelXFontSize.replace("px",""))+this.margin.labelXData)-this.margin.bottom,this.rect(h.left,h.top,h.width,h.height,this.style.graphDataColor,this.style.graphDataColorBorder),n=this.realToScreenKQ(this.minX,this.maxX,h.left,h.left+h.width),r=this.realToScreenKQ(this.minY,this.maxY,h.top+h.height,h.top),i=0;i<this.xLines.length;i++)o=this.rts(this.xLines[i],n),this.line(o,h.top,o,h.top+h.height,this.style.xLinesColor);for(i=0;i<this.yLines.length;i++)a=this.rts(this.yLines[i],r),this.line(h.left,a,h.left+h.width,a,this.style.xLinesColor);for(this.createTextAPI(this.labelX,h.left+h.width/2,this.height-this.margin.bottom-this.style.labelXFontSize.replace("px",""),this.style.labelXFontName,this.style.labelXFontSize,this.style.labelXColor,"center"),this.createTextAPIRotate(this.labelY,this.margin.left,h.top+h.height/2,Math.tan(-Math.PI/2),this.style.labelYFontName,this.style.labelYFontSize,this.style.labelYColor,"center"),2==this.xEnds.length&&(this.createTextAPI(this.xEnds[0],h.left,this.height-this.margin.bottom-this.style.labelXFontSize.replace("px",""),this.style.labelXFontName,this.style.labelXFontSize,this.style.labelXColor,"left"),this.createTextAPI(this.xEnds[1],h.left+h.width,this.height-this.margin.bottom-this.style.labelXFontSize.replace("px",""),this.style.labelXFontName,this.style.labelXFontSize,this.style.labelXColor,"right")),2==this.yEnds.length&&(this.createTextAPIRotate(this.yEnds[0],this.margin.left,h.top+h.height,Math.tan(-Math.PI/2),this.style.labelYFontName,this.style.labelYFontSize,this.style.labelYColor,"left"),this.createTextAPIRotate(this.yEnds[1],this.margin.left,h.top,Math.tan(-Math.PI/2),this.style.labelYFontName,this.style.labelYFontSize,this.style.labelYColor,"right")),4==this.quadrants.length&&(this.createTextAPI(this.quadrants[0],-5+h.left+h.width,3+h.top,this.style.labelXFontName,this.style.labelXFontSize,this.style.labelXColor,"right"),this.createTextAPI(this.quadrants[1],5+h.left,3+h.top,this.style.labelXFontName,this.style.labelXFontSize,this.style.labelXColor,"left"),this.createTextAPI(this.quadrants[2],5+h.left,-6+h.top+h.height-this.style.labelXFontSize.replace("px",""),this.style.labelXFontName,this.style.labelXFontSize,this.style.labelXColor,"left"),this.createTextAPI(this.quadrants[3],-5+h.left+h.width,-6+h.top+h.height-this.style.labelXFontSize.replace("px",""),this.style.labelXFontName,this.style.labelXFontSize,this.style.labelXColor,"right")),e=0;e<l;++e)for(i=0,s=this.data[e].length;i<s;++i)o=this.rts(this.data[e][i].x,n),(a=this.rts(this.data[e][i].y,r))>=h.top&&a<=h.top+h.height&&this.rect(o-10,a-10,20,20,this.getColor(this.data[e][i].group))}}),X=E.extend({minX:M.defMax,minY:M.defMax,maxX:M.defMin,maxY:M.defMin,incX:0,incY:0,gridX:!0,gridY:!0,labelX:"",labelY:"",maps:[],data:[],intersectionX:0,intersectionY:0,decX:0,decY:0,points:!0,noClip:!0,drawEllipses:!1,drawRectangles:!1,mapsColor:[0,0,0],mapsEdgesColor:[0,0,0],shadeFactor:10,shadeFactorEdges:10,mapEdgesWidth:5,mapFontName:"arial",mapFontSize:"13px",mapLabelColor:[0,0,0],mapAlpha:.5,mapFill:!1,dataFontName:"arial",dataFontSize:"10px",dataLabelColor:[0,0,0],dataCircles:!1,draw:function(){this.margin={top:8,left:10,bottom:10,right:12,labelData:8,labelXData:4,labelYData:4,legendData:6,legendMargin:6,axisLabels:4,pointRadius:4,barSpace:3,percentIncreaseX:10,percentIncreaseY:10};var t,e,i,s,n,r,o,a,h={},l=this.data.length,c=this.maps.length,u=this.minX==M.defMax,d=this.maxX==M.defMin,p=this.minY==M.defMax,f=this.maxY==M.defMin;for(this.rect(0,0,this.width,this.height,this.style.graphColor,this.style.graphColorBorder,6),t=this.createLegendAPI(),this.createTextAPI(this.label,this.width/2,this.margin.top,this.style.labelFontName,this.style.labelFontSize,this.style.labelColor,"center"),e=0;e<c;++e)switch(this.maps[e].display){case"ellipse":i=0,u&&this.minX>this.maps[e].x-this.maps[e].radiuses[i].radiusX&&(this.minX=this.maps[e].x-this.maps[e].radiuses[i].radiusX),d&&this.maxX<this.maps[e].x+this.maps[e].radiuses[i].radiusX&&(this.maxX=this.maps[e].x+this.maps[e].radiuses[i].radiusX),p&&this.minY>this.maps[e].y-this.maps[e].radiuses[i].radiusY&&(this.minY=this.maps[e].y-this.maps[e].radiuses[i].radiusY),f&&this.maxY<this.maps[e].y+this.maps[e].radiuses[i].radiusY&&(this.maxY=this.maps[e].y+this.maps[e].radiuses[i].radiusY);break;case"rectangle":i=0,u&&this.minX>this.maps[e].x+this.maps[e].radiuses[i].lX&&(this.minX=this.maps[e].x+this.maps[e].radiuses[i].lX),d&&this.maxX<this.maps[e].x-this.maps[e].radiuses[i].rX&&(this.maxX=this.maps[e].x-this.maps[e].radiuses[i].rX),p&&this.minY>this.maps[e].y+this.maps[e].radiuses[i].tY&&(this.minY=this.maps[e].y+this.maps[e].radiuses[i].tY),f&&this.maxY<this.maps[e].y-this.maps[e].radiuses[i].dY&&(this.maxY=this.maps[e].y-this.maps[e].radiuses[i].dY)}for(e=0;e<l;++e)u&&this.minX>this.data[e].x&&(this.minX=this.data[e].x),d&&this.maxX<this.data[e].x&&(this.maxX=this.data[e].x),p&&this.minY>this.data[e].y&&(this.minY=this.data[e].y),f&&this.maxY<this.data[e].y&&(this.maxY=this.data[e].y);for(i=0,s=this.xLines.length;i<s;++i)u&&this.minX>this.xLines[i]&&(this.minX=this.xLines[i]),d&&this.maxX<this.xLines[i]&&(this.maxX=this.xLines[i]);for(i=0,s=this.yLines.length;i<s;++i)f&&this.maxY<this.yLines[i]&&(this.maxY=this.yLines[i]),p&&this.minY>this.yLines[i]&&(this.minY=this.yLines[i]);for(this.minY==this.maxY&&(this.maxY+=1),h.left=this.margin.left+Number(this.style.labelYFontSize.replace("px",""))+this.margin.labelYData,h.top=this.margin.top+Number(this.style.labelFontSize.replace("px",""))+this.margin.labelData,h.width=this.width-h.left-(this.legend?this.margin.legendMargin+t.width:0)-this.margin.right,h.height=this.height-h.top-(Number(this.style.labelXFontSize.replace("px",""))+this.margin.labelXData)-this.margin.bottom,this.noClip?this.rectClear(h.left,h.top,h.width,h.height,this.style.graphDataColorBorder):this.rect(h.left,h.top,h.width,h.height,this.style.graphDataColor,this.style.graphDataColorBorder),n=this.realToScreenKQ(this.minX,this.maxX,h.left,h.left+h.width),r=this.realToScreenKQ(this.minY,this.maxY,h.top+h.height,h.top),i=0;i<this.xLines.length;i++)o=this.rts(this.xLines[i],n),this.line(o,h.top,o,h.top+h.height,this.style.xLinesColor);for(i=0;i<this.yLines.length;i++)a=this.rts(this.yLines[i],r),this.line(h.left,a,h.left+h.width,a,this.style.xLinesColor);if(this.createTextAPI(this.labelX,h.left+h.width/2,this.height-this.margin.bottom-this.style.labelXFontSize.replace("px",""),this.style.labelXFontName,this.style.labelXFontSize,this.style.labelXColor,"center"),this.createTextAPIRotate(this.labelY,this.margin.left,h.top+h.height/2,Math.tan(-Math.PI/2),this.style.labelYFontName,this.style.labelYFontSize,this.style.labelYColor,"center"),0!=this.maps.length)for(i=this.maps[0].radiuses.length-1;i>=0;i--)for(e=0;e<c;++e)switch(this.maps[e].display){case"ellipse":1==this.drawEllipses&&(o=this.rts(this.maps[e].x,n),a=this.rts(this.maps[e].y,r),radX=this.rts(this.maps[e].x+this.maps[e].radiuses[i].radiusX,n)-o,radY=a-this.rts(this.maps[e].y+this.maps[e].radiuses[i].radiusY,r),this.ellipseByCenter(o,a,2*radX,2*radY,this.brightenColorTimes(this.getColor(this.maps[e].group),i,this.shadeFactor),this.brightenColorTimes(this.getColor(this.maps[e].group),i,this.shadeFactorEdges),this.mapEdgesWidth,this.mapFill,this.mapAlpha));break;case"rectangle":1==this.drawRectangles&&(o=this.rts(this.maps[e].x,n),a=this.rts(this.maps[e].y,r),leftCorner=this.rts(this.maps[e].radiuses[i].lX,n),topCorner=this.rts(this.maps[e].radiuses[i].tY,r),rightCorner=this.rts(this.maps[e].radiuses[i].rX,n),downCorner=this.rts(this.maps[e].radiuses[i].dY,r),this.rectByCorners(leftCorner,topCorner,rightCorner,downCorner,this.brightenColorTimes(this.getColor(this.maps[e].group),i,this.shadeFactor),this.brightenColorTimes(this.getColor(this.maps[e].group),i,this.shadeFactorEdges),this.mapEdgesWidth,this.mapFill,this.mapAlpha,!0),this.rect(o-5,a-5,10,10,this.shadeColor(this.getColor(this.maps[e].group))))}for(e=0;e<c;++e)("rectangle"==this.maps[e].display&&1==this.drawRectangles&&0==this.drawEllipses||"ellipse"==this.maps[e].display&&1==this.drawEllipses&&0==this.drawRectangles||"rectangle"==this.maps[e].display&&1==this.drawRectangles&&1==this.drawEllipses)&&(o=this.rts(this.maps[e].x,n),a=this.rts(this.maps[e].y,r),this.createTextAPI(this.maps[e].label,o,a-parseInt(this.mapFontSize)/2,this.mapFontName,this.mapFontSize,this.mapLabelColor,"center"));for(e=0;e<l;++e)o=this.rts(this.data[e].x,n),(a=this.rts(this.data[e].y,r))>=h.top&&a<=h.top+h.height&&(this.dataCircles?this.circle(o,a,8,this.brightenColor(this.getColor(this.data[e].group)),this.getColor(this.data[e].group)):this.rect(o-5,a-5,10,10,this.getColor(this.data[e].group))),this.createTextAPI(this.data[e].label,o,a-parseInt(this.dataFontSize)/2,this.dataFontName,this.dataFontSize,this.dataLabelColor,"center")}});function Y(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}function B(){return B="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,i){var s=W(t,e);if(s){var n=Object.getOwnPropertyDescriptor(s,e);return n.get?n.get.call(arguments.length<3?t:i):n.value}},B.apply(this,arguments)}function W(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=G(t)););return t}function V(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q(t,e)}function q(t,e){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},q(t,e)}function U(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,s=G(t);if(e){var n=G(this).constructor;i=Reflect.construct(s,arguments,n)}else i=s.apply(this,arguments);return J(this,i)}}function J(t,e){if(e&&("object"===Z(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function G(t){return G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},G(t)}function Q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function K(t,e,i){return e&&$(t.prototype,e),i&&$(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function Z(t){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z(t)}var tt=window.document,et=window.document,it={merge:function(t,e){for(var i in e)void 0!==t[i]&&null!=t[i]||(t[i]=it.clone(e[i]));return t},clone:function(t){return"object"==Z(t)?"function"==typeof t.slice?t.slice(0):a().extend(!0,{},t):t},serverUrl:function(t){return t},imageServerUrl:function(t,e){return void 0===e&&(e=".png"),this.serverUrl(c.Path.getPath(d.WZ.st("common:chartsFolder"),t,e))},pngDataURL:function(t,e,i){return new Promise((function(s,n){var r=new Image;e&&(r.width=e),i&&(r.height=i),r.onload=function(){var t=tt.createElement("canvas");t.width=e||this.naturalWidth,t.height=i||this.naturalHeight,t.getContext("2d").drawImage(this,0,0,t.width,t.height);try{s(t.toDataURL("image/png"))}catch(t){n("Error converting image to data URL")}},r.crossOrigin="anonymous",r.src=t}))},convertToDataURL:function(t,e,i,s){it.pngDataURL(e,i,s).then((function(e){rt.attr(t,{"xlink:href":e})}))}},st=function(){function t(e,i,s,n){Q(this,t),this.resize(e,i,s,n)}return K(t,[{key:"resize",value:function(t,e,i,s){this.realMin=t,this.realMax=e,this.screenMin=i,this.screenMax=s}},{key:"resizeScreen",value:function(t,e){this.resize(this.realMin,this.realMax,t,e)}},{key:"screen",value:function(t){return t}},{key:"real",value:function(t){return t}}]),t}(),nt=function(t){V(i,t);var e=U(i);function i(){return Q(this,i),e.apply(this,arguments)}return K(i,[{key:"resize",value:function(t,e,s,n){B(G(i.prototype),"resize",this).call(this,t,e,s,n),this.realMax-this.realMin!=0?this.k=(this.screenMax-this.screenMin)/(this.realMax-this.realMin):this.k=0,this.q=this.screenMin-this.realMin*this.k}},{key:"screen",value:function(t){return t*this.k+this.q}},{key:"real",value:function(t){return 0===this.k?0:(t-this.q)/this.k}}]),i}(st);st.factory=function(t,e,i,s,n){return"linear"===t?new nt(e,i,s,n):new st(e,i,s,n)};var rt={ns:{xml:"http://www.w3.org/2000/xmlns/",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"},convertRemoteImages:!0,getFullName:function(t){var e,i,s="svg",n=t;if(t.indexOf(":")>-1){var r=(e=n.split(":"),i=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var s,n,r=[],o=!0,a=!1;try{for(i=i.call(t);!(o=(s=i.next()).done)&&(r.push(s.value),!e||r.length!==e);o=!0);}catch(t){a=!0,n=t}finally{try{o||null==i.return||i.return()}finally{if(a)throw n}}return r}}(e,i)||function(t,e){if(t){if("string"==typeof t)return Y(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Y(t,e):void 0}}(e,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());s=r[0],n=r[1]}return{ns:this.ns[s],name:n}},element:function(t,e,i){var s=this.getFullName(t),n=et.createElementNS(s.ns,s.name);if(this.attr(n,e),!i)return n;if("string"!=typeof(i=i||[]))for(var r=0,o=i.length;r<o;++r)n.appendChild(this.element(i[r][0],i[r][1],i[r][2]));else""!==i&&n.appendChild(et.createTextNode(String(i).unescapeHTML()));return n},attr:function(t,e){for(var i in e||{}){var s=this.getFullName(i);s.ns!==this.ns.svg?t.setAttributeNS(s.ns,s.name,e[i]):t.setAttribute(s.name,e[i])}return t},line:function(t,e,i,s,n){return this.element("line",a().extend(n||{},{x1:t,y1:e,x2:i,y2:s}))},rect:function(t,e,i,s,n){return this.element("rect",a().extend(n||{},{x:t,y:e,width:i,height:s}))},complexRect:function(t,e,i,s,n,r,o,h,l){(s<Math.max(n+o,r+h)||i<Math.max(n+r,o+h))&&(n=r=o=h=0);var c="M"+t+","+(e+n)+"a"+n+","+n+" 0 0 1 "+n+","+-n+"h"+(i-n-r)+"a"+r+","+r+" 0 0 1 "+r+","+r+"v"+(s-r-h)+"a"+h+","+h+" 0 0 1 "+-h+","+h+"h"+(h-(i-o))+"a"+o+","+o+" 0 0 1 "+-o+","+-o+"z";return this.element("path",a().extend(l||{},{d:c}))},circle:function(t,e,i,s){return this.element("circle",a().extend(s||{},{cx:t,cy:e,r:i}))},image:function(t,e,i,s,n,r){var o=this.element("image",a().extend({x:e,y:i,width:s,height:n},r||{}));return this.convertRemoteImages?it.convertToDataURL(o,t.replace(".svg",".png"),s,n):rt.attr(o,{"xlink:href":t}),o},circlePath:function(t,e,i,s,n,r){var o=2*Math.PI/i,a=s||0,h="";r=r||n;for(var l=0;l<i;++l){var c=l%2==0?n:r;h+=(h?"L ":"M ")+(t+Math.cos(a)*c)+" "+(e-Math.sin(a)*c),a+=o}return h+"Z"},shape:function(t,e,i,s,n,r,o){var a=null,h="fill: #"+n+"; stroke: #"+(r||n)+"; stroke-width: "+(o||0)+"px;";switch(t){case"square":a=rt.element("path",{d:this.circlePath(e,i,4,Math.PI/4,s),style:h});break;case"diamond":a=rt.element("path",{d:this.circlePath(e,i,4,Math.PI/2,s,.7*s),style:h});break;case"triangle":a=rt.element("path",{d:this.circlePath(e,i,3,Math.PI/2,s),style:h});break;case"triangle-up":a=rt.element("path",{d:this.circlePath(e,i,3,3*Math.PI/2,s),style:h});break;case"star-4":a=rt.element("path",{d:this.circlePath(e,i,8,Math.PI/2,s,.4*s),style:h});break;case"star-5":a=rt.element("path",{d:this.circlePath(e,i,10,Math.PI/2,s,.4*s),style:h});break;case"cross":var l,c=Math.cos(.4*Math.PI)*s,u=Math.sin(.4*Math.PI)*s;a=rt.element("g"),l=rt.rect(e-c,i-u,2*c,2*u,{style:"stroke-width: 1; fill: #"+n+";"}),a.appendChild(l),l=rt.rect(e-u,i-c,2*u,2*c,{style:"stroke-width: 1; fill: #"+n+";"}),a.appendChild(l);break;default:a=rt.circle(e,i,s,{style:h})}return a}},ot=function(){function t(e){Q(this,t),this.chart=e,this.lineStyle={thickness:0,alpha:1,color:"FF0000",pixelHinting:!0},this.fillStyle={gradient:"none",color:["FFFFFF","000000"],alpha:[0,1],ratio:[0,255]},this.fontStyle={name:"Arial",size:10,color:"000000",bold:!1,italics:!1},this.items=[],this.grMatrix=[],this.visible=!0}return K(t,[{key:"setLineStyle",value:function(t){this.lineStyle=it.merge(t,this.lineStyle)}},{key:"setFillStyle",value:function(t){this.fillStyle=it.merge(t,this.fillStyle)}},{key:"setFontStyle",value:function(t){this.fontStyle=it.merge(t,this.fontStyle)}},{key:"mergeFontStyle",value:function(t){return it.merge(t||{},this.fontStyle)}},{key:"getTextFormat",value:function(t){var e=this.mergeFontStyle(t);return"font-family: "+e.name+"; font-size: "+e.size+"px; stroke: none; fill: #"+e.color+"; "+(e.bold?"font-weight: bold;":"")+(e.italics?"font-style: italic;":"")}},{key:"getTextField",value:function(t,e){e=e||this.getTextFormat();var i=String(t).replace(/<br\s*\/?>/g,"<br>").split("<br>");if(1===i.length)return rt.element("text",{style:e},t);var s=i.map((function(t,e){return["tspan",{dy:e>0?"1.2em":"0"},t]})),n=rt.element("text",{style:e},s);this.chart.svg.appendChild(n);for(var r=n.childNodes[0].getComputedTextLength(),o=1;o<n.childNodes.length;++o){var a=n.childNodes[o],h=a.getComputedTextLength();a.setAttribute("dx",String(-(h/2+r/2))),r=h}return this.chart.svg.removeChild(n)}},{key:"trimTextField",value:function(t,e,i){var s=t.getBoundingClientRect();if((e||0)<=0||s.width<=e||"tspan"===t.firstChild.nodeName.toLowerCase())return s;var n=t.firstChild.nodeValue;for(i=i||"";n.length>0&&s.width>e;)n=n.substring(0,n.length-1),t.firstChild.nodeValue=n+i,s=t.getBoundingClientRect();return s}},{key:"beginStyle",value:function(t,e){return this.fillStyle.gradient,this.getStrokeFillStyle(this.lineStyle,this.fillStyle)}},{key:"getStrokeFillStyle",value:function(t,e){var i,s,n=t.color;return i="object"==Z(e.color)&&void 0!==e.color.length?e.color[0]:e.color,s="object"==Z(e.color)&&void 0!==e.alpha.length?e.alpha[0]:e.alpha,"none"!==i&&"#"!==i.substring(0,1)&&6===i.length&&(i="#"+i),"none"!==n&&"#"!==n.substring(0,1)&&6===n.length&&(n="#"+n),"stroke: "+n+"; stroke-width:"+t.thickness+"px; fill: "+i+"; fill-opacity: "+s+";"}},{key:"drawElement",value:function(t){}},{key:"alignElement",value:function(t){}},{key:"getId",value:function(){return""}}]),t}(),at=function(t){V(i,t);var e=U(i);function i(t){var s;return Q(this,i),(s=e.call(this,t)).setLineStyle(s.chart.chartData.background.lineStyle),s.setFillStyle(s.chart.chartData.background.fillStyle),s}return K(i,[{key:"getId",value:function(){return this.chart.getId("chart-background")}},{key:"drawElement",value:function(t){var e=this.beginStyle(t.width,t.height),i=this.lineStyle.thickness,s=t.x+i/2,n=t.y+i/2,r=t.width-i,o=t.height-i,a={style:e,id:this.getId()};return"round"===this.chart.chartData.background.corners?this.svg=rt.complexRect(s,n,r,o,2,2,2,2,a):this.svg=rt.rect(s,n,r,o,a),this.chart.svg.appendChild(this.svg),this.svg}}]),i}(ot);at.factory=function(t){return t.chartData.background.type,new at(t)};var ht=function(t){V(i,t);var e=U(i);function i(t){var s;return Q(this,i),(s=e.call(this,t)).setFontStyle(s.chart.chartData.title.fontStyle),s.setFillStyle(s.chart.chartData.title.fillStyle),s}return K(i,[{key:"getId",value:function(t){return t=void 0===t?"":"_"+t,this.chart.getId("chart-title"+t)}},{key:"drawElement",value:function(t){var e,i=this.chart.chartData.data,s=this.chart.chartData.title,n=s.margin,r=this.getTextField(i.title),o=this.beginStyle(t.width,t.height),a=rt.element("g",{id:this.getId(),"aria-label":i.title,tabindex:-1},[["title",{},i.title]]),h=this.fontStyle.size+n.top+n.bottom,l=rt.rect(t.x,t.y,t.width,h,{style:o});switch(this.chart.svg.appendChild(a),a.appendChild(l),a.appendChild(r),e=this.trimTextField(r,t.width-n.left-n.right),this.width=e.width,this.height=e.height,s.position){case"left":this.x=n.left;break;case"center":this.x=t.width/2-this.width/2+n.left-n.right;break;case"right":this.x=t.width-this.width-n.right;break;default:this.x=0,this.visible=!1,a.style.visibility="hidden"}this.y=t.y+n.top+this.fontStyle.size;var c=n.top+this.height+n.bottom;return this.visible&&(t.y+=c,t.height-=c),rt.attr(r,{x:this.x,y:this.y,id:this.getId("text")}),rt.attr(l,{height:c}),this.svg=r,this.svg}}]),i}(ot);ht.factory=function(t){return new ht(t)};var lt=function(t){V(i,t);var e=U(i);function i(t){var s;return Q(this,i),(s=e.call(this,t)).setLineStyle(s.chart.chartData.legend.lineStyle),s.setFillStyle(s.chart.chartData.legend.fillStyle),s.setFontStyle(s.chart.chartData.legend.fontStyle),s.maxWidth=s.chart.chartData.legend.maxWidth||-1,s}return K(i,[{key:"getId",value:function(t){return t=void 0===t?"":"_"+t,this.chart.getId("chart-legend"+t)}},{key:"drawItem",value:function(t,e,i,s,n){var r,o,h,l=this.chart.chartData.data,c=this.getTextField(n),u=l.colorIds[s],d=this.chart.getColor(u),p=this.chart.getShape(u),f=this.chart.getDash(u),g=this.chart.getPattern(u),m=rt.element("g",{id:this.getId(s)},[["title",{},n]]),v=rt.element("rect",{x:this.lineStyle.thickness,y:0,width:1,height:0,style:"opacity: 0; stroke: #e6f1fb; fill: #e6f1fb"});if(t.appendChild(m),m.appendChild(v),m.appendChild(c),r=this.trimTextField(c,this.maxWidth),c.setAttribute("x",e+2*r.height),c.setAttribute("y",this.fontStyle.size+0),v.setAttribute("height",r.height+0),this.labelBackgrounds[s]=v,"line"===this.chart.chartData.type){h=this.chart.chartData.chartSettings.radius,o=rt.element("g",{class:"shape"});var y=e+1,b=e+2*r.height-2-h,x=r.height-2-h+0,w=this.chart.chartData.chartSettings.lineStyle.thickness;o.appendChild(rt.element("line",{x1:y,y1:2,x2:b,y2:x,style:"opacity: 0; stroke-width: "+w+"px;stroke: #FFFFFF;",class:"highlight"})),o.appendChild(rt.element("line",{x1:y,y1:2,x2:b,y2:x,style:"opacity: 0; stroke-width: 4px; stroke: #FFFFFF;",transform:"translate(0, -2)",class:"highlight"})),o.appendChild(rt.element("line",{x1:y,y1:2,x2:b,y2:x,style:"stroke-width: "+w+"px;stroke: #"+d+";"+(f?"stroke-dasharray: "+f+";":"")})),o.appendChild(rt.shape(p.shape,b,x,(p.zoom||1)*h,d,p.fill?p.fill:d))}else o=rt.element("rect",{x:e+2,y:2,width:2*r.height-4,height:r.height-4,class:"shape",style:"fill: "+(g?"url(#"+this.chart.getId("chart-area_pattern_"+l.colorIds[s])+") ":"")+"#"+d+";"});return m.appendChild(o),rt.attr(m,{transform:"translate(0,"+i+")"}),a()(m).on("mouseover",this.chart.highlight.bind(this.chart,s)).on("mouseout",this.chart.clearHighlight.bind(this.chart)),m}},{key:"drawElement",value:function(t){var e,i,s,n=this.chart.chartData.data,r=this.chart.chartData.legend,o=r.padding,a=r.margin,h=o.top,l=o.left,c=r.columns<1?1:r.columns,u=Math.ceil(n.labels.length/c);if("none"!==r.position){this.cols=[],this.svg=rt.element("g",{id:this.getId(),"aria-hidden":"true",role:"presentation"}),this.chart.svg.appendChild(this.svg),i="round"!==r.corners?rt.element("rect",{x:0,y:0}):rt.element("rect",{x:0,y:0,rx:2,ry:2}),this.svg.appendChild(i),this.height=0,this.width=0,this.labelBackgrounds=[],this.labelHighlighted=null;for(var d=0,p=n.labels.length;d<p;++d)d%u==0&&(s=rt.element("g"),this.cols.push(s),this.svg.appendChild(s)),h+=(e=this.drawItem(s,l,h,d,n.labels[d]).getBoundingClientRect()).height,this.height+=e.height,this.width<e.width&&(this.width=e.width);for(var f=0;f<this.cols.length;++f)0===f&&(e=this.cols[f].getBoundingClientRect(),this.height=e.height),rt.attr(this.cols[f],{transform:"translate("+f*(this.width+r.columnMargin)+", -"+e.height*f+")"});for(var g=0,m=n.labels.length;g<m;++g){s=Math.floor(g/u);var v=this.width;0===s&&(v+=o.left),s+1===c&&(v+=o.right-2*this.lineStyle.thickness),s>0&&this.labelBackgrounds[g].setAttribute("x",this.lineStyle.thickness+o.left),this.labelBackgrounds[g].setAttribute("width",v)}this.width=(this.width+r.columnMargin)*c-r.columnMargin;var y=this.width+o.right+o.left,b=this.height+o.bottom+o.top,x=this.beginStyle(y,b);switch(this.svg.setAttribute("width",y),this.svg.setAttribute("height",b),i.setAttribute("style",x),i.setAttribute("width",y),i.setAttribute("height",b),this.x=0,this.y=0,this.width=y,this.height=b,y=this.width+a.right+a.left,b=this.height+a.top+a.bottom,r.position){case"top":this.y=t.y+a.top,t.y+=b;case"bottom":switch("bottom"===r.position&&(this.y=t.y+t.height-a.bottom-this.height),t.height-=b,r.align){case"left":this.x=t.x+a.left;break;case"right":this.x=t.width-this.width-a.right;break;default:this.x=t.x+(t.width-t.x)/2-this.width/2+a.left-a.right}break;case"left":this.x=t.x+a.left,t.x+=y;case"right":switch("right"===r.position&&(this.x=t.width-this.width-a.right),t.width-=y,r.align){case"bottom":this.y=t.height-a.bottom-this.height;break;case"center":this.y=t.y+(t.height-t.y)/2-this.height/2+a.top-a.bottom;break;default:this.y=t.y+a.top}break;default:this.visible=!1,this.svg.style.visibility="hidden"}this.svg.setAttribute("transform","translate("+this.x+","+this.y+")")}else this.visible=!1}},{key:"highlight",value:function(t){this.visible&&(a()("#"+this.getId(t)).css({cursor:"pointer"}),this.chart.chartData.chartSettings.radius,a()("#"+this.getId(t)).find(".shape").css("filter","url(#"+this.chart.chartArea.getId("hl-filter")+")"),a()("#"+this.getId(t)).find(".highlight").css("opacity",1),a()(this.labelBackgrounds[t]).css("opacity",1))}},{key:"clearHighlight",value:function(){this.visible&&(a()("#"+this.getId(this.chart.highlightedLabel)).css({cursor:"normal"}),this.chart.chartData.chartSettings.radius,a()("#"+this.getId(this.chart.highlightedLabel)).find(".shape").css("filter",""),a()("#"+this.getId(this.chart.highlightedLabel)).find(".highlight").css("opacity",0),a()(this.labelBackgrounds[this.chart.highlightedLabel]).css("opacity",0))}}]),i}(ot);lt.factory=function(t){return t.chartData.legend.type,new lt(t)};var ct=function(t){V(i,t);var e=U(i);function i(t){var s;return Q(this,i),(s=e.call(this,t)).setFontStyle(s.chart.chartData.hAxis.fontStyle),s}return K(i,[{key:"getId",value:function(t){return t=t?"-"+t:"",this.chart.getId("h-axis"+t)}},{key:"shift",value:function(t){switch(this.chart.chartData.hAxis.position){case"left":this.x=this.x+t;break;case"center":this.x=this.x+t/2}rt.attr(this.svg,{x:this.x}),this.left=this.left+t,rt.attr(this.svgLE,{x:this.left})}},{key:"drawElement",value:function(t){var e,i=this.chart.chartData.data,s=this.chart.chartData.hAxis,n=s.margin,r=this.chart.isHorizontal?i.yAxis:i.xAxis,o=this.chart.isHorizontal?i.yAxisEnds:i.xAxisEnds,a=this.getTextField(r),h=this.getTextField(o[0]||""),l=this.getTextField(o[1]||"");switch(this.chart.svg.appendChild(a),this.chart.svg.appendChild(h),this.chart.svg.appendChild(l),this.svg=a,this.svgLE=h,this.svgHE=l,e=a.getBoundingClientRect(),this.x=0,this.y=0,this.width=e.width,this.height=e.height,e=l.getBoundingClientRect(),this.left=t.x+n.left,this.right=t.x+t.width-n.right,s.position){case"left":this.x=this.left;break;case"center":this.x=t.x+t.width/2-this.width/2+n.left-n.right;break;case"right":this.x=this.right-this.width;break;default:this.visible=!1,a.style.visibility="hidden"}this.y=t.y+t.height-n.bottom-this.height+this.fontStyle.size;var c=n.top+this.height+n.bottom;return this.visible&&(t.height-=c),rt.attr(a,{x:this.x,y:this.y,id:this.getId(),tabindex:-1,"aria-label":r}),rt.attr(h,{x:this.left,y:this.y,id:this.getId("le"),tabindex:-1,"aria-label":o[0]||""}),rt.attr(l,{x:this.right-e.width,y:this.y,id:this.getId("he"),tabindex:-1,"aria-label":o[1]||""}),a}}]),i}(ot);ct.factory=function(t){return new ct(t)};var ut=function(t){V(i,t);var e=U(i);function i(t){var s;return Q(this,i),(s=e.call(this,t)).setFontStyle(s.chart.chartData.vAxis.fontStyle),s}return K(i,[{key:"getId",value:function(t){return t=t?"-"+t:"",this.chart.getId("v-axis"+t)}},{key:"shift",value:function(t){switch(this.chart.chartData.vAxis.position){case"center":this.x=this.x-t/2;break;case"bottom":this.x=this.x-t}rt.attr(this.svg,{x:this.x}),this.bottom=this.bottom-t,rt.attr(this.svgLE,{x:this.x-t})}},{key:"drawElement",value:function(t){var e,i=this.chart.chartData.data,s=this.chart.chartData.vAxis,n=s.margin,r=this.chart.isHorizontal?i.xAxis:i.yAxis,o=this.chart.isHorizontal?i.xAxisEnds:i.yAxisEnds,a=this.getTextField(r),h=this.getTextField(o[0]||""),l=this.getTextField(o[1]||"");switch(this.chart.svg.appendChild(h),this.chart.svg.appendChild(l),this.chart.svg.appendChild(a),this.svg=a,this.svgLE=h,this.svgHE=l,e=a.getBoundingClientRect(),this.x=0,this.y=0,this.width=e.width,this.height=e.height,e=l.getBoundingClientRect(),this.top=t.y+n.top,this.bottom=t.y+t.height-n.bottom,s.position){case"top":this.y=t.y+n.top+this.width;break;case"center":this.y=t.y+t.height/2+this.width/2+n.top-n.bottom;break;case"bottom":this.y=t.y+t.height-n.bottom;break;default:this.visible=!1,a.style.visibility="hidden"}this.x=t.x+n.left+this.fontStyle.size;var c=n.left+this.height+n.right;return this.visible&&(t.x+=c,t.width-=c),this.chart.hAxis.shift(c),rt.attr(a,{transform:"rotate(-90,"+this.x+","+this.y+")",x:this.x,y:this.y,id:this.getId(),tabindex:-1,"aria-label":r}),rt.attr(h,{transform:"rotate(-90,"+this.x+","+this.bottom+")",x:this.x,y:this.bottom,id:this.getId("le"),tabindex:-1,"aria-label":o[0]||""}),rt.attr(l,{transform:"rotate(-90,"+this.x+","+(this.top+e.width)+")",x:this.x,y:this.top+e.width,id:this.getId("he"),tabindex:-1,"aria-label":o[1]||""}),a}}]),i}(ot);ut.factory=function(t){return new ut(t)};var dt=function(t){V(i,t);var e=U(i);function i(t){var s;return Q(this,i),(s=e.call(this,t)).sMinH=0,s.sMaxH=0,s.sMinV=0,s.sMaxV=0,s.valuePosition="none",s.valueAlign="right",s.labelPosition="none",s.labelAlign="left",s.absoluteValue=!1,s.setLineStyle(s.chart.chartData.chartArea.lineStyle),s.setFillStyle(s.chart.chartData.chartArea.fillStyle),s.setFontStyle(s.chart.chartData.chartArea.fontStyle),s.hLabels=[],s.vLabels=[],s.currentLabel=-1,s.currentX=-1,s.patternsDrawn=[],s.maxLabelWidth=s.chart.chartData.chartArea.maxLabelWidth||-1,s.minLabelWidth=s.chart.chartData.chartArea.minLabelWidth||-1,s.verticalGrid={},s.horizontalGrid={},s.xAxis={},s.yAxis={},s}return K(i,[{key:"getId",value:function(t,e){var i="chart-area";return void 0!==t&&(i+="_"+t,void 0!==e&&(i+="_"+e)),this.chart.getId(i)}},{key:"formatNumber",value:function(t,e){return function(t,e,i,s){var n,r="";if(e=e||0,i=i||c.Live.decimalDelimiter,void 0===s&&(s=c.Live.thousandDelimiter),e>0){var o=Math.pow(10,e),a=Math.round(t*o)/o,h=Math.abs(a),l=Math.floor(h);r=i+(o+Math.round((h-l)*o)).toString().substr(1),n=l.toString()}else n=Math.abs(Math.round(t)).toString();for(var u=n.length-3;u>0;)r=s+n.substr(u,3)+r,u-=3;return(t<0?"-":"")+n.substr(0,u+3)+r}(t,e.decimals,e.decimalDelimiter,e.thousandDelimiter)}},{key:"moveFocus",value:function(t,e){var i=this.chart.chartData.data.x,s=this.chart.chartData.data.labels;return this.currentLabel<0||this.currentX<0?(s.length>0&&(this.currentLabel=0),i.length>0&&(this.currentX=0)):(this.currentLabel+=t,this.currentLabel<0&&(this.currentLabel=0),this.currentLabel>s.length-1&&(this.currentLabel=s.length-1),this.currentX+=e,this.currentX<0&&(this.currentX=0),this.currentX>i.length-1&&(this.currentX=i.length-1)),this.currentLabel>=0&&this.currentX>=0?this.getId(this.currentLabel,this.currentX):null}},{key:"createLabelFields",value:function(t,e,i,s){for(var n={labels:[],width:0,height:0},r=0,o=t.length;r<o;++r){var a=this.getTextField(e(t[r],r),s);this.svg.appendChild(a);var h=this.trimTextField(a,i);n.height<h.height&&(n.height=h.height),n.width<h.width&&(n.width=h.width),n.labels.push(a),a.style.visibility="hidden"}return n}},{key:"getHorizontalChartLabels",value:function(){return this.chart.isHorizontal?this.chart.yLabels:this.chart.xLabels}},{key:"getVerticalChartLabels",value:function(){return this.chart.isHorizontal?this.chart.xLabels:this.chart.yLabels}},{key:"createHorizontalLabels",value:function(t){var e=this,i=this.chart.chartData.data,s=function(i){return e.formatNumber(i,t)};i.areNumeric||this.chart.isHorizontal||(s=function(t,e){return e>=i.x.length?"":i.x[e]});var n=this.createLabelFields(this.getHorizontalChartLabels(),s);return this.hLabels=n.labels,"outer"===t.position?"top"===t.align?n.height:-n.height:0}},{key:"createVerticalLabels",value:function(t){var e=this,i=this.chart.chartData.data,s=function(i){return e.formatNumber(i,t)};!i.areNumeric&&this.chart.isHorizontal&&(s=function(t,e){return e>=i.x.length?"":i.x[e]});var n=this.createLabelFields(this.getVerticalChartLabels(),s);return this.vLabels=n.labels,"outer"===t.position?"left"===t.align?n.width:-n.width:0}},{key:"createValueLabels",value:function(t){var e=this,i=0,s=0,n={lWidth:0,lHeight:0};if(this.valueLabels=[],"none"===this.valuePosition)return n;for(var r=this.chart.chartData.data,o=this.getTextFormat({bold:!0}),a=o+"stroke: #FFFFFF; stroke-width: 4px; stroke-linejoin: round;",h=r.valueSuffix||"",l=function(n,l){e.valueLabels[n]=[];for(var c=function(i){var s=i[n];if("number"==typeof s){var r=e.absoluteValue?Math.abs(s):s;return e.formatNumber(r,t)+h}return s},u=[e.createLabelFields(r.y,c,0,a),e.createLabelFields(r.y,c,0,o)],d=0;d<u.length;++d){var p=u[d];i<p.width&&(i=p.width),s<p.height&&(s=p.height)}for(var f=0,g=r.y.length;f<g;++f){for(var m=[],v=0;v<u.length;++v)m.push(u[v].labels[f]);e.valueLabels[n].push(m)}},c=0,u=r.labels.length;c<u;++c)l(c);return"outer"===this.valuePosition&&("left"===this.valueAlign&&(n.lWidth=i),"right"===this.valueAlign&&(n.lWidth=-i),"top"===this.valueAlign&&(n.lHeight=s),"bottom"===this.valueAlign&&(n.lHeight=-s)),n}},{key:"createLabelLabels",value:function(t){var e=this,i=0,s=0,n={lWidth:0,lHeight:0};if(this.labelLabels=[],"none"===this.labelPosition)return n;for(var r=this.chart.chartData.data,o=this.getTextFormat({bold:!0}),a=o+"stroke: #FFFFFF; stroke-width: 4px; stroke-linejoin: round;",h=function(t,n){e.labelLabels[t]=[];for(var h=function(e){return r.labels[t]},l=[e.createLabelFields(r.x,h,e.maxLabelWidth,a),e.createLabelFields(r.x,h,e.maxLabelWidth,o)],c=0;c<l.length;++c){var u=l[c];i<u.width&&(i=u.width),s<u.height&&(s=u.height)}for(var d=0,p=r.x.length;d<p;++d){for(var f=[],g=0;g<l.length;++g)f.push(l[g].labels[d]);e.labelLabels[t].push(f)}},l=0,c=r.labels.length;l<c;++l)h(l);return this.minLabelWidth>=0&&this.minLabelWidth>i&&(i=this.minLabelWidth),this.maxLabelWidth>=0&&this.maxLabelWidth<i&&(i=this.maxLabelWidth),"outer"===this.labelPosition&&("left"===this.labelAlign&&(n.lWidth=i),"right"===this.labelAlign&&(n.lWidth=-i),"top"===this.labelAlign&&(n.lHeight=s),"bottom"===this.labelAlign&&(n.lHeight=-s)),n}},{key:"createTransformations",value:function(){var t=this.chart.chartData.data,e=this.chart,i=e.minX,s=e.minY,n=e.maxX,r=e.maxY;this.chart.isHorizontal?(this.chart.xT=st.factory(t.xTransformation,i,n,this.sMaxV,this.sMinV),this.chart.yT=st.factory(t.yTransformation,s,r,this.sMinH,this.sMaxH)):(this.chart.xT=st.factory(t.xTransformation,i,n,this.sMinH,this.sMaxH),this.chart.yT=st.factory(t.yTransformation,s,r,this.sMaxV,this.sMinV))}},{key:"getAxisPosition",value:function(t,e){var i={axis:0,pos:0},s=0;switch(t){case"inner":s=-1;break;case"outer":s=1}switch(e){case"top":i.pos=-s,i.axis=this.sMinV;break;case"bottom":i.pos=s,i.axis=this.sMaxV;break;case"left":i.pos=-s,i.axis=this.sMinH;break;case"right":i.pos=s,i.axis=this.sMaxH}return i}},{key:"getHorizontalTransformation",value:function(){return this.chart.isHorizontal?this.chart.yT:this.chart.xT}},{key:"getVerticalTransformation",value:function(){return this.chart.isHorizontal?this.chart.xT:this.chart.yT}},{key:"drawVerticalGrid",value:function(t){for(var e=this.getVerticalChartLabels(),i=this.getVerticalTransformation(),s={style:t},n=0,r=e.length;n<r;++n){var o=i.screen(e[n]);this.svg.appendChild(rt.line(this.sMinH,o,this.sMaxH,o,s))}}},{key:"drawHorizontalGrid",value:function(t){for(var e=this.getHorizontalChartLabels(),i=this.getHorizontalTransformation(),s={style:t},n=0,r=e.length;n<r;++n){var o=i.screen(e[n]);this.svg.appendChild(rt.line(o,this.sMinV,o,this.sMaxV,s))}}},{key:"drawVerticalTicks",value:function(t,e){var i=this.getVerticalChartLabels(),s=this.getVerticalTransformation(),n=this.getAxisPosition(t.position,t.align),r={style:e};if(0!==n.pos)for(var o=0,a=i.length;o<a;++o){var h=s.screen(i[o]);this.svg.appendChild(rt.line(n.axis,h,n.axis+n.pos*t.tickLength,h,r))}}},{key:"drawHorizontalTicks",value:function(t,e){var i=this.getHorizontalChartLabels(),s=this.getHorizontalTransformation(),n=this.getAxisPosition(t.position,t.align),r={style:e};if(0!==n.pos)for(var o=0,a=i.length;o<a;++o){var h=s.screen(i[o]);this.svg.appendChild(rt.line(h,n.axis,h,n.axis+n.pos*t.tickLength,r))}}},{key:"drawVerticalLabels",value:function(t){var e=this.getVerticalChartLabels(),i=this.getVerticalTransformation(),s=this.getAxisPosition(t.position,t.align),n=this.chart.isHorizontal?this.chart.offsetXLabels:this.chart.offsetYLabels;if(0!==s.pos)for(var r=0,o=e.length;r<o;++r){var a=this.vLabels[r].getBoundingClientRect(),h=s.pos>0?s.axis+t.areaMargin:s.axis-t.areaMargin-a.width,l=i.screen(e[r]+n)-a.height/2+this.fontStyle.size;this.vLabels[r].setAttribute("x",h),this.vLabels[r].setAttribute("y",l),this.vLabels[r].style.visibility="visible"}}},{key:"drawHorizontalLabels",value:function(t){var e=this.getHorizontalChartLabels(),i=this.getHorizontalTransformation(),s=this.getAxisPosition(t.position,t.align),n=this.chart.isHorizontal?this.chart.offsetYLabels:this.chart.offsetXLabels;if(0!==s.pos)for(var r=0,o=e.length;r<o;++r){var a=this.hLabels[r].getBoundingClientRect(),h=i.screen(e[r]+n)-a.width/2,l=s.pos>0?s.axis+t.areaMargin+this.fontStyle.size:s.axis-t.areaMargin-a.height+this.fontStyle.size;this.hLabels[r].setAttribute("x",h),this.hLabels[r].setAttribute("y",l),this.hLabels[r].style.visibility="visible"}}},{key:"drawQuadrantLabels",value:function(){var t,e=this.chart.chartData.data;this.quadrantLabels=[];for(var i=0;i<4;++i){var s=this.getTextField(e.quadrants[i]||"");this.svg.appendChild(s),this.quadrantLabels.push(s)}t=this.quadrantLabels[0].getBoundingClientRect(),rt.attr(this.quadrantLabels[0],{x:this.area.x+this.area.width-t.width-5,y:5+this.area.y+this.fontStyle.size}),t=this.quadrantLabels[1].getBoundingClientRect(),rt.attr(this.quadrantLabels[1],{x:5+this.area.x,y:5+this.area.y+this.fontStyle.size}),t=this.quadrantLabels[2].getBoundingClientRect(),rt.attr(this.quadrantLabels[2],{x:5+this.area.x,y:this.area.y+this.area.height-5}),t=this.quadrantLabels[3].getBoundingClientRect(),rt.attr(this.quadrantLabels[3],{x:this.area.x+this.area.width-t.width-5,y:this.area.y+this.area.height-5})}},{key:"drawLines",value:function(){for(var t=this.chart.chartData.data,e=this.chart.isHorizontal?t.yLines:t.xLines,i=this.chart.isHorizontal?t.xLines:t.yLines,s=this.getHorizontalTransformation(),n=this.getVerticalTransformation(),r={style:"stroke: #000000; stroke-width: 2px;"},o=0,a=e.length;o<a;++o){var h=s.screen(e[o]);this.svg.appendChild(rt.line(h,this.sMinV,h,this.sMaxV,r))}for(var l=0,c=i.length;l<c;++l){var u=n.screen(i[l]);this.svg.appendChild(rt.line(this.sMinH,u,this.sMaxH,u,r))}}},{key:"drawAxes",value:function(){var t=this.chart,e=t.isHorizontal,i=t.intersectionY,s=t.intersectionX,n=t.chartData,r=n.hAxis,o=n.vAxis,a=this.getHorizontalTransformation().screen(e?i:s);this.svg.appendChild(rt.line(a,this.sMinV,a,this.sMaxV,{style:this.getStrokeFillStyle(r.lineStyle,this.fillStyle)}));var h=this.getVerticalTransformation().screen(e?s:i);this.svg.appendChild(rt.line(this.sMinH,h,this.sMaxH,h,{style:this.getStrokeFillStyle(o.lineStyle,this.fillStyle)}))}},{key:"drawImage",value:function(){var t,e,i=this.chart.chartData.data;if(""!==i.image.url){switch(i.image.hAlign){case"left":t=this.sMinH+i.image.margin;break;case"right":t=this.sMaxH-i.image.width-i.image.margin;break;default:t=(this.sMinH+this.sMaxH)/2-i.image.width/2}switch(i.image.vAlign){case"top":e=this.sMinV+i.image.margin;break;case"bottom":e=this.sMaxV-i.image.height-i.image.margin;break;default:e=(this.sMinV+this.sMaxV)/2-i.image.height/2}this.svg.appendChild(rt.image(it.serverUrl(i.image.url),t,e,i.image.width,i.image.height))}}},{key:"drawText",value:function(){var t=this.chart.chartData.data;if(""!==t.text.label){var e,i,s="middle",n="middle",r=(this.mergeFontStyle(t.text.fontStyle),this.getTextField(t.text.label,this.getTextFormat(t.text.fontStyle)));switch(this.svg.appendChild(r),r.getBBox(),t.text.hAlign){case"left":s="start",e=this.sMinH+t.text.margin;break;case"right":s="end",e=this.sMaxH-t.text.margin;break;default:e=(this.sMinH+this.sMaxH)/2}switch(t.text.vAlign){case"top":n="hanging",i=this.sMinV+t.text.margin;break;case"bottom":n="bottom",i=this.sMaxV-t.text.margin;break;default:i=(this.sMinV+this.sMaxV)/2}r.style.textAnchor=s,r.style.dominantBaseline=n,rt.attr(r,{x:e,y:i})}}},{key:"drawPattern",value:function(t){var e=this.chart.getPattern(t);if(e&&void 0===this.patternsDrawn[t]){if("image"===e.type){var i=rt.element("image",{x:0,y:0,width:e.width,height:e.height,"xlink:href":it.imageServerUrl("patterns/"+e.src,"")}),s=rt.element("pattern",{id:this.getId("pattern_"+t),patternUnits:"userSpaceOnUse",width:e.width,height:e.height});s.appendChild(i),this.chart.svgDefs.appendChild(s),rt.convertRemoteImages&&it.convertToDataURL(i,it.imageServerUrl("patterns/"+e.src,""))}this.patternsDrawn[t]=!0}}},{key:"getTPoint",value:function(t,e){return this.chart.isHorizontal?{x:this.chart.yT.screen(e),y:this.chart.xT.screen(t)}:{x:this.chart.xT.screen(t),y:this.chart.yT.screen(e)}}},{key:"drawElement",value:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this.svg=rt.element("g",{transform:"translate("+this.x+","+this.y+")",id:this.chart.getId("chart-area")}),this.chart.svg.appendChild(this.svg);var e,i,s=rt.element("rect");this.svg.appendChild(s);var n=this.chart.chartData.chartArea,r=n.vLabels,o=n.hLabels,h=this.createVerticalLabels(r),l=this.createHorizontalLabels(o),c=this.createValueLabels(r),u=this.createLabelLabels(r),d=Math.max(h,c.lWidth,u.lWidth,0),p=Math.min(h,c.lWidth,u.lWidth,0),f=Math.max(l,c.lHeight,u.lHeight,0),g=Math.min(l,c.lHeight,u.lHeight,0);this.sMinH=n.margin.left+(0!==d?d+r.areaMargin:0),this.sMaxH=t.width-n.margin.right+(0!==p?p-r.areaMargin:0),this.sMinV=n.margin.top+(0!==f?f+o.areaMargin:0),this.sMaxV=t.height-n.margin.bottom+(0!==g?g-o.areaMargin:0),this.area={x:this.sMinH,y:this.sMinV,width:this.sMaxH-this.sMinH,height:this.sMaxV-this.sMinV},this.createTransformations(),e=this.beginStyle(this.area.width,this.area.height),i="round"!==n.corners?{style:e}:{style:e,rx:2,ry:2},rt.attr(s,a().extend({},this.area,i)),this.drawHorizontalGrid(e),this.drawVerticalGrid(e),this.drawChart(e),this.drawLines(),this.drawHorizontalTicks(o,e),this.drawVerticalTicks(r,e),this.drawAxes(),this.drawHorizontalLabels(o),this.drawVerticalLabels(r),this.drawQuadrantLabels(),this.drawImage(),this.drawText(),this.chart.vAxis.shift(g),this.chart.hAxis.shift(this.area.x-(t.width-this.area.width-this.area.x)),this.chart.chartData.chartArea.visible||(this.svg.style.visibility="hidden")}},{key:"highlight",value:function(t){this.visible}},{key:"clearHighlight",value:function(){this.visible}},{key:"drawChart",value:function(){}}]),i}(ot),pt=function(t){V(i,t);var e=U(i);function i(t){var s;return Q(this,i),(s=e.call(this,t)).defaultSettings={lineStyle:{thickness:2,alpha:1,pixelHinting:!0},radius:4,bezierSmoothing:!1},s.settings=it.merge(s.chart.chartData.chartSettings,s.defaultSettings),s.settings.lineStyle.thickness=s.settings.lineStyle.thickness*s.chart.scaleSize,s.settings.radius=s.settings.radius*s.chart.scaleSize,s}return K(i,[{key:"drawFilters",value:function(){this.chart.svgDefs.appendChild(rt.element("filter",{id:this.getId("hl-filter"),x:"0",y:"0",width:"200%",height:"200%"},[["feOffset",{in:"SourceAlpha",dx:0,dy:2}],["feGaussianBlur",{stdDeviation:1}],["feComponentTransfer",{},[["feFuncA",{type:"linear",slope:"0.75"}]]],["feMerge",{},[["feMergeNode",{}],["feMergeNode",{in:"SourceGraphic"}]]]])),this.chart.svgDefs.appendChild(rt.element("filter",{id:this.getId("hl-filter-point"),x:"0",y:"0",width:"200%",height:"200%"},[["feOffset",{in:"SourceAlpha",dx:0,dy:3}],["feGaussianBlur",{stdDeviation:2}],["feComponentTransfer",{},[["feFuncA",{type:"linear",slope:"0.75"}]]],["feMerge",{},[["feMergeNode",{}],["feMergeNode",{in:"SourceGraphic"}]]]])),this.chart.svgDefs.appendChild(rt.element("filter",{id:this.getId("hl-filter-textbox"),x:"0",y:"0",width:"200%",height:"200%"},[["feOffset",{in:"SourceAlpha",dx:0,dy:2}],["feGaussianBlur",{stdDeviation:1}],["feComponentTransfer",{},[["feFuncA",{type:"linear",slope:"0.5"}]]],["feMerge",{},[["feMergeNode",{}],["feMergeNode",{in:"SourceGraphic"}]]]]))}},{key:"drawValue",value:function(t,e,i,s,n,r){var o=this.chart.chartData.data,a=this.chart.chartData.chartArea,h=this.chart.getColor(e.colorIds[n]),l=this.chart.getShape(e.colorIds[n]),c=this.isHorizontal?a.vLabels:a.hLabels,u=this.isHorizontal?a.hLabels:a.vLabels,d=(l.zoom||1)*this.settings.radius,p=l.fill?l.fill:h,f=rt.shape(l.shape,i,s,d,h,p);f.setAttribute("id",this.getId(n,r)),f.setAttribute("tabindex",-1),f.setAttribute("aria-label",o.labels[n]+" "+o.xAxis+" "+this.formatNumber(o.x[r],c)+" "+(o.yAxis?o.yAxis:o.title)+" "+this.formatNumber(o.y[r][n],u)),t.appendChild(f)}},{key:"intersectPoint",value:function(t,e,i){function s(t,e){var i=e.x-t.x>0?(e.y-t.y)/(e.x-t.x):0;return{a:i,b:t.y-i*t.x}}function n(t,e,i,n){var r=s(t,e),o=s(i,n);if(r.a===o.a)return{r:!1};var a=(o.b-r.b)/(r.a-o.a),h=r.a*a+r.b;return{r:(a>t.x&&a<e.x||a<t.x&&a>e.x)&&(a>i.x&&a<n.x||a<i.x&&a>n.x),p:{x:a,y:h}}}var r=[{x:i.x,y:i.y},{x:i.x+i.width,y:i.y},{x:i.x+i.width,y:i.y+i.height},{x:i.x,y:i.y+i.height}],o=n(t,e,r[0],r[1]);return o.r||(o=n(t,e,r[1],r[2])).r||(o=n(t,e,r[2],r[3])).r||(o=n(t,e,r[3],r[0])),o}},{key:"distance",value:function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}},{key:"angleInTriangle",value:function(t,e,i){var s=(Math.pow(e,2)+Math.pow(i,2)-Math.pow(t,2))/(2*e*i);return s<0?s=0:s>1&&(s=1),Math.acos(s)}},{key:"vector",value:function(t,e,i){return{x:t.x+(e.x-t.x)*i,y:t.y+(e.y-t.y)*i}}},{key:"quadraticBezierControlPoint",value:function(t,e,i){var s=this.distance(e,i),n=this.distance(t,e),r=this.distance(t,i),o=this.angleInTriangle(n,s,r),a=this.angleInTriangle(r,s,n),h=n*Math.sin(a/2)/Math.sin(o+a/2)/r;return this.vector(this.vector(t,i,h),e,2)}},{key:"drawSeries",value:function(t,e){function i(t,e){return t.x<=e.x&&t.x+t.width>=e.x&&t.y<=e.y&&t.y+t.height>=e.y}var s,n,r,o,h,l,c,u=rt.element("g",{id:this.getId(e),class:"series",style:"stroke: #"+this.chart.getColor(t.colorIds[e])+"; stroke-width:"+this.settings.lineStyle.thickness+"px;"}),d=rt.element("path"),p=rt.element("path"),f=rt.element("path"),g=rt.element("path"),m="",v=this.chart.getDash(t.colorIds[e]);this.svg.appendChild(u),u.appendChild(p),u.appendChild(f),u.appendChild(g),u.appendChild(d);for(var y=1,b=t.x.length;y<b;++y){s=this.getTPoint(t.x[y-1],t.y[y-1][e]),n=this.getTPoint(t.x[y],t.y[y][e]),r=this.settings.bezierSmoothing&&y+1<b?this.getTPoint(t.x[y+1],t.y[y+1][e]):null,o=i(this.area,s),h=i(this.area,n),l=null!=r&&i(this.area,r);var x=null,w=null,C=null;if(o&&h?(x=s,w=n,C=s,l&&y++):(o||h)&&(c=this.intersectPoint(s,n,this.area)).r&&(x=o?s:c.p,w=h?n:c.p,C=s),null!=x&&null!=w)if(""===m&&(m="M "+x.x+" "+x.y),l){var S=this.quadraticBezierControlPoint(s,n,r);m+=" Q "+S.x+" "+S.y+","+r.x+" "+r.y}else m+=" L "+w.x+" "+w.y;null!=C&&this.drawValue(u,t,C.x,C.y,e,y-1)}rt.attr(d,{d:m,style:"fill: none;"+(v?"stroke-dasharray: "+v+";":"")}),rt.attr(p,{d:m,style:"fill: none; stroke: #FFFFFF; opacity: 0.01; stroke-width: 6px;"}),rt.attr(f,{d:m,style:"fill: none; stroke: #FFFFFF; opacity: 0;",class:"highlight"}),rt.attr(g,{d:m,style:"fill: none; stroke: #FFFFFF; opacity: 0; stroke-width: 4px;",transform:"translate(0, -2)",class:"highlight"}),h?this.drawValue(u,t,n.x,n.y,e,t.x.length-1):o&&c.r&&this.drawValue(u,t,c.p.x,c.p.y,e,t.x.length-1),a()(u).on("mouseover",function(t){this.chart.highlight(t)}.bind(this,e)).on("mouseout",function(){this.chart.clearHighlight()}.bind(this))}},{key:"drawChart",value:function(){var t=this.chart.chartData.data;this.drawFilters();for(var e=0,i=t.labels.length;e<i;++e)this.drawSeries(t,e)}},{key:"highlight",value:function(t){if(this.visible){var e=a()("#"+this.getId(t));this.chart.highlightedLabel!==t&&(e[0].parentNode.lastChild!==e[0]&&e[0].parentNode.appendChild(e[0]),a()(e[0].parentNode).find(".series").css("opacity",.5),e.css({opacity:1,filter:"url(#"+this.getId("hl-filter")+")"}).find(".highlight").css("opacity",1))}}},{key:"clearHighlight",value:function(){var t=a()("#"+this.getId(this.chart.highlightedLabel));a()(t[0].parentNode).find(".series").css("opacity",1),t.css({filter:""}).find(".highlight").css({opacity:0})}}]),i}(dt),ft=function(t){V(i,t);var e=U(i);function i(t){var s;return Q(this,i),(s=e.call(this,t)).barSize=0,s.startSpaceSize=0,s.barSpaceSize=0,s.defaultSettings={useSpace:1,barSpace:.25,cornerRadius:3,valuePosition:"outer",valueAlign:"right",valueCenter:"axis",labelPosition:"inner",labelAlign:"left",absoluteValue:!1},s.settings=it.merge(s.chart.chartData.chartSettings,s.defaultSettings),s.valuePosition=s.settings.valuePosition,s.valueAlign=s.settings.valueAlign,s.valueCenter=s.settings.valueCenter,s.labelPosition=s.settings.labelPosition,s.labelAlign=s.settings.labelAlign,s.useSpace=s.settings.useSpace,s.barSpace=s.settings.barSpace,s.cornerRadius=s.settings.cornerRadius,s.absoluteValue=s.settings.absoluteValue,s}return K(i,[{key:"drawValue",value:function(t,e,i,s,n,r,o,a){var h,l,c,u,d,p=0,f=0,g=0,m=0,v=this.chart.chartData.data,y=this.chart.chartData.chartArea,b=this.isHorizontal?y.hLabels:y.vLabels,x=this.chart.getPattern(e.colorIds[o]),w=this.chart.getColor(e.colorIds[o]),C=x?"url(#"+this.getId("pattern_"+e.colorIds[o])+") ":"",S=rt.element("g",{id:this.getId(o,a),tabindex:-1,"aria-label":v.labels[o]+" "+v.xAxis+" "+v.x[a]+" "+(v.yAxis?v.yAxis:v.title)+" "+this.formatNumber(v.y[a][o],b)});t.appendChild(S),this.chart.isHorizontal?(l=Math.min(s,r),c=Math.min(i,n),u=Math.abs(s-r),d=Math.abs(i-n),s>r?(f=this.cornerRadius,m=this.cornerRadius):(p=this.cornerRadius,g=this.cornerRadius)):(l=Math.min(i,n),c=Math.min(s,r),u=Math.abs(i-n),d=Math.abs(s-r),s<r?(p=this.cornerRadius,f=this.cornerRadius):(g=this.cornerRadius,m=this.cornerRadius)),h=rt.complexRect(l,c,u,d,p,f,g,m,{style:"stroke: #"+w+"; fill: "+C+" #"+w+";"}),S.appendChild(h);var k,D,T=y.vLabels,I=y.hLabels,_=this.getAxisPosition(this.valuePosition,this.valueAlign);if(0!==_.pos){var L=this.valueLabels[o][a],P=L[L.length-1].getBoundingClientRect();if(this.chart.isHorizontal){var A=_.axis;"value"===this.valueCenter&&(A="right"===this.valueAlign?Math.max(l,l+u):Math.min(l,l+u)),k=_.pos>0?A+T.areaMargin:A-T.areaMargin-P.width,D=c-P.height/2+d/2+this.fontStyle.size}else{var M=_.axis;"value"===this.valueCenter&&(M="top"===this.valueAlign?Math.min(c,c+d):Math.max(c,c+d)),k=l-P.width/2+u/2,D=_.pos>0?M+I.areaMargin+this.fontStyle.size:M-I.areaMargin-P.height+this.fontStyle.size}for(var E=0,N=L.length;E<N;++E)L[E].setAttribute("x",k),L[E].setAttribute("y",D),L[E].style.visibility="visible",L[E].remove(),S.appendChild(L[E])}if(0!==(_=this.getAxisPosition(this.labelPosition,this.labelAlign)).pos){var F=this.labelLabels[o][a],O=F[F.length-1].getBoundingClientRect();this.chart.isHorizontal?(k=_.pos>0?_.axis+T.areaMargin:_.axis-T.areaMargin-O.width,D=c-O.height/2+d/2+this.fontStyle.size):(k=l-O.width/2+u/2,D=_.pos>0?_.axis+I.areaMargin+this.fontStyle.size:_.axis-I.areaMargin-O.height+this.fontStyle.size);for(var H=0,R=F.length;H<R;++H)F[H].setAttribute("x",k),F[H].setAttribute("y",D),F[H].style.visibility="visible",F[H].remove(),S.appendChild(F[H])}}},{key:"drawSeries",value:function(t,e,i){var s=this.chart.xT,n=this.chart.yT,r=rt.element("g",{id:this.getId(e),class:"series"});this.svg.appendChild(r),this.drawPattern(t.colorIds[e]);for(var o=0,h=t.x.length;o<h;++o){var l=this.chart.isHorizontal?i-e-1:e,c=t.areNumeric?t.x[o]:o,u=isNaN(Number(t.y[o][e]))?0:t.y[o][e],d=c+l*(this.barSize+this.barSpaceSize)+this.startSpaceSize,p=u>this.chart.maxY?this.chart.maxY:u;this.drawValue(r,t,s.screen(d),n.screen(p),s.screen(d+this.barSize),n.screen(0),e,o)}a()(r).on("mouseover",function(t){this.chart.highlight(t)}.bind(this,e)).on("mouseout",function(){this.chart.clearHighlight()}.bind(this))}},{key:"drawFilters",value:function(){this.chart.svgDefs.appendChild(rt.element("filter",{id:this.getId("hl-filter"),x:"0",y:"0",width:"200%",height:"200%"},[["feOffset",{in:"SourceAlpha",dx:0,dy:2}],["feGaussianBlur",{stdDeviation:1}],["feComponentTransfer",{},[["feFuncA",{type:"linear",slope:"0.75"}]]],["feMerge",{},[["feMergeNode",{}],["feMergeNode",{in:"SourceGraphic"}]]]]))}},{key:"drawChart",value:function(){var t=this.chart.chartData.data,e=(this.chart.realMaxX-this.chart.realMinX)/t.x.length,i=t.labels.length;this.startSpaceSize=e*(1-this.useSpace)/2,this.barSpaceSize=e*this.useSpace*this.barSpace/i,this.barSize=e*this.useSpace*(1-this.barSpace)/i,this.startSpaceSize+=this.barSpaceSize/2,this.drawFilters();for(var s=0;s<i;++s)this.drawSeries(t,s,i)}},{key:"highlight",value:function(t){if(this.visible){var e=a()("#"+this.getId(t));a()(e[0].parentNode).find(".series").css("opacity",.5),e.css({opacity:1,filter:"url(#"+this.getId("hl-filter")+")"}).find(".highlight").css("opacity",1)}}},{key:"clearHighlight",value:function(){var t=a()("#"+this.getId(this.chart.highlightedLabel));a()(t[0].parentNode).find(".series").css("opacity",1),t.css({filter:""}).find(".highlight").css({opacity:0})}}]),i}(dt),gt=function(t){V(i,t);var e=U(i);function i(t){var s;return Q(this,i),(s=e.call(this,t)).minPercentToShowLabel=6,s.currentAngle=0,s.fullRadius=0,s.defaultSettings={sliceLineStyle:{thickness:2,color:"FFFFFF",alpha:0,pixelHinting:!0},smallRadius:40,smallRadiusLineStyle:{thickness:2,color:"FFFFFF",alpha:0,pixelHinting:!0},smallRadiusFillStyle:{gradient:"none",color:"44222A",alpha:.8,ratio:0},radius:100,radiusLineStyle:{thickness:0,color:"FFFFFF",alpha:0,pixelHinting:!0},radiusFillStyle:{gradient:"none",color:"none",alpha:.8,ratio:0},glossyFilter:!0,direction:"counter-clockwise",startAngle:0,valuePosition:"outer"},s.settings=it.merge(s.chart.chartData.chartSettings,s.defaultSettings),s.sliceLineStyle=s.settings.sliceLineStyle,s.radius=s.settings.radius,s.radiusLineStyle=s.settings.radiusLineStyle,s.radiusFillStyle=s.settings.radiusFillStyle,s.glossyFilter=s.settings.glossyFilter,s.smallRadius=s.settings.smallRadius,s.smallRadiusLineStyle=s.settings.smallRadiusLineStyle,s.smallRadiusFillStyle=s.settings.smallRadiusFillStyle,s.direction=s.settings.direction,s.startAngle=Math.PI*s.settings.startAngle/180,s.valuePosition=s.settings.valuePosition,s.smallTextFields=[],s}return K(i,[{key:"drawFilters",value:function(){var t=rt.element("filter",{id:this.getId("glossy"),x:"0%",y:"0%",width:"100%",height:"100%","color-interpolation-filters":"sRGB"}),e=rt.element("feImage",{"xlink:href":it.imageServerUrl("pie-chart-glossy"),result:"texture"}),i=rt.element("feBlend");rt.convertRemoteImages&&it.convertToDataURL(e,it.imageServerUrl("pie-chart-glossy")),this.chart.svgDefs.appendChild(t),t.appendChild(e),t.appendChild(i),i.SVG_FEBLEND_MODE_OVERLAY?rt.attr(i,{mode:"overlay",in2:"SourceGraphic",in:"texture"}):(rt.attr(i,{mode:"multiply",in:"texture",in2:"texture",result:"texture2"}),t.appendChild(rt.element("feBlend",{mode:"screen",in2:"SourceGraphic",in:"texture2"}))),this.chart.svgDefs.appendChild(rt.element("filter",{id:this.getId("hl-filter"),x:"0",y:"0",width:"200%",height:"200%"},[["feOffset",{in:"SourceAlpha",dx:0,dy:2}],["feGaussianBlur",{stdDeviation:1}],["feComponentTransfer",{},[["feFuncA",{type:"linear",slope:"0.75"}]]],["feMerge",{},[["feMergeNode",{}],["feMergeNode",{in:"SourceGraphic"}]]]]))}},{key:"drawSeries",value:function(t,e,i,s,n,r,o){var h=this.chart.chartData.chartArea.vLabels,l=(e.y[0][i]>0?e.y[0][i]:0)/this.chart.totalY,c=this.formatNumber(100*l,h)+"%",u=rt.element("g",{id:this.getId(i,0),class:"series",tabindex:-1,"aria-label":this.chart.chartData.data.labels[i]+" "+c}),d=0,p="clockwise"===this.direction?-1:1;if(t.appendChild(u),this.drawPattern(e.colorIds[i]),(d=l*Math.PI*2)>0){if(d*=p,this.arc(u,s,n,r,r,o,o,this.currentAngle,this.currentAngle+d,e.colorIds[i]),u.style.fill="url(#"+this.getId("pattern_"+e.colorIds[i])+") #"+this.chart.getColor(),"none"!==this.valuePosition){var f,g=Math.cos(this.currentAngle+d/2),m=Math.sin(this.currentAngle+d/2),v=this.getTextField(c);Math.round(100*l)<this.minPercentToShowLabel&&(v.style.opacity=0,this.smallTextFields[i]=v),this.svg.appendChild(v);var y=(f=v.getBBox()).width,b=this.fontStyle.size,x=f.width,w=f.height,C="outer"===this.valuePosition?1.05:.5,S="outer"===this.valuePosition?1.1:.5;rt.attr(v,{x:s+g*r*C-(g<-.5?y:g<.5?y/2:0)-(x-y)/2,y:n-m*r*S-(m>.5?b:m>-.5?b/2:0)-(w-b)/2+this.fontStyle.size})}this.currentAngle+=d}a()(u).on("mouseover",this.chart.highlight.bind(this.chart,i)).on("mouseout",this.chart.clearHighlight.bind(this.chart))}},{key:"drawChart",value:function(){var t=this.chart.chartData.data,e=this.glossyFilter?"url(#"+this.getId("glossy")+")":"none",i=rt.element("g",{class:"glossy",style:"filter: "+e+";"}),s="outer"===this.valuePosition?.9:1;this.svg.appendChild(i),this.currentAngle=this.startAngle,this.fullRadius=s*Math.min(this.sMaxV-this.sMinV,this.sMaxH-this.sMinH)/2;var n=this.fullRadius*(this.smallRadius/100+this.radius/100*(1-this.smallRadius/100)),r=this.chart.xT.screen(.5),o=this.chart.yT.screen(.5),a=this.fullRadius*(this.smallRadius/100),h=rt.circle(r,o,n,{style:this.getStrokeFillStyle(this.radiusLineStyle,this.radiusFillStyle)}),l=rt.circle(r,o,a,{style:this.getStrokeFillStyle(this.smallRadiusLineStyle,this.smallRadiusFillStyle)+"filter: "+e+";",class:"glossy"});i.appendChild(h),this.drawFilters();for(var c=0;c<t.labels.length;++c)this.drawSeries(i,t,c,r,o,n,a);i.appendChild(l)}},{key:"arc",value:function(t,e,i,s,n,r,o,a,h,l){var c="",u=this.chart.getPattern(l),d=h-a,p=Math.ceil(Math.abs(d)/(Math.PI/8)),f=d/p,g=function(t,e,i,s,n,r){return t+" "+(e+Math.cos(s)*n)+" "+(i+Math.sin(-s)*r)},m=function(t,e,i,s,n,r){var o=i-s,a=i-s/2;return"Q "+(t+Math.cos(a)*(n/Math.cos(-s/2)))+" "+(e+Math.sin(a)*(r/Math.cos(-s/2)))+","+(t+Math.cos(o)*n)+" "+(e+Math.sin(o)*r)};if(p>0){var v;c=g("M",e,i,a,r,o)+" "+g("L",e,i,a,s,n)+" ",v=-a;for(var y=0;y<p;y++)c+=m(e,i,v,f,s,n)+" ",v-=f;c+=g("L",e,i,h,r,o)+" ",v=-h,f=-f;for(var b=0;b<p;b++)c+=m(e,i,v,f,r,o)+" ",v-=f;c+="z"}t.appendChild(rt.element("path",{d:c,style:this.getStrokeFillStyle(this.sliceLineStyle,{color:(u?"url(#"+this.getId("pattern_"+l)+") ":"")+" #"+this.chart.getColor(l),alpha:1})}))}},{key:"highlight",value:function(t){if(this.visible){var e=a()("#"+this.getId(t,0));a()(e[0].parentNode).find(".series").css("opacity",.5),e.css({opacity:1}),e.css({opacity:1,filter:"url(#"+this.getId("hl-filter")+")"}),this.glossyFilter&&a()(this.svg).find(".glossy").css("filter",""),this.hideAllButOneTextField(t)}}},{key:"clearHighlight",value:function(){var t=a()("#"+this.getId(this.chart.highlightedLabel,0));a()(t[0].parentNode).find(".series").css("opacity",1),t.css({filter:""}),this.glossyFilter&&a()(this.svg).find(".glossy").css("filter","url(#"+this.getId("glossy")+")"),this.hideSmallTextFields()}},{key:"hideSmallTextFields",value:function(){for(var t=0;t<this.smallTextFields.length;t++)a()(this.smallTextFields[t]).css({opacity:"0"})}},{key:"hideAllButOneTextField",value:function(t){this.hideSmallTextFields(),this.smallTextFields[t]&&a()(this.smallTextFields[t]).css({opacity:"1"})}}]),i}(dt),mt=function(t){V(i,t);var e=U(i);function i(t){var s;return Q(this,i),(s=e.call(this,t)).defaultSettings={lineStyle:{thickness:2,alpha:1,pixelHinting:!0},radius:4,bezierSmoothing:!1},s.settings=it.merge(s.chart.chartData.chartSettings,s.defaultSettings),s.settings.lineStyle.thickness=s.settings.lineStyle.thickness*s.chart.scaleSize,s.settings.radius=s.settings.radius*s.chart.scaleSize,s}return K(i,[{key:"drawFilters",value:function(){this.chart.svgDefs.appendChild(rt.element("filter",{id:this.getId("hl-filter"),x:"0",y:"0",width:"200%",height:"200%"},[["feOffset",{in:"SourceAlpha",dx:0,dy:2}],["feGaussianBlur",{stdDeviation:1}],["feComponentTransfer",{},[["feFuncA",{type:"linear",slope:"0.75"}]]],["feMerge",{},[["feMergeNode",{}],["feMergeNode",{in:"SourceGraphic"}]]]])),this.chart.svgDefs.appendChild(rt.element("filter",{id:this.getId("hl-filter-point"),x:"0",y:"0",width:"200%",height:"200%"},[["feOffset",{in:"SourceAlpha",dx:0,dy:3}],["feGaussianBlur",{stdDeviation:2}],["feComponentTransfer",{},[["feFuncA",{type:"linear",slope:"0.75"}]]],["feMerge",{},[["feMergeNode",{}],["feMergeNode",{in:"SourceGraphic"}]]]])),this.chart.svgDefs.appendChild(rt.element("filter",{id:this.getId("hl-filter-textbox"),x:"0",y:"0",width:"200%",height:"200%"},[["feOffset",{in:"SourceAlpha",dx:0,dy:2}],["feGaussianBlur",{stdDeviation:1}],["feComponentTransfer",{},[["feFuncA",{type:"linear",slope:"0.5"}]]],["feMerge",{},[["feMergeNode",{}],["feMergeNode",{in:"SourceGraphic"}]]]]))}},{key:"drawValue",value:function(t,e,i,s,n,r){var o,a=this.chart.chartData.data,h=this.chart.getColor(e.colorIds[n]),l=(this.chart.getShape(e.colorIds[n]),this.chart.getPattern(e.colorIds[n])),c=this.isHorizontal?this.chart.chartData.chartArea.vLabels:this.chart.chartData.chartArea.hLabels,u=this.isHorizontal?this.chart.chartData.chartArea.hLabels:this.chart.chartData.chartArea.vLabels;(o=rt.shape("square",i,s,this.settings.radius,h,h)).style.fill=(l?"url(#"+this.chart.getId("chart-area_pattern_"+this.chart.chartData.data.colorIds[n])+") ":"")+"#"+h,o.setAttribute("id",this.getId(n,0)),o.setAttribute("tabindex",-1),o.setAttribute("aria-label",a.labels[n]+" "+a.xAxis+" "+this.formatNumber(a.x[r],c)+" "+(a.yAxis?a.yAxis:a.title)+" "+this.formatNumber(a.y[r][n],u)),t.appendChild(o)}},{key:"drawSeries",value:function(t,e){var i,s,n,r=rt.element("g",{id:this.getId(e),class:"series",style:"stroke: #"+this.chart.getColor(t.colorIds[e])+"; stroke-width:"+this.settings.lineStyle.thickness+"px;"});for(this.svg.appendChild(r),this.drawPattern(t.colorIds[e]),i=0,s=t.x.length;i<s;++i)null!=t.y[i][e]&&(n=this.getTPoint(t.x[i],t.y[i][e]),this.drawValue(r,t,n.x,n.y,e,i));a()(r).on("mouseover",a().proxy((function(t){this.chart.highlight(t)}),this,e)).on("mouseout",a().proxy((function(){this.chart.clearHighlight()}),this))}},{key:"drawChart",value:function(){var t,e,i=this.chart.chartData.data;for(this.drawFilters(),t=0,e=i.labels.length;t<e;++t)this.drawSeries(i,t)}},{key:"highlight",value:function(t){if(this.visible){var e=a()("#"+this.getId(t)),i=e[0].parentNode;i.appendChild(e[0]),a()(i).find(".series").css("opacity",.5),e.css({opacity:1,filter:"url(#"+this.getId("hl-filter")+")"}).find(".highlight").css("opacity",1)}}},{key:"clearHighlight",value:function(){var t=a()("#"+this.getId(this.chart.highlightedLabel)),e=t[0].parentNode;a()(e).find(".series").css("opacity",1),t.css({filter:""}).find(".highlight").css({opacity:0})}},{key:"moveFocus",value:function(t,e){return B(G(i.prototype),"moveFocus",this).call(this,t,0)}}]),i}(dt);dt.factory=function(t){switch(t.chartData.type){case"line":return new pt(t);case"bar":return new ft(t);case"pie":return new gt(t);case"xyscatter":return new mt(t)}return new dt(t)};var vt=function(){function t(e,i,s,n,r){Q(this,t),this.saveUrl="",this.saveName="live-chart",this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.incX=1,this.incY=1,this.intersectionX=0,this.intersectionY=0,this.sMinH=0,this.sMinV=0,this.sMaxH=0,this.sMaxV=0,this.isMultiseries=!1,this.isMulticategories=!1,this.isHorizontal=!1,this.offsetXLabels=0,this.offsetYLabels=0,this.scaleSize=1,this.inlineSvg=!0,this.chartWidth=e,this.chartHeight=i,this.chartData=it.clone(s),this.json=n,this.connector=r||new Ct,this.connector.add(this),this.chartData.background=it.merge(this.chartData.background,t.defaultData.background),this.chartData.legend=it.merge(this.chartData.legend,t.defaultData.legend),this.chartData.hAxis=it.merge(this.chartData.hAxis,t.defaultData.hAxis),this.chartData.vAxis=it.merge(this.chartData.vAxis,t.defaultData.vAxis),this.chartData.hLabels=it.merge(this.chartData.hLabels,t.defaultData.hLabels),this.chartData.vLabels=it.merge(this.chartData.vLabels,t.defaultData.vLabels),this.chartData.title=it.merge(this.chartData.title,t.defaultData.title),this.chartData.chartArea=it.merge(this.chartData.chartArea,t.defaultData.chartArea),this.chartData.data=it.merge(this.chartData.data,t.defaultData.data),this.scaleSize=this.chartData.data.scaleSize,this.chartData.legend.fontStyle.size=this.chartData.legend.fontStyle.size*this.scaleSize,this.chartData.hAxis.fontStyle.size=this.chartData.hAxis.fontStyle.size*this.scaleSize,this.chartData.vAxis.fontStyle.size=this.chartData.vAxis.fontStyle.size*this.scaleSize,this.chartData.title.fontStyle.size=this.chartData.title.fontStyle.size*this.scaleSize,this.chartData.chartArea.fontStyle.size=this.chartData.chartArea.fontStyle.size*this.scaleSize,this.chartData.chartArea.maxLabelWidth=this.chartData.chartArea.maxLabelWidth*this.scaleSize,this.chartData.legend.maxWidth=this.chartData.legend.maxWidth*this.scaleSize,this.analyzeData(),this.prepareData(),this.highlightedLabel=null}return K(t,[{key:"getColor",value:function(t){return this.chartData.chartArea.colors[t%this.chartData.chartArea.colors.length]}},{key:"getDash",value:function(t){return this.chartData.chartArea.dashes[t%this.chartData.chartArea.dashes.length]}},{key:"getShape",value:function(t){return this.chartData.chartArea.shapes[t%this.chartData.chartArea.shapes.length]}},{key:"getPattern",value:function(t){return this.chartData.chartArea.patterns[t%this.chartData.chartArea.patterns.length]}},{key:"getDescription",value:function(){}},{key:"createChart",value:function(){var t,e={x:0,y:0,width:this.chartWidth,height:this.chartHeight};this.svgDefs=rt.element("defs"),this.svg.appendChild(this.svgDefs),this.background=at.factory(this),this.title=ht.factory(this),this.legend=lt.factory(this),this.hAxis=ct.factory(this),this.vAxis=ut.factory(this),this.chartArea=dt.factory(this),this.background.drawElement(e),this.title.drawElement(e),this.legend.drawElement(e),this.hAxis.drawElement(e),this.vAxis.drawElement(e),this.chartArea.drawElement(e),(t=this.chartArea.moveFocus(0,0))&&a()(this.svg).attr("aria-activedescendant",t),this.chartData.chartArea.visible?a()(this.svg).attr("tabindex",0).attr("role","application").attr("aria-label",this.getDescription()).on("keydown",this.onKeyDown.bind(this)).on("focus",this.onFocus.bind(this)).on("focusout",this.onFocusOut.bind(this)):a()(this.svg).attr("role","presentation"),this.createSaveButton(),this.chartData.hideControls||(a()(this.svg).on("mouseenter",this.showControls.bind(this)),a()(this.svg).on("mouseleave",this.hideControls.bind(this)))}},{key:"onKeyDown",value:function(t){var e="";switch(t.keyCode){case 40:e=this.chartArea.moveFocus(1,0);break;case 38:e=this.chartArea.moveFocus(-1,0);break;case 37:e=this.chartArea.moveFocus(0,-1);break;case 39:e=this.chartArea.moveFocus(0,1)}e&&(t.preventDefault(),this.highlight(this.chartArea.currentLabel),a()(this.svg).attr("aria-activedescendant",e),a()("#"+e).focus())}},{key:"onFocus",value:function(t){this.highlight(this.chartArea.currentLabel),this.chartData.hideControls||this.showControls()}},{key:"onFocusOut",value:function(t){0===a()(t.relatedTarget).closest(this.svg).length&&(this.clearHighlight(),this.hideControls())}},{key:"createSaveButton",value:function(){this.saveNode=rt.image(it.imageServerUrl("save"),this.chartWidth-14-15,15,14,14,{tabindex:0}),this.svg.appendChild(this.saveNode),a()(this.saveNode).on("mouseenter",(function(){rt.attr(this,{"xlink:href":it.imageServerUrl("save-over")})})).on("mouseleave",(function(){rt.attr(this,{"xlink:href":it.imageServerUrl("save")})})).on("click",this.saveChart.bind(this)).on("keydown",function(t){13===t.keyCode&&this.saveChart()}.bind(this)).hide()}},{key:"getId",value:function(t){return this.objectID+"_"+t}},{key:"drawChart",value:function(t){this.objectID=t,this.highlightedLabel=null,this.inlineSvg?(this.svg=rt.element("svg",{width:this.chartWidth,height:this.chartHeight}),this.svg.setAttributeNS(rt.ns.xml,"xmlns",rt.ns.svg),this.svg.setAttributeNS(rt.ns.xml,"xmlns:xlink",rt.ns.xlink),a()("#"+t).html(this.svg),this.createChart()):(this.svgObject=tt.createElement("object"),a()("#"+t).html(this.svgObject),this.svgObject.onload=a().proxy((function(){et=this.svgObject.contentDocument,this.svg=this.svgObject.contentDocument.documentElement,this.createChart()}),this),this.svgObject.setAttribute("type","image/svg+xml"),this.svgObject.setAttribute("data",URL.createObjectURL(new Blob(['<svg xmlns="'+rt.ns.svg+'" width="'+this.chartWidth+'" xmlns:xlink="'+rt.ns.xlink+'" height="'+this.chartHeight+'"></svg>'],{type:"image/svg+xml"}))))}},{key:"createDataTable",value:function(){var t,e,i,s=[],n=[],r=[],o=this.chartData.data,a=o.x,h=o.y,l=o.labels,c=this.isHorizontal?this.chartData.chartArea.vLabels:this.chartData.chartArea.hLabels,u=this.isHorizontal?this.chartData.chartArea.hLabels:this.chartData.chartArea.vLabels,d=!1;if(a.length>1){for(d=!0,s.push({title:"",align:"right"}),""!=o.yAxis?r.push({cols:[{title:o.xAxis,rowspan:2},{title:o.yAxis,colspan:l.length}],type:"head"}):n.push({title:o.xAxis}),i=0;i<l.length;i++)s.push({title:"",align:"right"}),n.push({title:l[i]});for(r.push({cols:n,type:"head"}),e=0;e<a.length;e++){for(t=[],"bar"!=this.chartData.type?t.push(this.chartArea.formatNumber(a[e],c)):t.push(a[e]),i=0;i<l.length;i++)t.push(this.chartArea.formatNumber(h[e][i],u));r.push({values:t})}}else{d=""==o.yAxis&&""==o.xAxis;var p=0;if("pie"==this.chartData.type)for(i=0;i<l.length;i++)p+=Number(h[0][i]);for(s.push({title:o.xAxis,align:"right"},{title:o.yAxis,align:"right"}),i=0;i<l.length;i++)"pie"==this.chartData.type?r.push({values:[l[i],this.chartArea.formatNumber(p>0?100*h[0][i]/p:h[0][i],u)+"%"]}):r.push({values:[l[i],this.chartArea.formatNumber(h[0][i],u)]})}this.dataTable=new DecisionTable(o.title,"dt_"+this.objectID,s,r,d)}},{key:"analyzeData",value:function(){var t=this.chartData.data,e=1/0,i=-1/0,s=1/0,n=-1/0;this.isMultiseries=t.labels.length>1,this.isMulticategories=t.x.length>1,this.isHorizontal=null!=this.chartData.axes&&"horizontal"===this.chartData.axes;for(var r=0,o=t.x.length;r<o;++r){t.x[r]<e&&(e=t.x[r]),t.x[r]>i&&(i=t.x[r]);for(var a=0,h=t.y[r].length;a<h;++a)t.y[r][a]<s&&(s=t.y[r][a]),t.y[r][a]>n&&(n=t.y[r][a])}for(var l=0,c=t.yLines.length;l<c;++l)t.yLines[l]<s&&(s=t.yLines[l]),t.yLines[l]>n&&(n=t.yLines[l]);for(var u=0,d=t.xLines.length;u<d;++u)t.xLines[u]<e&&(e=t.xLines[u]),t.xLines[u]>i&&(i=t.xLines[u]);null==t.minX?this.minX=e:this.minX=t.minX,null==t.maxX?this.maxX=i:this.maxX=t.maxX,null==t.minY?this.minY=s:this.minY=t.minY,null==t.maxY?this.maxY=n:this.maxY=t.maxY,null==t.intersectionX?this.intersectionX=0:this.intersectionX=t.intersectionX,null==t.intersectionY?this.intersectionY=0:this.intersectionY=t.intersectionY,null==t.dsX&&(t.dsX=10),null==t.dsY&&(t.dsY=7),null==t.percentIncMinX&&(t.percentIncMinX=5),null==t.percentIncMaxX&&(t.percentIncMaxX=5),null==t.percentIncMinY&&(t.percentIncMinY=5),null==t.percentIncMaxY&&(t.percentIncMaxY=5),null==t.xTransformation&&(t.xTransformation="linear"),null==t.yTransformation&&(t.yTransformation="linear"),null==t.incX?this.incX=0:this.incX=t.incX,null==t.incY?this.incY=0:this.incY=t.incY,null==t.image.url&&(t.image.url=""),null==t.image.margin&&(t.image.margin=5),null==t.image.scale&&(t.image.scale=1),this.saveUrl=t.saveUrl,""!==t.saveName&&(this.saveName=t.saveName);for(var p=0,f=t.labels.length;p<f;++p)void 0===t.colorIds[p]&&(t.colorIds[p]=p)}},{key:"prepareData",value:function(){var e,i,s,n=this.chartData.data;this.minX===this.maxX&&(this.maxX+=1),this.minY===this.maxY&&(this.maxY+=1);var r=this.maxX-this.minX,o=this.maxY-this.minY;for(this.realMinX=this.minX,this.realMaxX=this.maxX,this.realMinY=this.minY,this.realMaxY=this.maxY,this.minX-=r*n.percentIncMinX/100,this.maxX+=r*n.percentIncMaxX/100,this.minY-=o*n.percentIncMinY/100,this.maxY+=o*n.percentIncMaxY/100,this.isHorizontal?(i=this.chartData.chartArea.vLabels.decimals,s=this.chartData.chartArea.hLabels.decimals):(i=this.chartData.chartArea.hLabels.decimals,s=this.chartData.chartArea.vLabels.decimals),0==this.incX&&(this.incX=t.findIncrease((this.maxX-this.minX)/n.dsX,i)),0==this.incY&&(this.incY=t.findIncrease((this.maxY-this.minY)/n.dsY,s)),this.intersectionX<this.minX&&(this.intersectionX=this.minX),this.intersectionX>this.maxX&&(this.intersectionX=this.maxX),this.intersectionY<this.minY&&(this.intersectionY=this.minY),this.intersectionY>this.maxY&&(this.intersectionY=this.maxY),this.incX<=0&&(this.incX=1),this.incY<=0&&(this.incY=1),this.xLabels=[],e=this.intersectionX-Math.floor((this.intersectionX-this.minX)/this.incX)*this.incX;e<this.maxX;)this.xLabels.push(e),e+=this.incX;for(this.yLabels=[],e=this.intersectionY-Math.floor((this.intersectionY-this.minY)/this.incY)*this.incY;e<this.maxY;)this.yLabels.push(e),e+=this.incY}},{key:"showControls",value:function(){this.controlsShown||(a()(this.saveNode).show(),this.controlsShown=!0)}},{key:"hideControls",value:function(){this.controlsShown&&(a()(this.saveNode).hide(),this.controlsShown=!1)}},{key:"postChartToServer",value:function(t,e,i){var s=tt.createElement("form");tt.body.appendChild(s),s.action=this.saveUrl,s.method="post",s.innerHTML='<input type="hidden" name="name" /><input type="hidden" name="data" /><input type="hidden" name="imageType" />',s.elements.name.value=t,s.elements.imageType.value=e,s.elements.data.value=i,s.submit(),s.remove()}},{key:"saveChart",value:function(){var t=this;this.getChartPngDataURL().then((function(e){var i=e.replace(/^data:image\/png;base64,/,"");t.postChartToServer(t.saveName+".png","png",i)}))}},{key:"getChartPngDataURL",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this.highlightedLabel,i=a()(this.saveNode).is(":focus");i&&a()(this.svg).focus(),this.doClearHighlight(),this.saveNode.style.visibility="hidden";var s=(new XMLSerializer).serializeToString(this.svg),n="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(s)));return this.saveNode.style.visibility="visible",i&&a()(this.saveNode).focus(),null!==e&&this.doHighlight(e),it.pngDataURL(n,this.chartWidth*t,this.chartHeight*t)}},{key:"printChart",value:function(){}},{key:"copyChart",value:function(){}},{key:"highlight",value:function(t){this.connector.highlight(t)}},{key:"doHighlight",value:function(t){this.doClearHighlight(),this.legend.highlight(t),this.chartArea.highlight(t),this.highlightedLabel=t}},{key:"clearHighlight",value:function(){this.connector.clearHighlight()}},{key:"doClearHighlight",value:function(){null!==this.highlightedLabel&&(this.legend.clearHighlight(),this.chartArea.clearHighlight()),this.highlightedLabel=null}}]),t}(),yt=function(t){V(i,t);var e=U(i);function i(){return Q(this,i),e.apply(this,arguments)}return K(i,[{key:"getDescription",value:function(){var t=this.chartData.data;return d.vc.tc("common:chart_line")+": "+t.title+", "+d.vc.tc("common:chart_xaxis")+": "+t.xAxis+", "+d.vc.tc("common:chart_yaxis")+": "+(t.yAxis?t.yAxis:t.title)+", "+d.vc.tc("common:chart_keys")}}]),i}(vt),bt=function(t){V(i,t);var e=U(i);function i(){return Q(this,i),e.apply(this,arguments)}return K(i,[{key:"getDescription",value:function(){var t=this.chartData.data;return d.vc.tc("common:chart_bar")+": "+t.title+", "+d.vc.tc("common:chart_xaxis")+": "+t.xAxis+", "+d.vc.tc("common:chart_yaxis")+": "+(t.yAxis?t.yAxis:t.title)+", "+d.vc.tc("common:chart_keys")}},{key:"analyzeData",value:function(){B(G(i.prototype),"analyzeData",this).call(this),this.chartData.data.areNumeric||(this.incX=1,this.minX=0,this.intersectionX=0,this.maxX=this.chartData.data.x.length,this.minY>0&&(this.minY=0),this.maxY<0&&(this.maxY=0),this.isMulticategories||(this.incX=1/this.chartData.data.labels.length,this.isHorizontal?this.chartData.chartArea.vLabels.position="none":this.chartData.chartArea.hLabels.position="none"),this.offsetXLabels=this.incX/2)}}]),i}(vt),xt=function(t){V(i,t);var e=U(i);function i(){return Q(this,i),e.apply(this,arguments)}return K(i,[{key:"getDescription",value:function(){return d.vc.tc("common:chart_pie")+": "+this.chartData.data.title+", "+d.vc.tc("common:chart_keys")}},{key:"analyzeData",value:function(){B(G(i.prototype),"analyzeData",this).call(this),this.isHorizontal=!1,this.minX=0,this.maxX=1,this.incX=1,this.intersectionX=.5,this.minY=0,this.maxY=1,this.incY=1,this.intersectionY=.5,this.chartData.chartArea.vLabels.position="none",this.chartData.chartArea.hLabels.position="none",this.chartData.vAxis.position="none",this.chartData.hAxis.position="none";for(var t=this.chartData.data,e=0,s=0,n=t.y[0].length;s<n;++s)t.y[0][s]>0&&(e+=t.y[0][s]);this.totalY=t.totalY||0,e>this.totalY&&(this.totalY=e)}}]),i}(vt),wt=function(t){V(i,t);var e=U(i);function i(){return Q(this,i),e.apply(this,arguments)}return K(i,[{key:"getDescription",value:function(){var t=this.chartData.data;return d.vc.tc("common:chart_xyscatter")+": "+t.title+", "+d.vc.tc("common:chart_xaxis")+": "+t.xAxis+", "+d.vc.tc("common:chart_yaxis")+": "+(t.yAxis?t.yAxis:t.title)+", "+d.vc.tc("common:chart_keys")}}]),i}(vt);vt.factory=function(t,e,i,s){var n=it.merge(i,vt.defaultData);switch(n.type){case"line":return new yt(t,e,n,i,s);case"bar":return new bt(t,e,n,i,s);case"pie":return new xt(t,e,n,i,s);case"xyscatter":return new wt(t,e,n,i,s)}return new vt(t,e,n,i,s)},vt.findIncrease=function(t,e){if(e=e||0,t<=0)return 0;if(t<1&&e>0)return vt.findIncrease(10*t,e-1)/10;if(t<2)return 1;if(t<5)return 2*Math.round(t/2);if(t<30)return 5*Math.round(t/5);var i=Math.pow(10,Math.floor(Math.log(t)*Math.LOG10E)),s=Math.round(Math.round(t/i)*i),n=i/2;if(Math.abs(s-t)/t>.15){if(Math.abs(t-(s+n))<Math.abs(t-s))return s+n;if(Math.abs(t-(s-n))<Math.abs(t-s))return s-n}return s},vt.setChartData=function(t,e,i){var s=a()("#"+t),n=vt.factory(s.width(),s.height(),e,i);return n.drawChart(t),n},vt.defaultData={type:"line",axes:"horizontal",background:{type:"default",corners:"square",lineStyle:{thickness:7,color:"F8F8F8",alpha:1,pixelHinting:!0},fillStyle:{gradient:"none",color:"F3F3F3",alpha:100,ratio:0}},legend:{type:"default",position:"right",align:"top",corners:"round",maxWidth:-1,columns:1,columnMargin:0,lineStyle:{thickness:1,color:"e8e8e8",alpha:1,pixelHinting:!0},fillStyle:{gradient:"none",color:"FFFFFF",alpha:100,ratio:0},fontStyle:{name:"Arial",size:10,color:"444444",bold:!1,italics:!1},margin:{top:0,right:12,bottom:0,left:12},padding:{top:10,right:6,bottom:6,left:10},effects:[]},title:{position:"center",fontStyle:{name:"Arial",size:22,color:"636363",bold:!1,italics:!1},fillStyle:{gradient:"none",color:"F3F3F3",alpha:0,ratio:0},margin:{top:10,right:10,bottom:6,left:10}},hAxis:{position:"center",fontStyle:{name:"Arial",size:10,color:"000000",bold:!1,italics:!1},margin:{top:2,right:2,bottom:8,left:2},lineStyle:{thickness:0,color:"e8e8e8",alpha:1,pixelHinting:!0}},vAxis:{position:"center",fontStyle:{name:"Arial",size:10,color:"000000",bold:!1,italics:!1},margin:{top:2,right:2,bottom:2,left:8},lineStyle:{thickness:0,color:"e8e8e8",alpha:1,pixelHinting:!0}},chartArea:{visible:!0,corners:"round",maxLabelWidth:-1,minLabelWidth:-1,hLabels:{position:"outer",align:"bottom",tickLength:4,decimals:0,decimalDelimiter:".",thousandDelimiter:",",areaMargin:10},vLabels:{position:"outer",align:"left",tickLength:3,decimals:0,decimalDelimiter:".",thousandDelimiter:",",areaMargin:3},fontStyle:{name:"arial",size:10,color:"000000",bold:!1,italics:!1},lineStyle:{thickness:1,color:"d7d3ca",alpha:.65,pixelHinting:!0},fillStyle:{gradient:"vertical",color:["FFFFFF","E7E7E7"],alpha:[1,1],ratio:[0,255]},margin:{top:0,right:0,bottom:0,left:0},effects:[],colors:["167df7","ff6112","75c675","ffa9c6","f7c903","00ada4","a500b2","71cdf2","2a754e","a69be0","494d84","bcb79f"],dashes:["","2 2","14 2 2 2","6 3","","2 2","14 2 2 2","6 3","","2 2","14 2 2 2","6 3"],shapes:[{shape:"square"},{shape:"diamond",zoom:1.1},{shape:"circle",zoom:.8},{shape:"square"},{shape:"diamond",zoom:1.1},{shape:"circle",zoom:.8},{shape:"square"},{shape:"diamond",zoom:1.1},{shape:"circle",zoom:.8},{shape:"diamond",zoom:1.1},{shape:"square"},{shape:"circle",zoom:.8}],patterns:[{type:"image",src:"blue-burlap@2x.png",width:118,height:118},{type:"image",src:"red-capsules@2x.png",width:58,height:58},{type:"image",src:"green-circles@2x.png",width:47,height:54},{type:"image",src:"pink-grid@2x.png",width:49,height:49},{type:"image",src:"yellow-sand@2x.png",width:114,height:114},{type:"image",src:"teal-stripes@2x.png",width:72,height:72},{type:"image",src:"wine-splatter@2x.png",width:120,height:120},{type:"image",src:"light-blue-tick@2x.png",width:72,height:72},{type:"image",src:"pine-terrain@2x.png",width:72,height:72},{type:"image",src:"purple-hatching@2x.png",width:60,height:60},{type:"image",src:"navy-dots@2x.png",width:72,height:72},{type:"image",src:"gray-sticks@2x.png",width:72,height:72}]},data:{title:"Investment in Future <br /> x <br /> R&amp;D",xAxis:"quarter",yAxis:"Investment in Future -   ",xAxisEnds:["",""],yAxisEnds:["",""],quadrants:["","","",""],labels:["Potatos","Tomatos"],colorIds:[],x:[0,1,2,3],y:[[0,0],[100,150],[50,220],[150,-3400]],xLines:[],yLines:[],areNumeric:!0,dsX:10,dsY:10,intersectionX:0,intersectionY:0,xTransformation:"linear",yTransformation:"linear",saveUrl:"",saveName:"",image:{url:"",hAlign:"center",vAlign:"center",margin:5,scale:1,invert:!1},text:{label:"",fontStyle:{name:"Arial",size:10,color:"000000",bold:!1,italics:!1},hAlign:"center",vAlign:"center",margin:5},scaleSize:1},chartSettings:{}};var Ct=function(){function t(){Q(this,t),this.charts=[]}return K(t,[{key:"add",value:function(t){this.charts.push(t)}},{key:"highlight",value:function(t){for(var e=0,i=this.charts.length;e<i;++e)this.charts[e].doHighlight(t)}},{key:"clearHighlight",value:function(){for(var t=0,e=this.charts.length;t<e;++t)this.charts[t].doClearHighlight()}}]),t}(),St={BaseChart:vt,ChartConnector:Ct},kt=h.Class.extend({isEle:function(t){return t instanceof a()},findEle:function(t){return this.isEle(t)?t:a()("#"+t)},isChecked:function(t){return this.findEle(t).is(":checked")},disable:function(t){t.prop("disabled",!0)},enable:function(t){t.prop("disabled",!1)},show:function(t){this.findEle(t).show()},hide:function(t){var e=this.findEle(t);void 0!==e&&e.hide()},getValue:function(t){return this.findEle(t).val()},getWidth:function(t){var e=this.findEle(t);return"undefined"!=e&&e.width()},getStyle:function(t,e){var i=this.findEle(t);return"undefined"!=i&&i.css(e)},setStyle:function(t,e){var i=this.findEle(t);return"undefined"!=i&&(i.css(e),!0)},drawVideo:function(t,e,i,s,n,r,o,a,h,l){var c="";if(a=a||"",r=r||"",n='id="'+n+'"'||0,i=i||0,s=s||0,e)switch(e){case"a":case"absolute":default:e="position:absolute";break;case"r":case"relative":e="position:relative";break;case"f":case"fixed":e="position:fixed"}else e="position:absolute";return c+='<div id="videoFrame" style="'+e+";top:"+i+";left:"+s+";"+o+'">',c+="<video "+n+' style="'+a+'; display: block;" preload="auto" poster="'+r+'" '+(h=h?'autoplay="autoplay"':"")+" "+(l=l?"loop":"")+">",c+='<source type="video/ogg" src="'+t+'.ogv">',c+='<source type="video/mp4" src="'+t+'.mp4">',(c+="</video>")+"</div>"},drawComp:function(t,e,i,s,n,r,o,h,l,c,u,d,p,f,g){var m,v,y,b="",x="",w="",C="",S="",k="";switch(o=o||0,y="a"==r||"absolute"==r||void 0===r?"position:absolute;"+(h=void 0!==h&&""!==h?"top:"+h+";":"")+(l=void 0!==l&&""!==l?"left:"+l+";":"")+(c=void 0!==c&&""!==c?"bottom:"+c+";":"")+(u=void 0!==u&&""!==u?"right:"+u+";":""):"r"==r||"relative"==r?"position:relative;"+(h=void 0!==h&&""!==h?"margin-top:"+h+";":"")+(l=void 0!==l&&""!==l?"margin-left:"+l+";":"")+(c=void 0!==c&&""!==c?"margin-bottom:"+c+";":"")+(u=void 0!==u&&""!==u?"margin-right:"+u+";":""):"position:absolute;top:0;left:0;",void 0!==s&&""!==s&&(x="width:"+s+";"),void 0!==n&&""!==n&&(w="height:"+n+";"),void 0!==d&&""!==d&&(C="opacity:"+d+";"),void 0!==p&&""!==p&&(S='class="'+p+'"'),null!=g&&(k='alt="'+g+'"'),void 0!==f&&""!=f||(f=""),v=void 0!==i&&""!==i?'id="'+i+'"':"",t){case"preimg":void 0!==e&&((b=new Image).src=void 0!==e.src?e.src:"",b.style=f+x+w+y+C,void 0===g&&""==g||(b.alt=g),b.id=i,b.onload=function(){a()(e.parent).html(b).css("opacity","1"),a()(this).css({position:"relative",width:"100%",height:"100%"})});break;case"img":void 0!==e&&(b+='<img src="'+e+'" '+v+" "+k+" "+S+' style="'+x+w+y+C+f+"z-index:"+o+';" />');break;case"ul":for(b+="<ul "+v+" "+S+' style="'+f+x+w+y+C+"z-index:"+o+';">',m=0;m<e.length;m++)b+="<li "+(void 0!==e[m].id?'id="'+e[m].id+'" ':" ")+ +(void 0!==e[m].cls?e[m].cls:"")+' style="'+(void 0!==e[m].style?e[m].style:"")+'">'+(void 0!==e[m].value?e[m].value:"")+"</li>";b+="</ul>";break;case"label":b+="<label "+v+" "+S+' style="'+f+x+w+y+C+"z-index:"+o+';" >'+e+"</label>";break;case"div":b+="<div "+v+" "+S+' style="'+f+x+w+y+C+"z-index:"+o+';" >'+e+"</div>";break;case"button":b+="<button "+v+" "+S+' style="'+f+x+w+y+C+"z-index:"+o+';" >'+e+"</button>"}return b},backgroundImageChange:function(t,e){void 0!==t&&(t.hide(),void 0!==e&&t.css({"background-image":"url("+e+")"}),t.show())},backgroundImageChangeFade:function(t,e){void 0!==t&&(t.hide(),void 0!==e&&(null===e||!1===e?t.css({"background-image":""}):t.css({"background-image":"url("+e+")"})),t.fadeIn(500))},fade:function(t,e){e=1e3*e||500;var i=this.findEle(t);if(void 0!==i)return i.fadeOut(e)},elementsFadeIn:function(t){var e;for(e=0;e<t.length;e++)void 0!==t[e]&&(t[e].hide(),t[e].fadeIn(500))},appear:function(t,e){e=1e3*e||500;var i=this.findEle(t);if(void 0!==i)return i.fadeIn(e)}}),Dt=h.Class.extend({initialize:function(t,e,i,s,n,r,o,a){this.id=e,this.cols=i,this.data=s,this.title=t,this.styleClass=n||"green",this.style=r||"",this.tdClass=o||"",this.thClass=a||"",this.headLength=0,this.hiddenRows=[],this.hiddenCols=[],this.table="",this.hideTitle=!1,this.hideHead=!1},element:function(){return a()("#"+this.id)},unFilterColumn:function(t,e){var i,s=this.data.length;for(i=0;i<s;i++)this.data[i][t].indexOf(e)>-1&&(this.hiddenRows[i]=!1);this.redrawTable()},filterColumn:function(t,e){var i,s=this.data.length;for(i=0;i<s;i++)this.data[i][t].indexOf(e)>-1&&(this.hiddenRows[i]=!0);this.redrawTable()},unHideColumn:function(t){this.hiddenCols[t]=!1,this.redrawTable()},hideColumn:function(t){this.hiddenCols[t]=!0,this.redrawTable()},redrawTableData:function(){var t,e,i,s,n=a()("#"+this.id)[0],r=this.headLength,o=this.data.length,h=this.cols.length;for(""!=this.title&&r++,e=0;e<o;++e)if(1!=this.hiddenRows[e+r]&&(i=n.rows[e+r],void 0!==this.data[e].length))for(s=0;s<h;++s)1!=this.hiddenCols[s]&&(t=this.data[e][s],a()(i.cells[s]).html(t))},redrawTable:function(){a()("#"+this.id).replaceWith(this.draw())},drawTableData:function(){var t,e,i,s,n,r,o=this.cols,a="",h=this.data,l="",c="",u="";for(t=0;t<h.length;t++)if(1!=this.hiddenRows[t]){if(u=void 0!==(i=h[t]).styleClass?i.styleClass:"",c=void 0!==i.style?'style="'+i.style+'"':"",r=void 0!==i.trclass?'class="'+i.trclass+'"':"",n=void 0!==i.tdstyle?i.tdstyle:"",l=void 0!==i.values&&"function"!=typeof i.values?i.values:i,s="",void 0!==i.title){var d="th";""===i.title&&(d="td"),s+="<"+d+' colspan="'+o.length+'" class="'+(void 0!==i.type&&"dtitle"==i.type?"title":"d")+'">'+i.title+"</"+d+">"}else if(void 0!==i.fullLine)s+='<td colspan="'+o.length+'" class="'+u+" "+this.tdClass+'" style="'+n+'">'+l+"</td>";else for(e=0;e<o.length;++e)1!=this.hiddenCols[e]&&(s+="<"+(void 0!==o[e].isHead&&""!==l[e]?'th scope="row"':"td")+' class="td '+u+" "+this.tdClass+" "+(void 0!==o[e].styleClass?o[e].styleClass:"")+'" style="'+(void 0!==o[e].style?o[e].style:"")+" "+n+'">'+l[e]+"</"+(void 0!==o[e].isHead?"th":"td")+">");a+='<tr id="'+this.id+"_"+t+'" '+r+" "+c+">"+s+"</tr>"}return a},draw:function(){var t,e,i,s="",n="",r=this.cols,o=r.length,a="",h=0;for(""!=this.title&&(this.headLength+=1,n='<caption class="'+(this.hideTitle?"offscreen ":"")+'title">'+this.title+"</caption>"),o>0&&(this.headLength+=1),t=0;t<o;t++)if(1!=this.hiddenCols[t]){void 0!==r[t].hcolspan?(i='colspan="'+r[t].hcolspan+'"',h=h):(i="",h=t);var l="th";void 0!==r[t].title&&""!==r[t].title||(l="td"),a+="<"+l+" "+i+' scope="col" class="'+this.thClass+" "+(void 0!==r[h].headClass?r[h].headClass:"")+'" style="'+(void 0!==r[h].headStyle?r[h].headStyle:"")+'">'+(void 0!==r[t].title?r[t].title:"")+"</"+l+">"}return e='<table id="'+this.id+'" class="sceneTable '+this.styleClass+"ScTab "+(""==n||this.hideTitle?"":"withCaption")+'" style="'+this.style+'">',e+=n,0!=this.headLength&&1!=this.hideHead&&(""!=a&&(s+="<tr>"+a+"</tr>"),e+="<thead>"+s+"</thead>"),e+"<tbody>"+this.drawTableData()+"</tbody></table>"}}),Tt=s(33316);(0,Tt.Gz)(window,h),(0,Tt.wz)(window,l),(0,Tt.gc)(window,c),(0,Tt.mp)(window,u),(0,Tt.Gh)(window,t),(0,Tt._7)(window,e),(0,Tt.Pn)(window,i),(0,Tt.TZ)(window,n),(0,Tt.yV)(window,r)})(),n=s.O(n)})();