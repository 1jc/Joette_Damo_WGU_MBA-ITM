(self.webpackChunkmpl_web5=self.webpackChunkmpl_web5||[]).push([[120647,966829,896438,521132,345186,169850,458302,752748,853074,970263,421657,730899,146358,101312,310618,144336,409910,924042,425136,50108,103519,641517,857320,526668,662154,994885,173142,16216,72505,215035,349317,797114,694462,63273,446628,837602,991890,577114,70337,576015,323517,793458,536402,427378,43442,424220,100985,302511,40226,191885,898058,933688,274375,90028,500414,198268,922,835768,788182,312647,49965,560797,809806,466106,885312,266295,877264,780750,671623,490301,439467,224373,796826,912645,967022,55321,293690,954180,872947,965799,854178,53141,437078,64081,19807,42364,509773,481812,942607,628928,264165,669331,20593,317175,382761,35161,375763,955364,752508,501387,772158,504383,460978,955200,189786,695984,652128,750224,648225,145600,326265,523060,838492,555913,10565,749711,192715,441839,770537,411994,351149,202394,578097,418110,32370,111249,863974,913345,321238,886845,150959,24336,487741,224618,688401,402196,490192,84277,83985,657865,822177,780376,270296,400127,736174,395838,662357,43817,688672,872566,841294,659322,408571,706390,487498,995111,401932,610689,84358,147226,27731,773173,656689,711822,377886,777098,842835,363667,15641,555742,857343,369258,35892,414014,226822,832910,398982,286950,698671,503261,305659,304693,90932,289580,555040,897653,776620,88779,948155,115757,652437,178068,424303,975913,615218,358048,765219,850915,453655,796685,30991,37100,839867,446754,330410,633211,954284,463283,778351,537748,131989,114321,23733,25629,725422,327761,944502,34729,745112,795912,779467,20328,330148,595065,109977,33228,31510,142586,848593,697874,339946,156077,712431,538778,510614,199053,711137,841396,842867,791650,874566,777124,981942,69426,629320,769518,685733,843880,800395,304021,822855,226063,495728,776286,786199,103355,881713,735662,99304,128874,746209,750933,395601,55812,758213,276090,96653,295025,919270,711709,438555,969759,826779,901142,544268,509328,642469,631067,567842,861297,304211,653781,96181,151056,139229,484818,694408,532220,525726,755785,903339,401576,594666,641029,209914,403415,804082,779898,217293,189703,55591,366372,864516,170289,92346,526009,790978,851627,235940,221748,92161,844622,925562,100387,615223,162130,964030,97571,913926,713863,229206,483830,591892,385706,962651,424393,405053,506150,239368,973985,949430,739359,807826,595659,801132,789848,858796,978717,894479,61298,546975,884278,517180,561225,561446,175766,19049,614947,389132,127780,435052,648534,724226,454642,227173,579648,483764,571655,910042,824246,649371,352401,814977,51409,7195,596542,257641,933304,506626,172875,612252,430906,289501,286231,641123,818646,227027,38315,973131,956849,980284,399748,939633,191758,632646,713570,734841,982870,759016,575789,444736,921457,425578,188642,536599,883898,575772,498225,63679,974289,621951,209871,511926,553173,453415,711547,748211,753449,212075,284575,782804,199,680534,572877,164637,880041,779858,782441,192526,857121,755819,78837,104783,176266,25376,345809,730871,197699,134798,223152,995935,348987,11589,282203,354951,849252,598542,823581,128928,585989,805172,926750,513634,37675,30558,233927,666183,612968,183626,413510,716624,772359,474240,239383,832491,149827,557056,757981,268196,118157,323770,870813,377974,954534,411923,808095,954356,818299,805947,26973,962958,633300,479858,929943,280564,729879,329682,417815,128773,934164,755191,170457,837036,528099,5996,735874,989648,597225,261244,960014,252881,171543,908890,919903,293589,978286,805569,381294,70283,529870,524096,272437,635478,283565,20334,172114,978339,213805,289334,464907,198277,242923,901708,835210,250281,881949,77194,414380,284568,29308,678910,238462,680884,870986,536787,712958,562544,238579,613479,694057,38906,412389,850695,274031,878839,239854,271333,338819,955272,840504,414243,915807,304400,194040,796237,177448,63054,354989,394321,326431,889560,795126,924178,440904,471390,767078,861953,277632,262128,943787,301370,738620,945820,713408,238377,769460,32669,401555,708164,365057,342811,155447,127485,232882,843700,631374,296242,919194,578131,794421,571770,962589,548866,277581,47650,731593,123749,883742,803918,629832,350124,593002,182762,67674,484077,927535,818196,139434,21490,355146,978866,906342,242232,555172,984804,58438,828864,670791,193421,396523,748824,520383,513099,98242,456323,336483,644285,869998,143081,838572,93843,586002,527282,438734,447019,91380,364612,527512,860329,160517,994439,724320,864598,984467,825605,514902,397689,676706,846296,231659,537194,353602,547101,759557,903632,970605,183185,913510,375110,216686,577591,72137,969381,471659,470669,596638,933971,94222,962228,580985,570927,24623,421367,603481,498589,398214,371122,284998,119090,651721,549637,716670,452703,62751,693274,231320,483516,132072,85493,188557,153254,267293,931096,533897,833038,934145,292532,960518,881017,438262,183380,848425,921649,626032,635486,277433,48140,438638,584481,798286,26520,967693,872308,23460,53208,566193,664567,43048,890612,270942,951429,417492,378325,192938,496177,601256,761597,85002,489522,913254,48117,467145,889577,649297,310305,257045,355891,872421,677977,159368,749662,582239,985753,818039,173109,936133,437725,273548,67169,990972,689608,69524,794083,916573,60142,918644,379437,248618,319214,845861,376005,432956,604533,638827,772324,795464,896550,43842,220110,700658,317942,737170,301294,341039,403281,20337,843097,113362,808327,907319,116025,919666,552566,202500,250786,214133,350217,120519,933316,946372,868539,534964,855603,617717,724828,412581,653331,173521,805358,447876,180831,799034,684398,970970,449634,254486,982690,223330,805876,61451,33334,436850,29408,393201,238210,893692,132567,238904,602244,736860,584133,782974,925535,681034,764429,842031,6484,608487,586934,516919,603917,75762,987413,355559,98725,96680,904582,684460,827629,558046,703754,83565,601135,574027,148795,252787,660611,619061,339216,5427,288217,968891,366073,919887,318519,919949,245797,843279,605496,292364,911021,495524,431955,924338,910450,687536,43879,977043,608321,32335,928196,546318,180429,927860,654421,406811,194187,182854,272641,552497,766209,895538,880710,594191,19273,455133,961216,303492,212231,536978,172785,331685,273533,179900,788210,533909,364947,119554,335606,22345,546170,397941,515386,233563,483789,253037,429332,260626,882048,107720,11995,511377,238657,149514,729005,927462,934417,566376,97915,650320,252572,86470,490761,615639,344551,709115,709367,849936,899249,733161,280042,517517,240434,242362,366933,7825,109835,260090,136990,46891,144076,253270,281819,700067,490408,511477,367485,431656,729257,472103,286615,107210,100286,781668,707597,943373,759468,558128,751628,399329,475528,203062,544210,251074,761706,207239,198548,388012,197557,166911,26717,719188,123399,980912,825972,761469,623190,805819,883018,443745,880496,625887,948760,940576,179849,367997,901464,325164,110978,160424,729199,26267,954310,362364,199039,297367,500390,190384,411992,693402,680535,867270,18537,11853,162558,78586,462988,611957,238786,819963,9668,456115,385275,487518,570330,327232,213275,624767,32165,179411,308256,739185,722937,910685,113964,733438,186152,538716,271762,731428,59449,336114,668389,461184,157810,948265,879514,700114,954126,360323,12470,930002,255137,219044,742133,42377,501191,12937,278472,57041,306898,690968,758705,759102,778405,974405,944472,84802,75335,28640,776006,543946,442519,252208,252864,438553,59462,44661,91864,36041,89164,752199,40557,262385,954865,638944,963122,904962,133055,629205,881503,413493,128090,666844,13134,4078,920102,962521,622998,363509,383503,136330,713674,203219,847802,697737,653069,667063,958585,991978,473209,490239,680682,838690,741922,430929,964980,548234,395720,367053,127837,257203,417281,246254,188707,831119,120223,708953,893822,720204,753905,592234,211861,452286,542161,620066,284387,118585,347143,262210,807183,869835,738437,515356,642497,137571,271716,667916,970684,401625,546296,586883,902050,927340,333130,644689,578048,971640,933950,456158,249529,33357,405195,864688,600846,412699,84371,447096,477792,867694,585586,791402,454660,95366,928857,513563,550828,237191,46919,653189,574932,275202,275153,494612,889122,852016,971046,777062,167308,501503,943208,998913,676175,466186,445261,945593,698794,628186,906659,314191,313875,499382,681512,384293,284024,352823,959357,299956,119962,21946,183893,75966,959240,593605,619704,328114,123902,520228,285233,266341,983676,581948,357343,458974,574038,567173,276624,669775,9742,331184,369504,813178,244608,60594,956041,402869,761401,438514,492643,847030,552312,833405,335515,215193,31763,474966,115981,163696,168196,325348,735338,391446,335555,471046,561036,800721,79042,6784,703488,504618,210035,221351,295747,598806,642919,804572,669026,565830,669176,95958,910614,291697,772252,311351,607915,781057,452708,100088,586915,107597,890748,265281,414624,702067,107030,10317,415262,728870,224073,477998,392502,140746,934361,771665,336694,254607,802797,73701,412492,193434,803297,472192,849120,572517,952753,280289,307429,900176,501013,870122,336848,738051,697576,818331,892233,222901,837097,953465,532242,146679,160748,523318,214970,663160,343248,89720,619926,326106,160079,791743,121911,352279,32882,483380,142423,346106,561438,766365,511027,245283,626563,177818,998933,700810,734415,445612,538991,765235,800015,209425,607248,980051,922474,795761,301715,529311,132062,406356,718281,736316,757565,519357,370773,260168,561458,147375,831750,887988,66507,607961,258806,481688,47564,856100,577525,37650,907858,25405,843772,146543,963180,910665,284247,202886,878947,8276,567564,334898,849328,327787,515405,645664,240653,408975,75802,140616,725998,903857,537425,105833,299057,884086,35128,723624,144499,548724,975202,777773,46582,936223,783254,882915,309713,320692,636082,549677,8717,271884,735528,972995,926830,8362,751502,506062,472281,20323,251053,472205,765011,557402,582435,831715,857519,910948,295142,850924,461204,894205,946397,571650,500536,433990,235520,449913,491243,193689,682399,915259,370953,870171,672099,826892,523133,854408,944006,641782,557127,75248,395204,434649,391712,449621,78240,121932,139652,745315,303468,481488,429603,447214,713623,770248,661525,179777,663887,90259,60880,77627,750272,269024,846783,119867,417559,650297,164177,627679,90141,393311,932029,676050,995518,636877,41470,783456,664458,26022,251213,804592,999105,111683,140553,284801,66471,756499,249800,989712,962925,596455,772649,807633,850261,722300,105057,367630,179420,348441,994638,9083,775494,753743,64247,951647,980267,131744,640661,280061,285502,35906,303906,890333,422582,170793,144121,254412,397141,25085,645987,63392,975176,379840,346766,377894,766951,80157,892501,272404,566379,921894,599235,38334,358822,402870,259819,311335,985517,308395,937509,224599,218758,79899,493711,63921,417423,890967,230694,812943,14201,456383,896253,519149,426743,850836,919113,448237,715202,929751,543254,49135,490977,89814,814858,808597,966976,69005,464141,431655,67291,809743,554108,148276,45469,992866,134313,809801,845141,566612,995623,956587,305642,844792,470481,153689,821061,895624,554448,46642,47073,970696,3704,580528,165905,161927,822057,817775,238404,992279,867646,177335,921356,777834,364497,343394,92763,402281,342076,900545,605868,124012,377035,371670,756620,624826,982761,929035,591341,471663,659704,491808,609946,374437,241329,165903,680925,908782,912866,855646,322901,23807,917216,693900,861351,317680,765e3,880521,888266,895229,580379,821213,852596,977971,759375,324803,478498,517084,559869,696919,568293,172841,859799,751542,343467,459534,462434,488796,622042,858469,712686,800528,440849,909781,980280,457885,207722,355651,181284,298018,429810,629988,566049,979186,179312,591497,805572,564394,823741,40705,524856,872249,908512,509359,272086,743139,420020,369550,402399,192025,188904,81713,729807,90579,815492,212340,467750,891071,7044,587145,338563,336338,278431,567734,267432,522639,42607,157054,81729,778462,558540,304700,389217,691232,93613,644363,354961,200190,718087,305119,633149,824237,18213,774052,626471,557815,896557,255701,877301,405811,234942,685310,571219,180045,741805,883122,571433,532197,337602,828794,972029,270323,172908,987327,231864,852212,382869,796581,275182,301782,621253,999464,11333,473829,539888,190231,517045,466315,788959,540305,855317,356679],{32605:()=>{JSSettings.add("Decision_adjudgment",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/da_report.jpg"}],["backgroundImage#bikes",""]])},60080:()=>{JSSettings.add("Decision_adreview",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/da_report.jpg"}],["backgroundImage#bikes",""]])},87043:(t,e,i)=>{"use strict";i(57458),JSSettings.add("Decision_adreviewanim",[["backgroundColor","#0a5080"],["reviewType","Ad"],["fieldType","ads"]])},55483:()=>{JSSettings.add("Decision_balancedscorecard",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/performance_reports.jpg"}]])},36538:()=>{JSSettings.add("Decision_balancesheet",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/accounting_report.jpg"}]])},60944:()=>{JSSettings.add("Decision_basescompetitiveadvantage",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},93901:()=>{JSSettings.add("Decision_brandjudgment",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/brand_design_report.jpg"}],["backgroundImage#bikes",""]])},31820:()=>{JSSettings.add("Decision_brandprofitability",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/brand_design_report.jpg"}],["backgroundImage#bikes",""]])},45999:()=>{JSSettings.add("Decision_brandreview",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/brand_design_report.jpg"}],["backgroundImage#bikes",""]])},50993:(t,e,i)=>{"use strict";i(57458),JSSettings.add("Decision_brandreviewanim",[["backgroundColor","#0a5080"],["reviewType","Brand"],["fieldType","brands"]])},88929:()=>{JSSettings.add("Decision_businessrelationships",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/supply_chain_report.jpg"}]])},47049:()=>{JSSettings.add("Decision_buyinitialmarketresearch",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/marketing_report.jpg"}]])},16097:()=>{JSSettings.add("Decision_buymarketresearch",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/marketing_report.jpg"}]])},13328:()=>{JSSettings.add("Decision_buymarketresearchanim",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/buyMarketResearch/buy_market_research_back.jpg"}],["man",{type:"cdn",url:"frontend/dhtml/images/decisions/buyMarketResearch/man.gif"}],["woman",{type:"cdn",url:"frontend/dhtml/images/decisions/buyMarketResearch/woman.gif"}]])},86045:()=>{JSSettings.add("Decision_cashflow",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/accounting_report.jpg"}]])},42565:()=>{JSSettings.add("Decision_ccconfidentialnewsletter",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},88660:()=>{JSSettings.add("Decision_ccnewsletter",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},18166:()=>{JSSettings.add("Decision_ccscorecard",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/accounting_report.jpg"}],["ccOk",{type:"cdn",url:"frontend/dhtml/images/errors/cc-ok.png"}],["ccNok",{type:"cdn",url:"frontend/dhtml/images/errors/cc-nok.png"}]])},3006:()=>{JSSettings.add("Decision_cd",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},28816:()=>{JSSettings.add("Decision_certification",[["facebook",{type:"cdn",url:"frontend/dhtml/images/icons/s0cial-facebook2.svg"}],["instagram",{type:"cdn",url:"frontend/dhtml/images/icons/s0cial-instagram2.svg"}],["linkedin",{type:"cdn",url:"frontend/dhtml/images/icons/s0cial-linkedin2.svg"}],["twitter",{type:"cdn",url:"frontend/dhtml/images/icons/s0cial-twitter2.svg"}],["twitterLink","https://twitter.com/MarketplaceSims"],["facebookLink","https://www.facebook.com/MarketplaceSimulations/"],["instagramLink","https://www.instagram.com/marketplacesims/"],["linkedinLink","https://www.linkedin.com/company/innovative-learning-solutions-inc/"]])},35294:()=>{JSSettings.add("Decision_channeldemand",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/sales_office_report.jpg"}]])},96066:()=>{JSSettings.add("Decision_checkadclaims",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/da_report.jpg"}],["backgroundImage#bikes",""],["foundDeceptive",{type:"cdn",url:"frontend/dhtml/images/errors/da-found-deceptive.png"}],["foundOk",{type:"cdn",url:"frontend/dhtml/images/errors/da-found-ok.png"}],["foundNa",{type:"cdn",url:"frontend/dhtml/images/errors/da-found-na.png"}]])},3224:()=>{JSSettings.add("Decision_checkadclaimsanim",[["foundDeceptive",{type:"cdn",url:"frontend/dhtml/images/errors/da-found-deceptive.png"}],["foundOk",{type:"cdn",url:"frontend/dhtml/images/errors/da-found-ok.png"}],["foundNa",{type:"cdn",url:"frontend/dhtml/images/errors/da-found-na.png"}],["listCheck",{type:"cdn",url:"frontend/dhtml/images/decisions/checkAdClaims/Da-Check_da-list_check.svg"}],["listWarning",{type:"cdn",url:"frontend/dhtml/images/decisions/checkAdClaims/Da-Check_da-list_warning.svg"}],["listNotAvailable",{type:"cdn",url:"frontend/dhtml/images/decisions/checkAdClaims/Da-Check_da-list_na.svg"}],["sidepaneCheck",{type:"cdn",url:"frontend/dhtml/images/decisions/checkAdClaims/Da-Check_sidepane_check.svg"}],["sidepaneWarning",{type:"cdn",url:"frontend/dhtml/images/decisions/checkAdClaims/Da-Check_sidepane_warning.svg"}],["sidepaneNotAvailable",{type:"cdn",url:"frontend/dhtml/images/decisions/checkAdClaims/Da-Check_sidepane_na.svg"}],["sidepaneVerified",{type:"cdn",url:"frontend/dhtml/images/decisions/checkAdClaims/Da-Check_verified.svg"}],["imgSingle",{type:"cdn",url:"frontend/dhtml/images/decisions/checkAdClaims/Da-Check_component-photo.svg"}],["imgMultiple",{type:"cdn",url:"frontend/dhtml/images/decisions/checkAdClaims/Da-Check_component-photos.svg"}],["mapLine_1r1",{type:"cdn",url:"frontend/dhtml/images/decisions/checkAdClaims/Da-Check_map_line-worldmarket.svg"}],["map_1r1",{type:"cdn",url:"frontend/dhtml/images/decisions/checkAdClaims/Da-Check_map_warn-worldmarket copy.svg"}],["mapLine_3r1",{type:"cdn",url:"frontend/dhtml/images/decisions/checkAdClaims/Da-Check_map_line-NORAM-EURO.svg"}],["mapLine_3r2",{type:"cdn",url:"frontend/dhtml/images/decisions/checkAdClaims/Da-Check_map_line-LATAM-MEA.svg"}],["mapLine_3r3",{type:"cdn",url:"frontend/dhtml/images/decisions/checkAdClaims/Da-Check_map_line-APAC.svg"}],["map_3r1",{type:"cdn",url:"frontend/dhtml/images/decisions/checkAdClaims/Da-Check_map_warn-NORAM-EURO.svg"}],["map_3r2",{type:"cdn",url:"frontend/dhtml/images/decisions/checkAdClaims/Da-Check_map_warn-LATAM-MEA.svg"}],["map_3r3",{type:"cdn",url:"frontend/dhtml/images/decisions/checkAdClaims/Da-Check_map_warn-APAC.svg"}],["mapLine_5r1",{type:"cdn",url:"frontend/dhtml/images/decisions/checkAdClaims/Da-Check_map_line-NORAM.svg"}],["mapLine_5r2",{type:"cdn",url:"frontend/dhtml/images/decisions/checkAdClaims/Da-Check_map_line-LATAM.svg"}],["mapLine_5r3",{type:"cdn",url:"frontend/dhtml/images/decisions/checkAdClaims/Da-Check_map_line-EURO.svg"}],["mapLine_5r4",{type:"cdn",url:"frontend/dhtml/images/decisions/checkAdClaims/Da-Check_map_line-MEA.svg"}],["mapLine_5r5",{type:"cdn",url:"frontend/dhtml/images/decisions/checkAdClaims/Da-Check_map_line-APAC.svg"}],["map_5r1",{type:"cdn",url:"frontend/dhtml/images/decisions/checkAdClaims/Da-Check_map_warn-NORAM.svg"}],["map_5r2",{type:"cdn",url:"frontend/dhtml/images/decisions/checkAdClaims/Da-Check_map_warn-LATAM.svg"}],["map_5r3",{type:"cdn",url:"frontend/dhtml/images/decisions/checkAdClaims/Da-Check_map_warn-EURO.svg"}],["map_5r4",{type:"cdn",url:"frontend/dhtml/images/decisions/checkAdClaims/Da-Check_map_warn-MEA.svg"}],["map_5r5",{type:"cdn",url:"frontend/dhtml/images/decisions/checkAdClaims/Da-Check_map_warn-APAC.svg"}],["daBasic",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/Ad_Basic.svg"}],["daY",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/Ad_Youth-brand.svg"}],["daW",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/Ad_Work-brand.svg"}],["daR",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/Ad_Rec-brand.svg"}],["daM",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/Ad_Mtn-brand.svg"}],["daS",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/Ad_Speed-brand.svg"}]])},5390:()=>{JSSettings.add("Decision_companyname",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},84490:()=>{JSSettings.add("Decision_companynameanim",[["indoorRoom",{type:"cdn",url:"frontend/dhtml/images/decisions/companyname/HQ_indoor1.jpg"}],["indoorDoors",{type:"cdn",url:"frontend/dhtml/images/decisions/companyname/HQ_indoor2.jpg"}],["logoDoors",{type:"cdn",url:"frontend/dhtml/images/decisions/companyname/HQ_logoDoors.png"}],["curtains",{type:"cdn",url:"frontend/dhtml/images/decisions/companyname/curtains.gif"}]])},97666:()=>{JSSettings.add("Decision_companynameanim2",[["indoorRoom",{type:"cdn",url:"frontend/dhtml/images/decisions/companyname/HQ_indoor1-flip.png"}],["indoorDoors",{type:"cdn",url:"frontend/dhtml/images/decisions/companyname/HQ_indoor2.jpg"}],["storeFront",{type:"cdn",url:"frontend/dhtml/images/decisions/companyname/Company-Name_store.svg"}],["curtains",{type:"cdn",url:"frontend/dhtml/images/decisions/companyname/curtains-flip.gif"}]])},23900:()=>{JSSettings.add("Decision_compareads",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/da_report.jpg"}],["backgroundImage#bikes",""]])},47954:()=>{JSSettings.add("Decision_comparebrands",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/brand_design_report.jpg"}],["backgroundImage#bikes",""]])},15003:()=>{JSSettings.add("Decision_comparedesigns",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/brand_design_report.jpg"}],["backgroundImage#bikes",""]])},5726:()=>{JSSettings.add("Decision_competitoranalysis",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},58810:()=>{JSSettings.add("Decision_competitorsads",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/da_report.jpg"}],["backgroundImage#bikes",""]])},51457:()=>{JSSettings.add("Decision_competitorsbrands",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/brand_design_report.jpg"}],["backgroundImage#bikes",""]])},97178:()=>{JSSettings.add("Decision_competitorsincity",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/sales_office_report.jpg"}]])},50503:()=>{JSSettings.add("Decision_competitorsincityanim",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/SOWorldTintedBlue.jpg"}],["cityMarker",{type:"cdn",url:"frontend/dhtml/images/decisions/salesoffice/cityMarker.png"}]])},57148:()=>{JSSettings.add("Decision_competitorslocaladvertising",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/da_report.jpg"}],["backgroundImage#bikes",""]])},2735:()=>{JSSettings.add("Decision_competitorsprices",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/pricing_report.jpg"}],["backgroundImage#bikes",{type:"cdn",url:"frontend/dhtml/images/decisions/pricing_report-bike.jpg"}]])},50323:()=>{JSSettings.add("Decision_competitorsprofiles",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/performance_reports.jpg"}],["cpFolder","frontend/dhtml/images/decisions/cp/"]])},80514:()=>{JSSettings.add("Decision_competitorsregionaladvertising",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/da_report.jpg"}],["backgroundImage#bikes",""]])},10361:()=>{JSSettings.add("Decision_competitorssalesforce",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/sales_office_report.jpg"}],["service#bikes","30px-service"],["service","service"]])},12992:()=>{JSSettings.add("Decision_competitorssalesforceanim",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/SOWorldTintedBlue.jpg"}],["cityMarker",{type:"cdn",url:"frontend/dhtml/images/decisions/salesoffice/cityMarker.png"}],["service#bikes","30px-service"],["service","service"]])},809:()=>{JSSettings.add("Decision_competitorssocialmediadecisions",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/sales_office_report.jpg"}],["backgroundImage#bikes",""]])},56619:()=>{JSSettings.add("Decision_competitorswebdecisions",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/sales_office_report.jpg"}]])},26833:()=>{JSSettings.add("Decision_componentchangeover",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},23898:()=>{JSSettings.add("Decision_componentrework",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/manufacturing_report.jpg"}]])},63193:()=>{JSSettings.add("Decision_confirmlongrfp",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/supply_chain_report.jpg"}]])},68949:()=>{JSSettings.add("Decision_confirmrd",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/brand_design_report.jpg"}],["backgroundImage#bikes",""]])},4704:()=>{JSSettings.add("Decision_confirmrfp",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/supply_chain_report.jpg"}]])},80896:()=>{JSSettings.add("Decision_controlcharts",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/performance_reports.jpg"}]])},87945:()=>{JSSettings.add("Decision_controlchartsfinance",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/performance_reports.jpg"}]])},58293:()=>{JSSettings.add("Decision_controlchartshumanresource",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/performance_reports.jpg"}]])},60708:()=>{JSSettings.add("Decision_controlchartsmanufacturing",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/performance_reports.jpg"}]])},59860:()=>{JSSettings.add("Decision_controlchartsmarketing",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/performance_reports.jpg"}]])},2803:()=>{JSSettings.add("Decision_controlchartssaleschannel",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/performance_reports.jpg"}]])},59124:()=>{JSSettings.add("Decision_corporateobjectives",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},99276:()=>{JSSettings.add("Decision_correctiveactions",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},27484:()=>{JSSettings.add("Decision_costofproduction",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/pricing_report.jpg"}],["backgroundImage#bikes",{type:"cdn",url:"frontend/dhtml/images/decisions/pricing_report-bike.jpg"}]])},65891:()=>{JSSettings.add("Decision_costtrends",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},16678:()=>{JSSettings.add("Decision_culture",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},81794:()=>{JSSettings.add("Decision_cumulativebalancedscorecard",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/performance_reports.jpg"}]])},72643:()=>{JSSettings.add("Decision_cumulativeplayersstanding",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/performance_reports.jpg"}]])},73429:()=>{JSSettings.add("Decision_currencyfunds",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},18583:()=>{JSSettings.add("Decision_customerneeds",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/marketing_report.jpg"}],["topItemsMax",10],["topItemsCut",110]])},43944:()=>{JSSettings.add("Decision_demandprojection",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/manufacturing_report.jpg"}]])},90138:()=>{JSSettings.add("Decision_designwebpage",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/decadvertising_report.jpg"}],["backgroundImage#bikes",""]])},28607:()=>{JSSettings.add("Decision_designwebpageanim",[["kwDD",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/keywords3_gradient.svg"}],["btnNoKw",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/keywords3_search button - no keywords.svg"}],["btnActKw",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/keywords3_search button.svg"}],["webpageEmpty",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webpage_gray.png"}],["webpageDisabled",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webpage_outline.png"}],["mapsDisabled",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/Maps_green_outline.svg"}],["webpageActive",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webpage_active.png"}],["webOvr",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webpage preview2_circles.svg"}],["webBckYouth",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webpage preview2-10.svg"}],["webBckWorkb",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webpage preview2-08.svg"}],["webBckRecre",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webpage preview2-09.svg"}],["webBckMount",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webpage preview2-06.svg"}],["webBckSpeed",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webpage preview2-07.svg"}],["webArtBigPack",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webpage art_segment illst-work copy.svg"}],["webArtBigYouth",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webpage art_segment illst-youth copy.svg"}],["webArtBigWorkb",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webpage art_segment illst-work copy.svg"}],["webArtBigRecre",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webpage art_segment illst-rec copy.svg"}],["webArtBigMount",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webpage art_segment illst-mtn copy.svg"}],["webArtBigSpeed",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webpage art_segment illst-speed copy.svg"}],["webArtSmallPack",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webpage art_segment illst-work.svg"}],["webArtSmallYouth",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webpage art_segment illst-youth.svg"}],["webArtSmallWorkb",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webpage art_segment illst-work.svg"}],["webArtSmallRecre",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webpage art_segment illst-rec.svg"}],["webArtSmallMount",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webpage art_segment illst-mtn.svg"}],["webArtSmallSpeed",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webpage art_segment illst-speed.svg"}],["webHeadDefault",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webHead_default.png"}],["webHeadPack",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webHead_default.png"}],["webHeadYouth",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webHead_youth.png"}],["webHeadWorkb",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webHead_work.png"}],["webHeadRecre",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webHead_rec.png"}],["webHeadMount",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webHead_mtn.png"}],["webHeadSpeed",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webHead_speed.png"}],["webBarDefault",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webBar_default.png"}],["webBarPack",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webBar_default.png"}],["webBarYouth",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webBar_youth.png"}],["webBarWorkb",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webBar_work.png"}],["webBarRecre",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webBar_rec.png"}],["webBarMount",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webBar_mtn.png"}],["webBarSpeed",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webBar_speed.png"}],["webSegImagePack",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/segImg_pack.png"}],["webSegImageYouth",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/segImg_youth.png"}],["webSegImageWorkb",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/segImg_work.png"}],["webSegImageRecre",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/segImg_rec.png"}],["webSegImageMount",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/segImg_mtn.png"}],["webSegImageSpeed",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/segImg_speed.png"}],["webBraImageY",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/braImg_youth.png"}],["webBraImageW",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/braImg_work.png"}],["webBraImageR",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/braImg_rec.png"}],["webBraImageM",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/braImg_mtn.png"}],["webBraImageS",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/braImg_speed.png"}],["keyword_Youth",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/keywords_youth.png"}],["keyword_Workb",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/keywords_work.png"}],["keyword_Recre",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/keywords_rec.png"}],["keyword_Mount",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/keywords_mtn.png"}],["keyword_Speed",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/keywords_speed.png"}],["maps_1r1",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/maps_green_red-worldmarket.png"}],["maps_3r1",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/maps_green_red-NoramEuro.png"}],["maps_3r2",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/maps_green_red-LatamMea.png"}],["maps_3r3",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/Maps_green_red-Apac.png"}],["maps_5r1",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/Maps_green_red-Noram.png"}],["maps_5r2",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/Maps_green_red-Latam.png"}],["maps_5r3",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/Maps_green_red-Euro.png"}],["maps_5r4",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/Maps_green_red-Mea.png"}],["maps_5r5",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/Maps_green_red-Apac.png"}],["mapsOutline_1r1",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/maps_outline.png"}],["mapsOutline_3r1",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/maps_green_outline-NoramEuro.png"}],["mapsOutline_3r2",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/maps_green_outline-LatamMea.png"}],["mapsOutline_3r3",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/Maps_green_outline-Apac.png"}],["mapsOutline_5r1",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/Maps_green_outline-Noram.png"}],["mapsOutline_5r2",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/Maps_green_outline-Latam.png"}],["mapsOutline_5r3",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/Maps_green_outline-Euro.png"}],["mapsOutline_5r4",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/Maps_green_outline-Mea.png"}],["mapsOutline_5r5",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/Maps_green_outline-Apac.png"}]])},82172:()=>{JSSettings.add("Decision_detailedbranddemandreport",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/marketing_report.jpg"}]])},62929:()=>{JSSettings.add("Decision_dividends",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},6213:()=>{JSSettings.add("Decision_divisionprofitability",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/accounting_report.jpg"}]])},91913:()=>{JSSettings.add("Decision_drilldownbsc",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/performance_reports.jpg"}]])},95421:()=>{JSSettings.add("Decision_economicindexes",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/da_report.jpg"}],["backgroundImage#bikes",""]])},46365:()=>{JSSettings.add("Decision_employeeinvolvement",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/manufacturing_report.jpg"}]])},96132:()=>{JSSettings.add("Decision_environmentalconcerns",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/manufacturing_report.jpg"}]])},6023:()=>{JSSettings.add("Decision_exchangerates",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/da_report.jpg"}],["backgroundImage#bikes",""]])},54833:()=>{JSSettings.add("Decision_executivecompensation",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hr_report.jpg"}]])},78263:()=>{JSSettings.add("Decision_executivecompensationanim",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hr_report.jpg"}]])},15147:()=>{JSSettings.add("Decision_executiveresponsibilities",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},65262:()=>{JSSettings.add("Decision_executiveresponsibilitiesanim",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/ExecutiveResponsibilities/exec_resp_workspace.png"}]])},60432:()=>{JSSettings.add("Decision_extfactorysimulation",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/manufacturing_report.jpg"}]])},3829:()=>{JSSettings.add("Decision_extfactorysimulationregional",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/manufacturing_report.jpg"}]])},77879:()=>{JSSettings.add("Decision_factoryefficiency",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/manufacturing_report.jpg"}]])},28786:()=>{JSSettings.add("Decision_factorylocation",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/manufacturing_report.jpg"}]])},56122:()=>{JSSettings.add("Decision_factorylocationregional",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/manufacturing_report.jpg"}]])},24600:()=>{JSSettings.add("Decision_factorylocations",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/manufacturing_report.jpg"}]])},78671:()=>{JSSettings.add("Decision_factorylocationsanim",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/comp_cap_back.png"}],["backgroundImage#bikes",{type:"cdn",url:"frontend/dhtml/images/decisions/comp_cap_back_bike.jpg"}],["cityMarker",{type:"cdn",url:"frontend/dhtml/images/decisions/salesoffice/cityMarker.png"}],["positions#bikes",{1:{x:"14.5",y:"26.5",situated:"right",textLeft:"0"},2:{x:"33.5",y:"69.0",situated:"left",textLeft:"0"},3:{x:"48",y:"25",situated:"top",textLeft:"-40"},4:{x:"596.0",y:"190.0",situated:"top",textLeft:"-45",hideDot:!0}}],["positions",{1:{x:"14.5",y:"26.5",situated:"right",textLeft:"0"},2:{x:"33.5",y:"69.0",situated:"left",textLeft:"0"},3:{x:"48",y:"25",situated:"top",textLeft:"-40"},4:{x:"596.0",y:"165.0",situated:"top",textLeft:"-45"}}]])},47195:()=>{JSSettings.add("Decision_factorypayroll",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/manufacturing_report.jpg"}]])},56715:()=>{JSSettings.add("Decision_factorypayrollregional",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/manufacturing_report.jpg"}]])},53920:()=>{JSSettings.add("Decision_factoryproductivity",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/manufacturing_report.jpg"}]])},13069:()=>{JSSettings.add("Decision_factoryproductivityregional",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/manufacturing_report.jpg"}]])},36615:()=>{JSSettings.add("Decision_factorysimulation",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/manufacturing_report.jpg"}]])},28310:()=>{JSSettings.add("Decision_factorywarehouseoperations",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/manufacturing_report.jpg"}]])},8699:()=>{JSSettings.add("Decision_featurerd",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/brand_design_report.jpg"}],["backgroundImage#bikes",""]])},53093:()=>{JSSettings.add("Decision_featurerdanim2",[["includeImages",0],["includeImages#bikes",1],["comDescDummy",{type:"cdn",url:"frontend/dhtml/images/decisions/featureRD/r-d_comdesc_dummy.png"}],["comCostDummy",{type:"cdn",url:"frontend/dhtml/images/decisions/featureRD/r-d_comcost_dummy.png"}],["rdfimg_b_frame_enr",{type:"cdn",url:"frontend/dhtml/images/decisions/featureRD/components/r-d_comp_b_frame_enr.svg"}],["rdfimg_b_frame_sup",{type:"cdn",url:"frontend/dhtml/images/decisions/featureRD/components/r-d_comp_b_frame_sup.svg"}],["rdfimg_b_frame_ult",{type:"cdn",url:"frontend/dhtml/images/decisions/featureRD/components/r-d_comp_b_frame_ult.svg"}],["rdfimg_b_tires_trac",{type:"cdn",url:"frontend/dhtml/images/decisions/featureRD/components/r-d_comp_b_tires_trac.svg"}],["rdfimg_b_tires_hybrid_cush",{type:"cdn",url:"frontend/dhtml/images/decisions/featureRD/components/r-d_comp_b_tires_hybrid_cush.svg"}],["rdfimg_b_tires_hybrid_grip",{type:"cdn",url:"frontend/dhtml/images/decisions/featureRD/components/r-d_comp_b_tires_hybrid_cush.svg"}],["rdfimg_b_tires_racing_sleek",{type:"cdn",url:"frontend/dhtml/images/decisions/featureRD/components/r-d_comp_b_tires_racing_sleek.svg"}],["rdfimg_b_br_canti_super",{type:"cdn",url:"frontend/dhtml/images/decisions/featureRD/components/r-d_comp_b_br_canti_super.svg"}],["rdfimg_b_br_cali_ultra",{type:"cdn",url:"frontend/dhtml/images/decisions/featureRD/components/r-d_comp_b_br_cali_ultra.svg"}],["rdfimg_b_br_disc_ceramic",{type:"cdn",url:"frontend/dhtml/images/decisions/featureRD/components/r-d_comp_b_br_disc_ceramic.svg"}],["rdfimg_b_hbars_pwr_str",{type:"cdn",url:"frontend/dhtml/images/decisions/featureRD/components/r-d_comp_b_hbars_pwr_str.svg"}],["rdfimg_b_hbars_comf_ri",{type:"cdn",url:"frontend/dhtml/images/decisions/featureRD/components/r-d_comp_b_hbars_comf_ri.svg"}],["rdfimg_b_hbars_dd_carb",{type:"cdn",url:"frontend/dhtml/images/decisions/featureRD/components/r-d_comp_b_hbars_dd_carb.svg"}],["rdfimg_b_pedals_clipless_quick",{type:"cdn",url:"frontend/dhtml/images/decisions/featureRD/components/r-d_comp_b_pedals_clipless_quick.svg"}],["rdfimg_b_speed_11",{type:"cdn",url:"frontend/dhtml/images/decisions/featureRD/components/r-d_comp_b_speed_11.svg"}],["rdfimg_b_util_comp",{type:"cdn",url:"frontend/dhtml/images/decisions/featureRD/components/r-d_comp_b_util_comp.svg"}],["rdfimg_b_util_derail",{type:"cdn",url:"frontend/dhtml/images/decisions/featureRD/components/r-d_comp_b_util_derail.svg"}],["rdfimg_b_util_slime",{type:"cdn",url:"frontend/dhtml/images/decisions/featureRD/components/r-d_comp_b_util_slime.svg"}],["rdfimg_b_util_charger",{type:"cdn",url:"frontend/dhtml/images/decisions/featureRD/components/r-d_comp_b_util_charger.svg"}],["rdfimg_b_util_purif",{type:"cdn",url:"frontend/dhtml/images/decisions/featureRD/components/r-d_comp_b_util_purif.svg"}],["rdfimg_b_basket_tote",{type:"cdn",url:"frontend/dhtml/images/decisions/featureRD/components/r-d_comp_b_basket_tote.svg"}],["rdfimg_b_susp_full",{type:"cdn",url:"frontend/dhtml/images/decisions/featureRD/components/r-d_comp_b_susp_full.svg"}],["rdfimg_b_susp_auto",{type:"cdn",url:"frontend/dhtml/images/decisions/featureRD/components/r-d_comp_b_susp_auto.svg"}],["rdfimg_b_fend_carbon",{type:"cdn",url:"frontend/dhtml/images/decisions/featureRD/components/r-d_comp_b_fend_carbon.svg"}],["rdfimg_b_util_decal_style",{type:"cdn",url:"frontend/dhtml/images/decisions/featureRD/components/r-d_comp_b_util_decal_style_default.svg"}],["rdfimg_b_util_lights_led",{type:"cdn",url:"frontend/dhtml/images/decisions/featureRD/components/r-d_comp_b_util_lights_led.svg"}],["rdfimg_b_pack_sust",{type:"cdn",url:"frontend/dhtml/images/decisions/featureRD/components/r-d_comp_b_pack_sust_default.svg"}]])},67274:()=>{JSSettings.add("Decision_feedback",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},27789:()=>{JSSettings.add("Decision_finalcheck",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/summary_of_decisions_report.jpg"}],["errorSml",{type:"cdn",url:"frontend/dhtml/images/errors/check-error-small.png"}],["warningSml",{type:"cdn",url:"frontend/dhtml/images/errors/check-warning-small.png"}],["noteSml",{type:"cdn",url:"frontend/dhtml/images/errors/check-note-small.png"}]])},14211:()=>{JSSettings.add("Decision_financialposition",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/accounting_report.jpg"}]])},46452:()=>{JSSettings.add("Decision_financialratios",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/accounting_report.jpg"}]])},91249:()=>{JSSettings.add("Decision_financialresources",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},51687:()=>{JSSettings.add("Decision_fixedcapacity",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/manufacturing_report.jpg"}]])},15636:()=>{JSSettings.add("Decision_followupstudy",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hr_report.jpg"}]])},89234:()=>{JSSettings.add("Decision_fulfillment",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/supply_chain_report.jpg"}]])},7630:()=>{JSSettings.add("Decision_goals",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},44557:()=>{JSSettings.add("Decision_goalsdirectionthrusts",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},30767:()=>{JSSettings.add("Decision_goalsstrategicdirection",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},47633:()=>{JSSettings.add("Decision_goalsstrategicdirectionanim",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/goalsAndStrategy/goals_strategy_workspace_long-js.png"}]])},27350:()=>{JSSettings.add("Decision_goalsstrategicdirectionsupplier",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},5083:()=>{JSSettings.add("Decision_goodneighbor",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/manufacturing_report.jpg"}]])},54582:()=>{JSSettings.add("Decision_grades",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/grades_report.jpg"}]])},28:()=>{JSSettings.add("Decision_hiresalespeople",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/sales_office_report.jpg"}],["service#bikes","30px-service"],["service","service"]])},7110:(t,e,i)=>{"use strict";i(96211),JSSettings.add("Decision_hiresalespeopleanim2",[["service#bikes","30px-service"],["service","service"],["newStyle",0],["newStyle#bikes",1],["insideStore",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/hiring_Inside_store.svg"}],["storeCounter",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/hiring_Store_counter.svg"}],["storeBuilding",{type:"cdn",url:"frontend/dhtml/images/decisions/salesoffice/SOOpen3.png"}],["insideStore_1r1c1",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/pc-hire-sales-map_noram-chicago.svg"}],["insideStore_1r1c2",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/pc-hire-sales-map_latam-sao-paulo.svg"}],["insideStore_1r1c3",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/pc-hire-sales-map_euro-paris.svg"}],["insideStore_1r1c4",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/pc-hire-sales-map_apac-shanghai.svg"}],["insideStore_3r1c1",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/pc-hire-sales-map_noram-toronto.svg"}],["insideStore_3r1c2",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/pc-hire-sales-map_noram-chicago.svg"}],["insideStore_3r1c3",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/pc-hire-sales-map_noram-mexico-city.svg"}],["insideStore_3r1c4",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/pc-hire-sales-map_latam-sao-paulo.svg"}],["insideStore_3r2c1",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/pc-hire-sales-map_apac-tokyo.svg"}],["insideStore_3r2c2",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/pc-hire-sales-map_apac-shanghai.svg"}],["insideStore_3r2c3",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/pc-hire-sales-map_apac-mumbai.svg"}],["insideStore_3r2c4",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/pc-hire-sales-map_apac-sydney.svg"}],["insideStore_3r3c1",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/pc-hire-sales-map_euro-paris.svg"}],["insideStore_3r3c2",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/pc-hire-sales-map_euro-warsaw.svg"}],["insideStore_3r3c3",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/pc-hire-sales-map_mea-abu-dhabi.svg"}],["insideStore_3r3c4",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/pc-hire-sales-map_mea-johannesburg.svg"}],["insideStore_5r1c1",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/pc-hire-sales-map_noram-la.svg"}],["insideStore_5r1c2",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/pc-hire-sales-map_noram-chicago.svg"}],["insideStore_5r1c3",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/pc-hire-sales-map_noram-toronto.svg"}],["insideStore_5r1c4",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/pc-hire-sales-map_noram-mexico-city.svg"}],["insideStore_5r2c1",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/pc-hire-sales-map_mea-abu-dhabi.svg"}],["insideStore_5r2c2",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/pc-hire-sales-map_mea-accra.svg"}],["insideStore_5r2c3",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/pc-hire-sales-map_mea-cairo.svg"}],["insideStore_5r2c4",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/pc-hire-sales-map_mea-johannesburg.svg"}],["insideStore_5r3c1",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/pc-hire-sales-map_latam-santo-domingo.svg"}],["insideStore_5r3c2",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/pc-hire-sales-map_latam-santiago.svg"}],["insideStore_5r3c3",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/pc-hire-sales-map_latam-sao-paulo.svg"}],["insideStore_5r3c4",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/pc-hire-sales-map_latam-quito.svg"}],["insideStore_5r4c1",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/pc-hire-sales-map_euro-paris.svg"}],["insideStore_5r4c2",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/pc-hire-sales-map_euro-warsaw.svg"}],["insideStore_5r4c3",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/pc-hire-sales-map_euro-moscow.svg"}],["insideStore_5r4c4",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/pc-hire-sales-map_euro-london.svg"}],["insideStore_5r5c1",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/pc-hire-sales-map_apac-tokyo.svg"}],["insideStore_5r5c2",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/pc-hire-sales-map_apac-mumbai.svg"}],["insideStore_5r5c3",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/pc-hire-sales-map_apac-shanghai.svg"}],["insideStore_5r5c4",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/pc-hire-sales-map_apac-sydney.svg"}],["people1",{type:"cdn",url:"frontend/dhtml/images/decisions/salesoffice/hiresales_1.png"}],["people2",{type:"cdn",url:"frontend/dhtml/images/decisions/salesoffice/hiresales_2.png"}],["people3",{type:"cdn",url:"frontend/dhtml/images/decisions/salesoffice/hiresales_3.png"}],["people4",{type:"cdn",url:"frontend/dhtml/images/decisions/salesoffice/hiresales_4.png"}],["people5",{type:"cdn",url:"frontend/dhtml/images/decisions/salesoffice/hiresales_5.png"}],["people6",{type:"cdn",url:"frontend/dhtml/images/decisions/salesoffice/hiresales_6.png"}],["people7",{type:"cdn",url:"frontend/dhtml/images/decisions/salesoffice/hiresales_7.png"}],["people8",{type:"cdn",url:"frontend/dhtml/images/decisions/salesoffice/hiresales_8.png"}],["people9",{type:"cdn",url:"frontend/dhtml/images/decisions/salesoffice/hiresales_9.png"}],["people10",{type:"cdn",url:"frontend/dhtml/images/decisions/salesoffice/hiresales_10.png"}],["people11",{type:"cdn",url:"frontend/dhtml/images/decisions/salesoffice/hiresales_11.png"}],["people12",{type:"cdn",url:"frontend/dhtml/images/decisions/salesoffice/hiresales_12.png"}],["people13",{type:"cdn",url:"frontend/dhtml/images/decisions/salesoffice/hiresales_13.png"}],["people14",{type:"cdn",url:"frontend/dhtml/images/decisions/salesoffice/hiresales_14.png"}],["outsideStore_1r1",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/pc-hire-sales-map_world-1r.svg"}],["outsideStore_3r1",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/pc-hire-sales-map_americas-3r.svg"}],["outsideStore_3r2",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/pc-hire-sales-map_apac-3r.svg"}],["outsideStore_3r3",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/pc-hire-sales-map_emea-3r.svg"}],["outsideStore_5r1",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/pc-hire-sales-map_noram.svg"}],["outsideStore_5r2",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/pc-hire-sales-map_mea.svg"}],["outsideStore_5r3",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/pc-hire-sales-map_latam.svg"}],["outsideStore_5r4",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/pc-hire-sales-map_euro.svg"}],["outsideStore_5r5",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/pc-hire-sales-map_apac.svg"}],["outsideStore_1r1#bikes",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/hiring_Outside_NORAM.svg"}],["outsideStore_3r1#bikes",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/hiring_Outside_NORAM-EURO.svg"}],["outsideStore_3r2#bikes",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/hiring_Outside_LATAM-MEA.svg"}],["outsideStore_3r3#bikes",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/hiring_Outside_APAC.svg"}],["outsideStore_5r1#bikes",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/hiring_Outside_NORAM.svg"}],["outsideStore_5r2#bikes",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/hiring_Outside_LATAM.svg"}],["outsideStore_5r3#bikes",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/hiring_Outside_EUROPE.svg"}],["outsideStore_5r4#bikes",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/hiring_Outside_MEA.svg"}],["outsideStore_5r5#bikes",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/hiring_Outside_APAC.svg"}],["mans",[{left:133,top:74,lr:"r"},{left:181,top:119,lr:"r"},{left:273,top:119,lr:"l"},{left:33,top:74,lr:"r"},{left:179,top:57,lr:"r"},{left:128,top:120,lr:"l"},{left:86,top:82,lr:"l"},{left:221,top:154,lr:"r"},{left:238,top:88,lr:"r"},{left:168,top:87,lr:"r"},{left:108,top:81,lr:"r"},{left:204,top:75,lr:"l"},{left:75,top:60,lr:"r"},{left:209,top:137,lr:"l"},{left:143,top:47,lr:"r"},{left:150,top:126,lr:"l"},{left:264,top:131,lr:"r"},{left:157,top:104,lr:"l"},{left:116,top:129,lr:"r"},{left:122,top:76,lr:"r"},{left:202,top:138,lr:"l",zindex:1},{left:239,top:139,lr:"r"},{left:166,top:116,lr:"r",zindex:2},{left:189,top:120,lr:"r"},{left:273,top:128,lr:"l"},{left:242,top:93,lr:"l",zindex:1},{left:66,top:71,lr:"r",zindex:2},{left:179,top:68,lr:"l"},{left:161,top:47,lr:"r",zindex:-1},{left:122,top:138,lr:"l",zindex:5},{left:236,top:151,lr:"r",zindex:3},{left:186,top:152,lr:"r"},{left:247,top:149,lr:"l",zindex:1},{left:227,top:88,lr:"l",zindex:2},{left:252,top:96,lr:"r",zindex:-4},{left:196,top:163,lr:"l",zindex:4},{left:75,top:82,lr:"r"},{left:172,top:78,lr:"l",zindex:-1},{left:84,top:93,lr:"r"},{left:260,top:140,lr:"l",zindex:2},{left:133,top:96,lr:"l",zindex:22},{left:174,top:151,lr:"l",zindex:5},{left:107,top:129,lr:"l",zindex:5},{left:99,top:123,lr:"r"},{left:199,top:103,lr:"r"},{left:222,top:125,lr:"l"},{left:289,top:119,lr:"r"},{left:150,top:150,lr:"r",zindex:4},{left:197,top:66,lr:"l",zindex:-1},{left:128,top:127,lr:"r"},{left:82,top:49,lr:"l"},{left:217,top:106,lr:"l",zindex:-1},{left:217,top:160,lr:"l"},{left:92,top:91,lr:"l",zindex:4},{left:103,top:114,lr:"l",zindex:-1},{left:213,top:73,lr:"r"},{left:154,top:51,lr:"l",zindex:3},{left:199,top:127,lr:"l",zindex:-1},{left:40,top:80,lr:"r"},{left:311,top:119,lr:"r",zindex:-1},{left:205,top:157,lr:"r",zindex:4},{left:180,top:129,lr:"l",zindex:4},{left:229,top:117,lr:"r",zindex:-4},{left:172,top:111,lr:"l"},{left:212,top:80,lr:"r",zindex:2},{left:212,top:114,lr:"r",zindex:1},{left:109,top:95,lr:"l",zindex:2},{left:67,top:95,lr:"l",zindex:-1},{left:262,top:106,lr:"l"},{left:148,top:113,lr:"r",zindex:-1},{left:166,top:61,lr:"r"},{left:182,top:162,lr:"l",zindex:2},{left:189,top:78,lr:"r",zindex:-1},{left:254,top:154,lr:"r",zindex:5},{left:137,top:141,lr:"l"},{left:173,top:124,lr:"r",zindex:3},{left:46,top:63,lr:"r",zindex:-1},{left:281,top:136,lr:"l",zindex:5},{left:121,top:113,lr:"l"},{left:266,top:150,lr:"r",zindex:5},{left:114,top:115,lr:"r",zindex:-1},{left:137,top:59,lr:"l",zindex:-1},{left:98,top:89,lr:"l"},{left:187,top:66,lr:"r",zindex:-1},{left:231,top:143,lr:"l",zindex:-1},{left:72,top:110,lr:"r",zindex:5},{left:58,top:62,lr:"l"},{left:160,top:123,lr:"l",zindex:3},{left:23,top:76,lr:"l"},{left:189,top:63,lr:"r",zindex:-4},{left:218,top:146,lr:"l",zindex:-5},{left:240,top:163,lr:"r",zindex:5},{left:186,top:92,lr:"l"},{left:59,top:102,lr:"l",zindex:3},{left:187,top:127,lr:"l",zindex:1},{left:149,top:90,lr:"r",zindex:22},{left:139,top:119,lr:"r"},{left:194,top:138,lr:"r"},{left:206,top:96,lr:"l",zindex:4},{left:250,top:136,lr:"l",zindex:-1},{left:234,top:52,lr:"r",zindex:-1}]],["man_right_default",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/salesPeople/hiring_Default_person-1.svg"}],["man_left_default",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/salesPeople/hiring_Default_person-2.svg"}],["man_right_service",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/salesPeople/hiring_Service_trained-1.svg"}],["man_left_service",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/salesPeople/hiring_Service_trained-2.svg"}],["man_right_youth",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/salesPeople/hiring_Youth_trained-1.svg"}],["man_left_youth",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/salesPeople/hiring_Youth_trained-2.svg"}],["man_right_workb",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/salesPeople/hiring_Work_trained-1.svg"}],["man_left_workb",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/salesPeople/hiring_Work_trained-2.svg"}],["man_right_recre",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/salesPeople/hiring_Rec_trained-1.svg"}],["man_left_recre",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/salesPeople/hiring_Rec_trained-2.svg"}],["man_right_mount",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/salesPeople/hiring_Mtn_trained-1.svg"}],["man_left_mount",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/salesPeople/hiring_Mtn_trained-2.svg"}],["man_right_speed",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/salesPeople/hiring_Speed_trained-1.svg"}],["man_left_speed",{type:"cdn",url:"frontend/dhtml/images/decisions/hireSalesPeople/salesPeople/hiring_Speed_trained-2.svg"}]])},62762:()=>{JSSettings.add("Decision_hirewebsalespeople",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/sales_office_report.jpg"}],["service#bikes","30px-service"],["service","service"]])},40433:()=>{JSSettings.add("Decision_hirewebsalespeopleanim",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/salesoffice/SOWorldTintedBlueAlpha.jpg"}]])},21998:()=>{JSSettings.add("Decision_hrsurvey",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hr_report.jpg"}]])},34034:()=>{JSSettings.add("Decision_hrsurveyresult",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hr_report.jpg"}]])},2484:()=>{JSSettings.add("Decision_illwill",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/performance_reports.jpg"}]])},39225:()=>{JSSettings.add("Decision_improvechangeover",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/manufacturing_report.jpg"}]])},2535:()=>{JSSettings.add("Decision_improvementactions",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/manufacturing_report.jpg"}]])},1623:()=>{JSSettings.add("Decision_improvementactionscosts",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/manufacturing_report.jpg"}]])},96996:()=>{JSSettings.add("Decision_improvementactionsinvestments",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/manufacturing_report.jpg"}]])},98861:()=>{JSSettings.add("Decision_incomestatement",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/accounting_report.jpg"}]])},50704:()=>{JSSettings.add("Decision_industryexecutivecompensation",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hr_report.jpg"}]])},29379:()=>{JSSettings.add("Decision_industryexecutivecompensationanim",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hr_report.jpg"}]])},46428:()=>{JSSettings.add("Decision_industrysalesforcecompensation",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hr_report.jpg"}]])},48632:()=>{JSSettings.add("Decision_industrysalesforcecompensationanim",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hr_report.jpg"}]])},45453:()=>{JSSettings.add("Decision_industrysearchenginemarketingresults",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/decadvertising_report.jpg"}],["backgroundImage#bikes",""]])},66883:()=>{JSSettings.add("Decision_industryworkerscompensation",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hr_report.jpg"}]])},28150:()=>{JSSettings.add("Decision_industryworkerscompensationanim",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hr_report.jpg"}]])},56305:()=>{JSSettings.add("Decision_initialexecutivecompensation",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hr_report.jpg"}]])},85072:()=>{JSSettings.add("Decision_initialexecutivecompensationanim",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hr_report.jpg"}]])},74267:()=>{JSSettings.add("Decision_initialfinancialposition",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/accounting_report.jpg"}]])},98950:()=>{JSSettings.add("Decision_initialsalesforcecompensation",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hr_report.jpg"}]])},32683:()=>{JSSettings.add("Decision_initialsalesforcecompensationanim",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hr_report.jpg"}]])},73314:()=>{JSSettings.add("Decision_initialworkerscompensation",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hr_report.jpg"}]])},11964:()=>{JSSettings.add("Decision_initialworkerscompensationanim",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hr_report.jpg"}]])},54420:()=>{JSSettings.add("Decision_inspectquality",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/manufacturing_report.jpg"}]])},35131:()=>{JSSettings.add("Decision_inventorycontrol",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/manufacturing_report.jpg"}]])},40818:()=>{JSSettings.add("Decision_inventorycontrolanim",[["backgroundColor","#FFFFFF"]])},19338:()=>{JSSettings.add("Decision_inventorycontrolregional",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/manufacturing_report.jpg"}]])},90898:()=>{JSSettings.add("Decision_investinactions",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/manufacturing_report.jpg"}]])},21655:()=>{JSSettings.add("Decision_investinactionsresults",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/manufacturing_report.jpg"}]])},26511:()=>{JSSettings.add("Decision_localmedia",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/da_report.jpg"}],["backgroundImage#bikes",""]])},503:(t,e,i)=>{"use strict";i(96211),JSSettings.add("Decision_localmediaanim",[])},26094:()=>{JSSettings.add("Decision_longtermloan",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},69872:()=>{JSSettings.add("Decision_lqfactorypayroll",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/manufacturing_report.jpg"}]])},96367:()=>{JSSettings.add("Decision_lqfactorypayrollregional",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/manufacturing_report.jpg"}]])},36795:()=>{JSSettings.add("Decision_manufacturingresults",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/manufacturing_report.jpg"}]])},91778:()=>{JSSettings.add("Decision_manufacturingresultsregional",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/manufacturing_report.jpg"}]])},79140:()=>{JSSettings.add("Decision_marketshare",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/performance_reports.jpg"}]])},87322:()=>{JSSettings.add("Decision_marketsharereseller",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/performance_reports.jpg"}]])},28320:()=>{JSSettings.add("Decision_marketsharesupplier",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/performance_reports.jpg"}]])},94793:()=>{JSSettings.add("Decision_marketsize",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/marketing_report.jpg"}],["topItemsMax",8]])},24592:()=>{JSSettings.add("Decision_mediapreference",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/marketing_report.jpg"}],["topItemsMax",8]])},30676:()=>{JSSettings.add("Decision_mission",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},70209:()=>{JSSettings.add("Decision_modifyad",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/da_report.jpg"}],["backgroundImage#bikes",""]])},3791:()=>{JSSettings.add("Decision_modifyadanim2",[["useNewPreview",0],["useNewPreview#bikes",1],["circles",["default","cost","trav","inno","work","merc","tabl"]],["segmentShortNames",["Work","Trav","Merc","Cost","Inno","Tabl"]],["oldPreviewBackgr",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/da_design_background-back.png"}],["priorClose",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/Ad-content_icons_claimX.svg"}],["priorCloseHover",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/Ad-content_icons_claimX_hover.svg"}],["dragHandle",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/Ad-content_icons_grabby.svg"}],["closeX",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/Ad-content_icons_ad-previewX.svg"}],["closeXhover",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/Ad-content_icons_ad-previewX hover.svg"}],["arrowLeft",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/Ad-content_icons_ad-preview-arrow-l.svg"}],["arrowLeftHov",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/Ad-content_icons_ad-preview-arrow-l hover.svg"}],["arrowRight",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/Ad-content_icons_ad-preview-arrow.svg"}],["arrowRightHov",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/Ad-content_icons_ad-preview-arrow hover.svg"}],["btnHover",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/Ad-preview_icons_white-circle.svg"}],["btnLocal",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/Ad-preview_icons_Local-un.svg"}],["btnRegional",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/Ad-preview_icons_Regional_un.svg"}],["btnWebpage",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/Ad-preview_icons_Webpage_un.svg"}],["btnPaid",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/Ad-preview_icons_Search_un.svg"}],["btnActLocal",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/Ad-preview_icons_Local.svg"}],["btnActRegional",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/Ad-preview_icons_Regional.svg"}],["btnActWebpage",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/Ad-preview_icons_Webpage.svg"}],["btnActPaid",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/Ad-preview_icons_Search-ad.svg"}],["daNew",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/Ad_New.svg"}],["daBasic",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/Ad_Basic.svg"}],["daY",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/Ad_Youth-brand.svg"}],["daW",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/Ad_Work-brand.svg"}],["daR",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/Ad_Rec-brand.svg"}],["daM",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/Ad_Mtn-brand.svg"}],["daS",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/Ad_Speed-brand.svg"}],["daD",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/Ad_Work-brand.svg"}],["daL",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/Ad_Mtn-brand.svg"}],["daT",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/Ad_Youth-brand.svg"}],["daView",{type:"cdn",url:"frontend/dhtml/images/icons/view.svg"}],["daEdit",{type:"cdn",url:"frontend/dhtml/images/icons/edit.svg"}],["daCopy",{type:"cdn",url:"frontend/dhtml/images/icons/copy.svg"}],["daDelete",{type:"cdn",url:"frontend/dhtml/images/icons/delete.svg"}],["localPaper",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/AP_local-frame-news.svg"}],["localPaperFuzz",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/AP_local-fuzz-news.svg"}],["localPaperArticle",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/AP_newpaper copy.svg"}],["localPaperArticleOval",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/AP_newpaper-oval.svg"}],["localPaperArticleSkid",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/AP_newspaper-tread.svg"}],["localPaperArticleBikeDefault",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/BA_newspaper-bike.svg"}],["localPaperArticleBikeY",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/BA_newspaper-yth_bike.svg"}],["localPaperArticleBikeW",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/BA_newspaper-wk_bike.svg"}],["localPaperArticleBikeR",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/BA_newspaper-rec_bike.svg"}],["localPaperArticleBikeM",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/BA_newspaper-mtn_bike.svg"}],["localPaperArticleBikeS",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/BA_newspaper-spd_bike.svg"}],["billboardsPosters",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/AP_local-frame-billboard.svg"}],["billboardClaims1",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/AP_billboard-1claims.svg"}],["billboardClaims2",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/AP_billboard-2claims.svg"}],["billboardClaims3",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/AP_billboard-3claims.svg"}],["billboardClaims4",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/AP_billboard-4claims.svg"}],["billboardClaims5",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/AP_billboard-5claims.svg"}],["billboardClaims6",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/AP_billboard-6claims.svg"}],["billboardClaims7",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/AP_billboard-7claims.svg"}],["billboardClaims8",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/AP_billboard-8claims.svg"}],["billboardClaims9",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/AP_billboard-9claims.svg"}],["billboardBikeDefault",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/BA_billboard-bike.svg"}],["billboardBikeY",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/BA_billboard-yth_bike.svg"}],["billboardBikeW",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/BA_billboard-wk_bike.svg"}],["billboardBikeR",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/BA_billboard-rec_bike.svg"}],["billboardBikeM",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/BA_billboard-mtn_bike.svg"}],["billboardBikeS",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/BA_billboard-spd_bike.svg"}],["localRadio",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/AP_local-frame-radio.svg"}],["regionalMagazine",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/AP_regional-frame.svg"}],["regionalMagazineArticle",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/AP_magazine copy.svg"}],["regionalMagazineFuzz",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/AP_regional-fuzz.svg"}],["regionalMagazineSkid",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/AP_magazine-tread.svg"}],["regionalMagazineArticleBikeDefault",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/BA_magazine-bike.svg"}],["regionalMagazineArticleBikeY",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/BA_magazine-yth_bike.svg"}],["regionalMagazineArticleBikeW",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/BA_magazine-wk_bike.svg"}],["regionalMagazineArticleBikeR",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/BA_magazine-rec_bike.svg"}],["regionalMagazineArticleBikeM",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/BA_magazine-mtn_bike.svg"}],["regionalMagazineArticleBikeS",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/BA_magazine-spd_bike.svg"}],["webpageFrame",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/AP_webpage-frame.svg"}],["webpageFuzz",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/AP_webpage-fuzz.svg"}],["webpageBck",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/AP_webpage-bkg.svg"}],["webpageOval",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/AP_webpage-oval.svg"}],["webpagePageTop",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/AP_webpage-top.svg"}],["webpageTxtA",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/AP_webpage-Atxt.svg"}],["webpageTxtB",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/AP_webpage-Btxt.svg"}],["webpageTxtC",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/AP_webpage-Ctxt.svg"}],["webpagePageFoot",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/AP_webpage-footer.svg"}],["webpageImg1",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/AP_webpage-bluejoint.svg"}],["webpageImg2",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/AP_webpage-bluegear.svg"}],["webpageBikeDefault",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/BA_webpage-bike.svg"}],["webpageBikeY",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/BA_webpage-yth_bike.svg"}],["webpageBikeW",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/BA_webpage-wk_bike.svg"}],["webpageBikeR",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/BA_webpage-rec_bike.svg"}],["webpageBikeM",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/BA_webpage-mtn_bike.svg"}],["webpageBikeS",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/BA_webpage-spd_bike.svg"}],["paidFrame",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/AP_paid-search-frame.svg"}],["paidSite",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/AP_google copy.svg"}],["localSPPack0",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-packages_news-1.svg"}],["localSPPack1",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-packages_news-2.svg"}],["localSPPack2",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-packages_news-3.svg"}],["localSPPack3",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-packages_news-4.svg"}],["localSPPack4",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-packages_news-5.svg"}],["localSPPack5",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-packages_news-6.svg"}],["localSPPack6",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-packages_news-7.svg"}],["localSPPack7",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-packages_news-8.svg"}],["localSPPack8",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-packages_news-9.svg"}],["localSPYouth0",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-youth_news-1.svg"}],["localSPYouth1",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-youth_news-2.svg"}],["localSPYouth2",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-youth_news-3.svg"}],["localSPYouth3",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-youth_news-4.svg"}],["localSPYouth4",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-youth_news-5.svg"}],["localSPYouth5",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-youth_news-6.svg"}],["localSPYouth6",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-youth_news-7.svg"}],["localSPYouth7",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-youth_news-8.svg"}],["localSPYouth8",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-youth_news-9.svg"}],["localSPWorkb0",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-work_news-1.svg"}],["localSPWorkb1",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-work_news-2.svg"}],["localSPWorkb2",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-work_news-3.svg"}],["localSPWorkb3",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-work_news-4.svg"}],["localSPWorkb4",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-work_news-5.svg"}],["localSPWorkb5",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-work_news-6.svg"}],["localSPWorkb6",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-work_news-7.svg"}],["localSPWorkb7",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-work_news-8.svg"}],["localSPWorkb8",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-work_news-9.svg"}],["localSPRecre0",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-rec_news-1.svg"}],["localSPRecre1",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-rec_news-2.svg"}],["localSPRecre2",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-rec_news-3.svg"}],["localSPRecre3",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-rec_news-4.svg"}],["localSPRecre4",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-rec_news-5.svg"}],["localSPRecre5",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-rec_news-6.svg"}],["localSPRecre6",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-rec_news-7.svg"}],["localSPRecre7",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-rec_news-8.svg"}],["localSPRecre8",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-rec_news-9.svg"}],["localSPMount0",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-mtn_news-1.svg"}],["localSPMount1",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-mtn_news-2.svg"}],["localSPMount2",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-mtn_news-3.svg"}],["localSPMount3",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-mtn_news-4.svg"}],["localSPMount4",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-mtn_news-5.svg"}],["localSPMount5",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-mtn_news-6.svg"}],["localSPMount6",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-mtn_news-7.svg"}],["localSPMount7",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-mtn_news-8.svg"}],["localSPMount8",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-mtn_news-9.svg"}],["localSPSpeed0",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-speed_news-1.svg"}],["localSPSpeed1",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-speed_news-2.svg"}],["localSPSpeed2",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-speed_news-3.svg"}],["localSPSpeed3",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-speed_news-4.svg"}],["localSPSpeed4",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-speed_news-5.svg"}],["localSPSpeed5",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-speed_news-6.svg"}],["localSPSpeed6",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-speed_news-7.svg"}],["localSPSpeed7",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-speed_news-8.svg"}],["localSPSpeed8",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-speed_news-9.svg"}],["regionalSPPack0",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-packages_magazine-1.svg"}],["regionalSPPack1",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-packages_magazine-2.svg"}],["regionalSPPack2",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-packages_magazine-3.svg"}],["regionalSPPack3",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-packages_magazine-4.svg"}],["regionalSPPack4",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-packages_magazine-5.svg"}],["regionalSPPack5",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-packages_magazine-6.svg"}],["regionalSPPack6",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-packages_magazine-7.svg"}],["regionalSPPack7",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-packages_magazine-8.svg"}],["regionalSPPack8",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-packages_magazine-9.svg"}],["regionalSPYouth0",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-youth_magazine-1.svg"}],["regionalSPYouth1",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-youth_magazine-2.svg"}],["regionalSPYouth2",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-youth_magazine-3.svg"}],["regionalSPYouth3",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-youth_magazine-4.svg"}],["regionalSPYouth4",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-youth_magazine-5.svg"}],["regionalSPYouth5",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-youth_magazine-6.svg"}],["regionalSPYouth6",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-youth_magazine-7.svg"}],["regionalSPYouth7",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-youth_magazine-8.svg"}],["regionalSPYouth8",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-youth_magazine-9.svg"}],["regionalSPWorkb0",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-work_magazine-1.svg"}],["regionalSPWorkb1",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-work_magazine-2.svg"}],["regionalSPWorkb2",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-work_magazine-3.svg"}],["regionalSPWorkb3",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-work_magazine-4.svg"}],["regionalSPWorkb4",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-work_magazine-5.svg"}],["regionalSPWorkb5",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-work_magazine-6.svg"}],["regionalSPWorkb6",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-work_magazine-7.svg"}],["regionalSPWorkb7",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-work_magazine-8.svg"}],["regionalSPWorkb8",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-work_magazine-9.svg"}],["regionalSPRecre0",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-rec_magazine-1.svg"}],["regionalSPRecre1",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-rec_magazine-2.svg"}],["regionalSPRecre2",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-rec_magazine-3.svg"}],["regionalSPRecre3",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-rec_magazine-4.svg"}],["regionalSPRecre4",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-rec_magazine-5.svg"}],["regionalSPRecre5",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-rec_magazine-6.svg"}],["regionalSPRecre6",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-rec_magazine-7.svg"}],["regionalSPRecre7",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-rec_magazine-8.svg"}],["regionalSPRecre8",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-rec_magazine-9.svg"}],["regionalSPMount0",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-mtn_magazine-1.svg"}],["regionalSPMount1",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-mtn_magazine-2.svg"}],["regionalSPMount2",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-mtn_magazine-3.svg"}],["regionalSPMount3",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-mtn_magazine-4.svg"}],["regionalSPMount4",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-mtn_magazine-5.svg"}],["regionalSPMount5",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-mtn_magazine-6.svg"}],["regionalSPMount6",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-mtn_magazine-7.svg"}],["regionalSPMount7",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-mtn_magazine-8.svg"}],["regionalSPMount8",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-mtn_magazine-9.svg"}],["regionalSPSpeed0",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-speed_magazine-1.svg"}],["regionalSPSpeed1",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-speed_magazine-2.svg"}],["regionalSPSpeed2",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-speed_magazine-3.svg"}],["regionalSPSpeed3",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-speed_magazine-4.svg"}],["regionalSPSpeed4",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-speed_magazine-5.svg"}],["regionalSPSpeed5",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-speed_magazine-6.svg"}],["regionalSPSpeed6",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-speed_magazine-7.svg"}],["regionalSPSpeed7",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-speed_magazine-8.svg"}],["regionalSPSpeed8",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-speed_magazine-9.svg"}],["webpageSPPack0",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-packages_webpage-1-2.svg"}],["webpageSPPack1",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-packages_webpage-1-2.svg"}],["webpageSPPack2",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-packages_webpage-3-5.svg"}],["webpageSPPack3",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-packages_webpage-3-5.svg"}],["webpageSPPack4",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-packages_webpage-3-5.svg"}],["webpageSPPack5",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-packages_webpage-6-9.svg"}],["webpageSPPack6",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-packages_webpage-6-9.svg"}],["webpageSPPack7",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-packages_webpage-6-9.svg"}],["webpageSPPack8",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-packages_webpage-6-9.svg"}],["webpageSPYouth0",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-youth_webpage-1-2.svg"}],["webpageSPYouth1",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-youth_webpage-1-2.svg"}],["webpageSPYouth2",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-youth_webpage-3-5.svg"}],["webpageSPYouth3",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-youth_webpage-3-5.svg"}],["webpageSPYouth4",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-youth_webpage-3-5.svg"}],["webpageSPYouth5",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-youth_webpage-6-9.svg"}],["webpageSPYouth6",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-youth_webpage-6-9.svg"}],["webpageSPYouth7",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-youth_webpage-6-9.svg"}],["webpageSPYouth8",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-youth_webpage-6-9.svg"}],["webpageSPWorkb0",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-work_webpage-1-2.svg"}],["webpageSPWorkb1",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-work_webpage-1-2.svg"}],["webpageSPWorkb2",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-work_webpage-3-5.svg"}],["webpageSPWorkb3",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-work_webpage-3-5.svg"}],["webpageSPWorkb4",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-work_webpage-3-5.svg"}],["webpageSPWorkb5",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-work_webpage-6-9.svg"}],["webpageSPWorkb6",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-work_webpage-6-9.svg"}],["webpageSPWorkb7",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-work_webpage-6-9.svg"}],["webpageSPWorkb8",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-work_webpage-6-9.svg"}],["webpageSPRecre0",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-rec_webpage-1-2.svg"}],["webpageSPRecre1",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-rec_webpage-1-2.svg"}],["webpageSPRecre2",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-rec_webpage-3-5.svg"}],["webpageSPRecre3",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-rec_webpage-3-5.svg"}],["webpageSPRecre4",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-rec_webpage-3-5.svg"}],["webpageSPRecre5",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-rec_webpage-6-9.svg"}],["webpageSPRecre6",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-rec_webpage-6-9.svg"}],["webpageSPRecre7",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-rec_webpage-6-9.svg"}],["webpageSPRecre8",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-rec_webpage-6-9.svg"}],["webpageSPMount0",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-mtn_webpage-1-2.svg"}],["webpageSPMount1",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-mtn_webpage-1-2.svg"}],["webpageSPMount2",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-mtn_webpage-3-5.svg"}],["webpageSPMount3",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-mtn_webpage-3-5.svg"}],["webpageSPMount4",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-mtn_webpage-3-5.svg"}],["webpageSPMount5",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-mtn_webpage-6-9.svg"}],["webpageSPMount6",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-mtn_webpage-6-9.svg"}],["webpageSPMount7",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-mtn_webpage-6-9.svg"}],["webpageSPMount8",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-mtn_webpage-6-9.svg"}],["webpageSPSpeed0",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-speed_webpage-1-2.svg"}],["webpageSPSpeed1",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-speed_webpage-1-2.svg"}],["webpageSPSpeed2",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-speed_webpage-3-5.svg"}],["webpageSPSpeed3",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-speed_webpage-3-5.svg"}],["webpageSPSpeed4",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-speed_webpage-3-5.svg"}],["webpageSPSpeed5",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-speed_webpage-6-9.svg"}],["webpageSPSpeed6",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-speed_webpage-6-9.svg"}],["webpageSPSpeed7",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-speed_webpage-6-9.svg"}],["webpageSPSpeed8",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyAd2/segPictures/PA-speed_webpage-6-9.svg"}]])},48634:()=>{JSSettings.add("Decision_modifybrand",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/brand_design_report.jpg"}],["backgroundImage#bikes",""]])},82048:(t,e,i)=>{"use strict";i(23477),JSSettings.add("Decision_modifybrandanim2",[])},50828:(t,e,i)=>{"use strict";i(23477),JSSettings.add("Decision_modifybrandsimple",[])},67143:()=>{JSSettings.add("Decision_morale",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hr_report.jpg"}]])},41018:()=>{JSSettings.add("Decision_newsletter",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},18643:()=>{JSSettings.add("Decision_newssources",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/da_report.jpg"}],["backgroundImage#bikes",""]])},52436:()=>{JSSettings.add("Decision_numberofsearches",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/decadvertising_report.jpg"}],["backgroundImage#bikes",""]])},82921:()=>{JSSettings.add("Decision_opensalesoffice",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/sales_office_report.jpg"}]])},60359:()=>{JSSettings.add("Decision_opensalesofficeanim",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/SOWorldTintedBlue.jpg"}]])},28740:()=>{JSSettings.add("Decision_openwebcenter",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/sales_office_report.jpg"}]])},9111:()=>{JSSettings.add("Decision_openwebcenteranim",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/salesoffice/SOWorldTintedBlueAlpha.jpg"}]])},55726:()=>{JSSettings.add("Decision_operatingcapacity",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/manufacturing_report.jpg"}]])},37801:()=>{JSSettings.add("Decision_operatingcapacityanim",[["sceneBackground",{type:"cdn",url:"frontend/dhtml/images/decisions/operatingCapacity/op_cap_background.png"}]])},231:()=>{JSSettings.add("Decision_operatingcapacityregional",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/manufacturing_report.jpg"}]])},79314:()=>{JSSettings.add("Decision_operatingcapacityregionalanim",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/manufacturing_report.jpg"}]])},16525:()=>{JSSettings.add("Decision_organicsearchengineresults",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/decadvertising_report.jpg"}],["backgroundImage#bikes",""]])},51109:()=>{JSSettings.add("Decision_outsourcedbrandresults",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/supply_chain_report.jpg"}]])},82145:()=>{JSSettings.add("Decision_overtime",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/manufacturing_report.jpg"}]])},92354:()=>{JSSettings.add("Decision_overtimeregional",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/manufacturing_report.jpg"}]])},84879:()=>{JSSettings.add("Decision_partneranalysis",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},46843:()=>{JSSettings.add("Decision_paymenttopartners",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},36692:()=>{JSSettings.add("Decision_personalgoals",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},24368:()=>{JSSettings.add("Decision_playersstanding",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/performance_reports.jpg"}]])},68885:()=>{JSSettings.add("Decision_pricejudgment",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/brand_design_report.jpg"}],["backgroundImage#bikes",""]])},90203:()=>{JSSettings.add("Decision_pricewillingtopay",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/marketing_report.jpg"}],["topItemsMax",8]])},45355:()=>{JSSettings.add("Decision_pricing",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/pricing_report.jpg"}],["backgroundImage#bikes",{type:"cdn",url:"frontend/dhtml/images/decisions/pricing_report-bike.jpg"}]])},48329:()=>{JSSettings.add("Decision_pricinganim2",[["newBrandsFolder","frontend/dhtml/images/decisions/pricing/newBrands/"],["useSvgPreview",0],["useSvgPreview#bikes",1],["grabby",{type:"cdn",url:"frontend/dhtml/images/decisions/pricingNew/grabby-pap.svg"}],["popStage",{type:"cdn",url:"frontend/dhtml/images/decisions/pricingNew/pop-stage.svg"}]])},74235:()=>{JSSettings.add("Decision_problem",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},8778:()=>{JSSettings.add("Decision_productioncontrolsystem",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/manufacturing_report.jpg"}]])},62884:()=>{JSSettings.add("Decision_productionrules",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/manufacturing_report.jpg"}]])},78654:()=>{JSSettings.add("Decision_proformabalancesheet",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/accounting_report.jpg"}]])},24775:()=>{JSSettings.add("Decision_proformacashflow",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/accounting_report.jpg"}]])},63230:()=>{JSSettings.add("Decision_proformacashflowlive",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/accounting_report.jpg"}]])},75370:()=>{JSSettings.add("Decision_proformadivisionprofitability",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/accounting_report.jpg"}]])},75541:()=>{JSSettings.add("Decision_proformaincomestatement",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/accounting_report.jpg"}]])},50925:()=>{JSSettings.add("Decision_promotions",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/sales_training.jpg"}]])},88392:()=>{JSSettings.add("Decision_qualitycosts",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/manufacturing_report.jpg"}]])},64247:()=>{JSSettings.add("Decision_qualitycostsshort",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/manufacturing_report.jpg"}]])},45702:()=>{JSSettings.add("Decision_regionalmedia",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/da_report.jpg"}],["backgroundImage#bikes",""]])},95626:(t,e,i)=>{"use strict";i(96211),JSSettings.add("Decision_regionalmediaanim",[])},85571:()=>{JSSettings.add("Decision_regionalprofitability",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/sales_office_report.jpg"}]])},34406:()=>{JSSettings.add("Decision_reliabilityjudgment",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/manufacturing_report.jpg"}]])},75913:()=>{JSSettings.add("Decision_reputation",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/performance_reports.jpg"}]])},50224:()=>{JSSettings.add("Decision_resultcheck",[["errorSml",{type:"cdn",url:"frontend/dhtml/images/errors/check-error-small.png"}],["warningSml",{type:"cdn",url:"frontend/dhtml/images/errors/check-warning-small.png"}],["noteSml",{type:"cdn",url:"frontend/dhtml/images/errors/check-note-small.png"}]])},78472:()=>{JSSettings.add("Decision_resultsofcontracts",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/supply_chain_report.jpg"}]])},67438:()=>{JSSettings.add("Decision_riskanalysis",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},74995:()=>{JSSettings.add("Decision_riskanalysiscompany",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},16638:()=>{JSSettings.add("Decision_riskanalysisindustry",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},83822:()=>{JSSettings.add("Decision_riskanalysisreview",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},14911:()=>{JSSettings.add("Decision_riskanalysisreviewall",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},22999:()=>{JSSettings.add("Decision_riskanalysisstrategic",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},82134:()=>{JSSettings.add("Decision_riskmanagementreview",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},46305:()=>{JSSettings.add("Decision_riskregistryall",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},58486:()=>{JSSettings.add("Decision_riskscompany",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},84388:()=>{JSSettings.add("Decision_risksindustry",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},41833:()=>{JSSettings.add("Decision_riskslikelihoodcompany",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},17719:()=>{JSSettings.add("Decision_riskslikelihoodindustry",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},34687:()=>{JSSettings.add("Decision_riskslikelihoodstrategic",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},76632:()=>{JSSettings.add("Decision_risksmitigationcompany",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},94641:()=>{JSSettings.add("Decision_risksmitigationindustry",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},16799:()=>{JSSettings.add("Decision_risksmitigationstrategic",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},32779:()=>{JSSettings.add("Decision_risksstrategic",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},76164:()=>{JSSettings.add("Decision_sales",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/sales_office_report.jpg"}]])},82066:()=>{JSSettings.add("Decision_salesforcecompensation",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hr_report.jpg"}]])},6973:()=>{JSSettings.add("Decision_salesforcecompensationanim",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hr_report.jpg"}]])},48032:()=>{JSSettings.add("Decision_searchenginemarketing",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/decadvertising_report.jpg"}],["backgroundImage#bikes",""]])},93653:()=>{JSSettings.add("Decision_searchenginemarketinganim",[["kwDD",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/keywords3_gradient.svg"}],["btnNoKw",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/keywords3_search button - no keywords.svg"}],["btnActKw",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/keywords3_search button.svg"}],["webpageEmpty",{type:"cdn",url:"frontend/dhtml/images/decisions/searchEngine/preview_paid-search-gray.png"}],["mapsEmpty",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/maps_gray.png"}],["webpageDisabled",{type:"cdn",url:"frontend/dhtml/images/decisions/searchEngine/Paid Ad preview2_paid-search-outline.svg"}],["mapsDisabled",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/maps_outline.png"}],["webpageActive",{type:"cdn",url:"frontend/dhtml/images/decisions/searchEngine/preview_paid-search-bkg.png"}],["maps_1r1",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/maps_green_red-worldmarket.png"}],["maps_3r1",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/maps_green_red-NoramEuro.png"}],["maps_3r2",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/maps_green_red-LatamMea.png"}],["maps_3r3",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/Maps_green_red-Apac.png"}],["maps_5r1",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/Maps_green_red-Noram.png"}],["maps_5r2",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/Maps_green_red-Latam.png"}],["maps_5r3",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/Maps_green_red-Euro.png"}],["maps_5r4",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/Maps_green_red-Mea.png"}],["maps_5r5",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/Maps_green_red-Apac.png"}],["mapsOutline_1r1",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/maps_outline.png"}],["mapsOutline_3r1",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/maps_green_outline-NoramEuro.png"}],["mapsOutline_3r2",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/maps_green_outline-LatamMea.png"}],["mapsOutline_3r3",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/Maps_green_outline-Apac.png"}],["mapsOutline_5r1",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/Maps_green_outline-Noram.png"}],["mapsOutline_5r2",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/Maps_green_outline-Latam.png"}],["mapsOutline_5r3",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/Maps_green_outline-Euro.png"}],["mapsOutline_5r4",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/Maps_green_outline-Mea.png"}],["mapsOutline_5r5",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/Maps_green_outline-Apac.png"}],["hsegs_youth",{type:"cdn",url:"frontend/dhtml/images/segments/segment seals-02.svg"}],["hsegs_workb",{type:"cdn",url:"frontend/dhtml/images/segments/segment seals-01.svg"}],["hsegs_recre",{type:"cdn",url:"frontend/dhtml/images/segments/segment seals-04.svg"}],["hsegs_mount",{type:"cdn",url:"frontend/dhtml/images/segments/segment seals-05.svg"}],["hsegs_speed",{type:"cdn",url:"frontend/dhtml/images/segments/segment seals-03.svg"}]])},46405:()=>{JSSettings.add("Decision_searchenginemarketingresults",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/decadvertising_report.jpg"}],["backgroundImage#bikes",""]])},56590:()=>{JSSettings.add("Decision_sellunwantedinventory",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/manufacturing_report.jpg"}]])},36323:()=>{JSSettings.add("Decision_sellunwantedinventoryanim",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/sellUnwantedInventory/unwanted_inventory_floor.png"}]])},25965:()=>{JSSettings.add("Decision_shipmentoptions",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/supply_chain_report.jpg"}]])},12080:()=>{JSSettings.add("Decision_shorttermloan",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},86108:()=>{JSSettings.add("Decision_shorttermloananim",[["backgroundColor","#112E97"],["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/shortTermLoan/stlbck.png"}]])},91573:()=>{JSSettings.add("Decision_simplecashflow",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/accounting_report.jpg"}]])},70750:()=>{JSSettings.add("Decision_simpleinternetmarketing",[["kwDD",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/keywords3_gradient.svg"}],["btnNoKw",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/keywords3_search button - no keywords.svg"}],["btnActKw",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/keywords3_search button.svg"}],["webpageEmpty",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webpage_gray.png"}],["webpageDisabled",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webpage_outline.png"}],["mapsDisabled",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/Maps_green_outline.svg"}],["webpageActive",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webpage_active.png"}],["webOvr",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webpage preview2_circles.svg"}],["webBckYouth",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webpage preview2-10.svg"}],["webBckWorkb",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webpage preview2-08.svg"}],["webBckRecre",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webpage preview2-09.svg"}],["webBckMount",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webpage preview2-06.svg"}],["webBckSpeed",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webpage preview2-07.svg"}],["webArtBigPack",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webpage art_segment illst-work copy.svg"}],["webArtBigYouth",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webpage art_segment illst-youth copy.svg"}],["webArtBigWorkb",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webpage art_segment illst-work copy.svg"}],["webArtBigRecre",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webpage art_segment illst-rec copy.svg"}],["webArtBigMount",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webpage art_segment illst-mtn copy.svg"}],["webArtBigSpeed",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webpage art_segment illst-speed copy.svg"}],["webArtSmallPack",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webpage art_segment illst-work.svg"}],["webArtSmallYouth",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webpage art_segment illst-youth.svg"}],["webArtSmallWorkb",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webpage art_segment illst-work.svg"}],["webArtSmallRecre",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webpage art_segment illst-rec.svg"}],["webArtSmallMount",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webpage art_segment illst-mtn.svg"}],["webArtSmallSpeed",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webpage art_segment illst-speed.svg"}],["webHeadDefault",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webHead_default.png"}],["webHeadPack",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webHead_default.png"}],["webHeadYouth",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webHead_youth.png"}],["webHeadWorkb",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webHead_work.png"}],["webHeadRecre",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webHead_rec.png"}],["webHeadMount",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webHead_mtn.png"}],["webHeadSpeed",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webHead_speed.png"}],["webBarDefault",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webBar_default.png"}],["webBarPack",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webBar_default.png"}],["webBarYouth",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webBar_youth.png"}],["webBarWorkb",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webBar_work.png"}],["webBarRecre",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webBar_rec.png"}],["webBarMount",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webBar_mtn.png"}],["webBarSpeed",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/webBar_speed.png"}],["webSegImagePack",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/segImg_pack.png"}],["webSegImageYouth",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/segImg_youth.png"}],["webSegImageWorkb",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/segImg_work.png"}],["webSegImageRecre",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/segImg_rec.png"}],["webSegImageMount",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/segImg_mtn.png"}],["webSegImageSpeed",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/segImg_speed.png"}],["webBraImageY",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/braImg_youth.png"}],["webBraImageW",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/braImg_work.png"}],["webBraImageR",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/braImg_rec.png"}],["webBraImageM",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/braImg_mtn.png"}],["webBraImageS",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/braImg_speed.png"}],["keyword_Youth",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/keywords_youth.png"}],["keyword_Workb",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/keywords_work.png"}],["keyword_Recre",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/keywords_rec.png"}],["keyword_Mount",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/keywords_mtn.png"}],["keyword_Speed",{type:"cdn",url:"frontend/dhtml/images/decisions/designWeb/keywords_speed.png"}]])},33857:()=>{JSSettings.add("Decision_socialmedia",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/decadvertising_report.jpg"}],["backgroundImage#bikes",""]])},73676:(t,e,i)=>{"use strict";i(96211),JSSettings.add("Decision_socialmediaanim",[["emptyPreview",{type:"cdn",url:"frontend/dhtml/images/decisions/socialMedia/social_nadapreview.svg"}],["textPlaceholder",{type:"cdn",url:"frontend/dhtml/images/decisions/socialMedia/social_dummytext.svg"}],["socialMedia1",{type:"cdn",url:"frontend/dhtml/images/decisions/socialMedia/social_unactivated-preview_S.svg"}],["socialMedia2",{type:"cdn",url:"frontend/dhtml/images/decisions/socialMedia/social_unactivated-preview_B.svg"}],["socialMedia3",{type:"cdn",url:"frontend/dhtml/images/decisions/socialMedia/social_unactivated-preview_M.svg"}],["socialMedia4",{type:"cdn",url:"frontend/dhtml/images/decisions/socialMedia/social_unactivated-preview_V.svg"}],["socialMediaActive1",{type:"cdn",url:"frontend/dhtml/images/decisions/socialMedia/social_activated-preview_S.svg"}],["socialMediaActive2",{type:"cdn",url:"frontend/dhtml/images/decisions/socialMedia/social_activated-preview_B.svg"}],["socialMediaActive3",{type:"cdn",url:"frontend/dhtml/images/decisions/socialMedia/social_activated-preview_M.svg"}],["socialMediaActive4",{type:"cdn",url:"frontend/dhtml/images/decisions/socialMedia/social_activated-preview_V.svg"}]])},90379:()=>{JSSettings.add("Decision_sourcestudy",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/manufacturing_report.jpg"}]])},61447:()=>{JSSettings.add("Decision_specialprograms",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/sales_training.jpg"}]])},80380:()=>{JSSettings.add("Decision_stock",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},76757:()=>{JSSettings.add("Decision_strategicgraphs",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/performance_reports.jpg"}]])},12697:()=>{JSSettings.add("Decision_strategicthrustscorporate",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},91532:()=>{JSSettings.add("Decision_strategicthrustsfinance",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},11826:()=>{JSSettings.add("Decision_strategicthrustshumanresource",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},66796:()=>{JSSettings.add("Decision_strategicthrustsmanufacturing",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},6238:()=>{JSSettings.add("Decision_strategicthrustsmarketing",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},68174:()=>{JSSettings.add("Decision_strategicthrustspurchasing",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},30431:()=>{JSSettings.add("Decision_strategicthrustssales",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},91712:()=>{JSSettings.add("Decision_strategicthrustssaleschannel",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},51053:()=>{JSSettings.add("Decision_summaryofanalysis",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/summary_of_decisions_report.jpg"}]])},97445:()=>{JSSettings.add("Decision_summaryofdecisions",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/summary_of_decisions_report.jpg"}]])},32548:()=>{JSSettings.add("Decision_summaryofstrategy",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/summary_of_decisions_report.jpg"}]])},27800:()=>{JSSettings.add("Decision_summaryoftacticsfinance",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/summary_of_decisions_report.jpg"}]])},51045:()=>{JSSettings.add("Decision_summaryoftacticshr",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/summary_of_decisions_report.jpg"}]])},5271:()=>{JSSettings.add("Decision_summaryoftacticsmanufacturing",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/summary_of_decisions_report.jpg"}]])},58597:()=>{JSSettings.add("Decision_summaryoftacticsmarketing",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/summary_of_decisions_report.jpg"}]])},46545:()=>{JSSettings.add("Decision_summaryoftacticssaleschannel",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/summary_of_decisions_report.jpg"}]])},37797:()=>{JSSettings.add("Decision_supplychaininformationsystem",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/supply_chain_report.jpg"}]])},31068:()=>{JSSettings.add("Decision_supplychainstrategy",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/supply_chain_report.jpg"}]])},4952:()=>{JSSettings.add("Decision_swotanalysis",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},2543:()=>{JSSettings.add("Decision_tacticalplan",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/accounting_report.jpg"}]])},40659:()=>{JSSettings.add("Decision_tacticstrategylinksfinance",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},47694:()=>{JSSettings.add("Decision_tacticstrategylinkshumanresource",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},71421:()=>{JSSettings.add("Decision_tacticstrategylinksmanufacturing",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},99320:()=>{JSSettings.add("Decision_tacticstrategylinksmarketing",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},77634:()=>{JSSettings.add("Decision_tacticstrategylinkssaleschannel",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},24197:()=>{JSSettings.add("Decision_targetreplenishpoint",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/manufacturing_report.jpg"}]])},74345:()=>{JSSettings.add("Decision_targetsegments",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},44112:()=>{JSSettings.add("Decision_targetsegmentsanim",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/targetSegments/target-segments-js.png"}]])},58764:()=>{JSSettings.add("Decision_teamnorms",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hq_report.jpg"}]])},40252:()=>{JSSettings.add("Decision_usepattern",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/marketing_report.jpg"}],["topItemsMax",8],["topItemsCut",110]])},10891:()=>{JSSettings.add("Decision_variancestudy",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/manufacturing_report.jpg"}]])},33232:()=>{JSSettings.add("Decision_warehouselocation",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/manufacturing_report.jpg"}]])},67913:()=>{JSSettings.add("Decision_warehousingresults",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/manufacturing_report.jpg"}]])},66871:()=>{JSSettings.add("Decision_warrantycosts",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/marketing_report.jpg"}]])},65052:()=>{JSSettings.add("Decision_wealthcreation",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/accounting_report.jpg"}]])},76326:()=>{JSSettings.add("Decision_webproductivity",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/sales_office_report.jpg"}]])},32635:()=>{JSSettings.add("Decision_webtraffic",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/sales_office_report.jpg"}]])},85433:()=>{JSSettings.add("Decision_workerscompensation",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hr_report.jpg"}]])},66626:()=>{JSSettings.add("Decision_workerscompensationanim",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hr_report.jpg"}]])},77946:()=>{JSSettings.add("Decision_workerscompensationregional",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hr_report.jpg"}]])},47598:()=>{JSSettings.add("Decision_workerscompensationregionalanim",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/hr_report.jpg"}]])},98756:()=>{JSSettings.add("Decision_wrapup",[["backgroundImage",{type:"cdn",url:"frontend/dhtml/images/decisions/summary_of_decisions_report.jpg"}],["wrapupVideo",{type:"cdn",url:"frontend/dhtml/images/decisions/wrapup"}],["errorSml",{type:"cdn",url:"frontend/dhtml/images/errors/check-error-small.png"}],["warningSml",{type:"cdn",url:"frontend/dhtml/images/errors/check-warning-small.png"}],["noteSml",{type:"cdn",url:"frontend/dhtml/images/errors/check-note-small.png"}]])},23477:()=>{JSSettings.add("modifybrand",[["rdFlag",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/brand-design_green-flag.svg"}],["useSvgPreview",0],["useSvgPreview#bikes",1],["allBrandTypes",["D","L","T"]],["allBrandTypes#bikes",["Y","W","R","M","S"]],["zoomIn",{type:"cdn",url:"frontend/dhtml/images/icons/zoom.svg"}],["zoomInHover",{type:"cdn",url:"frontend/dhtml/images/icons/zoomHover.svg"}],["brandNew",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/53px-tinybikes_new.png"}],["brandPreview",{type:"svc",url:"frontend/dhtml/images/decisions/modifyBrand2/brand_preview.svg"}],["brandD",{type:"cdn",url:"frontend/dhtml/images/icons/bt/D-big.png"}],["brandL",{type:"cdn",url:"frontend/dhtml/images/icons/bt/L-big.png"}],["brandT",{type:"cdn",url:"frontend/dhtml/images/icons/bt/T-big.png"}],["brandY",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/47px-tinybikes_4.png"}],["brandW",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/47px-tinybikes_1.png"}],["brandR",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/47px-tinybikes_5.png"}],["brandM",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/47px-tinybikes_3.png"}],["brandS",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/47px-tinybikes_2.png"}],["brandBigD",{type:"cdn",url:"frontend/dhtml/images/icons/bt/D-big.png"}],["brandBigL",{type:"cdn",url:"frontend/dhtml/images/icons/bt/L-big.png"}],["brandBigT",{type:"cdn",url:"frontend/dhtml/images/icons/bt/T-big.png"}],["brandBigY",{type:"cdn",url:"frontend/dhtml/images/icons/bt/Y-big.png"}],["brandBigW",{type:"cdn",url:"frontend/dhtml/images/icons/bt/W-big.png"}],["brandBigR",{type:"cdn",url:"frontend/dhtml/images/icons/bt/R-big.png"}],["brandBigM",{type:"cdn",url:"frontend/dhtml/images/icons/bt/M-big.png"}],["brandBigS",{type:"cdn",url:"frontend/dhtml/images/icons/bt/S-big.png"}],["daView",{type:"cdn",url:"frontend/dhtml/images/icons/view.svg"}],["daEdit",{type:"cdn",url:"frontend/dhtml/images/icons/edit.svg"}],["daCopy",{type:"cdn",url:"frontend/dhtml/images/icons/copy.svg"}],["daDelete",{type:"cdn",url:"frontend/dhtml/images/icons/delete.svg"}],["compUids",[{uid:"base_comp",comp:[{brandType:"D",img:"deskBasicCompWithoutDrive.png",index:-25,groupsToHide:["util_oncase_D","case"]},{brandType:"L",img:"lapBasicCompWithoutDrive.png",index:-25,groupsToHide:["util_oncase_L","keyb_L","case"]}]},{uid:"case_desk_std",comp:[{brandType:"D",img:"deskCaseStd.png",refl:"deskCaseStd_Refl2.png",open:"deskCaseStd_open.png",index:-20,group:"case",onShow:[{type:"move",id:"util_gps",top:0,left:0},{type:"move",id:"util_expslot",top:0,left:0},{type:"move",id:"util_touch_std",top:0,left:0}]}]},{uid:"case_desk_slim",comp:[{brandType:"D",img:"deskCaseSlim.png",refl:"deskCaseSlim_Refl2.png",open:"deskCaseSlim_open.png",index:-20,group:"case",onShow:[{type:"move",id:"util_gps",top:0,left:0},{type:"move",id:"util_expslot",top:0,left:0},{type:"move",id:"util_touch_std",top:0,left:0}]}]},{uid:"case_desk_styl",comp:[{brandType:"D",img:"deskCaseStyl.png",refl:"deskCaseStyl_Refl2.png",open:"deskCaseStyl_open.png",index:-20,group:"case",onShow:[{type:"move",id:"util_gps",top:5,left:8},{type:"move",id:"util_expslot",top:-21,left:7},{type:"move",id:"util_touch_std",top:0,left:0}]}]},{uid:"case_desk_slimstyl",comp:[{brandType:"D",img:"deskCaseSlimStyl.png",refl:"deskCaseSlimStyl_Refl2.png",open:"deskCaseSlimStyl_open.png",index:-20,group:"case",onShow:[{type:"move",id:"util_gps",top:0,left:0},{type:"move",id:"util_expslot",top:0,left:0},{type:"move",id:"util_touch_std",top:0,left:0}]}]},{uid:"case_lap_std",comp:[{brandType:"L",img:"lapCaseStd.png",refl:"lapCaseStd_Refl.png",open:"lapCaseStd_open.png",index:-20,group:"case",assoc:[{depID:"case",value:"std"}],onShow:[{type:"move",id:"util_cam_web",top:0,left:0},{type:"move",id:"util_expslot",top:-4,left:0},{type:"move",id:"util_gps",top:0,left:0},{type:"move",id:"util_touch_std",top:-12,left:-4},{type:"move",id:"util_finger",top:0,left:0},{type:"switch",changes:["mon_lap_13_std","mon_lap_14_std","mon_lap_17_adv","keyb_std","keyb_exp","keyb_comf"]}]}]},{uid:"case_lap_slim",comp:[{brandType:"L",img:"lapCaseSlim.png",refl:"lapCaseSlim_Refl.png",open:"lapCaseSlim_open.png",index:-20,group:"case",assoc:[{depID:"case",value:"slim"}],onShow:[{type:"move",id:"util_cam_web",top:11,left:0},{type:"move",id:"util_expslot",top:0,left:0},{type:"move",id:"util_gps",top:11,left:0},{type:"move",id:"util_touch_std",top:0,left:0},{type:"move",id:"util_finger",top:15,left:0},{type:"switch",changes:["mon_lap_13_std","mon_lap_14_std","mon_lap_17_adv","keyb_std","keyb_exp","keyb_comf"]}]}]},{uid:"case_lap_uslim",comp:[{brandType:"L",img:"lapCaseSlim.png",refl:"lapCaseSlim_Refl.png",open:"lapCaseSlim_open.png",index:-20,group:"case",assoc:[{depID:"case",value:"slim"}],onShow:[{type:"move",id:"util_cam_web",top:11,left:0},{type:"move",id:"util_expslot",top:0,left:0},{type:"move",id:"util_gps",top:11,left:0},{type:"move",id:"util_touch_std",top:0,left:0},{type:"move",id:"util_finger",top:15,left:0},{type:"switch",changes:["mon_lap_13_std","mon_lap_14_std","mon_lap_17_adv","keyb_std","keyb_exp","keyb_comf"]}]}]},{uid:"case_lap_styl",comp:[{brandType:"L",index:-20,img:"lapCaseStyl.png",refl:"lapCaseStyl_Refl.png",open:"lapCaseStyl_open.png",group:"case",assoc:[{depID:"case",value:"styl"}],onShow:[{type:"move",id:"util_cam_web",top:11,left:0},{type:"move",id:"util_expslot",top:0,left:0},{type:"move",id:"util_gps",top:11,left:0},{type:"move",id:"util_touch_std",top:0,left:0},{type:"move",id:"util_finger",top:15,left:0},{type:"switch",changes:["mon_lap_13_std","mon_lap_14_std","mon_lap_17_adv","keyb_std","keyb_exp","keyb_comf"]}]}]},{uid:"case_lap_slimstyl",comp:[{brandType:"L",index:-20,img:"lapCaseStyl.png",refl:"lapCaseStyl_Refl.png",open:"lapCaseStyl_open.png",group:"case",assoc:[{depID:"case",value:"styl"}],onShow:[{type:"move",id:"util_cam_web",top:11,left:0},{type:"move",id:"util_expslot",top:0,left:0},{type:"move",id:"util_gps",top:11,left:0},{type:"move",id:"util_touch_std",top:0,left:0},{type:"move",id:"util_finger",top:15,left:0},{type:"switch",changes:["mon_lap_13_std","mon_lap_14_std","mon_lap_17_adv","keyb_std","keyb_exp","keyb_comf"]}]}]},{uid:"mon_desk_17_std",comp:[{brandType:"D",index:-25,img:"deskMonitStd.png",refl:"deskMonitStd_Refl2.png",onShow:[{type:"move",id:"util_cam_web",top:0,left:0}]}]},{uid:"mon_desk_19_std",comp:[{brandType:"D",index:-25,img:"deskMonitLarge.png",refl:"deskMonitLarge_Refl2.png",onShow:[{type:"move",id:"util_cam_web",top:-4,left:-4}]}]},{uid:"mon_desk_21_hr",comp:[{brandType:"D",index:-25,img:"deskMonitLarger.png",refl:"deskMonitLarger_Refl2.png",onShow:[{type:"move",id:"util_cam_web",top:-10,left:-10}]}]},{uid:"mon_desk_23_hr",comp:[{brandType:"D",index:-25,img:"deskMonitEvenLarger.png",refl:"deskMonitEvenLarger_Refl2.png",onShow:[{type:"move",id:"util_cam_web",top:-18,left:-18}]}]},{uid:"mon_desk_24_hr",comp:[{brandType:"D",index:-25,img:"deskMonitEvenLarger.png",refl:"deskMonitEvenLarger_Refl2.png",onShow:[{type:"move",id:"util_cam_web",top:-18,left:-18}]}]},{uid:"mon_desk_32_ws",comp:[{brandType:"D",index:-25,img:"deskMonitWide.png",refl:"deskMonitWide_Refl2.png",onShow:[{type:"move",id:"util_cam_web",top:-18,left:-24}]}]},{uid:"mon_lap_13_std",comp:[{brandType:"L",index:-25,variant:[{id:"std",img:"lapStdMonitStd.png",refl:"lapStdMonitStd_Refl2.png",dep:[{depID:"case",value:"std"}]},{id:"slim",img:"lapSlimMonitStd.png",refl:"lapSlimMonitStd_Refl2.png",dep:[{depID:"case",value:"slim"}]},{id:"styl",img:"lapStylMonitStd.png",refl:"lapStylMonitStd_Refl2.png",dep:[{depID:"case",value:"styl"}]}]}]},{uid:"mon_lap_14_std",comp:[{brandType:"L",index:-25,variant:[{id:"std",img:"lapStdMonitStd.png",refl:"lapStdMonitStd_Refl2.png",dep:[{depID:"case",value:"std"}]},{id:"slim",img:"lapSlimMonitStd.png",refl:"lapSlimMonitStd_Refl2.png",dep:[{depID:"case",value:"slim"}]},{id:"styl",img:"lapStylMonitStd.png",refl:"lapStylMonitStd_Refl2.png",dep:[{depID:"case",value:"styl"}]}]}]},{uid:"mon_lap_17_adv",comp:[{brandType:"L",index:-25,variant:[{id:"std",img:"lapStdMonitLarge.png",refl:"lapStdMonitLarge_Refl2.png",dep:[{depID:"case",value:"std"}]},{id:"slim",img:"lapSlimMonitLarge.png",refl:"lapSlimMonitLarge_Refl2.png",dep:[{depID:"case",value:"slim"}]},{id:"styl",img:"lapStylMonitLarge.png",refl:"lapStylMonitLarge_Refl2.png",dep:[{depID:"case",value:"styl"}]}]}]},{uid:"cpu_std",comp:[{brandType:"D",index:-22,img:"deskProc1.png",groupsToHide:["util_oncase_D","case"]},{brandType:"L",index:-22,img:"lapProc1.png",groupsToHide:["util_oncase_L","keyb_L","case"]}]},{uid:"cpu_mid",comp:[{brandType:"D",index:-22,img:"deskProc2.png",groupsToHide:["util_oncase_D","case"]},{brandType:"L",index:-22,img:"lapProc2.png",groupsToHide:["util_oncase_L","keyb_L","case"]}]},{uid:"cpu_high",comp:[{brandType:"D",index:-22,img:"deskProc3.png",groupsToHide:["util_oncase_D","case"]},{brandType:"L",index:-22,img:"lapProc3.png",groupsToHide:["util_oncase_L","keyb_L","case"]}]},{uid:"cpu_ult",comp:[{brandType:"D",index:-22,img:"deskProc3.png",groupsToHide:["util_oncase_D","case"]},{brandType:"L",index:-22,img:"lapProc3.png",groupsToHide:["util_oncase_L","keyb_L","case"]}]},{uid:"cpu_mass",comp:[{brandType:"D",index:-22,img:"deskProc3.png",groupsToHide:["util_oncase_D","case"]},{brandType:"L",index:-22,img:"lapProc3.png",groupsToHide:["util_oncase_L","keyb_L","case"]}]},{uid:"hdd_std",comp:[{brandType:"D",index:-22,img:"deskHD1.png",groupsToHide:["util_oncase_D","case"]},{brandType:"L",index:-22,img:"lapHD1.png",groupsToHide:["util_oncase_L","keyb_L","case"]}]},{uid:"hdd_high",comp:[{brandType:"D",index:-22,img:"deskHD2.png",groupsToHide:["util_oncase_D","case"]},{brandType:"L",index:-22,img:"lapHD2.png",groupsToHide:["util_oncase_L","keyb_L","case"]}]},{uid:"hdd_ult",comp:[{brandType:"D",index:-22,img:"deskHD3.png",groupsToHide:["util_oncase_D","case"]},{brandType:"L",index:-22,img:"lapHD3.png",groupsToHide:["util_oncase_L","keyb_L","case"]}]},{uid:"hdd_failp",comp:[{brandType:"D",index:-22,img:"deskHDFailproof.png",groupsToHide:["util_oncase_D","case"]},{brandType:"L",index:-22,img:"lapHDFailproof.png",groupsToHide:["util_oncase_L","keyb_L","case"]}]},{uid:"net_std",comp:[{brandType:"D",index:-22,img:"deskNetCard.png",groupsToHide:["util_oncase_D","case"]},{brandType:"L",img:"lapNetCard.png",index:-23,groupsToHide:["util_oncase_L","keyb_L","case"]}]},{uid:"net_hs",comp:[{brandType:"D",index:-22,img:"deskNetCard.png",groupsToHide:["util_oncase_D","case"]},{brandType:"L",img:"lapNetCard.png",index:-23,groupsToHide:["util_oncase_L","keyb_L","case"]}]},{uid:"net_ghs",comp:[{brandType:"D",index:-22,img:"deskNetCard.png",groupsToHide:["util_oncase_D","case"]},{brandType:"L",img:"lapNetCard.png",index:-23,groupsToHide:["util_oncase_L","keyb_L","case"]}]},{uid:"drive_std",comp:[{brandType:"D",index:-22,img:"deskBasicOpticalDrive.png",groupsToHide:["util_oncase_D","case"]},{brandType:"L",index:-22,img:"lapBasicOpticalDrive.png",groupsToHide:["util_oncase_L","keyb_L","case"]}]},{uid:"drive_hs",comp:[{brandType:"D",index:-22,img:"deskBasicOpticalDrive.png",groupsToHide:["util_oncase_D","case"]},{brandType:"L",index:-22,img:"lapBasicOpticalDrive.png",groupsToHide:["util_oncase_L","keyb_L","case"]}]},{uid:"bat_std",comp:[{brandType:"L",index:-22,img:"lapBattery.png",groupsToHide:["util_oncase_L","keyb_L","case"]}]},{uid:"bat_ll",comp:[{brandType:"L",index:-22,img:"lapBattery_ll.png",groupsToHide:["util_oncase_L","keyb_L","case"]}]},{uid:"bat_liion",comp:[{brandType:"L",index:-22,img:"lapBattery_ll.png",groupsToHide:["util_oncase_L","keyb_L","case"]}]},{uid:"keyb_std",comp:[{brandType:"D",index:-10,img:"deskKeybStd.png"},{brandType:"L",index:-10,group:"keyb_L",variant:[{id:"std",img:"lapStdKeybStd.png",dep:[{depID:"case",value:"std"}]},{id:"slim",img:"lapSlimKeybStd.png",dep:[{depID:"case",value:"slim"}]},{id:"styl",img:"lapSlimKeybStd.png",dep:[{depID:"case",value:"styl"}]}]}]},{uid:"keyb_exp",comp:[{brandType:"D",index:-10,img:"deskKeybExp.png"},{brandType:"L",index:-10,group:"keyb_L",variant:[{id:"std",img:"lapStdKeybExp.png",dep:[{depID:"case",value:"std"}]},{id:"slim",img:"lapSlimKeybExp.png",dep:[{depID:"case",value:"slim"}]},{id:"styl",img:"lapSlimKeybExp.png",dep:[{depID:"case",value:"styl"}]}]}]},{uid:"keyb_comf",comp:[{brandType:"D",index:-10,img:"deskKeybErgo.png"},{brandType:"L",index:-10,group:"keyb_L",variant:[{id:"std",img:"lapStdKeybErgo.png",dep:[{depID:"case",value:"std"}]},{id:"slim",img:"lapSlimKeybErgo.png",dep:[{depID:"case",value:"slim"}]},{id:"styl",img:"lapSlimKeybErgo.png",dep:[{depID:"case",value:"styl"}]}]}]},{uid:"util_expslot",comp:[{brandType:"D",index:-19,group:"util_oncase_D",img:"deskExpansionSlots.png"},{brandType:"L",index:-19,group:"util_oncase_L",img:"lapExpansionSlots.png"}]},{uid:"util_backup",comp:[{brandType:"D",index:-5,group:"util_oncase_D",img:"autoBackup.png",refl:"autoBackup_Refl2.png"},{brandType:"L",index:-5,img:"autoBackup_lap.png",refl:"autoBackup_lap_Refl2.png"}]},{uid:"util_ups",comp:[{brandType:"D",index:-30,img:"ups.png",refl:"ups_Refl.png"},{brandType:"L",index:-35,img:"ups.png",refl:"ups_Refl.png",left:-267,top:-8}]},{uid:"util_gps",comp:[{brandType:"D",index:-15,group:"util_oncase_D",img:"deskGPS.png"},{brandType:"L",group:"util_oncase_L",index:-25,img:"lapGPS.png"}]},{uid:"util_finger",comp:[{brandType:"D",index:-20,group:"util_oncase_D",img:"deskFingerprint.png"},{brandType:"L",group:"util_oncase_L",index:-15,img:"lapFingerprint.png"}]},{uid:"util_cam_web",comp:[{brandType:"D",index:-20,img:"deskCamera.png"},{brandType:"L",index:-20,img:"lapCamera.png"}]},{uid:"util_touch_std",comp:[{brandType:"D",index:-5,img:"deskTouch.png"},{brandType:"L",index:-5,img:"lapTouch.png"}]},{uid:"os_std",comp:[{brandType:"ALL",index:-5,img:"swOSbasic.png",refl:"swOSbasic_Refl.png"}]},{uid:"os_pro",comp:[{brandType:"ALL",index:-5,img:"swOSpro.png",refl:"swOSpro_Refl.png"}]},{uid:"os_eou",comp:[{brandType:"ALL",index:-5,img:"swOSbasicEOU.png",refl:"swOSbasicEOU_Refl.png"}]},{uid:"os_pro_eou",comp:[{brandType:"ALL",index:-5,img:"swOSproEOU.png",refl:"swOSproEOU_Refl.png"}]},{uid:"os_pro_ht",comp:[{brandType:"ALL",index:-5,img:"swOSproHi.png",refl:"swOSproHi_Refl.png"}]},{uid:"office_std",comp:[{brandType:"ALL",index:-5,img:"swOffice.png",refl:"swOffice_Refl.png"}]},{uid:"office_upgr",comp:[{brandType:"ALL",index:-5,img:"swOfficeUpgrade.png",refl:"swOfficeUpgrade_Refl.png"}]},{uid:"office_lite",comp:[{brandType:"ALL",index:-5,img:"swOffice.png",refl:"swOffice_Refl.png"}]},{uid:"office_pro",comp:[{brandType:"ALL",index:-5,img:"swOfficeProfessional.png",refl:"swOfficeProfessional_Refl.png"}]},{uid:"office_pro_upgr",comp:[{brandType:"ALL",index:-5,img:"swOfficeUpgrade.png",refl:"swOfficeUpgrade_Refl.png"}]},{uid:"sw_bussines",comp:[{brandType:"ALL",index:-4,img:"swBusGraph.png",refl:"swBusGraph_Refl.png"}]},{uid:"sw_present",comp:[{brandType:"ALL",index:-4,img:"swPresent.png",refl:"swPresent_Refl.png"}]},{uid:"sw_db",comp:[{brandType:"ALL",index:-6,img:"swDB.png",refl:"swDB_Refl.png"}]},{uid:"sw_book",comp:[{brandType:"ALL",index:-5,img:"swBooks.png",refl:"swBooks_Refl.png"}]},{uid:"sw_web",comp:[{brandType:"ALL",index:-6,img:"swWebdsgn.png",refl:"swWebdsgn_Refl.png"}]},{uid:"sw_stat",comp:[{brandType:"ALL",index:-6,img:"swStat.png",refl:"swStat_Refl.png"}]},{uid:"sw_eng",comp:[{brandType:"ALL",index:-6,img:"swEngineer.png",refl:"swEngineer_Refl.png"}]},{uid:"sw_manuf",comp:[{brandType:"ALL",index:-4,img:"swManuf.png",refl:"swManuf_Refl.png"}]},{uid:"sw_games",comp:[{brandType:"ALL",index:-5,img:"swGames.png",refl:"swGames_Refl.png"}]},{uid:"sw_sec",comp:[{brandType:"ALL",index:-30,img:"swSecuritySuite.png",refl:"swSecuritySuite_Refl.png"}]},{uid:"sw_pwrmng",comp:[{brandType:"ALL",index:-5,img:"swPwr.png",refl:"swPwr_Refl.png"}]},{uid:"pack_stdbox",comp:[{brandType:"ALL",index:-31,img:"packageBoxStandard.png",refl:"packageBoxStandard_Refl.png",left:-25,top:-30}]},{uid:"pack_sust",comp:[{brandType:"ALL",index:-31,img:"packageBoxGreen.png",refl:"packageBoxGreen_Refl.png",left:-25,top:-30}]},{uid:"cloud_std",comp:[{brandType:"ALL",index:-10,img:"cloudStd.png",refl:"cloudStd_Refl.png"}]},{uid:"cloud_lf",comp:[{brandType:"ALL",index:-10,img:"cloudLarge.png",refl:"cloudLarge_Refl.png"}]}]]])},96211:()=>{JSSettings.add("regions",[["dot_left_1r1_1",48],["dot_left_1r1_2",67],["dot_left_1r1_3",94],["dot_left_1r1_4",136],["dot_top_1r1_1",40],["dot_top_1r1_2",79],["dot_top_1r1_3",32],["dot_top_1r1_4",55],["dot_left_3r1_1",33],["dot_left_3r1_2",79],["dot_left_3r1_3",147],["dot_left_3r1_4",141],["dot_top_3r1_1",52],["dot_top_3r1_2",58],["dot_top_3r1_3",41],["dot_top_3r1_4",47],["dot_left_3r2_1",49],["dot_left_3r2_2",75],["dot_left_3r2_3",131],["dot_left_3r2_4",136],["dot_top_3r2_1",51],["dot_top_3r2_2",70],["dot_top_3r2_3",69],["dot_top_3r2_4",16],["dot_left_3r3_1",139],["dot_left_3r3_2",91],["dot_left_3r3_3",140],["dot_left_3r3_4",119],["dot_top_3r3_1",44],["dot_top_3r3_2",56],["dot_top_3r3_3",99],["dot_top_3r3_4",49],["dot_left_5r1_1",44],["dot_left_5r1_2",92],["dot_left_5r1_3",98],["dot_left_5r1_4",73],["dot_top_5r1_1",66],["dot_top_5r1_2",59],["dot_top_5r1_3",66],["dot_top_5r1_4",93],["dot_left_5r2_1",81],["dot_left_5r2_2",60],["dot_left_5r2_3",54],["dot_left_5r2_4",96],["dot_top_5r2_1",68],["dot_top_5r2_2",71],["dot_top_5r2_3",15],["dot_top_5r2_4",50],["dot_left_5r3_1",60],["dot_left_5r3_2",37],["dot_left_5r3_3",49],["dot_left_5r3_4",85],["dot_top_5r3_1",65],["dot_top_5r3_2",92],["dot_top_5r3_3",79],["dot_top_5r3_4",60],["dot_left_5r4_1",87],["dot_left_5r4_2",73],["dot_left_5r4_3",36],["dot_left_5r4_4",80],["dot_top_5r4_1",65],["dot_top_5r4_2",98],["dot_top_5r4_3",21],["dot_top_5r4_4",10],["dot_left_5r5_1",96],["dot_left_5r5_2",52],["dot_left_5r5_3",98],["dot_left_5r5_4",79],["dot_top_5r5_1",46],["dot_top_5r5_2",60],["dot_top_5r5_3",98],["dot_top_5r5_4",51],["smaps_1r1",{type:"cdn",url:"frontend/dhtml/images/decisions/regions/worldmarket-small.svg"}],["hmaps_1r1",{type:"cdn",url:"frontend/dhtml/images/decisions/regions/Da-placement_Worldmarket-steel.svg"}],["hgmaps_1r1",{type:"cdn",url:"frontend/dhtml/images/decisions/regions/Da-placement_Worldmarket-green.svg"}],["smaps_3r1",{type:"cdn",url:"frontend/dhtml/images/decisions/regions/NORAM-EURO-small.svg"}],["smaps_3r2",{type:"cdn",url:"frontend/dhtml/images/decisions/regions/LATAM-MEA-small.svg"}],["smaps_3r3",{type:"cdn",url:"frontend/dhtml/images/decisions/regions/APAC-3R-small.svg"}],["hmaps_3r1",{type:"cdn",url:"frontend/dhtml/images/decisions/regions/Da-placement_NORAM-EURO-steel.svg"}],["hmaps_3r2",{type:"cdn",url:"frontend/dhtml/images/decisions/regions/Da-placement_LATAM-MEA-steel.svg"}],["hmaps_3r3",{type:"cdn",url:"frontend/dhtml/images/decisions/regions/Da-placement_APAC-3R-steel.svg"}],["hgmaps_3r1",{type:"cdn",url:"frontend/dhtml/images/decisions/regions/Da-placement_NORAM-EURO-green.svg"}],["hgmaps_3r2",{type:"cdn",url:"frontend/dhtml/images/decisions/regions/Da-placement_LATAM-MEA-green.svg"}],["hgmaps_3r3",{type:"cdn",url:"frontend/dhtml/images/decisions/regions/Da-placement_APAC-3R-green.svg"}],["smaps_5r1",{type:"cdn",url:"frontend/dhtml/images/decisions/regions/NORAM-small.svg"}],["smaps_5r2",{type:"cdn",url:"frontend/dhtml/images/decisions/regions/LATAM-small.svg"}],["smaps_5r3",{type:"cdn",url:"frontend/dhtml/images/decisions/regions/EURO-small.svg"}],["smaps_5r4",{type:"cdn",url:"frontend/dhtml/images/decisions/regions/MEA-small.svg"}],["smaps_5r5",{type:"cdn",url:"frontend/dhtml/images/decisions/regions/APAC-small.svg"}],["hmaps_5r1",{type:"cdn",url:"frontend/dhtml/images/decisions/regions/Ad-placement_NORAM-steel.svg"}],["hmaps_5r2",{type:"cdn",url:"frontend/dhtml/images/decisions/regions/Ad-placement_LATAM-steel.svg"}],["hmaps_5r3",{type:"cdn",url:"frontend/dhtml/images/decisions/regions/Ad-placement_EUROPE-steel.svg"}],["hmaps_5r4",{type:"cdn",url:"frontend/dhtml/images/decisions/regions/Ad-placement_MEA-steel.svg"}],["hmaps_5r5",{type:"cdn",url:"frontend/dhtml/images/decisions/regions/Ad-placement_APAC-steel.svg"}],["hgmaps_5r1",{type:"cdn",url:"frontend/dhtml/images/decisions/regions/Ad-placement_NORAM-green.svg"}],["hgmaps_5r2",{type:"cdn",url:"frontend/dhtml/images/decisions/regions/Ad-placement_LATAM-green.svg"}],["hgmaps_5r3",{type:"cdn",url:"frontend/dhtml/images/decisions/regions/Ad-placement_EUROPE-green.svg"}],["hgmaps_5r4",{type:"cdn",url:"frontend/dhtml/images/decisions/regions/Ad-placement_MEA-green.svg"}],["hgmaps_5r5",{type:"cdn",url:"frontend/dhtml/images/decisions/regions/Ad-placement_APAC-green.svg"}]])},57458:()=>{JSSettings.add("review",[["bckImg#bikes",{type:"cdn",url:"frontend/dhtml/images/decisions/reviewBrandAc/Da-Brand_Review_Reviews-bkg.svg"}],["circleExcellent",{type:"cdn",url:"frontend/dhtml/images/decisions/reviewBrandAc/Da-Brand_Review_excellent.svg"}],["circleVeryGood",{type:"cdn",url:"frontend/dhtml/images/decisions/reviewBrandAc/Da-Brand_Review_verygood.svg"}],["circleGood",{type:"cdn",url:"frontend/dhtml/images/decisions/reviewBrandAc/Da-Brand_Review_good.svg"}],["circleAcceptable",{type:"cdn",url:"frontend/dhtml/images/decisions/reviewBrandAc/Da-Brand_Review_acceptable.svg"}],["circlePoor",{type:"cdn",url:"frontend/dhtml/images/decisions/reviewBrandAc/Da-Brand_Review_poor.svg"}],["circleLegendExcellent",{type:"cdn",url:"frontend/dhtml/images/decisions/reviewBrandAc/Da-Brand_Review_Legend-excellent.svg"}],["circleLegendVeryGood",{type:"cdn",url:"frontend/dhtml/images/decisions/reviewBrandAc/Da-Brand_Review_Legend-verygood.svg"}],["circleLegendGood",{type:"cdn",url:"frontend/dhtml/images/decisions/reviewBrandAc/Da-Brand_Review_Legend-good.svg"}],["circleLegendAcceptable",{type:"cdn",url:"frontend/dhtml/images/decisions/reviewBrandAc/Da-Brand_Review_Legend-acceptable.svg"}],["circleLegendPoor",{type:"cdn",url:"frontend/dhtml/images/decisions/reviewBrandAc/Da-Brand_Review_Legend-poor.svg"}],["legendDots",{type:"cdn",url:"frontend/dhtml/images/decisions/reviewBrandAc/Da-Brand_Review_Dotted-continium.svg"}],["sealAd",{type:"cdn",url:"frontend/dhtml/images/decisions/reviewBrandAc/Da-Brand_Review_Da-review-seal.svg"}],["sealBrand",{type:"cdn",url:"frontend/dhtml/images/decisions/reviewBrandAc/Da-Brand_Review_Brand-review-seal.svg"}],["pageCorner",{type:"cdn",url:"frontend/dhtml/images/decisions/reviewBrandAc/Da-Brand_Review_Page-corner.svg"}],["pageBanner#bikes",{type:"cdn",url:"frontend/dhtml/images/decisions/reviewBrandAc/Da-Brand_Review_Collage-Banner.svg"}],["medalYouth",{type:"cdn",url:"frontend/dhtml/images/segments/Da-Brand_Review_Youth-medallion.svg"}],["medalWorkb",{type:"cdn",url:"frontend/dhtml/images/segments/Da-Brand_Review_Work-medallion.svg"}],["medalRecre",{type:"cdn",url:"frontend/dhtml/images/segments/Da-Brand_Review_Rec-medallion.svg"}],["medalMount",{type:"cdn",url:"frontend/dhtml/images/segments/Da-Brand_Review_Mtn-medallion.svg"}],["medalSpeed",{type:"cdn",url:"frontend/dhtml/images/segments/Da-Brand_Review_Speed-medallion.svg"}]])},78175:()=>{JSSettings.add("common",[["chartsFolder","frontend/dhtml/images/charts/"],["errorsFolder","frontend/dhtml/images/errors/"],["iconsFolder","frontend/dhtml/images/icons/"],["segmentsFolder","frontend/dhtml/images/segments/"],["decisionsFolder","frontend/dhtml/images/decisions/"],["controlsFolder","frontend/dhtml/images/controls/"],["layoutFolder","frontend/dhtml/images/layout/"],["socialFolder","frontend/dhtml/images/social/"],["customPlayersFolder","frontend/dhtml/images/custom-players/"],["admscrFolder","frontend/dhtml/images/admscreens/"],["btFolder","frontend/dhtml/images/icons/bt/"],["videoFolder","resources/story/video/"],["dbImg",{type:"cdn",url:"frontend/dhtml/images/layout/db.png"}],["popout",{type:"cdn",url:"frontend/dhtml/images/icons/pop-out_default.svg"}],["popoutHover",{type:"cdn",url:"frontend/dhtml/images/icons/pop-out_hover.svg"}],["popoutActive",{type:"cdn",url:"frontend/dhtml/images/icons/pop-out_active.svg"}],["popoutRev",{type:"cdn",url:"frontend/dhtml/images/icons/pop-out-reverse_def.svg"}],["popoutRevHover",{type:"cdn",url:"frontend/dhtml/images/icons/pop-out-reverse_hov.svg"}],["popoutRevActive",{type:"cdn",url:"frontend/dhtml/images/icons/pop-out-reverse_acti.svg"}],["graphLink",{type:"cdn",url:"frontend/dhtml/images/icons/graph-link.png"}],["btnExtBlue",{type:"cdn",url:"frontend/dhtml/images/layout/btn-ext-blue.png"}],["saveChartURL",{type:"svc",url:"save-chart.php"}],["overlayX",{type:"cdn",url:"frontend/dhtml/images/icons/overlayX.svg"}],["overlayXhover",{type:"cdn",url:"frontend/dhtml/images/icons/overlayXhover.svg"}],["arrowLight",{type:"cdn",url:"frontend/dhtml/images/decisions/arrow_light.png"}],["arrowDark",{type:"cdn",url:"frontend/dhtml/images/decisions/arrow_dark.png"}],["rotateLeft",{type:"cdn",url:"frontend/dhtml/images/icons/rotateLeft.svg"}],["rotateRight",{type:"cdn",url:"frontend/dhtml/images/icons/rotateRight.svg"}]])},15667:()=>{JSSettings.add("features",[["svgbtFolder","frontend/dhtml/images/icons/svgbt/svgbfp_icon_"],["svgFeatures",["b_base_comp","b_util_decal_std","b_util_decal_child","b_util_decal_style","b_base_comp","b_basket_rack","b_basket_twin","b_basket_std","b_basket_small","b_basket_large","b_basket_tote","b_hbars_str_std","b_hbars_str_comf","b_hbars_cruiser","b_hbars_dd_base","b_hbars_dd_carb","b_util_purif"]],["counterIds",["base2","util_decal_std","util_decal_child","util_decal_style","base1","basket_rack","basket_twin","basket_std","basket_small","basket_large","basket_tote","hbars_str","hbars_str","hbars_cruiser","hbars_dd","hbars_dd","util_purif"]],["fimg_b_base_comp_Y",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_base_comp_Y.svg"}],["fimg_b_base_comp_W",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_base_comp_W.svg"}],["fimg_b_base_comp_R",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_base_comp_R.svg"}],["fimg_b_base_comp_M",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_base_comp_M.svg"}],["fimg_b_base_comp_S",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_base_comp_S.svg"}],["fimg_b_design_child",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_design_child.svg"}],["fimg_b_design_relax",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_design_relax.svg"}],["fimg_b_design_agile",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_design_agile.svg"}],["fimg_b_design_sturdy",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_design_sturdy.svg"}],["fimg_b_design_sleek",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_design_sleek.svg"}],["fimg_b_frame_std",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_frame_std.svg"}],["fimg_b_frame_enr",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_frame_enr.svg"}],["fimg_b_frame_sup",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_frame_sup.svg"}],["fimg_b_frame_ult",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_frame_ult.svg"}],["fimg_b_tires_basic",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_tires_basic.svg"}],["fimg_b_tires_cush",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_tires_cush.svg"}],["fimg_b_tires_grip",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_tires_grip.svg"}],["fimg_b_tires_trac",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_tires_trac.svg"}],["fimg_b_tires_hybrid_basic",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_tires_hybrid_basic.svg"}],["fimg_b_tires_hybrid_cush",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_tires_hybrid_cush.svg"}],["fimg_b_tires_hybrid_fast",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_tires_hybrid_fast.svg"}],["fimg_b_tires_hybrid_grip",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_tires_hybrid_grip.svg"}],["fimg_b_tires_racing_basic",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_tires_racing_basic.svg"}],["fimg_b_tires_racing_fast",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_tires_racing_fast.svg"}],["fimg_b_tires_racing_sleek",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_tires_racing_sleek.svg"}],["fimg_b_br_canti_good",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_br_canti_good.svg"}],["fimg_b_br_canti_super",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_br_canti_super.svg"}],["fimg_b_br_cali_good",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_br_cali_good.svg"}],["fimg_b_br_cali_ultra",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_br_cali_ultra.svg"}],["fimg_b_br_disc_std",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_br_disc_std.svg"}],["fimg_b_br_disc_ceramic",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_br_disc_ceramic.svg"}],["fimg_b_hbars_str_std",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_hbars_str_std.svg"}],["fimg_b_hbars_str_comf",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_hbars_str_comf.svg"}],["fimg_b_hbars_pwr_str",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_hbars_pwr_str.svg"}],["fimg_b_hbars_cruiser",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_hbars_cruiser.svg"}],["fimg_b_hbars_comf_ri",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_hbars_comf_ri.svg"}],["fimg_b_hbars_dd_base",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_hbars_dd_base.svg"}],["fimg_b_hbars_dd_carb",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_hbars_dd_carb.svg"}],["fimg_b_pedals_flat_std",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_pedals_flat_std.svg"}],["fimg_b_pedals_flat_grip",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_pedals_flat_grip.svg"}],["fimg_b_pedals_clip_std",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_pedals_clip_std.svg"}],["fimg_b_pedals_clipless_std",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_pedals_clipless_std.svg"}],["fimg_b_pedals_clipless_quick",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_pedals_clipless_quick.svg"}],["fimg_b_speed_1",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_speed_1.svg"}],["fimg_b_speed_7",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_speed_7.svg"}],["fimg_b_speed_14",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_speed_14.svg"}],["fimg_b_speed_24",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_speed_24.svg"}],["fimg_b_speed_11",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_speed_11.svg"}],["fimg_b_seat_foam_std",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_seat_foam_std.svg"}],["fimg_b_seat_gel_std",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_seat_gel_std.svg"}],["fimg_b_seat_foam_comf",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_seat_foam_comf.svg"}],["fimg_b_seat_gel_comf",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_seat_gel_comf.svg"}],["fimg_b_seat_foam_race",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_seat_foam_race.svg"}],["fimg_b_seat_gel_race",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_seat_gel_race.svg"}],["fimg_b_util_bell",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_util_bell.svg"}],["fimg_b_util_safety",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_util_safety.svg"}],["fimg_b_util_reflect",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_util_reflect.svg"}],["fimg_b_util_repkit",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_util_repkit.svg"}],["fimg_b_util_bottle_Y",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_util_bottle_Y.svg"}],["fimg_b_util_bottle_W",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_util_bottle_WRMS.svg"}],["fimg_b_util_bottle_R",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_util_bottle_WRMS.svg"}],["fimg_b_util_bottle_M",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_util_bottle_WRMS.svg"}],["fimg_b_util_bottle_S",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_util_bottle_WRMS.svg"}],["fimg_b_util_comp",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_util_comp.svg"}],["fimg_b_util_derail",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_util_derail.svg"}],["fimg_b_util_slime",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_util_slime.svg"}],["fimg_b_util_charger",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_util_charger.svg"}],["fimg_b_util_purif",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_util_purif.svg"}],["fimg_b_basket_std",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_basket_std_default.svg"}],["fimg_b_basket_std_Y",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_basket_std_Y.svg"}],["fimg_b_basket_std_W",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_basket_std_W.svg"}],["fimg_b_basket_std_R",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_basket_std_R.svg"}],["fimg_b_basket_small",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_basket_small.svg"}],["fimg_b_basket_large",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_basket_large.svg"}],["fimg_b_basket_tote",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_basket_tote.svg"}],["fimg_b_basket_rack",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_basket_rack.svg"}],["fimg_b_basket_twin",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_basket_twin.svg"}],["fimg_b_susp_front",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_susp_front.svg"}],["fimg_b_susp_full",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_susp_full.svg"}],["fimg_b_susp_auto",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_susp_auto.svg"}],["fimg_b_fend_std",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_fend_std.svg"}],["fimg_b_fend_carbon",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_fend_carbon.svg"}],["fimg_b_util_decal_std",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_util_decal_std_default.svg"}],["fimg_b_util_decal_std_Y",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_util_decal_std_Y.svg"}],["fimg_b_util_decal_std_W",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_util_decal_std_W.svg"}],["fimg_b_util_decal_std_R",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_util_decal_std_R.svg"}],["fimg_b_util_decal_std_M",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_util_decal_std_M.svg"}],["fimg_b_util_decal_std_S",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_util_decal_std_S.svg"}],["fimg_b_util_decal_child",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_util_decal_child.svg"}],["fimg_b_util_decal_style",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_util_decal_style_default.svg"}],["fimg_b_util_decal_style_Y",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_util_decal_style_Y.svg"}],["fimg_b_util_decal_style_W",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_util_decal_style_W.svg"}],["fimg_b_util_decal_style_R",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_util_decal_style_R.svg"}],["fimg_b_util_decal_style_M",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_util_decal_style_M.svg"}],["fimg_b_util_decal_style_S",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_util_decal_style_S.svg"}],["fimg_b_util_lights_std",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_util_lights_std.svg"}],["fimg_b_util_lights_led",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_util_lights_led.svg"}],["fimg_b_pack_stdbox_Y",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_pack_stdbox_Y.svg"}],["fimg_b_pack_stdbox_W",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_pack_stdbox_W.svg"}],["fimg_b_pack_stdbox_R",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_pack_stdbox_R.svg"}],["fimg_b_pack_stdbox_M",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_pack_stdbox_M.svg"}],["fimg_b_pack_stdbox_S",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_pack_stdbox_S.svg"}],["fimg_b_pack_sust",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_pack_sust_default.svg"}],["fimg_b_pack_sust_Y",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_pack_sust_Y.svg"}],["fimg_b_pack_sust_W",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_pack_sust_W.svg"}],["fimg_b_pack_sust_R",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_pack_sust_R.svg"}],["fimg_b_pack_sust_M",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_pack_sust_M.svg"}],["fimg_b_pack_sust_S",{type:"cdn",url:"frontend/dhtml/images/decisions/modifyBrand2/features/b_pack_sust_S.svg"}]])},82626:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Decision:()=>Decision,DecisionFactory:()=>DecisionFactory,ServiceFactory:()=>ServiceFactory,SocialMessage:()=>SocialMessage});var jquery__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(19755),jquery__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__),_lib_prototype_polyfill_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(94822),_core_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(93037);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _createForOfIteratorHelper(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var s=0,a=function(){};return{s:a,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,r=!0,o=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return r=t.done,t},e:function(t){o=!0,n=t},f:function(){try{r||null==i.return||i.return()}finally{if(o)throw n}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}var DecisionFactory={decisions:[],load:function(t,e,i){var s,a=_core_js__WEBPACK_IMPORTED_MODULE_2__.Live.decisionScript;for(var n in s={decision:t.toLowerCase(),language:_core_js__WEBPACK_IMPORTED_MODULE_2__.Live.user.language(),version:_core_js__WEBPACK_IMPORTED_MODULE_2__.Live.version+(_core_js__WEBPACK_IMPORTED_MODULE_2__.Live.debugMode?(new Date).getTime():"")})a=a.replace(new RegExp("#{"+n+"}","gi"),s[n]);if(void 0===this.decisions[t+"."+_core_js__WEBPACK_IMPORTED_MODULE_2__.Live.user.language()]||_core_js__WEBPACK_IMPORTED_MODULE_2__.Live.debugMode)jquery__WEBPACK_IMPORTED_MODULE_0___default().ajax(_core_js__WEBPACK_IMPORTED_MODULE_2__.Live.servicePoint+a,{type:"get",async:e,success:this.success.bind(this,t,e,i),error:this.failure.bind(this,t,e,i)});else if(e){var r=new(this.decisions[t+"."+_core_js__WEBPACK_IMPORTED_MODULE_2__.Live.user.language()])(t);r.decisionName=t,i(r)}},failure:function(t,e,i,s,a,n){n?alert(_core_js__WEBPACK_IMPORTED_MODULE_2__.Live.debugMode?"Decision loading exception. ("+n+")":JSStrings.tc("common:network_problem")):alert(_core_js__WEBPACK_IMPORTED_MODULE_2__.Live.debugMode?"Decision loading error.":JSStrings.tc("common:network_problem")),this.decisions[t+"."+_core_js__WEBPACK_IMPORTED_MODULE_2__.Live.user.language()]=null,e&&i(null)},success:function success(decision,asynchronous,callBack,data,textStatus,jqXHR){eval(data),this.decisions[decision+"."+_core_js__WEBPACK_IMPORTED_MODULE_2__.Live.user.language()]=eval(decision);var d=new(this.decisions[decision+"."+_core_js__WEBPACK_IMPORTED_MODULE_2__.Live.user.language()])(decision);d.decisionName=decision,asynchronous&&callBack(d)},getDecision:function(t,e,i){if(void 0!==window[t]&&(this.decisions[t+"."+_core_js__WEBPACK_IMPORTED_MODULE_2__.Live.user.language()]=window[t]),this.load(t,e,i),!e){if(void 0!==this.decisions[t+"."+_core_js__WEBPACK_IMPORTED_MODULE_2__.Live.user.language()]&&null!=this.decisions[t+"."+_core_js__WEBPACK_IMPORTED_MODULE_2__.Live.user.language()]){var s=new(this.decisions[t+"."+_core_js__WEBPACK_IMPORTED_MODULE_2__.Live.user.language()])(t);return s.decisionName=t,s}return null}}},ServiceFactory={services:[],callService:function(t,e,i,s,a){void 0===this.services[t]&&(this.services[t]=new LiveService(t));var n=this.services[t].call(e,i,s,this.loaded.bind(this,a));if(!s)return n},loaded:function(t,e){t(e)}},Decision=_lib_prototype_polyfill_js__WEBPACK_IMPORTED_MODULE_1__.Class.extend({engine:null,service:"",showMessages:!0,loadedDecisions:null,viewModeButtons:["modify"],modifyModeButtons:["save","cancel"],decisionComponents:[],sendStatic:!0,sendDynamic:!0,sendErrors:!0,sendCalculate:!0,allowExport:!0,exportType:"xlsx",inModifyMode:!1,redrawOnModify:!1,newDomDraw:!1,decisionReady:!1,messageSecondsBeforeLock:900,lockAttempts:3,lockAttemptTimeSeconds:120,backgroundColor:"",backgroundImage:"",backgroundImageOpacity:_core_js__WEBPACK_IMPORTED_MODULE_2__.Live.backgroundImageOpacity,cssExplanExt:"",user:null,pfxSod:"sod",style:"padding: 3px",profile:!1,hideButtonsInLastQuarter:!0,settings:null,SM:null,forceFullSizeAbsolute:!1,showOnlyInputErrors:!0,initialize:function(t){this.service=t,this.data=null,this.cf=new ComponentFactory,this.cs=new ComponentScene,this.keepDisabled=[],this.keepEnabled=[],this.decisionReady=!1,this.buttonCaptions={modify:JSStrings.tc("common:modify"),save:JSStrings.tc("common:save"),cancel:JSStrings.tc("common:cancel"),calculate:JSStrings.tc("common:calculate"),loaddata:JSStrings.tc("common:loaddata")},this.screenErrors=[],this.contentElement=null,this.parentComponent=null,this.rl=null,this.settings=this.initSettings(),this.showOnlyInputErrors=!0,this.profile&&(this.profileTimes={init:(new Date).getTime(),load:0,draw:0,observe:0,done:0}),this.explanations=[]},setContentElement:function(t){this.contentElement=t},stop:function(){this.stopped=!0},setUser:function(t,e){this.user=t,this.user.switchQuarter(this.user.quarter()+Number(e))},updateSessionID:function(){this.setUser(_core_js__WEBPACK_IMPORTED_MODULE_2__.Live.user.clone(),this.rl.decisionInfo.qtrOffset)},setResourceList:function(t){this.rl=t,this.settings=this.rl.getSettings()||this.settings},initSettings:function(){return{}},saveSettings:function(){null!=this.rl&&this.rl.setSettings(this.settings)},updateRefs:function(){},createRef:function(t,e){},setData:function(t){this.data=t,this.updateRefs()},setErrors:function(t){this.data.errors=t,this.updateRefs()},setCalculate:function(t){this.data.calculate=t,this.updateRefs()},getData:function(){return this.data},enable:function(){this.cf.enable(this.keepDisabled)},disable:function(){this.cf.disable(this.keepEnabled)},tc:function(t,e){var i=this.data.commonData.scenario||"";return t.include(":")||(t="Decision_"+this.service.toLowerCase()+":"+t),JSStrings.tc(t,e,i)},ex:function(t,e,i){return'<span data-explanation="'+t+'"'+(i=i?' data-explanation-params="'+i+'">':"")+">"+(e=e||"")+"</span>"},extc:function(t,e,i,s){return this.ex(t,this.tc(e,i),s)},st:function(t){var e=this.data.commonData.scenario||"";return t.include(":")||(t="Decision_"+this.decisionName.toLowerCase()+":"+t),JSSettings.st(t,e)},com:function(t,e,i,s,a,n,r,o,l){return this.cf.getComponent(t,e,i,s,a,n,r,o,l)},lbl:function(t,e,i,s){return this.cf.getLabel(t,e,i,s)},tcLbl:function(t,e,i,s,a){return void 0===i&&(i=t),this.lbl(this.tc(t,e),i,s,a)},value:function(t){return this.cf.getComValue(t)},setValue:function(t,e){this.cf.setComValue(t,e)},read:function(){},write:function(){},draw:function(){return"<pre>"+inspectVariable("Common",this.data.commonData,"")+"</pre><hr /><pre>"+inspectVariable("Static",this.data.staticData,"")+"</pre><hr /><pre>"+inspectVariable("Dynamic",this.data.dynamicData,"")+"</pre><hr /><pre>"+inspectVariable("Decisions",this.data.decisions,"")+"</pre><hr /><pre>"+inspectVariable("Calculate",this.data.calculate,"")+"</pre><hr /><pre>"+inspectVariable("Errors",this.data.errors,"")+"</pre>"},observe:function(){},onModifyScene:function(){},onSaveScene:function(){},onCancelScene:function(){},applyParams:function(t){},writeCalculate:function(){},getGeneralError:function(){if(null!=this.data.errors){for(var t,e=0,i=["","","",""],s=0;s<this.data.errors.general.length;s++)""!=i[(t=this.data.errors.general[s]).type-1]&&(i[t.type-1]+="<hr />"),i[t.type-1]+=t.message;for(var a=0;a<4;a++)if(""!=i[a]){e=a+1;break}if(0!=e)return{type:e,message:i[e-1]}}return null},writeGeneralError:function(t){this.writeError(this.contentElement,t,"top left",!1,6,32,"large")},writeAllErrors:function(t){this.clearErrors(),(t||this.inModifyMode)&&(this.writeGeneralError(this.getGeneralError()),null!=this.data.errors&&this.writeErrors())},writeErrors:function(){},writeError:function(t,e,i,s,a,n,r){var o=null;return null!=e&&(this.showOnlyInputErrors&&1!=e.type||(o=new DropDownStaticError(t,e,i,s,a,n,r,this.contentElement,this.contentElement.find("div").first()),this.screenErrors.push(o))),o},removeError:function(t){var e=this.screenErrors.indexOf(t);e>-1&&(t.destroy(),this.screenErrors.splice(e,1))},clearErrors:function(){for(var t=0,e=this.screenErrors.length;t<e;++t)this.screenErrors[t].destroy();this.screenErrors=[]},clearExplanations:function(){for(var t=0,e=this.explanations.length;t<e;++t)this.explanations[t].destroy();this.explanations=[]},writeExplanations:function(){var t=this,e=JSStrings.getExp("Decision_"+this.service.toLowerCase()),i=this.data.commonData.scenario||"",s="explanation"+this.cssExplanExt;if(this.clearExplanations(),null!=e){var a,n=_createForOfIteratorHelper(e.keys());try{var r=function(){var n=a.value,r=e.getValue(n,i);jquery__WEBPACK_IMPORTED_MODULE_0___default()('[data-explanation="'+n+'"]').each((function(e,i){t.explanations.push(new DropDownStaticExplanation(i,r.t,r.s,r.l,s,t.contentElement))}))};for(n.s();!(a=n.n()).done;)r()}catch(t){n.e(t)}finally{n.f()}}},viewMode:function(){this.inModifyMode=!1,this.enableButtons(this.viewModeButtons),this.disableButtons(this.modifyModeButtons),"undefined"!=typeof Engine&&Engine.stopEditing()},modifyMode:function(){this.inModifyMode=!0,this.disableButtons(this.viewModeButtons),this.enableButtons(this.modifyModeButtons),"undefined"!=typeof Engine&&(Engine.startEditing(),Engine.showMessage(JSStrings.tc("common:modifyMode"),"",!0))},printMode:function(){this.viewMode(),this.disable(),this.buttonsDrawn&&jquery__WEBPACK_IMPORTED_MODULE_0___default()(".decisionButtons").hide()},serviceName:function(){return this.service},load:function(){this.profile&&(this.profileTimes.load=(new Date).getTime());var t=ServiceFactory.callService(this.serviceName(),"view",[this.user,this.sendStatic,this.sendDynamic,this.sendErrors,this.sendCalculate],!1);return!!this.handleErrors(t)&&(this.setData(t.result),!0)},load2:function(t){ServiceFactory.callService(this.serviceName(),"summary",[this.user,this.sendStatic,this.sendDynamic,this.sendErrors,this.sendCalculate],!0,this.load2CallBack.bind(this,t))},load2CallBack:function(t,e){return!!this.handleErrors(e)&&(this.setData(e.result),t(),!0)},view:function(t){var e=ServiceFactory.callService(this.serviceName(),"view",[this.user,this.sendStatic,this.sendDynamic,this.sendErrors,this.sendCalculate],!1);return!!this.handleErrors(e)&&(this.setData(e.result),this.write(),this.disable(),this.writeAllErrors(t||!1),this.writeCalculate(),!0)},modify:function(){var t=ServiceFactory.callService(this.serviceName(),"modify",[this.user,0],!1);if(this.handleErrors(t)){if(t.result.modifyResult)return this.data.dynamicData=t.result.dynamicData,this.data.decisions=t.result.decisions,this.data.errors=t.result.errors,this.data.calculate=t.result.calculate,this.updateRefs(),this.redrawOnModify?(this.screenErrors=[],this.cf=new ComponentFactory,this.drawScreen(),this.modifyMode(),this.enable(),this.observeScreen(!1),this.writeAllErrors(),this.resizeContent()):(this.modifyMode(),this.write(),this.enable(),this.writeCalculate(),this.writeAllErrors(),this.onModifyScene()),this.read(),this.loadedDecisions=jquery__WEBPACK_IMPORTED_MODULE_0___default().extend(!0,{},this.data.decisions),this.clearAttempts(),this.lockTimeSeconds=t.result.lock.lockDuration-this.messageSecondsBeforeLock,this.scheduleLockAttempt(this.lockTimeSeconds),!0;alert(this.tc("common:decisionLocked",{PLAYER:t.result.lock.playerName,DECISION:t.result.lock.decisionName,TIME:Format.soapLongDate(t.result.lock.timeLocked)}))}return!1},lockedMessage:function(){var t=ServiceFactory.callService(this.serviceName(),"validateLock",[this.user,0],!1);return!(!this.handleErrors(t,(function(){}))||1!=t.result.valid||(this.prolongOvrl=new AlertOverlay("prolongLock",JSStrings.tc("tpl:prolongPrompt")+'<div id="prolongTimer" class="prolongTimer">'+JSStrings.tc("tpl:prolongTime",{TIME:this.getTimeFromDuration(t.result.timeRemaining)})+"</div>",[{id:"prolong",label:JSStrings.tc("tpl:prolong"),click:jquery__WEBPACK_IMPORTED_MODULE_0___default().proxy(this.doProlongLock,this)}],!1,"50"),this.cancelTimeout=setTimeout(jquery__WEBPACK_IMPORTED_MODULE_0___default().proxy(this.prolongTimedOut,this),1e3*t.result.timeRemaining),this.prolongOvrl.show(),this.clearProlongTimer(),this.startProlongTimer(t.result.timeRemaining),this.clearAttempts(),0))},getTimeFromDuration:function(t){var e,i;return(e=(e=parseInt(t/60,10))<10?"0"+e:e)+":"+((i=parseInt(t%60,10))<10?"0"+i:i)},startProlongTimer:function(t){var e=t;this.prolongTimer=setInterval(jquery__WEBPACK_IMPORTED_MODULE_0___default().proxy((function(){this.getTimeFromDuration(e),jquery__WEBPACK_IMPORTED_MODULE_0___default()("#prolongTimer").html(JSStrings.tc("tpl:prolongTime",{TIME:this.getTimeFromDuration(e)})),--e<0&&(e=t)}),this),1e3)},clearProlongTimer:function(){this.prolongTimer&&clearInterval(this.prolongTimer)},clearCancelTimeout:function(){this.cancelTimeout&&clearInterval(this.cancelTimeout)},clearAttempts:function(){this.lockAttempts=3},scheduleLockAttempt:function(t){this.decisionLockTimeout=setTimeout(jquery__WEBPACK_IMPORTED_MODULE_0___default().proxy(this.attemptToLockMessage,this),1e3*t)},attemptToLockMessage:function(){this.lockAttempts>0?!1===this.lockedMessage()&&(this.lockAttempts=this.lockAttempts-1,this.scheduleLockAttempt(this.lockAttemptTimeSeconds)):this.prolongTimedOut()},doProlongLock:function(){this.clearCancelTimeout();var t=ServiceFactory.callService(this.serviceName(),"prolongLock",[this.user,0],!1);this.handleErrors(t,jquery__WEBPACK_IMPORTED_MODULE_0___default().proxy(this.prolongTimedOut,this))&&(1==t.result?(this.clearAttempts(),this.scheduleLockAttempt(this.lockTimeSeconds)):this.prolongTimedOut())},prolongTimedOut:function(){this.prolongOvrl&&this.prolongOvrl.destroy(),this.clearProlongTimer(),this.clearCancelTimeout(),this.timedOutOvr=new AlertOverlay("timedOut",JSStrings.tc("tpl:timedOut"),[{id:"prolong",label:JSStrings.tc("common:ok")}],!1,"50"),this.timedOutOvr.show(),this.cancel()},clearDecisionLockTimeout:function(){clearTimeout(this.decisionLockTimeout),this.clearCancelTimeout(),this.clearProlongTimer()},calculate:function(t){if(this.read(),!t)return this.setCalculateData(ServiceFactory.callService(this.serviceName(),"calculate",[this.user,this.data.decisions,0],!1));ServiceFactory.callService(this.serviceName(),"calculate",[this.user,this.data.decisions,0],!0,this.setCalculateData.bind(this))},setCalculateData:function(t){return!(!this.handleErrors(t)||(this.inModifyMode&&(this.setErrors(t.result.checkResult.errors),this.writeAllErrors()),!t.result.checkResult.ok)||(this.setCalculate(t.result.calculateResult),this.writeCalculate(),0))},calculateHnd:function(t,e){this.inModifyMode&&(this.value(t),this.ch>0&&clearTimeout(this.ch),this.ch=window.setTimeout(this.onTimerCalculate.bind(this),500))},onTimerCalculate:function(){this.inModifyMode&&(this.ch=0,this.calculate(!0))},bindCalculate:function(t,e,i){jquery__WEBPACK_IMPORTED_MODULE_0___default()("#"+t).on(e,this.calculateHnd.bind(this,t,i))},bindRead:function(t,e){jquery__WEBPACK_IMPORTED_MODULE_0___default()("#"+t).on(e,this.read.bind(this))},save:function(){this.ch>0&&clearTimeout(this.ch),this.read();var t=ServiceFactory.callService(this.serviceName(),"save",[this.user,this.data.decisions,0],!1);if(this.handleErrors(t)){if(t.result.saveResult)return this.showOnlyInputErrors=!1,this.clearDecisionLockTimeout(),this.viewMode(),this.view(!0),this.disable(),this.decisionSaved(),this.onSaveScene(),null!=this.SM&&this.SM.drawSocialMessage(this.data.shareContent),!0;this.setErrors(t.result.checkResult.errors),this.writeAllErrors(),this.showMessages&&"undefined"!=typeof Engine&&Engine.showMessage("cannotSave")}return!1},cancel:function(){var t=ServiceFactory.callService(this.serviceName(),"cancel",[this.user,0],!1);return!!this.handleErrors(t)&&(this.showOnlyInputErrors=!1,this.clearDecisionLockTimeout(),this.viewMode(),this.view(!0),this.disable(),this.decisionCancelled(),this.onCancelScene(),!0)},decisionSaved:function(){if(this.showMessages&&"undefined"!=typeof Engine){var t="saved",e=!0;return null!=this.data.errors&&(this.data.errors.fatalErrors>0?(e=!1,t="savedWithErrors"):this.data.errors.warnings>0?(e=!1,t="savedWithWarnings"):this.data.errors.notes>0&&(e=!1,t="savedWithNotes")),Engine.showMessage(t),e}return!1},decisionCancelled:function(){this.showMessages&&"undefined"!=typeof Engine&&Engine.showMessage("cancelled")},drawBackground:function(){var t,e,i=jquery__WEBPACK_IMPORTED_MODULE_0___default()("#decision"),s=[];i.length>0&&(null!=(e=this.st("backgroundColor"))&&""!==e&&(this.backgroundColor=e,s.push(e)),null!=(t=this.st("backgroundImage"))&&""!==t&&(this.backgroundImage=t,s.push("url("+this.backgroundImage+") no-repeat, white")),s.length>0?i.css({background:s.join(" "),opacity:this.backgroundImageOpacity,"background-size":"100%"}):i.css("background",""))},drawScreen:function(){var t,e;this.profile&&(this.profileTimes.draw=(new Date).getTime()),this.stopped=!1,this.buttonsDrawn=!1,this.drawBackground(),this.newDomDraw?(t=1!=this.forceFullSizeAbsolute?jquery__WEBPACK_IMPORTED_MODULE_0___default()('<div style="position:relative; '+this.style+' "></div>'):jquery__WEBPACK_IMPORTED_MODULE_0___default()('<div style="position:absolute; top:0; left:0; bottom:0; right:0; '+this.style+' "></div>'),this.contentElement.html(t),this.draw(t)):(e=this.draw(),t=1!=this.forceFullSizeAbsolute?'<div style="position:relative; '+this.style+' ">'+e+"</div>":'<div style="position:absolute; top:0; left:0; bottom:0; right:0; '+this.style+' ">'+e+"</div>",this.contentElement.html(t)),this.drawButtons()},drawDecisionButtons:function(){var t="";t+='<div id="decisionButtons" class="decisionButtons">';for(var e=0,i=this.viewModeButtons.length;e<i;++e)t+=this.com("button","btn"+this.viewModeButtons[e],this.buttonCaptions[this.viewModeButtons[e]]);for(e=0,i=this.modifyModeButtons.length;e<i;++e)t+=this.com("button","btn"+this.modifyModeButtons[e],this.buttonCaptions[this.modifyModeButtons[e]]);for(t+="</div>",jquery__WEBPACK_IMPORTED_MODULE_0___default()("#decisionButtonsBar").html(t),t="",t+='<div id="decisionButtonsTop" class="decisionButtons">',e=0,i=this.viewModeButtons.length;e<i;++e)"modify"==this.viewModeButtons[e]&&(t+=this.cf.getButton(this.buttonCaptions[this.viewModeButtons[e]],"btnTop"+this.viewModeButtons[e],""));for(e=0,i=this.modifyModeButtons.length;e<i;++e)"loaddata"==this.modifyModeButtons[e]&&(t+=this.cf.getButton(this.buttonCaptions[this.modifyModeButtons[e]],"btnTop"+this.modifyModeButtons[e],""));t+="</div>",jquery__WEBPACK_IMPORTED_MODULE_0___default()("#decisionButtonsTopBar").html(t)},drawButtons:function(){return this.viewModeButtons.length+this.modifyModeButtons.length>0?(this.drawDecisionButtons(),"undefined"!=typeof Engine&&Engine.ui.toggleButtons(!0),this.buttonsDrawn=!0):"undefined"!=typeof Engine&&Engine.ui.toggleButtons(!1),""},drawSOD:function(){this.buttonsDrawn=!0,this.setValue("sod"+this.service,this.draw()),this.disable()},observeScreen:function(t){var e=!1;t=void 0===t||t,this.profile&&(this.profileTimes.observe=(new Date).getTime()),this.ch=0;for(var i=0,s=this.viewModeButtons.length;i<s;++i)this.buttonsDrawn&&(jquery__WEBPACK_IMPORTED_MODULE_0___default()("#btn"+this.viewModeButtons[i]).on("click",this[this.viewModeButtons[i]].bind(this)),"modify"==this.viewModeButtons[i]&&jquery__WEBPACK_IMPORTED_MODULE_0___default()("#btnTop"+this.viewModeButtons[i]).on("click",this[this.viewModeButtons[i]].bind(this)));for(i=0,s=this.modifyModeButtons.length;i<s;++i)this.buttonsDrawn&&jquery__WEBPACK_IMPORTED_MODULE_0___default()("#btn"+this.modifyModeButtons[i]).on("click",this[this.modifyModeButtons[i]].bind(this)),"loaddata"==this.modifyModeButtons[i]&&jquery__WEBPACK_IMPORTED_MODULE_0___default()("#btnTop"+this.modifyModeButtons[i]).on("click",this[this.modifyModeButtons[i]].bind(this));!this.isCurrentQuarter()||this.isGameOverQuarter()&&this.hideButtonsInLastQuarter?this.buttonsDrawn&&jquery__WEBPACK_IMPORTED_MODULE_0___default()(".decisionButtons").hide():this.buttonsDrawn&&1==this.rl.decisionInfo.editable&&(e=!0),this.cf.observe(),this.observe(),this.writeExplanations(),t&&this.writeAllErrors(),this.profile&&(this.profileTimes.done=(new Date).getTime(),this.alertProfileTimes()),e&&jquery__WEBPACK_IMPORTED_MODULE_0___default()("#btnmodify").is(":visible")&&OverlayMessages.triggerMessage("modifySave",!0),null!=this.SM||(this.SM=new SocialMessage(this.rl,this.settings)),this.SM.drawSocialMessage(this.data.shareContent),this.decisionReady=!0},showButtons:function(t){if(this.buttonsDrawn){var e=jquery__WEBPACK_IMPORTED_MODULE_0___default()(".decisionButtons");e.is(":visible")||e.show(),(t=t||this.viewModeButtons.concat(this.modifyModeButtons)).forEach((function(t){var e=jquery__WEBPACK_IMPORTED_MODULE_0___default()("#btn"+t);e.show(),e.prop("disabled",!1),"modify"!=t&&"loaddata"!=t||((e=jquery__WEBPACK_IMPORTED_MODULE_0___default()("#btnTop"+t)).show(),e.prop("disabled",!1)),"modify"==t&&OverlayMessages.triggerMessage("modifySave")}))}},hideButtons:function(t){this.buttonsDrawn&&(t=t||this.viewModeButtons.concat(this.modifyModeButtons)).forEach((function(t){var e=jquery__WEBPACK_IMPORTED_MODULE_0___default()("#btn"+t);e.prop("disabled",!0),e.hide(),"modify"!=t&&"loaddata"!=t||((e=jquery__WEBPACK_IMPORTED_MODULE_0___default()("#btnTop"+t)).prop("disabled",!0),e.hide())}))},enableButtons:function(t){for(var e=0,i=t.length;e<i;++e)this.buttonsDrawn&&(jquery__WEBPACK_IMPORTED_MODULE_0___default()("#btn"+t[e]).prop("disabled",!1),"modify"!=t[e]&&"loaddata"!=t[e]||jquery__WEBPACK_IMPORTED_MODULE_0___default()("#btnTop"+t[e]).prop("disabled",!1))},disableButtons:function(t){for(var e=0,i=t.length;e<i;++e)this.buttonsDrawn&&(jquery__WEBPACK_IMPORTED_MODULE_0___default()("#btn"+t[e]).prop("disabled",!0),"modify"!=t[e]&&"loaddata"!=t[e]||jquery__WEBPACK_IMPORTED_MODULE_0___default()("#btnTop"+t[e]).prop("disabled",!0))},handleErrors:function(t,e){if("107"==t.error){var i='<p style="padding-left: 16px; padding-right: 16px;">'+t.message+" (#"+t.error+")</p>";_core_js__WEBPACK_IMPORTED_MODULE_2__.Live.debugMode&&t.errorDetail&&(i=i+"<p>"+t.errorDetail+"</p>"),this.contentElement.html(i)}return LiveService.handleErrors(t,e)},equalObjects:function(t,e){var i=_typeof(t),s=_typeof(e);if(("object"==i||"object"==s||"undefined"==i||"undefined"==s)&&i!=s)return!1;switch(i){case"undefined":case"function":break;case"object":if(null===t&&null!==e||null!==t&&null===e)return!1;for(var a in t)if(!this.equalObjects(t[a],e[a]))return!1;for(var a in e)if(void 0===t[a])return!1;break;default:if(t!=e)return!1}return!0},wasModified:function(){return this.read(),!this.equalObjects(this.loadedDecisions,this.data.decisions)},saveDecision:function(){return this.save()},cancelDecision:function(){return this.cancel()},isGameOver:function(){return"undefined"!=typeof Engine?Engine.isGameOver():this.basicInfo.currentQuarter>this.basicInfo.gameLength},isCurrentQuarter:function(){return this.data.commonData.currentQuarter==_core_js__WEBPACK_IMPORTED_MODULE_2__.Live.user.quarter()},isGameOverQuarter:function(){var t="undefined"!=typeof Engine?Engine.basicInfo:this.basicInfo;return this.isGameOver()&&_core_js__WEBPACK_IMPORTED_MODULE_2__.Live.user.quarter()>t.gameLength},isMyTeam:function(t){return"undefined"!=typeof Engine?Engine.basicInfo.teamID==t:this.basicInfo.teamID==t},setBasicInfo:function(t){this.basicInfo=t},destroy:function(){if(this.buttonsDrawn){for(var t=0,e=this.viewModeButtons.length;t<e;++t)jquery__WEBPACK_IMPORTED_MODULE_0___default()("#btn"+this.viewModeButtons[t]).off(),"modify"==this.viewModeButtons[t]&&jquery__WEBPACK_IMPORTED_MODULE_0___default()("#btnTop"+this.viewModeButtons[t]).off();for(t=0,e=this.modifyModeButtons.length;t<e;++t)jquery__WEBPACK_IMPORTED_MODULE_0___default()("#btn"+this.modifyModeButtons[t]).off(),"loaddata"==this.modifyModeButtons[t]&&jquery__WEBPACK_IMPORTED_MODULE_0___default()("#btnTop"+this.modifyModeButtons[t]).off()}for(var i=0,s=this.decisionComponents.length;i<s;++i)this.decisionComponents[i].destroy();this.decisionComponents=[],null!=this.SM&&(this.SM.reset(),this.SM=null),this.clearDecisionLockTimeout(),this.clearErrors()},alertProfileTimes:function(){var t=this.profileTimes;alert("init:    "+(t.load-t.init)+"\nload:    "+(t.draw-t.load)+"\ndraw:    "+(t.observe-t.draw)+"\nobserve: "+(t.done-t.observe))},resizeContent:function(){null!=this.parentComponent&&this.parentComponent.resizeContent()},resizeErrors:function(){for(var t=0,e=this.screenErrors.length;t<e;++t)this.screenErrors[t].onResize()},resize:function(){},getExportUrl:function(){return _core_js__WEBPACK_IMPORTED_MODULE_2__.Live.servicePoint+"export.php?decision="+this.service+"&type="+this.exportType+"&"+this.user.toQueryString()},export:function(){document.location=this.getExportUrl()},getIterator:function(t,e,i){for(var s=this,a=Array.from(arguments).slice(3),n=a.shift(),r=[],o=0,l=a.length;o<l;++o)r.push(a[o][t].toLookUp(e));return function(a){for(var o=0,l=n[t].length;o<l;++o){for(var d=n[t][o][e],c=[d,n[t][o]],h=0,p=r.length;h<p;++h)c.push(r[h][d]||null);i.apply(s,c)&&a.apply(s,c)}}}}),SocialMessage=_lib_prototype_polyfill_js__WEBPACK_IMPORTED_MODULE_1__.Class.extend({data:{},element:jquery__WEBPACK_IMPORTED_MODULE_0___default()("#shareImageWP"),isOn:!1,cnt:"",rl:null,settings:null,initialize:function(t,e){this.rl=t,this.settings=e||this.rl.getSettings()||{},this.shareImageButton=jquery__WEBPACK_IMPORTED_MODULE_0___default()('<button class="button-plain" style="float: right; width: 78px; height: 14px;" id="shareImage" aria-label="'+JSStrings.tc("common:openSocialMessage")+'"></button>'),jquery__WEBPACK_IMPORTED_MODULE_0___default()("#shareImageWP").html(this.shareImageButton)},drawSocialMessage:function(t){if(this.reset(),this.cnt="",!_core_js__WEBPACK_IMPORTED_MODULE_2__.Live.showRewards)return!0;if(this.data.shareContent=t,this.isOn&&this.hideSM(),null!=this.data.shareContent&&0!=this.data.shareContent.length&&"undefined"!=typeof Engine){void 0===this.settings.hideSM&&(this.settings.hideSM=!1,this.saveSettings());var e=this.data.shareContent;if(e.images.length>0&&(this.cnt='<img class="shareContentImg" src="'+Path.getPath(JSSettings.st("common:socialFolder"),e.images[0].fileName)+'" />'),void 0!==e.messages[0].params)for(var i in e.messages[0].params)e.messages[0].msgData=e.messages[0].msgData.replace(new RegExp("{"+i+"}","gi"),String(e.messages[0].params[i]).escapeHTML());this.cnt+='<span id="shareContentMsg" class="shareContentMsg" tabindex="0">'+e.messages[0].msgData+"</span>",_core_js__WEBPACK_IMPORTED_MODULE_2__.Live.showRewards&&!this.settings.hideSM?this.showSM():_core_js__WEBPACK_IMPORTED_MODULE_2__.Live.showRewards&&!this.settings.hideSM||this.hideSM()}return!0},showSM:function(t){jquery__WEBPACK_IMPORTED_MODULE_0___default()("#shareImage").attr("aria-expanded",!0),this.show(t),this.observeSM(),this.observeCloseSM()},hideSM:function(){jquery__WEBPACK_IMPORTED_MODULE_0___default()("#shareContent").stop(!0,!0),this.hide(),this.showSMButtons(),jquery__WEBPACK_IMPORTED_MODULE_0___default()("#shareImage").attr("aria-expanded",!1)},show:function(t){this.isOn||(this.element.after('<div id="shareContent" style="display:none;"><div class="shareContentInside">'+this.drawContent()+'<span id="closeShareBtn"><button id="closeShareBtnImg" class="button-plain" style="float: right; width: 16px; height: 16px;background-image: url('+Path.getPath(JSSettings.st("common:layoutFolder"),"close",".png")+')" aria-label="'+JSStrings.tc("common:closeSM")+'"></button></span><div class="clearBoth"></div></div></div>'),jquery__WEBPACK_IMPORTED_MODULE_0___default()("#shareContent").css({opacity:_core_js__WEBPACK_IMPORTED_MODULE_2__.Live.opacity}).slideDown(500,jquery__WEBPACK_IMPORTED_MODULE_0___default().proxy((function(){t&&jquery__WEBPACK_IMPORTED_MODULE_0___default()("#shareContentMsg").focus(),this.hideButtons()}),this,t)),this.isOn=!0)},drawContent:function(){var t="";return(t+=this.cnt)+'<button class="button-plain" id="doNotshowRewards">'+JSStrings.tc("common:noMoreRewards")+"</button>"},hide:function(){this.isOn=!1,this.destroy()},hideButtons:function(){this.element.length>0&&(jquery__WEBPACK_IMPORTED_MODULE_0___default()("#shareImage").off(),this.element.hide())},showSMButtons:function(){this.element.length>0&&(this.element.show(),this.observeSMButtons())},observeSM:function(){jquery__WEBPACK_IMPORTED_MODULE_0___default()("#shareButtons").length>0&&jquery__WEBPACK_IMPORTED_MODULE_0___default()("#shareButtons").on("click",jquery__WEBPACK_IMPORTED_MODULE_0___default().proxy((function(t){t.preventDefault(),Engine.showShareWindow(Engine.areas.body.resourceList.resource,Engine.areas.body.resourceList.decisionInfo.run)}),this)).css({cursor:"pointer"}),jquery__WEBPACK_IMPORTED_MODULE_0___default()("#doNotshowRewards").length>0&&jquery__WEBPACK_IMPORTED_MODULE_0___default()("#doNotshowRewards").on("click",jquery__WEBPACK_IMPORTED_MODULE_0___default().proxy(this.disableSocialMessages,this))},observeSMButtons:function(){this.element.length>0&&jquery__WEBPACK_IMPORTED_MODULE_0___default()("#shareImage").on("click",jquery__WEBPACK_IMPORTED_MODULE_0___default().proxy(this.showSM,this,!0)).css({cursor:"pointer"})},observeCloseSM:function(){jquery__WEBPACK_IMPORTED_MODULE_0___default()("#closeShareBtnImg").length>0&&jquery__WEBPACK_IMPORTED_MODULE_0___default()("#closeShareBtnImg").on("click",jquery__WEBPACK_IMPORTED_MODULE_0___default().proxy(this.closeSM,this))},closeSM:function(){this.setHideSM(),this.hideSM(),jquery__WEBPACK_IMPORTED_MODULE_0___default()("#shareImage").focus()},setHideSM:function(){this.settings.hideSM=!0,this.saveSettings()},disableSocialMessages:function(){1==window.confirm(JSStrings.tc("common:disableSocialMessages"))&&"undefined"!=typeof Engine&&(_core_js__WEBPACK_IMPORTED_MODULE_2__.Live.showRewards=!1,Engine.settingsChanged=!0,this.reset())},destroy:function(){jquery__WEBPACK_IMPORTED_MODULE_0___default()("#shareContent").length>0&&(jquery__WEBPACK_IMPORTED_MODULE_0___default()("#shareButtons").off(),jquery__WEBPACK_IMPORTED_MODULE_0___default()("#closeShareBtnImg").off(),jquery__WEBPACK_IMPORTED_MODULE_0___default()("#shareContent").remove(),this.isOn=!1),jquery__WEBPACK_IMPORTED_MODULE_0___default()("#doNotshowRewards").length>0&&jquery__WEBPACK_IMPORTED_MODULE_0___default()("#doNotshowRewards").off()},reset:function(){this.destroy(),this.hideButtons()},saveSettings:function(){null!=this.rl&&this.rl.setSettings(this.settings)}})},7912:()=>{window.AdJudgment=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",topItems:8,defaultSortDirection:-1,initSettings:function(){return{sortIndex:-1,sortDirection:-1}},draw:function(){var t,e,i,s,a,n,r,o,l,d,c,h=this.data.staticData,p=h.teams.toLookUp("teamID"),u=[],g=[],m="",b=[],f=[],v="",y=[{title:this.tc("company"),header:!0},{title:this.tc("ad"),vline:!0},{title:this.tc("brandAdvertised"),format:Format.brandName}];for(this.judgs=[],this.rTables=[],t=0,e=h.teams.length;t<e;++t)u[h.teams[t].teamID]=h.teams[t].ads.toLookUp("adID");for(h.segments.forEach((function(t){y.push({title:Format.segmentName(t.name,t.shortName),type:"number"}),g[t.segmentID]=[],this.judgs[t.segmentID]=[]}),this),i=0,s=h.regions.length;i<s;++i)if((a=h.regions[i]).mrBought)if(0==a.ads.length)b.push(a.regionName);else{for(d=[],n=0,r=a.ads.length;n<r;++n){for(c=[p[(o=a.ads[n]).teamID].companyName.escapeHTML(),u[o.teamID][o.adID].name.escapeHTML(),[u[o.teamID][o.adID].brandAdvertised.escapeHTML(),u[o.teamID][o.adID].brandType]],t=0,e=o.segments.length;t<e;++t)l=o.segments[t],void 0===g[l.segmentID][o.teamID]&&(g[l.segmentID][o.teamID]=[]),void 0===g[l.segmentID][o.teamID][o.adID]&&(g[l.segmentID][o.teamID][o.adID]={companyName:p[o.teamID].companyName,adName:u[o.teamID][o.adID].name,judg:l.judgment},this.judgs[l.segmentID].push(g[l.segmentID][o.teamID][o.adID])),g[l.segmentID][o.teamID][o.adID].judg<l.judgment&&(g[l.segmentID][o.teamID][o.adID].judg=l.judgment),c.push(l.judgment);d.push(c)}this.rTables.push(new DecisionTable(a.regionName,"aj_"+i,y,d)),m+=this.rTables[this.rTables.length-1].draw()}else f.push(a.regionName);return(f.length>0||b.length>0)&&(b.length>0&&(v+=this.tc("common:noComp",{REGIONS:"<br />&nbsp;&nbsp;"+b.join("<br />&nbsp;&nbsp;")})),f.length>0&&(v+=(""!=v?"<br /><br />":"")+this.tc("common:noMr",{REGIONS:"<br />&nbsp;&nbsp;"+f.join("<br />&nbsp;&nbsp;")})),this.noLabel=new DecisionLabel(this.service,"no",v),m+=this.noLabel.draw()),this.rTables.length>0&&(m+="<br /><div>",h.segments.forEach((function(t){var e=75+30*Math.min(this.topItems,this.judgs[t.segmentID].length);m+='<div id="graph_'+t.segmentID+'" style="width:500px; height:'+e+'px;"></div><br />'}),this),m+="</div>"),m},sortColumn:function(t){if(t>=0){this.settings.sortDirection=this.settings.sortIndex!=t?this.defaultSortDirection:-this.settings.sortDirection;for(var e=0,i=this.rTables.length;e<i;++e)this.rTables[e].sortUpdateImage(t,this.settings.sortIndex,this.settings.sortDirection);for(this.settings.sortIndex=t,this.saveSettings(),e=0,i=this.rTables.length;e<i;++e)this.rTables[e].sortColumn(this.settings.sortIndex,this.settings.sortDirection)}},observe:function(){var t,e,i,s=this.data.staticData.segments;for(t=0,e=this.rTables.length;t<e;++t){for(var a=0,n=this.rTables[t].cols.length;a<n;++a)this.rTables[t].makeColumnClickable(a,this.sortColumn.bind(this,a)),this.rTables[t].initializeSortable(a),0!=t&&(this.rTables[t].announceSort=!1);this.settings.sortIndex>=0&&this.rTables[t].sortColumn(this.settings.sortIndex,this.settings.sortDirection),this.rTables[t].observe()}if(DecisionTable.setMaxColWidths(this.rTables,0),void 0!==this.noLabel&&this.noLabel.change("float","left"),this.rTables.length>0)for(i=s.length-1;i>=0;i--)this.setChartData(s[i].segmentID,"graph_"+s[i].segmentID)},resize:function(){this.rTables.length>0&&DecisionTable.setMaxColWidths(this.rTables,0)},setChartData:function(t,e){var i,s,a,n=this.data.staticData.segments.toLookUp("segmentID")[t],r=this.judgs[n.segmentID],o=Math.min(this.topItems,r.length),l=n.segmentID-1;if(r.sort((function(t,e){return e.judg-t.judg})),Live.useSvg()){for(i=this.data.staticData.chartTemplate,j$.extend(i.data,{title:this.tc("topItems",{SEGMENT:n.name,NUMBER:o}),xAxis:"",yAxis:"",labels:[],colorIds:[],x:[0],y:[[]],minY:0,maxY:100,saveUrl:this.st("common:saveChartURL"),saveName:"ad-judment-"+n.shortName.toLowerCase()+"-q"+this.user.quarter(),image:{url:Path.getPath(this.st("common:chartsFolder"),n.shortName.toLowerCase(),"1.svg"),hAlign:"right",vAlign:"bottom",margin:5,scale:1.5,invert:!0,width:40,height:40}}),a=0;a<o;++a)i.data.labels[a]=r[a].adName+" ("+r[a].companyName+")",i.data.colorIds[a]=l,i.data.y[0][a]=r[a].judg;SvgCharts.BaseChart.setChartData(e,i)}else{for((s=j$("#"+e)).css({opacity:Live.opacity}),(i=new VerticalBarChart(s[0])).label=this.tc("topItems",{SEGMENT:n.name,NUMBER:o}),i.labelX="",i.labelY="",i.labels=[],i.data=[],i.category=[""],a=0;a<o;++a)i.labels[a]=r[a].adName+" ("+r[a].companyName+")",i.data[a]=[r[a].judg];i.minY=0,i.maxY=100,i.draw()}}})},25690:()=>{window.AdReview=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",type:"ads",formatAB:function(t,e){var i={AD:e.name.escapeHTML(),COMPANY:this.lookUpTeams[t.teamID].companyName.escapeHTML()};return this.tc("adByCompany",i)},drawCategoryReview:function(t,e,i){var s,a,n,r=t.length,o='<div style="margin-top:5px;">'+this.tc(e,{SEGMENT:this.lookUpSegments[i].name})+"</div><ul>";for(s=0;s<r;++s)for(a=0,n=t[s][this.type].length;a<n;++a)o+="<li"+(this.isMyTeam(t[s].teamID)?' style="font-weight:bold;"':"")+">"+this.formatAB(t[s],t[s][this.type][a])+"</li>";return o+"</ul>"},draw:function(){var t,e,i,s,a,n=this.data.staticData,r="";for(this.lbls=[],this.lblIntro=new DecisionLabel(this.service,"labIntro",this.tc("reviewing")),r+=this.lblIntro.draw(),this.lookUpSegments=n.segments.toLookUp("segmentID"),this.lookUpTeams=n.teams.toLookUp("teamID"),t=0,e=n.reviews.length;t<e;++t)s=n.reviews[t],a={SEGMENT:this.lookUpSegments[s.segmentID].name},i="",0!=s.excellent.length&&(i+=this.drawCategoryReview(s.excellent,"excellent",s.segmentID)),0!=s.veryGood.length&&(i+=this.drawCategoryReview(s.veryGood,"veryGood",s.segmentID)),0!=s.good.length&&(i+=this.drawCategoryReview(s.good,"good",s.segmentID)),0!=s.acceptable.length&&(i+=this.drawCategoryReview(s.acceptable,"acceptable",s.segmentID)),0!=s.allOthers.length&&(i+=""!=i?'<div style="margin-top:5px;">'+this.tc("allOthers",a)+"</div>":"<div>"+this.tc("all",a)+"</div>"),this.lbls[t]=new DecisionLabel(this.service,"labSeg"+t,'<span style="font-weight:bold;">'+this.lookUpSegments[s.segmentID].name+"</span>"+i),r+=this.lbls[t].draw();return r},observe:function(){var t,e=this.data.staticData.reviews.length;for(this.lblIntro.observe(),t=0;t<e;++t)this.lbls[t].observe(),this.lbls[t].change("float","left"),this.lbls[t].change("width","65%"),this.lbls[t].change("css",{"line-height":"1.5em"})}})},18264:(t,e,i)=>{"use strict";i(42768),window.AdReviewAnim=BrandReviewAnim.extend({typeOfReview:"AdReview"})},84010:()=>{window.BalancedScorecard=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",drawVars:function(t,e){var i,s,a="",n=t.length;for(i=0;i<n;++i)(s=t[i]).variables.length>0?a+='<div style="margin-left:'+e+'px; margin-top:2px;">'+s.name+"<br />= "+s.strEquation+" = "+s.valueEquation+" = "+s.value+"<br />"+this.drawVars(s.variables,15)+"</div>":a+='<div style="margin-left:'+e+'px">'+s.name+": "+s.value+"</div>";return a},draw:function(){var t,e,i,s=this.data.staticData.indicators,a=s.length,n=[],r="",o="",l=!1,d=[{title:"",vline:!0},{title:this.tc("minimum"),type:"number",decimals:3},{title:this.tc("maximum"),type:"number",decimals:3},{title:this.tc("average"),type:"number",decimals:3,vline:!0},{title:this.data.staticData.companyName.escapeHTML(),type:"number",decimals:3}];for(t=0;t<a;++t)e=s[t],n.push([e.name,e.min,e.max,e.avg,e.value]),i=1==e.rootVariable.variables.length&&e.rootVariable.variables[0].id==e.rootVariable.equation.trim(),o+='<div id="x'+t+'">'+e.description.replace(new RegExp("{"+e.id+"}","gi"),'<h2 class="plainHeader bscHeader">'+e.name+"</h2>")+'</div><div class="bscFormula">',"tp"==e.id&&(this.data.staticData.hasLogistics&&(o+=this.tc("businessFocus",{SUPPLY_CHAIN_STRATEGY:this.tc("common:business_focus"+this.data.staticData.iAmSupOrRes)}),l=!0),""!=this.data.staticData.firstSegment&&(o+=(l?"<br /><br />":"")+this.tc("firstSegment",{PRIMARY_SEGMENT:this.data.staticData.firstSegment}),this.data.staticData.segmentsToChoose>1&&""!=this.data.staticData.secondSegment&&(o+="<br />"+this.tc("secondSegment",{SECONDARY_SEGMENT:this.data.staticData.secondSegment})),l=!0),l&&(o+='</div><div class="bscFormula">')),o+=e.name+" = "+e.rootVariable.strEquation+"<br /><br />"+(i?"":" = "+e.rootVariable.valueEquation+"<br />")+" = "+e.rootVariable.value+"<br /><br />"+this.drawVars(e.rootVariable.variables,0)+"</div>",e.compareData&&(o+='<div id="gr'+e.id+'" style="width:500px; height:300px;"></div>'),o+="<br />";return this.bscTable=new DecisionTable(this.tc("inductryResults",{QUARTER:Live.user.quarter()-1}),"bscTable",d,n),"undefined"!=typeof Engine&&(r=this.cf.getLink(this.tc("standings"),"standings",(function(){Engine.showNewWindow("playersstanding","PlayersStanding")}),"#","button-link"),this.data.staticData.showDrillDown&&(r+=" "+this.cf.getLink(this.tc("drilldown"),"drilldown",(function(){Engine.showNewWindow("drilldownbsc","DrillDownBSC")}),"#","button-link"))),this.text=new DecisionLabel(this.service,"bscDescription",o),this.bscTable.draw()+r+this.text.draw()},observe:function(){var t,e,i=this.data.staticData.indicators,s=i.length;for(this.bscTable.observe(),this.text.observe(),this.text.change("css",{"line-height":"1.5em","max-width":"650px"}),t=0;t<s;++t)(e=i[t]).compareData&&this.setChartData(e.id,"gr"+e.id)},setChartData:function(t,e){var i,s,a=this.data.staticData.indicators.toLookUp("id")[t],n=a.compareData.length;if(Live.useSvg()){for(i=j$.extend(!0,{},this.data.staticData.chartTemplate),a.intervalStart>a.value&&(a.value=a.intervalStart),a.intervalStart+a.intervalSize*n<a.value&&(a.value=a.intervalStart+a.intervalSize*n),j$.extend(i.data,{title:a.name,xAxis:a.name,yAxis:this.tc("numOfTeamsPerc"),xLines:[a.value],labels:[a.name],colorIds:[],x:[],y:[],dsX:10,dsY:8,minY:0,maxY:5,saveUrl:this.st("common:saveChartURL"),saveName:"bsc-"+a.name.replace(/\s/g,"").toLowerCase()+"-q"+this.user.quarter()}),a.intervalSize*n<1&&(i.chartArea.hLabels.decimals=1),s=0;s<n;++s)i.data.x[s]=a.intervalStart+a.intervalSize*s,i.data.colorIds[s]=1,i.data.y[s]=[a.compareData[s]];SvgCharts.BaseChart.setChartData(e,i)}}})},26872:(t,e,i)=>{"use strict";i(66406),window.BalanceSheet=FinanceReport.extend({stmt:"balanceSheet"})},20180:()=>{window.BasesCompetitiveAdvantage=Decision.extend({style:"padding: 10px 10px 0px 10px;",hideButtonsInLastQuarter:!1,read:function(){var t,e=this.data.staticData.bases,i=e.length;for(this.data.decisions.basis=0,t=0;t<i;++t)this.value("basis_"+e[t].id)&&(this.data.decisions.basis=e[t].id)},write:function(){var t,e=this.data.staticData.bases,i=e.length;for(t=0;t<i;++t)this.setValue("basis_"+e[t].id,this.data.decisions.basis)},writeErrors:function(){this.writeError("basis_1",this.data.errors.decisions.basis)},draw:function(){var t=this.data.decisions.basis,e=this.data.staticData.bases.toLookUp("id"),i=[],s=[{title:this.tc("targetMarket"),align:"center",rowspan:2},{title:this.tc("compAdv"),colspan:3}],a=[{title:this.tc("lowCost"),align:"center"},{title:this.tc("hybridColumn"),align:"center"},{title:this.tc("differentiation"),align:"center"}];return i.push({cols:s,type:"head"}),i.push({cols:a,type:"head"}),i.push([this.tc("broadSection"),this.com("radio","basis",t,{"aria-labelledby":"basis1"},1)+"<br/>"+this.cf.getLabel(e[1].text,null,"plainLabel","basis1"),"",this.com("radio","basis",t,{"aria-labelledby":"basis2"},2)+"<br/>"+this.cf.getLabel(e[2].text,null,"plainLabel","basis2")]),i.push([this.tc("hybridRow"),"",this.com("radio","basis",t,{"aria-labelledby":"basis3"},3)+"<br/>"+this.cf.getLabel(e[3].text,null,"plainLabel","basis3"),""]),i.push([this.tc("niche"),this.com("radio","basis",t,{"aria-labelledby":"basis4"},4)+"<br/>"+this.cf.getLabel(e[4].text,null,"plainLabel","basis4"),"",this.com("radio","basis",t,{"aria-labelledby":"basis5"},5)+"<br/>"+this.cf.getLabel(e[5].text,null,"plainLabel","basis5")]),this.bTable=new DecisionTable(this.tc("basis"),"bTable",[{title:"",align:"center"},{title:"",align:"center"},{title:"",align:"center"},{title:"",align:"center"}],i,!0),this.bTable.draw()},observe:function(){this.bTable.observe()},drawSOD:function(){var t=this.data.staticData.bases.toLookUp("id"),e=void 0!==t[this.data.decisions.basis]?t[this.data.decisions.basis].text:"";this.setValue(this.pfxSod+this.service,e)}})},16085:()=>{window.BrandJudgment=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",topItems:8,defaultSortDirection:-1,saveName:"brand-judment",initSettings:function(){return{sortIndex:-1,sortDirection:-1}},draw:function(){var t,e,i,s,a,n,r,o,l,d,c,h=this.data.staticData,p=h.teams.toLookUp("teamID"),u=[],g=[],m="",b=[],f=[],v="",y=[{title:this.tc("company"),header:!0},{title:this.tc("brand"),vline:!0,format:Format.brandName}];for(this.judgs=[],this.rTables=[],t=0,e=h.teams.length;t<e;++t)u[h.teams[t].teamID]=h.teams[t].brands.toLookUp("brandID");for(h.segments.forEach((function(t){y.push({title:Format.segmentName(t.name,t.shortName),type:"number"}),g[t.segmentID]=[],this.judgs[t.segmentID]=[]}),this),i=0,s=h.regions.length;i<s;++i)if((a=h.regions[i]).mrBought)if(0==a.brands.length)b.push(a.regionName);else{for(d=[],n=0,r=a.brands.length;n<r;++n){for(c=[p[(o=a.brands[n]).teamID].companyName.escapeHTML(),[u[o.teamID][o.brandID].name.escapeHTML(),u[o.teamID][o.brandID].type]],t=0,e=o.segments.length;t<e;++t)l=o.segments[t],void 0===g[l.segmentID][o.teamID]&&(g[l.segmentID][o.teamID]=[]),void 0===g[l.segmentID][o.teamID][o.brandID]&&(g[l.segmentID][o.teamID][o.brandID]={companyName:p[o.teamID].companyName,brandName:u[o.teamID][o.brandID].name,judg:l.judgment},this.judgs[l.segmentID].push(g[l.segmentID][o.teamID][o.brandID])),g[l.segmentID][o.teamID][o.brandID].judg<l.judgment&&(g[l.segmentID][o.teamID][o.brandID].judg=l.judgment),c.push(l.judgment);d.push(c)}this.rTables.push(new DecisionTable(a.regionName,"bj_"+i,y,d)),m+=this.rTables[this.rTables.length-1].draw()}else f.push(a.regionName);return(f.length>0||b.length>0)&&(b.length>0&&(v+=this.tc("common:noComp",{REGIONS:"<br />&nbsp;&nbsp;"+b.join("<br />&nbsp;&nbsp;")})),f.length>0&&(v+=(""!=v?"<br /><br />":"")+this.tc("common:noMr",{REGIONS:"<br />&nbsp;&nbsp;"+f.join("<br />&nbsp;&nbsp;")})),this.noLabel=new DecisionLabel(this.service,"no",v),m+=this.noLabel.draw()),this.rTables.length>0&&(m+="<br /><div>",h.segments.forEach((function(t){var e=75+30*Math.min(this.topItems,this.judgs[t.segmentID].length);m+='<div id="graph_'+t.segmentID+'" style="width:500px; height:'+e+'px;"></div><br />'}),this),m+="</div>"),m},resize:function(){this.rTables.length>0&&DecisionTable.setMaxColWidths(this.rTables,0)},sortColumn:function(t){if(t>=0){this.settings.sortDirection=this.settings.sortIndex!=t?this.defaultSortDirection:-this.settings.sortDirection;for(var e=0,i=this.rTables.length;e<i;++e)this.rTables[e].sortUpdateImage(t,this.settings.sortIndex,this.settings.sortDirection);for(this.settings.sortIndex=t,this.saveSettings(),e=0,i=this.rTables.length;e<i;++e)this.rTables[e].sortColumn(this.settings.sortIndex,this.settings.sortDirection)}},observe:function(){var t,e,i,s=this.data.staticData.segments;for(t=0,e=this.rTables.length;t<e;++t){for(var a=0,n=this.rTables[t].cols.length;a<n;++a)this.rTables[t].makeColumnClickable(a,this.sortColumn.bind(this,a)),this.rTables[t].initializeSortable(a),0!=t&&(this.rTables[t].announceSort=!1);this.settings.sortIndex>=0&&this.rTables[t].sortColumn(this.settings.sortIndex,this.settings.sortDirection),this.rTables[t].observe()}if(DecisionTable.setMaxColWidths(this.rTables,0),void 0!==this.noLabel&&this.noLabel.change("float","left"),this.rTables.length>0)for(i=s.length-1;i>=0;i--)this.setChartData(s[i].segmentID,"graph_"+s[i].segmentID)},setChartData:function(t,e){var i,s,a,n=this.data.staticData.segments.toLookUp("segmentID")[t],r=this.judgs[n.segmentID],o=Math.min(this.topItems,r.length),l=n.segmentID-1;if(r.sort((function(t,e){return e.judg-t.judg})),Live.useSvg()){for(i=this.data.staticData.chartTemplate,j$.extend(i.data,{title:this.tc("topItems",{SEGMENT:n.name,NUMBER:o}),xAxis:"",yAxis:"",labels:[],colorIds:[],x:[0],y:[[]],minY:0,maxY:100,saveUrl:this.st("common:saveChartURL"),saveName:this.saveName+"-"+n.shortName.toLowerCase()+"-q"+this.user.quarter(),image:{url:Path.getPath(this.st("common:chartsFolder"),n.shortName.toLowerCase(),"1.svg"),hAlign:"right",vAlign:"bottom",margin:5,scale:1.5,invert:!0,width:40,height:40}}),a=0;a<o;++a)i.data.labels[a]=r[a].brandName+" ("+r[a].companyName+")",i.data.colorIds[a]=l,i.data.y[0][a]=r[a].judg;SvgCharts.BaseChart.setChartData(e,i)}else{for((s=j$("#"+e)).css({opacity:Live.opacity}),(i=new VerticalBarChart(s[0])).label=this.tc("topItems",{SEGMENT:n.name,NUMBER:o}),i.labelX="",i.labelY="",i.labels=[],i.data=[],i.category=[""],a=0;a<o;++a)i.labels[a]=r[a].brandName+" ("+r[a].companyName+")",i.data[a]=[r[a].judg];i.minY=0,i.maxY=100,i.draw()}}})},69384:()=>{window.BrandProfitability=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",draw:function(){var t,e,i,s=this.data.staticData,a=s.brands,n=a.length,r=[{title:""}],o=[];for(o.push([this.tc("revenues")],[this.tc("rebates")],[this.tc("cogs")]),s.hasTariffs&&o.push([this.tc("tariffs")]),o.push({values:[this.tc("grossMargin")],type:"total"},[this.tc("brandDesign")],[this.tc("adDesign")],[this.tc("advertising")]),s.hasPromotions&&o.push([this.tc("promotions")]),s.hasPOP&&o.push([this.tc("pop")]),s.hasInternetMarketing&&o.push([this.tc("inetExp")]),o.push({values:[this.tc("brandExpenses")],type:"total",hrafter:!0},{values:[this.tc("brandProfit")],type:"total"},[this.tc("percentRevenue")],{values:[this.tc("profitPerUnit")],type:"total"}),t=0;t<n;++t)i=a[t],e=0,r.push({title:Format.brandName(i.name.escapeHTML(),i.type),type:"number"}),o[e++].push(i.revenues),o[e++].push(i.rebates),o[e++].push(i.cogs),s.hasTariffs&&o[e++].push(i.tariffs),o[e++].values.push(i.grossMargin),o[e++].push(i.brandCreation),o[e++].push(i.adsCreation),o[e++].push(i.advertising),s.hasPromotions&&o[e++].push(i.promotions),s.hasPOP&&o[e++].push(i.pop),s.hasInternetMarketing&&o[e++].push(i.inetExp),o[e++].values.push(i.expenses),o[e++].values.push(i.profit),o[e++].push(i.profitPercent),o[e++].values.push(i.profitPerUnit);return this.bpTable=new DecisionTable(this.tc("brandProfitability"),"brandProfitability",r,o),this.bpTable.draw()},observe:function(){this.bpTable.observe()}})},58622:(t,e,i)=>{"use strict";i(25690),window.BrandReview=AdReview.extend({type:"brands",formatAB:function(t,e){var i={BRAND:Format.brandName(e.name.escapeHTML(),e.type),COMPANY:this.lookUpTeams[t.teamID].companyName.escapeHTML()};return this.tc("brandByCompany",i)}})},42768:(t,e,i)=>{"use strict";i(58622),window.BrandReviewAnim=BrandReview.extend({newDomDraw:!0,viewModeButtons:[],modifyModeButtons:[],style:"",qualities:["Poor","Acceptable","Good","VeryGood","Excellent"],qualitiesAccept:["excellent","veryGood","good","acceptable"],typeOfReview:"BrandReview",initialize:function(t){this._super(this.typeOfReview)},getRange:function(t){var e=this.data.staticData;return 0==t?"&lt;"+e.ranges[0]:t==this.qualities.length-1?e.ranges[t-1]+"-100":e.ranges[t-1]+"-"+(e.ranges[t]-1)},getTBRange:function(t){var e=this.data.staticData;return 0==t?{BOTTOMRANGE:e.ranges[0]}:t==this.qualities.length-1?{BOTTOMRANGE:e.ranges[t-1],TOPRANGE:100}:{BOTTOMRANGE:e.ranges[t-1],TOPRANGE:e.ranges[t]-1}},draw:function(t){var e,i,s,a,n,r,o,l,d,c,h,p,u,g,m,b,f,v,y,w,D,_,I=this.data.staticData,x=I.teams.toLookUp("teamID"),T=I.reviews.toLookUp("segmentID");for(this.content=t,t.css({"background-image":"url("+this.st("review:bckImg")+")"}),t.toggleClass("abReviewBck",!0),(i=j$('<div class="abReviewPage"></div>')).appendTo(t),i.append('<img src="'+this.st("review:pageBanner")+'" class="abReviewBanner" alt=""/>'),i.append('<img src="'+this.st("review:pageCorner")+'" class="abReviewCorner" alt=""/>'),i.append('<img src="'+this.st("review:seal"+this.st("reviewType"))+'" class="abReviewSeal'+this.st("reviewType")+'" alt="'+this.tc("reviewTitle")+'"/>'),(s=j$('<div class="abReviewTitleWrap"></div>')).appendTo(i),s.append('<div class="abReviewTitle">'+this.tc("quarterlyReviews")+"</div>"),s.append('<div class="abReviewDescr">'+this.tc("reviewObjective")+"</div>"),s.append('<div style="clear:both;"></div>'),(a=j$('<div class="abReviewLegend"></div>')).css({"background-image":"url("+this.st("review:legendDots")+")"}),w=0,D=this.qualities.length;w<D;w++)(n=j$('<div class="abReviewLegendBox"></div>')).append('<img src="'+this.st("review:circleLegend"+this.qualities[w])+'" class="abReviewLegendCircle" alt="'+this.tc(this.qualities[w].toLowerCase()+"ExplTitle",this.getTBRange(w))+'" />'),n.append('<div class="abReviewLegendTitle" aria-hidden="true">'+this.tc(this.qualities[w].toLowerCase()+"Title")+"<br />"+this.getRange(w)+"</div>"),n.appendTo(a);if(a.appendTo(i),(r=j$('<table class="abReviewTable"></table>')).appendTo(i),l=j$("<thead></thead>"),0==I.reviews.length)i.append('<div style="padding-bottom: 15px;" class="abReviewDescr">'+this.tc("common:no"+("Brand"==this.st("reviewType")?"Brands":"Ads")+"All")+"</div>");else for((o=j$('<tr class="abReviewTableHead"></tr>')).append('<th class="abReviewHead">'+this.tc("rating")+"</th>"),o.append('<th class="abReviewHead">'+this.tc("reviewSubject")+"</th>"),o.append('<th class="abReviewHead">'+this.tc("common:company")+"</th>"),o.appendTo(l),l.appendTo(r),(d=j$("<tbody></tbody>")).appendTo(r),w=0,D=I.segments.length;w<D;w++){for(e=I.segments[w],o=j$("<tr></tr>"),(_=j$('<td colspan="3" class="abReviewSegStrip"></td>')).append('<div class="abReviewSegStripI abReview'+e.shortName+'">'+e.name+"</div>"),_.append('<img src="'+this.st("review:medal"+e.shortName)+'" class="abReviewMedal" alt=""/>'),_.appendTo(o),o.appendTo(d),c=0,h=this.qualitiesAccept.length;c<h;c++)if(0!=(p=T[e.segmentID][this.qualitiesAccept[c]]).length){for(v=[],y=1,u=0,g=p.length;u<g;u++)for(y+=p[u][this.st("fieldType")].length,m=0,b=p[u][this.st("fieldType")].length;m<b;m++)f=p[u][this.st("fieldType")][m],o=j$('<tr class="abReviewSimpleRow"><td class="abReviewTd"><div>'+f.name.escapeHTML()+'</div></td><td class="abReviewTd"><div>'+x[p[u].teamID].companyName.escapeHTML()+"</div></td></tr>"),this.isMyTeam(p[u].teamID)&&o.toggleClass("abReviewMyCompany",!0),0==u&&0==m&&o.find("div").toggleClass("abReviewFirstSimple",!0),v.push(o);for(o.find("td").toggleClass("abReviewBL",!0).find("div").toggleClass("abReviewLastSimple",!0),(o=j$('<tr class="abReviewRow"><td rowspan="'+y+'" scope="rowgroup" class="abReviewTd abReviewBL"><div class="abReviewDiv">'+this.ratingCircle(this.qualitiesAccept[c])+"</div></td></tr>")).appendTo(d),u=0,g=v.length;u<g;u++)v[u].appendTo(d)}(o=j$('<tr class="abReviewRow"><td><div class="abReviewDiv">'+this.ratingCircle("poor")+'</div></td><td colspan="2" class="abReviewTd poor"><div>'+this.tc("poorExpl")+"</div></td></tr>")).appendTo(d)}i.append('<div style="clear:both;"></div>'),t.append('<div style="clear:both;"></div>')},capitalizeFirstLetter:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},ratingCircle:function(t){var e="";return e+='<img src="'+this.st("review:circle"+this.capitalizeFirstLetter(t))+'" class="abReviewCircle" alt=""/>',(e+='<div class="abReviewQua">'+this.tc(t.toLowerCase()+"Title")+"</div>")+'<div style="clear:both;"></div>'},resize:function(){this.content.css({"min-height":"0px"}),this.content.css({"min-height":this.contentElement.height()+"px"})},observe:function(){}})},63142:()=>{window.BusinessRelationships=Decision.extend({style:"padding: 10px 10px 0px 10px;",viewModeButtons:[],modifyModeButtons:[],draw:function(){var t,e,i,s,a,n,r,o,l,d,c,h,p,u,g=this.data.staticData,m=g.teams.toLookUp("teamID"),b=g.regions.toLookUp("regionID"),f=g.segments.length;for(p=[],t=0,e=g.teams.length;t<e;t++)if(s=(o=g.teams[t]).supplied.length,o.supplying&&s>0){for(n=p.length,c=0,i=0;i<s;i++)l=o.supplied[i],u=[],0==i&&u.push({title:o.companyName.escapeHTML(),rowspan:s}),u.push(m[l.resellerID].companyName.escapeHTML()),u.push(l.amount),c+=l.amount,p.push(u);p[n].push({title:c.format(),rowspan:s})}for(p.length>0?(h=[{title:this.tc("supplier"),vline:!0},{title:this.tc("reseller")},{title:this.tc("amount"),type:"number",vline:!0},{title:this.tc("total"),align:"right",dataClass:"total"}],this.supToResTbl=new DecisionTable(this.tc("supplied"),"suppliedTbl",h,p)):this.supToResTbl=null,p=[],t=0,e=g.teams.length;t<e;t++)if((o=g.teams[t]).selling){for(n=p.length,c=0,r=0,i=0,s=o.sold.length;i<s;i++)(d=o.sold[i]).offices+d.web!=0&&(u=[],0==r&&u.push({title:o.companyName.escapeHTML(),rowspan:null}),u.push(b[d.regionID].name.escapeHTML()),u.push(d.offices+d.web),c+=d.offices+d.web,p.push(u),r++);c>0&&(p[n][0].rowspan=r,p[n].push({title:c.format(),rowspan:r}))}for(p.length>0?(h=[{title:this.tc("sellerReseller"),vline:!0},{title:this.tc("region")},{title:this.tc("amount"),type:"number",vline:!0},{title:this.tc("total"),align:"right",dataClass:"total"}],this.selToCusTbl=new DecisionTable(this.tc("sold"),"soldTbl",h,p)):this.selToCusTbl=null,p=[],t=0,e=g.teams.length;t<e;t++)if((o=g.teams[t]).selling){for(n=p.length,r=0,i=0,s=o.sold.length;i<s;i++)(d=o.sold[i]).offices+d.web!=0&&(u=[],0==r&&u.push({title:o.companyName.escapeHTML(),rowspan:null}),u.push(b[d.regionID].name.escapeHTML()),u.push(d.offices),u.push(d.web),p.push(u),r++);r>0&&(p[n][0].rowspan=r)}for(p.length>0?(h=[{title:this.tc("sellerReseller"),vline:!0},{title:this.tc("region")},{title:this.tc("amountOffices"),type:"number"},{title:this.tc("amountWeb"),type:"number"}],this.resToRegByChannelTbl=new DecisionTable(this.tc("soldByChannel"),"salesByChannelTbl",h,p)):this.resToRegByChannelTbl=null,p=[],t=0,e=g.teams.length;t<e;t++)if((o=g.teams[t]).selling){for(n=p.length,r=0,i=0,s=o.sold.length;i<s;i++)if((d=o.sold[i]).offices+d.web!=0){for(u=[],0==r&&u.push({title:o.companyName.escapeHTML(),rowspan:null}),u.push(b[d.regionID].name.escapeHTML()),a=0;a<f;a++)u.push(d.segments[a]);p.push(u),r++}r>0&&(p[n][0].rowspan=r)}if(p.length>0){for(h=[{title:this.tc("sellerReseller"),vline:!0},{title:this.tc("region")}],a=0;a<f;a++)h.push({title:Format.segmentName(g.segments[a].name,g.segments[a].shortName),type:"number"});this.resToRegBySegmentTbl=new DecisionTable(this.tc("soldBySegment"),"salesBySegmentTbl",h,p)}else this.resToRegBySegmentTbl=null;return'<div style="padding:10px;"><div id="graph-holder" aria-hidden="true" role="presentation"></div>'+(null!=this.supToResTbl?this.supToResTbl.draw():"")+(null!=this.selToCusTbl?this.selToCusTbl.draw():"")+(null!=this.resToRegByChannelTbl?this.resToRegByChannelTbl.draw():"")+(null!=this.resToRegBySegmentTbl?this.resToRegBySegmentTbl.draw():"")},observe:function(){var t=this.data.staticData,e=[],i=this.relationshipsChartData(t.teams,t.regions,t.segments,{title:this.tc("biz_relationships"),offices:this.tc("offices"),web:t.hasWeb?this.tc("web"):null});new RelationshipsChart("graph-holder",i,this.resizeContent.bind(this)),null!=this.supToResTbl&&(this.supToResTbl.observe(),e.push(this.supToResTbl)),null!=this.selToCusTbl&&(this.selToCusTbl.observe(),e.push(this.selToCusTbl)),e.length>1&&DecisionTable.setMaxColWidths(e,0),null!=this.resToRegByChannelTbl&&this.resToRegByChannelTbl.observe(),null!=this.resToRegBySegmentTbl&&this.resToRegBySegmentTbl.observe()},resizeContent:function(){"undefined"!=typeof Engine&&Engine.areas.body.resizeContent()},relationshipsChartData:function(t,e,i,s){var a,n,r,o,l,d,c,h,p={teams:t,regions:e,segments:i},u={teams:p.teams,regions:p.regions,segments:p.segments,labels:s,suppliers:[],resellers:[]};for(o=u,a=0;a<p.teams.length;a++)(r=p.teams[a]).supplying&&o.suppliers.push({teamID:r.teamID,supplied:0,resellers:[]}),r.selling&&(l={teamID:r.teamID,outsourced:0,sold:0,regions:[]},r.producing&&(l.produced=r.produced),o.resellers.push(l));for(d=o.suppliers.toLookUp("teamID"),c=o.resellers.toLookUp("teamID"),a=0;a<p.teams.length;a++){if((r=p.teams[a]).supplying)for(n=0;n<r.supplied.length;n++)d[r.teamID].supplied+=r.supplied[n].amount,d[r.teamID].resellers.push(j$.extend({},r.supplied[n])),c[r.supplied[n].resellerID].outsourced+=r.supplied[n].amount;if(r.selling)for(n=0;n<r.sold.length;n++)(h=r.sold[n].offices+r.sold[n].web)>0&&(c[r.teamID].sold+=h,c[r.teamID].regions.push(j$.extend({},r.sold[n])))}return u}})},9928:()=>{window.BuyInitialMarketResearch=Decision.extend({style:"padding: 10px 10px 0px 10px;",read:function(){var t,e=this.data.staticData.plans,i=e.length;for(this.data.decisions.plan=0,t=0;t<i;++t)if(this.value("buy_"+e[t].planID)){this.data.decisions.plan=e[t].planID;break}},write:function(){var t,e=this.data.staticData.plans,i=e.length,s=this.data.decisions.plan;for(this.setValue("buy_0",s),t=0;t<i;++t)this.setValue("buy_"+e[t].planID,s)},draw:function(t){t=t||!1;var e,i,s=this.data.staticData.plans,a=s.length,n=this.data.decisions.plan,r=[],o=[{title:this.tc("buy"),type:"flag"},{title:this.cf.getLabel(this.tc("size"),null,"","size"),align:"right",vline:!0},{title:this.tc("error"),align:"right"},{title:this.tc("unitCost"),type:"number"},{title:this.tc("totalCost"),type:"number"}];for(e=0;e<a;++e)i=s[e],t&&n!=i.planID||r.push([this.com("radio","buy",n,{"aria-labelledby":"size pl_"+i.planID},i.planID),this.cf.getLabel(i.size.format(),null,"plainLabel","pl_"+i.planID),i.error.format(2)+"%",i.unitCost,i.totalCost]);return t?0==n?this.tc("noPlan"):this.tc("size")+": <b>"+r[0][1]+"</b>; "+this.tc("error")+": <b>"+r[0][2]+"</b>; "+this.tc("unitCost")+": <b>"+r[0][3].format()+"</b>; "+this.tc("totalCost")+": <b>"+r[0][4].format()+"</b>":(this.ibmrTable=new DecisionTable(this.tc("marketSurvey"),"ibmrTable",o,r),this.ibmrTable.draw())},observe:function(){this.ibmrTable.observe()},drawSOD:function(){this.setValue(this.pfxSod+this.service,this.draw(!0))}})},65488:()=>{window.BuyMarketResearch=Decision.extend({style:"padding: 10px 10px 0px 10px;",read:function(){var t,e=this.data.decisions.regions,i=e.length;for(t=0;t<i;++t)e[t].buy=this.value("buy_"+e[t].regionID)},write:function(){var t,e=this.data.decisions.regions,i=e.length;for(t=0;t<i;++t)this.setValue("buy_"+e[t].regionID,e[t].buy)},writeCalculate:function(){j$("#buyMarketResearchTotal").html(Number(this.data.calculate.total).format())},draw:function(t){var e,i,s=this.data.staticData.regions,a=s.length,n=this.data.decisions.regions.toLookUp("regionID"),r=[{title:this.tc("region")},{title:this.tc("cost"),type:"number"},{title:this.tc("buy"),type:"flag"}],o=[];for(t=t||!1,e=0;e<a;++e)i=s[e],o.push([i.regionName,i.cost,this.com("checkbox","buy_"+i.regionID,n[i.regionID].buy)]);return this.bmrTable=new DecisionTable(t?"":this.tc("marketResearch"),"bmrTable",r,o),t&&(this.bmrTable.tableCorners=""),this.bmrLabel=new DecisionLabel(this.service,"bmrLabel",this.tc("total")+' <span id="buyMarketResearchTotal">'+Number(this.data.calculate.total).format()+"</span>"),t&&(this.bmrLabel.labelCorners=""),this.bmrTable.draw()+this.bmrLabel.draw()},observe:function(){var t,e=this.data.staticData.regions,i=e.length;for(t=0;t<i;++t)this.bindCalculate("buy_"+e[t].regionID,"click",!1);this.bmrTable.observe(),this.bmrLabel.observe(),this.bmrLabel.change("float","left")},drawSOD:function(){var t,e=this.data.decisions.regions,i=e.length,s=this.data.staticData.regions.toLookUp("regionID"),a="",n="";for(t=0;t<i;++t)e[t].buy&&(a+=(""!=a?", ":"")+s[e[t].regionID].regionName);""!=a&&(n+='<div style="margin-left:0px; margin-bottom:5px; font-weight:normal;">'+this.tc("buying")+" "+a+"<br /></div>"),n+=this.tc("total")+" "+Number(this.data.calculate.total).format(),this.setValue(this.pfxSod+this.service,n)}})},53066:(t,e,i)=>{"use strict";i(65488),window.BuyMarketResearchAnim=BuyMarketResearch.extend({style:"height:100%;",forceFullSizeAbsolute:!0,initialize:function(t){this._super("BuyMarketResearch")},writeCalculate:function(){0==this.data.calculate.total?(j$("#man").css("opacity",0),j$("#woman").css("opacity",0)):(j$("#man").css("opacity",1),j$("#woman").css("opacity",1)),j$("#buyMarketResearchTotal").html(Number(this.data.calculate.total).format())},draw:function(t){var e,i,s,a="",n=this.data.staticData.regions,r=n.length,o=this.data.decisions.regions.toLookUp("regionID"),l=[{title:this.tc("region")},{title:this.tc("cost"),align:"right"},{title:this.tc("buy"),type:"flag"}],d=[];for(t=t||!1,i=0;i<r;++i)s=n[i],d.push([s.regionName,Number(s.cost).format(),this.com("checkbox","buy_"+s.regionID,o[s.regionID].buy)]),e=o[s.regionID].buy;return d.push({values:[this.tc("total"),'<div id="buyMarketResearchTotal">'+Number(this.data.calculate.total).format()+"</div>",""],type:"total"}),a+=this.cs.drawComp("img",this.st("man"),"man","","","a",1,"212px","5px","","",1==e?1:0,"","",""),a+=this.cs.drawComp("img",this.st("woman"),"woman","","","a",1,"24px","474px","","",1==e?1:0,"","",""),this.tblInv=new DecisionTable(t?"":this.tc("marketResearch"),"bmrTable",l,d),this.tblInv.draw()+a},resize:function(){var t=j$("#decision").width()/700;j$("#woman").css({width:157*t+"px"}).css({left:474*t+"px",top:24*t+"px"}),j$("#man").css({width:154*t+"px"}).css({left:5*t+"px",top:212*t+"px"})},observe:function(){var t,e=this.data.staticData.regions,i=e.length;for(j$("#decision").css("background-size","100% auto"),this.tblInv.change("css",{margin:"10px",position:"relative","z-index":"5"}),t=0;t<i;++t)this.bindCalculate("buy_"+e[t].regionID,"click",!1)}})},12162:(t,e,i)=>{"use strict";i(66406),window.CashFlow=FinanceReport.extend({stmt:"cashFlow"})},98590:()=>{window.CCConfidentialNewsletter=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",draw:function(){var t,e=this.data.staticData.messages,i=e.length,s='<div id="memos">';for(t=0;t<i;++t)s+=e[t].message;return s+"</div>"},observe:function(){j$("#memos").css({opacity:Live.opacity})}})},22365:(t,e,i)=>{"use strict";i(72607),window.CCNewsletter=Newsletter.extend()},38190:()=>{window.CCScorecard=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",stmt:"ccScorecard",draw:function(){var t,e,i,s,a,n,r,o,l,d,c,h=[{title:"",header:!0}],p=[],u=[],g=this.data.staticData,m=g.quarters,b=g.sections;for(r=this.tc("quarter"),e=0;e<m;++e)h.push({title:r+" "+(e+g.startQuarter),align:"center"});for(e=0,i=b.length;e<i;++e)for(""!=(o=b[e]).name.trim()&&u.push({title:o.name}),s=0,a=(d=o.items).length;s<a;++s){for(l=[(c=d[s]).name],p=[],t=0;t<m;++t){switch(c.type){case"+":n=c.quarters[t]>0?'<img src="'+this.st("ccOk")+'" alt="'+this.tc("common:yes")+'"/>':"";break;case"-":n=c.quarters[t]>0?'<img src="'+this.st("ccNok")+'" alt="'+this.tc("common:yes")+'"/>':"";break;case"N":n=isNaN(c.quarters[t])?c.quarters[t]:Number(c.quarters[t]).format();break;case"P":n=isNaN(c.quarters[t])?c.quarters[t]:Number(c.quarters[t]).format()+"%";break;default:n=c.quarters[t]}l.push(n)}p={values:l},c.emphasize&&(p.type="total"),u.push(p)}for(this.stTable=new DecisionTable(this.tc(this.stmt),this.stmt+"Table",h,u,!1,"wooden"),r="<p>"+this.tc("p1")+'</p><h2 id="cculture">'+this.tc("corporateCulture")+'</h2><ul aria-labelledby="cculture">',e=0,i=g.culture.length;e<i;++e)r+="<li>"+g.culture[e]+"</li>";return r+="</ul><p>"+this.tc("p2")+"</p>",this.stLabel=new DecisionLabel(this.service,this.stmt+"Label",r,"","wooden"),this.stLabel.draw()+this.stTable.draw()},observe:function(){this.stTable.observe(),this.stLabel.observe(),this.stLabel.change("css",{"line-height":"1.5em"})}})},34977:()=>{window.CD=Decision.extend({style:"padding: 10px 10px 0px 10px;",read:function(){this.data.decisions.withdraw=this.value("withdraw"),this.data.decisions.deposit=this.value("deposit")},write:function(){this.setValue("withdraw",this.data.decisions.withdraw),this.setValue("deposit",this.data.decisions.deposit)},writeErrors:function(){this.writeError("withdraw",this.data.errors.decisions.withdraw,"center left",!0,3),this.writeError("deposit",this.data.errors.decisions.deposit,"center left",!0,3)},writeCalculate:function(){j$("#cd").html(Number(this.data.calculate.cd).format()),j$("#interest").html(Number(this.data.calculate.interest).format())},draw:function(t){var e=[];return(t=t||!1)||e.push({values:[this.tc("totalLQ"),Number(this.data.staticData.cd).format()],hrafter:!0},[this.tc("withdraw"),this.com("iedit","withdraw",this.data.decisions.withdraw,{size:10})],{values:[this.tc("add"),this.com("iedit","deposit",this.data.decisions.deposit,{size:10})],hrafter:!0}),e.push([this.tc("totalCQ"),'<span id="cd">'+Number(this.data.calculate.cd).format()+"</span>"],[this.tc("rate"),Number(this.data.staticData.rate/4).formatFloat()],[this.tc("interest"),'<span id="interest">'+Number(this.data.calculate.interest).format()+"</span>"]),this.cdTable=new DecisionTable(t?"":this.tc("3monthCD"),"cdTable",[{title:"",header:!0},{title:"",align:"right"}],e,!0,"concrete"),t&&(this.cdTable.tableCorners=""),this.cdTable.draw()},observe:function(){this.cdTable.observe(),this.bindCalculate("deposit","keyup",!0),this.bindCalculate("withdraw","keyup",!0)},drawSOD:function(){Number(this.data.calculate.cd)>0?this.setValue(this.pfxSod+this.service,this.draw(!0)):this.setValue(this.pfxSod+this.service,this.tc("noCDActivity"))}})},67650:()=>{window.Certification=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",draw:function(){var t="";return t+="<p>"+this.tc("congratulations")+"</p>",this.data.staticData.isInstructor?t+="<p>"+this.tc("badgesInsDescription2")+"</p>":t+="<p>"+this.tc("badgesDescription")+"</p>",this.data.staticData.isInstructor&&(t+="<p>"+this.tc("badgesInsDescription",{LINK:'<a href="javascript:void(0)" id="issuerProfileUrl" class="quickLinksItem openBadgeLink">'+this.tc("obip")+'<img src="'+this.st("common:dbImg")+'" class="linkPopout" alt=""></a>'})+"</p><br/>"),this.data.staticData.isInstructor||(this.data.staticData.openBadges.length?t+=this.drawBadges():t+="<p>"+this.tc("noBadges")+"</p>"),t+="<p>"+this.tc("followUs")+"</p>",t+='<div class="social-ss"><a href="'+this.st("linkedinLink")+'" class="linkedin" target="_blank"><img src="'+this.st("linkedin")+'"  alt="'+this.tc("followLinkedIn")+'" /></a><a href="'+this.st("twitterLink")+'" class="twitter" target="_blank"><img src="'+this.st("twitter")+'" alt="'+this.tc("followTwitter")+'" /></a><a href="'+this.st("instagramLink")+'" class="instagram" target="_blank"><img src="'+this.st("instagram")+'" alt="'+this.tc("followInstagram")+'" /></a><a href="'+this.st("facebookLink")+'" class="facebook" target="_blank"><img src="'+this.st("facebook")+'" alt="'+this.tc("followFacebook")+'" /></a></div>',this.certificationLabel=new DecisionLabel(this.service,"certificationLabel",t,"","","",this.tc("title")),this.certificationLabel.draw()},observe:function(){this.certificationLabel.observe(),this.certificationLabel.change("float","left");var t=this.data.staticData.issuerUrl;j$("#issuerProfileUrl").click((function(){window.open(t).focus()}))},drawBadges:function(){for(var t='<ul class="badge-tile-ss" role="list">',e=this.data.staticData.openBadges,i=0;i<e.length;i++)t+=this.drawBadge(e[i]);return t+"</ul>"},drawBadge:function(t){return""+'<li><div class="openBadge focusBlock"><div class="badgeImageFrame"><img src="'+t.image+'" class="openBadgeImg"  alt=""></div><a aria-label="'+this.tc("arialLabelBadge",{BADGE_TYPE:t.name})+'" onclick="window.open(\''+t.id+'\')" href="javascript:void(0)" class="quickLinksItem openBadgeLink">'+t.name+'<img src="'+this.st("common:dbImg")+'" class="linkPopout" alt=""></a></div></li>'}})},52432:()=>{window.ChannelDemand=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",draw:function(){var t,e,i,s=this.data.staticData.teams,a=s.length,n=[];for(n.push({cols:[{title:this.tc("company"),rowspan:2},{title:this.tc("office"),colspan:2,hsplit:!0},{title:this.tc("web"),colspan:2,hsplit:!0},{title:this.tc("total"),rowspan:2}],type:"head"},{cols:[{title:this.tc("demand")},{title:this.tc("percent")},{title:this.tc("demand")},{title:this.tc("percent")}],type:"head"}),t=0;t<a;++t)i=(e=s[t]).soDemand+e.webDemand,n.push([e.companyName.escapeHTML(),e.soDemand,i?100*e.soDemand/i:0,e.webDemand,i?100*e.webDemand/i:0,i]);return this.cdTable=new DecisionTable(this.tc("distribution"),"channelDemand",[{title:"",vline:!0},{title:"",type:"number"},{title:"",type:"number",decimals:1,vline:!0},{title:"",type:"number"},{title:"",type:"number",decimals:1,vline:!0},{title:"",type:"number",dataClass:"total"}],n,!0,"stone"),this.cdTable.draw()},observe:function(){this.cdTable.observe()}})},55501:()=>{window.CheckAdClaims=Decision.extend({viewModeButtons:[],modifyModeButtons:[],draw:function(){var t,e,i,s,a,n,r="",o=this.data.dynamicData,l=o.ads,d=l.length,c=[{title:this.tc("adDesign"),header:!0},{title:this.tc("brandAdvertised")},{title:"",align:"center"}],h=[];for(i=j$.proxy(this.colClick,this),t=0;t<d;++t)(e=l[t]).isInMedia?(s=e.isDeceptive?"deceptive":"ok",n=this.tc(e.isDeceptive?"deceptive":"notdeceptive")):(s="na",n=this.tc("notAvailable")),a=Path.getPath(this.st("common:errorsFolder"),"da-"+s+"-icon",".png"),h.push({values:[e.name.escapeHTML(),Format.brandName(e.brandAdvertised.escapeHTML(),e.brandType),'<div id="deceptiveClaim_'+e.adID+'" class="offscreen">'+this.getDeceptiveContent(e)+'</div><img src="'+a+'" alt="'+n+'" />'],actions:[{type:"click",call:i,linkStyle:"blueLink",data:{ad:e}},null,null]});return this.cacTable=new DecisionTable("","cacTable",c,h),0==o.ads.length?(r+=(""!=r?"<br />":"")+this.tc("common:noAds"),this.emptyLabel=new DecisionLabel(this.service,"emptyLabel",r,"","blue"),this.emptyLabel.draw()):(this.emptyLabel=null,r+='<div style="float:left; width:39.5%;">'+this.cacTable.draw()+'</div><div id="deceptiveClaims" aria-hidden="true" style="float:right; width:60%;"></div>')},observe:function(){null==this.emptyLabel?this.cacTable.observe():(this.emptyLabel.observe(),this.emptyLabel.change("float","left"))},getDeceptiveContent:function(t){var e,i,s,a,n,r="",o="adFound_"+t.adID,l={na:{color:"#444444",text:"adFoundNa",st:"foundNa"},ok:{color:"#0b8578",text:"adFoundOK",st:"foundOk"},deceptive:{color:"#df0000",text:"adFoundDeceptive",st:"foundDeceptive"}};if(a=t.isInMedia?l[t.isDeceptive?"deceptive":"ok"]:l.na,t.isDeceptive)for(e=0,i=t.deceptiveClaims.length;e<i;++e)s=t.deceptiveClaims[e],r+='<div id="name_'+(n=t.adID+"_"+s.claimID)+'" style="'+(0!=e?"margin-top:6px;":"")+' font-weight: bold;">'+s.name+'</div><div id="message_'+n+'" style="padding: 5px; '+(-1==s.claimID?"background: #FFEEEE;":"")+'">'+s.message+"</div>";return'<h2 id="'+o+'" class="plainHeader" style="padding: 4px; background: '+a.color+'; color: white; font-weight: bold;">'+this.tc(a.text,{AD_DESIGN:t.name.escapeHTML()})+'</h2><div id="claimList_'+t.adID+'" style="margin: 1px 0 0 0; border: 1px solid '+a.color+'; padding: 4px; background: white;"><img src="'+this.st(a.st)+'" width="108" height="115" style="float:left; margin: 0 5px 5px 0" alt="" />'+r+'<div style="clear: both;"></div></div>'},colClick:function(t){var e,i=t.ad,s=j$("#deceptiveClaims");s.html(this.getDeceptiveContent(i)),s.css({opacity:Live.opacity}),e=j$("#claimList_"+i.adID),i.isDeceptive&&e.height()<=120&&e.css({height:"115px"})}})},20089:(t,e,i)=>{"use strict";i(55501),window.CheckAdClaimsAnim=CheckAdClaims.extend({newDomDraw:!0,viewModeButtons:[],modifyModeButtons:[],style:"",initialize:function(t){this._super("CheckAdClaims")},getSegMiniImgSrc:function(t){return""==t.brandType?this.st("daBasic"):this.st("da"+t.brandType)},getBrandText:function(t){return""==t.brandAdvertised?this.tc("yourCompany"):Format.brandName(t.brandAdvertised.escapeHTML(),t.brandType)},draw:function(t){var e,i,s,a,n,r,o,l,d=this.data.dynamicData,c=d.ads,h=c.length;for(this.leftSide=j$('<div class="cacLeftSide"></div>'),r=j$('<div class="cacLeftSideInside"></div>'),this.leftSide.append(r),r.append('<div class="cacMessage">'+this.tc("reviseWarning")+"</div>"),r.append('<div class="cacHeader">'+this.tc("adName")+"</div>"),(n=j$('<div class="cacAdList"></div>')).appendTo(r),e=0;e<h;++e)i=c[e],(s=j$('<div class="cacAdItem"></div>')).on("click",j$.proxy(this.showAd,this,i,s)),(o=j$('<div class="cacAdItemLS"></div>')).append('<img src="'+this.getSegMiniImgSrc(i)+'" class="cacAdItemImage" alt />'),o.append('<button class="button-plain cacListText">'+i.name.escapeHTML()+"</button>"),o.appendTo(s),l=j$('<div class="cacAdItemRS"></div>'),a=i.isInMedia&&i.isDeceptive?this.st("listWarning"):i.isInMedia?this.st("listCheck"):this.st("listNotAvailable"),j$('<img src="'+a+'" class="cacListMark" alt />').appendTo(l),l.append('<div id="deceptiveClaim_'+c[e].adID+'" class="offscreen">'+this.getDeceptiveContent(c[e])+"</div>"),l.appendTo(s),s.appendTo(n);this.rightSideWrap=j$('<div class="cacRightSideWrap"></div>'),this.rightSide=j$('<div class="cacRightSide"></div>'),this.rightSide.appendTo(this.rightSideWrap),this.rsInfo=j$('<div class="sidePaneNote cacAdRightSideInfo">'+this.tc("selectAd")+"</div>"),this.rsInfo.appendTo(this.rightSide),0===d.ads.length?(this.emptyLabel=new DecisionLabel(this.service,"emptyLabel",this.tc("common:noAds"),"","blue"),t.append(this.emptyLabel.draw())):(this.emptyLabel=null,t.append(this.leftSide),t.append(this.rightSideWrap),this.rightSideWrap.attr("aria-hidden",!0).attr("role","presentation"))},showAd:function(t,e){var i,s,a,n,r,o,l,d,c,h,p,u,g,m,b,f,v,y=this.data.staticData,w=y.brandFeatures.toLookUp("featureID");if(this.selectedAd&&this.selectedAd.toggleClass("selected",!1),this.selectedAd=e,e.toggleClass("selected",!0),this.rsInfo.remove(),this.rightSide.html(""),(i=j$('<div class="cacRTopL"></div>')).append('<div class="cacRTitle">'+this.tc("adNameCaps")+"</div>"),i.append('<img src="'+this.getSegMiniImgSrc(t)+'" class="cacRAdImg" alt />'),i.append('<div class="cacRAdName">'+t.name.escapeHTML()+"</div>"),i.appendTo(this.rightSide),(s=j$('<div class="cacRTopR"></div>')).append('<div class="cacRTitle">'+this.tc("adPromotesCaps")+"</div>"),s.append('<div class="cacRPromoteName">'+this.getBrandText(t)+"</div>"),s.appendTo(this.rightSide),(a=j$('<div class="cacRCont"></div>')).appendTo(this.rightSide),t.isInMedia&&t.isDeceptive)for(u=0,g=t.deceptiveClaims.length;u<g;u++){if(l=t.deceptiveClaims[u],o=j$('<div class="cacClaim"></div>'),0==u&&o.append('<div class="cacRTitle">'+this.tc("decClaimsCaps")+"</div>"),o.appendTo(a),o.append('<img src="'+this.st("sidepaneWarning")+'" class="cacRSMark" alt />'),o.append('<div class="cacClaimTitle">'+l.name+"</div>"),l.display&&-1!==l.display.indexOf("BFS")&&(p=w[(d=l.displayParams.toLookUp("name")).BFS.params[0]].featureUID,null===(c=this.st("features:fimg_"+p+"_"+t.brandType))&&(c=this.st("features:fimg_"+p)),h=d.BFS.params.length>1?"imgMultiple":"imgSingle",null!==c&&o.append('<div class="cacClaimImgWrap '+h+'" style="background: url('+this.st(h)+');"><img src="'+c+'" class="cacClaimImg" alt /></div>')),l.display&&-1!==l.display.indexOf("REGION"))for(d=l.displayParams.toLookUp("name"),(v=j$('<div class="cacClaimMapWrap"></div>')).appendTo(o),m=0,b=y.regions.length;m<b;m++)f=y.regions[m],-1!==d.REGION.params.indexOf(f.regionID)?v.append('<img src="'+this.st("map_"+b+"r"+f.regionID)+'" class="cacClaimMap" alt />'):v.append('<img src="'+this.st("mapLine_"+b+"r"+f.regionID)+'" class="cacClaimMap" alt />');o.append('<div class="cacClaimMessage">'+l.message+"</div>")}else{var D="adVerified",_="verClaimsCaps",I="sidepaneCheck";t.isInMedia||(D="adNotRun",_="notRunCaps",I="sidepaneNotAvailable"),(a=j$('<div class="cacRCont"></div>')).appendTo(this.rightSide),(o=j$('<div class="cacClaim"></div>')).append('<div class="cacRTitle">'+this.tc(_)+"</div>"),o.append('<img src="'+this.st(I)+'" class="cacRSMark" alt />'),o.append('<div class="cacClaimMessageOk">'+this.tc(D,{AD_DESIGN:t.name.escapeHTML()})+"</div>"),t.isInMedia&&o.append('<img src="'+this.st("sidepaneVerified")+'" class="cacVerified" alt />'),o.appendTo(a)}r=j$('<div class="cacRArrow"></div>'),n=e.position(),r.css({top:n.top-5+"px"}),r.appendTo(this.rightSide),this.rightSide.append('<div style="clear:both;"></div>')},resize:function(){var t=j$("#decision"),e=this.leftSide.height();this.rightSideWrap.css({"min-height":Math.max(t.height(),e)+"px"})},observe:function(){null!==this.emptyLabel&&(this.emptyLabel.observe(),this.emptyLabel.change("float","left"),this.emptyLabel.change("css",{margin:"10px"}))}})},87863:()=>{window.CompanyName=Decision.extend({logoSize:200,sendCalculate:!1,style:"padding: 10px 10px 0px 10px",allowedLogoFileTypesShort:[".png",".jpg",".bmp",".dib",".gif"],allowedLogoFileTypes:["image/x-png","image/png","image/jpeg","image/jpg","image/bmp","image/gif","image/dib","image/webp"],allowedLogoSize:15e6,read:function(){this.data.decisions.companyName=this.value("companyName"),j$("#cmpLogo canvas").length>0?this.data.decisions.logoDataUri=j$("#cmpLogo canvas")[0].toDataURL("image/png"):this.data.decisions.logoDataUri="",this.data.decisions.logoDataName=this.logoDataName.replace(/\.[^\.]+$/,"")+".png"},updateLogo:function(){j$("#cmpLogo").html(""),j$("#cmpLogo").css("background-image","url("+this.data.staticData.logoUrl+")")},write:function(){this.setValue("companyName",this.data.decisions.companyName),j$("#decisionCompany").html(this.data.dynamicData.companyName.escapeHTML()),this.updateLogo(),this.data.decisions.logoDataUri="",this.data.decisions.logoDataName=""},writeErrors:function(){this.writeError("companyName",this.data.errors.decisions.companyName,"center right",!0,3)},draw:function(){var t=this.tcLbl("companyName")+" "+this.com("edit","companyName",this.data.decisions.companyName,{maxlength:this.data.staticData.maxLength,size:40});return this.logoDataName="",this.logoError=null,Live.companyProfile()&&(t+='<div style="margin-top:10px; text-align: center;"><div style="display: inline-block; width: '+this.logoSize+'px; text-align: left;"><div id="cmpLogo" style="display: block; height: '+this.logoSize+"px; width: "+this.logoSize+"px; border: 1px solid #CCCCCC; background-size: cover; background-repeat: no-repeat; background-image: url("+this.data.staticData.logoUrl+')"></div>'+this.com("file","cmpLogoFile","",{style:"display: none; margin-top:10px;","aria-label":this.tc("common:browse")})+this.cf.getComponent("button","cmpLogoBtn",this.tc("common:browse"),{style:"display:inline-block; margin-top: 5px;"})+"</div></div>"),t+='<div style="clear: both;"></div>',this.cnLbl=new DecisionLabel(this.service,"cn",t),this.cnLbl.draw()},enable:function(){this._super(),j$("#cmpLogoBtn").attr("disabled",!1).toggleClass("button-class",!0).toggleClass("button-class-disabled",!1)},disable:function(){this._super(),j$("#cmpLogoBtn").attr("disabled",!0).toggleClass("button-class",!1).toggleClass("button-class-disabled",!0)},observe:function(){this.cnLbl.observe(),this.cnLbl.change("float","left"),this.bindCalculate("companyName","keyup"),"undefined"!=typeof Engine&&Live.companyProfile()?(j$("#cmpLogoBtn").on("click",(function(){j$("#cmpLogoFile").trigger("click")})),j$("#cmpLogoFile").on("click",j$.proxy((function(t){j$("#cmpLogoFile").val("")}),this)),j$("#cmpLogoFile").on("change",j$.proxy((function(t){this.preview(t.target.files)}),this)),j$("#cmpLogo").on("drop",j$.proxy((function(t){this.preview(t.originalEvent.dataTransfer.files),t.preventDefault()}),this)).on("dragenter dragover",(function(t){t.preventDefault()}))):j$("#cmpLogoBtn").hide()},saveLogo:function(t){j$("#cmpLogo").css("background-image",""),j$("#cmpLogo").html(t)},preview:function(t){var e,i;0!=t.length&&this.inModifyMode&&(e=t[0],this.removeError(this.logoError),this.logoError=null,this.allowedLogoFileTypes.indexOf(e.type)>-1?e.size<this.allowedLogoSize?(i=window.URL.createObjectURL(e),Engine.showImageUpload(i,j$.proxy(this.saveLogo,this)),this.logoDataName=e.name):this.logoError=this.writeError("cmpLogo",{type:1,number:1,message:this.tc("sizeExceeded",{MAXSIZE:Number(this.allowedLogoSize).format(),SIZE:Number(e.size).format()})},"center right",!0,3):this.logoError=this.writeError("cmpLogo",{type:1,number:1,message:this.tc("unsupportedType",{NAME:e.name,TYPE:e.type})},"center right",!0,3),"undefined"!=typeof Engine&&Engine.basicInfo.isSampleGame&&null==this.logoError&&(this.logoError=this.writeError("cmpLogo",{type:1,number:1,message:this.tc("tpl:naSample")},"center right",!0,3)))},drawSOD:function(){this.data.dynamicData.companyNameChangedThisQuarter?this.setValue(this.pfxSod+this.service,this.data.decisions.companyName.escapeHTML()):this.setValue(this.pfxSod+this.service,"")}})},17659:(t,e,i)=>{"use strict";i(87863),window.CompanyNameAnim=CompanyName.extend({backgroundImage:"",style:"padding: 0px 0px 0px 0px; overflow: hidden;",vs:{},forceFullSizeAbsolute:!0,initialize:function(t){this._super("CompanyName")},draw:function(){var t='<div id="companyNameLabel" style="display:block;"><div id="cmpName" style="float:left;margin-top:2px;">'+this.tcLbl("companyName")+"</div> "+this.com("edit","companyName",this.data.decisions.companyName,{maxlength:this.data.staticData.maxLength,size:30,style:"float:left;margin-left:5px;margin-right:10px;"});return this.logoDataUri="",this.logoDataName="",this.logoError=null,Live.companyProfile()&&(t+='<span id="cmpLogoWrap" style="position:relative;float:left;z-index:4;"><label id="cmpLogo" for="cmpLogoFile" style="display: block; position: relative; height: 200px; width: 200px; border: 1px solid #CCCCCC; background-size: cover; background-repeat: no-repeat; background-image: url('+this.data.staticData.logoUrl+')"><span class="offscreen">'+this.tc("uploadLogo")+"</span></label>"+this.com("file","cmpLogoFile","",{style:"display: none; margin-top:10px;",accept:this.allowedLogoFileTypesShort.join(", "),"aria-label":this.tc("common:browse")})+this.cf.getComponent("button","cmpLogoBtn",this.tc("common:browse"),{style:"display:inline-block; margin-top: 5px;"})+"</div>",t+='<br /><br /><span id="compTextEdit" style="text-align: center;"></span>'),t+='<div style="clear: both;"></div></div>',t+=this.cs.drawComp("img",this.st("curtains"),"curtains","","","a",1,"122px","43px","","",1,"","",""),(t+='<div id="cmpProfile" style="position:absolute; z-index:5; width:20%; left:28%; top:42%; text-align:center;"><span id="doorsText" style="word-wrap:break-word;font-size:1.7em;">'+this.data.decisions.companyName.escapeHTML()+"</span></div>")+this.cs.drawComp("img",this.st("logoDoors"),"logoDoors","10%","","a",1,"15%","34%","","",1,"","display:none;","")},resizeLogo:function(){var t=j$("#decision").width()/700;"savedState"==this.cnState?(j$("#cmpLogo").css({width:50*t+"px",height:50*t+"px","max-height":165*t+"px"}),j$("#cmpLogoBtnLabel").css("display","none")):(j$("#cmpLogo").css({width:"200px",height:"200px","max-height":320*t+"px"}),j$("#cmpLogoBtnLabel").css("display","inline-block"))},resize:function(){var t=j$("#decision").width()/700;this.resizeLogo(),j$("#curtains").css({width:148*t+"px"}).css({left:43*t+"px",top:122*t+"px"})},onModifyScene:function(){j$("#curtains").show(),j$("#logoDoors").hide(),j$("#cmpLogoBtn").show(),this.cnState="modifyState",this.resizeLogo(),this.cs.show(this.companyNameLabel),this.cs.setStyle(this.companyName,{"background-color":"#FFFFFF",border:"2px inset #DDDDDD",paddingLeft:"2px",color:"#000000"}),this.cs.enable(this.companyName),this.cs.hide(this.cmpProfile),Live.companyProfile()&&(this.cmpName.show(),this.companyName.show(),this.cs.setStyle(this.cmpLogoWrap,{position:"relative"}),this.cs.setStyle(this.cmpLogo,{border:"1px solid #CCCCCC"}),this.cs.setStyle(this.companyNameLabel,{"margin-top":"4%","margin-left":"7%"})),this.cs.backgroundImageChange(this.decision,this.st("indoorRoom"))},onCancelScene:function(){this.cs.setStyle(this.companyName,{"background-color":"#EEEEEE",border:"2px inset #DDDDDD",paddingLeft:"2px",color:"#333333"}),this.cs.disable(this.companyName)},onSaveScene:function(){this.cs.setStyle(this.companyName,{"background-color":"#EEEEEE",border:"2px inset #DDDDDD",paddingLeft:"2px",color:"#333333"}),this.cs.disable(this.companyName),0==this.data.errors.fatalErrors&&(j$("#curtains").hide(),j$("#cmpLogoBtn").hide(),j$("#logoDoors").show(),this.cnState="savedState",this.resizeLogo(),this.cs.hide(this.companyName),this.cs.hide(this.cmpName),this.doorsText.html(this.data.decisions.companyName.escapeHTML()),Live.companyProfile()&&(this.cs.setStyle(this.cmpLogoWrap,{position:"absolute"}),this.cs.setStyle(this.companyNameLabel,{"margin-top":"11.5%","margin-left":"35.5%"}),this.cs.setStyle(this.cmpLogo,{"margin-left":"0",border:"unset"})),this.cs.elementsFadeIn([this.doorsText,this.cmpProfile]),this.cs.backgroundImageChangeFade(this.decision,this.st("indoorDoors")))},observe:function(){this.companyNameLabel=j$("#companyNameLabel"),this.cmpLogo=j$("#cmpLogo"),this.cnState="modifyState",this.cmpLogoWrap=j$("#cmpLogoWrap"),this.companyName=j$("#companyName"),this.cmpName=j$("#cmpName"),this.compTextEdit=j$("#compTextEdit"),this.cmpProfile=j$("#cmpProfile"),this.doorsText=j$("#doorsText"),this.decision=j$("#decision"),this.bindCalculate("companyName","keyup"),j$("#curtains").attr("aria-hidden",!0),this.cs.backgroundImageChange(this.decision,this.st("indoorRoom")),this.cs.setStyle(this.companyNameLabel,{fontSize:"110%",position:"absolute",marginTop:"4%",marginLeft:"7%"}),this.cs.hide(this.cmpProfile),this.decision.find("div").first().css({height:"inherit"}),this.cs.setStyle(this.companyName,{"background-color":"#EEEEEE",border:"2px inset #DDDDDD",paddingLeft:"2px",color:"#333333"}),this.cs.disable(this.companyName),this.cs.setStyle(this.compTextEdit,"top:10%;left:20%"),"undefined"!=typeof Engine&&Live.companyProfile()&&(j$("#cmpLogoBtn").on("click",(function(){j$("#cmpLogoFile").trigger("click")})),j$("#cmpLogoFile").on("click",j$.proxy((function(t){j$("#cmpLogoFile").val("")}),this)),j$("#cmpLogoFile").on("change",j$.proxy((function(t){this.preview(t.target.files)}),this)),j$("#cmpLogo").on("drop",j$.proxy((function(t){this.preview(t.originalEvent.dataTransfer.files),t.preventDefault()}),this)).on("dragenter dragover",(function(t){t.preventDefault()})))}})},54794:(t,e,i)=>{"use strict";i(87863),window.CompanyNameAnim2=CompanyName.extend({logoSize:100,style:"",initialize:function(t){this._super("CompanyName")},saveLogo:function(t){var e=j$(t);j$("#cmpLogo").css("background-image","").html(e),j$("#cmpDoorsLogo").css("background-image","").html(e.clone())},updateLogo:function(){j$("#cmpLogo").html(""),j$("#cmpDoorsLogo").html(""),j$("#cmpLogo").css("background-image","url("+this.data.staticData.logoUrl+")"),j$("#cmpDoorsLogo").css("background-image","url("+this.data.staticData.logoUrl+")")},draw:function(){var t='<div id="companyNameLabel" class="companyNameLabel">';this.logoDataUri="",this.logoDataName="",this.logoError=null;var e='<div id="cmpName" class="cmpName">'+this.tcLbl("companyName",{},"companyName","plainHeader columnHeader")+this.com("edit","companyName",this.data.decisions.companyName,{maxlength:this.data.staticData.maxLength,size:30,style:"display: block; margin: 10px; margin-bottom: 18px; width: 180px;"});return Live.companyProfile()&&(e+='<div class="plainHeader columnHeader">'+this.tc("companyLogo")+'</div><span id="cmpLogoWrap" style="position:relative;z-index:4;display: flex; flex-direction: column; align-items: center"><label id="cmpLogo" for="cmpLogoFile" class="cmpLogo" style="background: url('+this.data.staticData.logoUrl+') no-repeat; background-size: cover;"><span class="offscreen">'+this.tc("uploadLogo")+"</span></label>"+this.com("file","cmpLogoFile","",{style:"display: none; margin-top:10px;",accept:this.allowedLogoFileTypesShort.join(", "),"aria-label":this.tc("common:browse")})+this.cf.getComponent("button","cmpLogoBtn",this.tc("common:browse"),{style:"display:inline-block; margin-top: 5px;"})+"</div>"),t+=new DecisionLabel(this.service,"companyNameProfiler",e).draw(),t+='<div style="clear: both;"></div></div>',t+=this.cs.drawComp("img",this.st("curtains"),"curtains","","","a",1,"122px","","","43px",1,"","",""),t+='<div id="storeFrontStage" class="storeFrontStage" style="display: none;"><div id="cmpProfile" class="cmpProfile"><span id="doorsText" class="cmpDoorsText">'+this.data.decisions.companyName.escapeHTML()+'</span><div id="cmpDoorsLogo" role="img" class="cmpDoorsLogo" style="background: url('+this.data.staticData.logoUrl+') no-repeat; background-size: cover;" aria-label="'+this.tc("companyLogo")+'"></div></div>',(t+=this.cs.drawComp("img",this.st("storeFront"),"storeFront","100%","","r",1,"","","","",1,"","",""))+"</div>"},resizeStoreFrontStage:function(){j$("#storeFrontStage").height(j$("#decision").css("min-height"))},resize:function(){this.resizeStoreFrontStage(),this.resizeCurtains()},resizeCurtains:function(){var t=j$("#decision").width()/700,e={width:148*t+"px",top:122*t+"px",right:43*t+"px"};j$("#curtains").css(e)},switchToIndoorStage:function(){j$("#curtains").show(),j$("#storeFrontStage").hide(),j$("#companyNameLabel").show(),this.cs.backgroundImageChange(this.decision,this.st("indoorRoom"))},switchToStoreFrontStage:function(){j$("#curtains").hide(),j$("#storeFrontStage").show(),j$("#companyNameLabel").hide(),this.cs.backgroundImageChangeFade(this.decision,null)},onModifyScene:function(){this.switchToIndoorStage()},onCancelScene:function(){this.initStages()},onSaveScene:function(){0==this.data.errors.fatalErrors&&(this.switchToStoreFrontStage(),this.doorsText.html(this.data.decisions.companyName.escapeHTML()))},initStages:function(){""!=this.data.decisions.companyName?this.switchToStoreFrontStage():this.switchToIndoorStage()},observe:function(){this.cmpLogo=j$("#cmpLogo"),this.companyName=j$("#companyName"),this.doorsText=j$("#doorsText"),this.decision=j$("#decision"),j$("#curtains").attr("aria-hidden",!0),this.initStages(),"undefined"!=typeof Engine&&Live.companyProfile()&&(j$("#cmpLogoBtn").on("click",(function(){j$("#cmpLogoFile").trigger("click")})),j$("#cmpLogoFile").on("click",j$.proxy((function(t){j$("#cmpLogoFile").val("")}),this)),j$("#cmpLogoFile").on("change",j$.proxy((function(t){this.preview(t.target.files)}),this)),j$("#cmpLogo").on("drop",j$.proxy((function(t){this.preview(t.originalEvent.dataTransfer.files),t.preventDefault()}),this)).on("dragenter dragover",(function(t){t.preventDefault()})))}})},4354:()=>{window.CompareAds=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",initSettings:function(){return{filter:null}},draw:function(){return this.filter=new MultiLevelFilter(this.tc("by_ad"),"ad_filter","blue",this.settings.filter,this.redrawTable.bind(this),this.data.staticData.ads,"adID","adName",this.tc("ad")),this.filter.drawName=function(t,e){return Format.brandName(t[e].escapeHTML(),t.brandType)},this.adTable=new DecisionTable(this.tc("yourAds"),"adTable",[],[],!0),this.filter.draw()+this.adTable.draw()},redrawTable:function(t,e){if(t&&(this.settings.filter=this.filter.settings,this.saveSettings()),e){var i,s,a,n,r,o,l,d,c,h,p,u,g,m,b,f=this.data.staticData,v=[{title:this.tc("ad")}],y=[{title:this.tc("brandAdv")}],w=[],D=[];for(b=this.filter.noFilterSet(),i=0,s=f.ads.length;i<s;++i)if((a=f.ads[i]).checked||b){for(v.push({title:a.adName.escapeHTML(),type:"flag",nullLabel:this.tc("notincluded")}),y.push({title:Format.brandName(a.brandAdvertised.escapeHTML(),a.brandType)}),o=[],n=0,r=a.adFeatures.length;n<r;++n)o[a.adFeatures[n].featureID]=a.adFeatures[n].priority;D.push(a),w.push(o)}for(l=[{cols:y,type:"head"}],c=0,h=f.adGroups.length;c<h;++c){for(m=!1,d=[],n=0,r=(u=f.adGroups[c]).adFeatures.length;n<r;++n){for(p=[u.adFeatures[n].featureName],g=!1,i=0,s=D.length;i<s;++i)void 0!==w[i][u.adFeatures[n].featureID]?(p.push(w[i][u.adFeatures[n].featureID]),g=!0):p.push(null);g&&(m=!0,d.push(p))}for(m&&""!=u.groupName&&l.push({title:u.groupName}),n=0,r=d.length;n<r;n++)l.push(d[n])}this.adTable=new DecisionTable(this.tc("yourAds"),"adTable",v,l),this.adTable.clear="",this.adTable.vertical=!0,this.adTable.change("replace",this.adTable.draw()),this.adTable.observe(),this.resizeContent()}},observe:function(){this.filter.observe(),this.redrawTable(!1,!0)},resize:function(){this.filter.resize()}})},52084:()=>{window.CompareBrands=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",initSettings:function(){return{filter:null}},draw:function(){var t,e=this.data.staticData;return e.hasLogistics?(this.filter=new MultiLevelFilter(this.tc("by_company_by_brand"),"bd_filter","blue",this.settings.filter,this.redrawTable.bind(this),e.brands,"teamID","companyName",this.tc("company"),"brands","brandID","brandName",this.tc("brand")),this.filter.drawSubName=function(t,e){return Format.brandName(t[e].escapeHTML(),t.brandType)}):(t=e.brands.length>0?e.brands[0].brands:[],this.filter=new MultiLevelFilter(this.tc("by_brand"),"bd_filter","blue",this.settings.filter,this.redrawTable.bind(this),t,"brandID","brandName",this.tc("brand")),this.filter.drawName=function(t,e){return Format.brandName(t[e].escapeHTML(),t.brandType)}),this.bdTable=new DecisionTable(this.tc("yourBrands"),"bdTable",[],[],!0),this.filter.draw()+this.bdTable.draw()},redrawTable:function(t,e){if(t&&(this.settings.filter=this.filter.settings,this.saveSettings()),e){var i,s,a,n,r,o,l,d,c,h,p,u,g,m,b,f,v,y,w=this.data.staticData,D=[],_=[{title:this.tc("brand")}],I=[],x=[];for(y=this.filter.noFilterSet(),i=0,s=w.brands.length;i<s;++i)for(n=0,r=(a=w.brands[i]).brands.length;n<r;++n)if((u=a.brands[n]).checked||y){for(_.push({title:Format.brandName(u.brandName.escapeHTML(),u.brandType),type:"flag",trueLabel:this.tc("included"),falseLabel:this.tc("notincluded")}),g=[],o=0,l=u.brandFeatures.length;o<l;++o)g[u.brandFeatures[o]]=!0;x.push(u),I.push(g)}for(d=0,c=w.componentGroups.length;d<c;++d){for(v=!1,m=[],o=0,l=(h=w.componentGroups[d]).brandFeatures.length;o<l;++o){for(p=h.brandFeatures[o],b=[Format.rdFeatureName("",p.featureName,p.featureTypes,w.brandTypes,!0)],f=!1,n=0,r=x.length;n<r;++n)void 0!==I[n][p.featureID]?(b.push(!0),f=!0):b.push(!1);f&&(v=!0,m.push(b))}for(v&&""!=h.groupName&&D.push({title:h.groupName}),o=0,l=m.length;o<l;o++)D.push(m[o])}this.bdTable=new DecisionTable(this.tc("yourBrands"),"bdTable",_,D),this.bdTable.clear="",this.bdTable.vertical=!0,this.bdTable.change("replace",this.bdTable.draw()),this.bdTable.observe(),this.resizeContent()}},observe:function(){this.filter.observe(),this.redrawTable(!1,!0)},resize:function(){this.filter.resize()}})},10915:()=>{window.CompareDesigns=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",initSettings:function(){return{filter:null}},draw:function(){return this.filter=new MultiLevelFilter(this.tc("by_segment_by_design"),"bd_filter","blue",this.settings.filter,this.redrawTable.bind(this),this.data.staticData.segments,"segmentID","segmentName",this.tc("segment"),"brands","brandID","brandName",this.tc("brand")),this.filter.drawSubName=function(t,e){return Format.brandName(t[e].escapeHTML(),t.brandType)},this.bdTable=new DecisionTable(this.tc("brandDesigns"),"bdTable",[],[],!0),this.filter.draw()+this.bdTable.draw()},redrawTable:function(t,e){if(t&&(this.settings.filter=this.filter.settings,this.saveSettings()),e){var i,s,a,n,r,o,l,d,c,h,p,u,g,m,b,f,v=this.data.staticData,y=[],w=[{title:this.tc("brand")}],D=[],_=[];for(f=this.filter.noFilterSet(),i=0,s=v.segments.length;i<s;i++)for(n=0,r=(a=v.segments[i]).brands.length;n<r;n++)if((o=a.brands[n]).checked||f){for(w.push({title:Format.brandName(o.brandName.escapeHTML(),o.brandType),type:"flag",trueLabel:this.tc("included"),falseLabel:this.tc("notincluded")}),g=[],l=0,d=o.brandFeatures.length;l<d;l++)g[o.brandFeatures[l]]=!0;_.push(o),D.push(g)}for(c=0,h=v.componentGroups.length;c<h;c++)for(p=v.componentGroups[c],y.push({title:p.groupName}),l=0,d=p.brandFeatures.length;l<d;l++){for(u=p.brandFeatures[l],m=[Format.rdFeatureName("",u.featureName,u.featureTypes,v.brandTypes,!0)],b=!1,n=0,r=_.length;n<r;n++)void 0!==D[n][u.featureID]?(m.push(!0),b=!0):m.push(!1);b&&y.push(m)}this.bdTable=new DecisionTable(this.tc("brandDesigns"),"bdTable",w,y),this.bdTable.clear="",this.bdTable.vertical=!0,this.bdTable.change("replace",this.bdTable.draw()),this.bdTable.observe(),"undefined"!=typeof Engine&&Engine.areas.body.resizeContent()}},observe:function(){this.filter.observe(),this.redrawTable(!1,!0)},resize:function(){this.filter.resize()}})},56165:(t,e,i)=>{"use strict";var s=i(93037);window.CompetencyReport=Decision.extend({viewModeButtons:[],modifyModeButtons:[],exportType:"pdf",tabset:null,draw:function(){this.charts={};var t=this.data.staticData.student;return this.tabset=new Tabset("strategicGraphsTabset",this.changeTab.bind(this),"strgrph"),this.tabset.addTab(0,this.tc("CompetencySummary"),this.summaryReport(t)),this.tabset.addTab(1,this.tc("CompetencyDetailedReport"),this.detailedReport(t)),this.tabset.draw()},observe:function(){this.charts.performance=this.setPerformanceChartData("graph_performance"),this.charts.effort=this.setEffortChartData("graph_effort"),this.charts.competency=this.setCompetencyChartData(1,0,"competency","graph_competency"),this.charts.shortcoming=this.setCompetencyChartData(2,1,"shortcoming","graph_shortcoming"),this.charts.recovery=this.setCompetencyChartData(1,0,"recovery","graph_recovery"),j$("#decision").css({background:"#f0efef"}),this.tabset.observe()},summaryReport:function(t){var e=this.data.staticData.studentCompetencies,i=194/e.competency.length,s=i*e.shortcoming.length+56,a=i*e.recovery.length+56,n=s+a+6;return'<div class="competencyPlayerName">'+t.firstName+" "+t.lastName+", "+t.companyName+'</div><div class="chartCompContainer"><div class="comp-item comp-item-1"><div id="graph_performance" style="background-color:white;height:250px;width:240px;"></div></div><div class="comp-item comp-item-2"><div id="graph_competency" style="width:380px; height:250px;"></div></div><div class="comp-item comp-item-3"><div id="graph_effort" style="background-color:white;width:240px; height:'+n+'px;"></div></div><div class="comp-item comp-item-4"><div id="graph_shortcoming" style="width:380px; height:'+s+'px;"></div></div><div class="comp-item comp-item-5"><div id="graph_recovery" style="width:380px; height:'+a+'px;"></div></div></div><p class="competencyChartDesc">'+this.tc("common:ChartValueInPercentile")+"</p>"},changeTab:function(){j$("#showRecommendations").unbind(),j$("#showRecommendations").on("click",(function(){j$(".recommendationDesc").toggle()})),this.tabset.isActive(1)&&(this.charts.performanceDetail=this.setPerformanceChartData("graph_detail_performance"),this.charts.workActivities=this.setEffortDetailChartData("graph_detail_effort"),this.charts.timeSpent=this.setEffortDetailChartDataTimeSpent("graph_detail_effort_ts")),this.resizeContent()},getTimeSpentPercentile:function(){return this.getCompetencyByName("TimeSpentEffort","effort").percentile},getActivitiesPercentile:function(){return this.getCompetencyByName("ActivitiesEffort","effort").percentile},getTimeSpentAverage:function(){return this.data.staticData.pools.effort_time_spent_2.distribution.average},getActivitiesAverage:function(){return this.data.staticData.pools.effort_activities_2.distribution.average},br2space:function(t){return t.replace(/<br\s*\/?>/gm," ")},setEffortDetailChart:function(t,e,i,s,a){if(Live.useSvg()){var n=j$.extend(!0,{},this.data.staticData.effortDetailChartTemplate);return n.title.fillStyle.color="ffffff",n.title.margin.left=10,n.title.fontStyle.bold=!1,n.chartSettings.barSpace=.25,n.chartSettings.labelPosition="inner",j$.extend(n.data,{title:e,xAxis:"",yAxis:"",labels:[""],colorIds:[a],x:[0],y:[[s]],minY:0,maxY:100,saveUrl:this.st("common:saveChartURL"),saveName:i,valueSuffix:"%"}),SvgCharts.BaseChart.setChartData(t,n)}},setEffortDetailChartDataTimeSpent:function(t){return this.setEffortDetailChart(t,this.br2space(this.tc("timeSpent")),"effort-time-spent",this.getTimeSpentPercentile(),10)},setEffortDetailChartData:function(t){return this.setEffortDetailChart(t,this.br2space(this.tc("workActivities")),"effort-activities",this.getActivitiesPercentile(),0)},setPerformanceChartData:function(t){if(Live.useSvg()){var e=this.data.staticData.studentCompetencies,i=e.hasOwnProperty("performance")?e.performance[0]:{points:0},a=j$.extend(!0,{},this.data.staticData.performanceChartTemplate);return j$.extend(a.data,{title:this.tc("totalPerformance"),xAxis:"",yAxis:"",labels:[""],colorIds:[0],x:[""],y:[[i.points]],totalY:100,saveUrl:this.st("common:saveChartURL"),saveName:"performance"}),a.data.text.label=s.Format.number(i.points,2)+"%",SvgCharts.BaseChart.setChartData(t,a)}},setEffortChartData:function(t){if(Live.useSvg()){var e=j$.extend(!0,{},this.data.staticData.effortChartTemplate);return j$.extend(e.data,{title:this.tc("titleChart_effort"),xAxis:"",yAxis:"",labels:[this.tc("workActivities"),this.tc("timeSpent")],colorIds:[0,10],x:[""],y:[[this.getActivitiesPercentile(),this.getTimeSpentPercentile()]],dsX:1,dsY:1,minY:0,maxX:10,maxY:100,saveUrl:this.st("common:saveChartURL"),saveName:"effort",valueSuffix:"%"}),SvgCharts.BaseChart.setChartData(t,e)}},setCompetencyChartData:function(t,e,i,s){if(Live.useSvg()){var a=j$.extend(!0,{},this.data.staticData.chartTemplate),n=this.data.staticData.studentCompetencies[i],r=0,o=100,l=1,d=parseInt(j$("#"+s).css("width"));1==t?(a.chartSettings.labelAlign="left",a.chartSettings.valueAlign="right",a.chartArea.maxLabelWidth=150):(r=-100,o=0,l=-1,a.chartSettings.labelAlign="right",a.chartSettings.valueAlign="left",a.chartArea.maxLabelWidth=d-150-a.chartArea.margin.left-a.chartArea.margin.right-2*a.chartArea.vLabels.areaMargin),a.chartArea.minLabelWidth=a.chartArea.maxLabelWidth,j$.extend(a.data,{title:this.tc("titleChart_"+i),xAxis:"",yAxis:"",labels:[],colorIds:[],x:[0],y:[[]],minY:r,maxY:o,saveUrl:this.st("common:saveChartURL"),saveName:i,valueSuffix:"%"});for(var c=0;c<n.length;++c)a.data.labels[c]=this.tc("common:"+n[c].detail.competencyName),a.data.colorIds[c]=e,a.data.y[0][c]=null===n[c].percentile?this.tc("common:na"):l*n[c].percentile;return SvgCharts.BaseChart.setChartData(s,a)}},getCompetencyName:function(t){for(var e=this.data.staticData.competencies,i=0;i<e.length;i++)if(t==e[i].competencyID)return e[i];return null},getCompetencyByName:function(t,e){for(var i=this.data.staticData.studentCompetencies[e],s=0;s<i.length;s++)if(t==i[s].detail.competencyName)return i[s];return null},detailedReport:function(t){var e,i="";e=this.data.staticData.studentCompetencies.competency;for(var s=0;s<e.length;++s)i+=this.getCompDetailItem(e[s],t);e=this.data.staticData.studentCompetencies.shortcoming;for(var a=0;a<e.length;++a)i+=this.getCompDetailItem(e[a],t);e=this.data.staticData.studentCompetencies.recovery;for(var n=0;n<e.length;++n)i+=this.getCompDetailItem(e[n],t);return'<div class="competencyPlayerName">'+t.firstName+" "+t.lastName+", "+t.companyName+'</div><div class="chartCompContainer"><div class="comp-item comp-summary-item-1"><div id="graph_detail_performance" style="background-color:white;width:240px;height:250px;"></div></div><div class="comp-item comp-summary-item-2"><div style="background-color: #f0efef;font-family: Roboto;font-size: 20px;color: #000000; padding: 7px 0 9px;font-weight: bold;">'+this.tc("competencyEffort")+'</div><div id="graph_detail_effort" style="background-color:white;width:380px; height:102px;"></div></div><div class="comp-item comp-summary-item-3"><div id="graph_detail_effort_ts" style="background-color:white;width:380px; height:102px;"></div></div></div><p class="competencyChartDesc">'+this.tc("common:ChartValueInPercentile")+'</p><div class="compDetailtContainer"><div style="margin: 5px 0px"><label class="labelRight checkboxLabel" for="showRecommendations"><input id="showRecommendations" type="checkbox" name="showRecommendations"> &nbsp;'+this.tc("showRecommendations")+'</label></div><font style="background-color: #f0efef; font-size: 20px;color: #000000;padding: 5px 0px;font-weight: bold">'+this.tc("CompetenciesListName")+"</font><p>"+this.tc("CompetenciesListDesc")+'</p><div class="compListItemsContainer" style="background-color:#ffffff">'+i+"</div></div>"},getCompDetailItem:function(t,e){return'<div class="comp-detail-item"><font class="compListItemTitle">'+this.tc("common:"+t.detail.competencyName)+'</font>  <div style="display: flex;align-items: center;">'+(null===t.percentile?this.tc("common:na"):this.progressChart(t.percentile)+"<div>"+s.Format.number(t.percentile)+"%</div>")+"</div>"+this.tc(t.detail.competencyName+"Definition")+" "+this.getPerformance(t,e)+(t.showRecommendation?'<div class="recommendationDesc"><span style="font-weight: bold;">'+this.tc("HowImprove")+"</span><br/>"+this.tc(t.detail.competencyName+"Recommend")+"</div>":"")+"</div>"},progressChart:function(t){return'<div style="margin: 9px 0px; margin-right: 5px; display: inline-block; height: 5px; background-color: #167df7; width:'+5*t+'px"></div>'},getPerformance:function(t,e){return null!==t?(t.hasOwnProperty("performanceSetback")?this.tc("SetbackCompetency"+t.performanceSetback,{NAME:e.firstName})+" ":"")+this.tc(t.detail.competencyName+t.performanceName,{NAME:e.firstName}):""},export:function(){var t,e,i=this,s="summary",a="N";this.tabset.isActive(1)?(s="detail",a=j$("#showRecommendations").is(":checked")?"Y":"N",t=["performanceDetail","workActivities","timeSpent"],e=[this.charts.performanceDetail.getChartPngDataURL(2),this.charts.workActivities.getChartPngDataURL(2),this.charts.timeSpent.getChartPngDataURL(2)]):(t=["performance","effort","competency","shortcoming","recovery"],e=[this.charts.performance.getChartPngDataURL(2),this.charts.effort.getChartPngDataURL(2),this.charts.competency.getChartPngDataURL(2),this.charts.shortcoming.getChartPngDataURL(2),this.charts.recovery.getChartPngDataURL(2)]),Promise.all(e).then((function(e){var n=document.createElement("form");document.body.appendChild(n),n.action=i.getExportUrl(),n.method="post",n.innerHTML='<input type="hidden" name="tab" value="'+s+'"/><input type="hidden" name="recommendations" value="'+a+'"/>'+t.reduce((function(t,e){return t+'<input type="hidden" name="'+e+'"/>'}),""),e.forEach((function(e,i){n.elements[t[i]].value=e})),n.submit(),n.remove()}))}})},86985:()=>{window.CompetitorAnalysis=Decision.extend({style:"padding: 10px 10px 0px 10px;",hideButtonsInLastQuarter:!1,read:function(){var t,e,i,s,a,n,r,o,l,d=this.data.staticData,c=d.competitors.length,h=d.thrustGroups.length,p=this.data.decisions.competitors.toLookUp("teamID");for(t=0;t<c;++t)for((o=p[r=d.competitors[t].teamID]).levelOfThreat=this.value("levelOfThreat_"+r),o.aggressiveness=this.value("aggressiveness_"+r),d.selling&&(o.targetSegment1=this.value("targetSegment1_"+r),o.targetSegment2=this.value("targetSegment2_"+r)),o.significantStrengths=this.value("significantStrengths_"+r),o.significantWeaknesses=this.value("significantWeaknesses_"+r),o.changesInTactics=this.value("changesInTactics_"+r),o.thrusts=[],e=0;e<h;++e)for(s=0,a=(i=d.thrustGroups[e]).thrusts.length;s<a;++s)n=i.thrusts[s],i.multiSelect?(l=this.value("thrust_"+n.id+"_"+r))>0&&o.thrusts.push({id:n.id,group:i.id,value:l}):this.value("thrust_"+i.id+"_"+r+"_"+n.id)&&o.thrusts.push({id:n.id,group:i.id,value:0})},write:function(){var t,e,i,s,a,n,r,o,l,d=this.data.staticData,c=d.competitors.length,h=d.thrustGroups.length,p=this.data.decisions.competitors.toLookUp("teamID");for(t=0;t<c;++t){o=p[r=d.competitors[t].teamID],this.setValue("levelOfThreat_"+r,o.levelOfThreat),this.setValue("aggressiveness_"+r,o.aggressiveness),d.selling&&(this.setValue("targetSegment1_"+r,o.targetSegment1),this.setValue("targetSegment2_"+r,o.targetSegment2)),this.setValue("significantStrengths_"+r,o.significantStrengths),this.setValue("significantWeaknesses_"+r,o.significantWeaknesses),this.setValue("changesInTactics_"+r,o.changesInTactics);var u=o.thrusts.toLookUp("id");for(e=0;e<h;++e)for(s=0,a=(i=d.thrustGroups[e]).thrusts.length;s<a;++s)l=void 0!==u[(n=i.thrusts[s]).id],i.multiSelect?this.setValue("thrust_"+n.id+"_"+r,l?u[n.id].value:0):this.setValue("thrust_"+i.id+"_"+r+"_"+n.id,l?n.id:0)}},writeErrors:function(){var t,e,i,s,a,n,r,o,l,d=this.data.staticData,c=d.competitors.length,h=d.thrustGroups.length,p=this.data.errors.decisions.competitors.toLookUp("teamID");for(t=0;t<c;++t){o=p[r=d.competitors[t].teamID],this.writeError("levelOfThreat_"+r,o.levelOfThreat),this.writeError("aggressiveness_"+r,o.aggressiveness),d.selling&&(this.writeError("targetSegment1_"+r,o.targetSegment1),this.writeError("targetSegment2_"+r,o.targetSegment2)),this.writeError("significantStrengths_"+r,o.significantStrengths),this.writeError("significantWeaknesses_"+r,o.significantWeaknesses),this.writeError("changesInTactics_"+r,o.changesInTactics);var u=o.thrusts.toLookUp("id");for(e=0;e<h;++e)for(s=0,a=(i=d.thrustGroups[e]).thrusts.length;s<a;++s)l=void 0!==u[(n=i.thrusts[s]).id],i.multiSelect?this.writeError("thrust_"+n.id+"_"+r,l?u[n.id].value:null):this.writeError("thrust_"+i.id+"_"+r+"_"+n.id,l?n.general:null)}},draw:function(t){var e,i,s,a,n,r,o,l,d,c,h,p=this.data.staticData,u=p.competitors.length,g=p.thrustGroups.length,m=this.data.decisions.competitors.toLookUp("teamID"),b=0,f=[{title:""}],v=[{title:"",rowspan:2}],y=[],w=[];if(this.lowHigh=[{v:3,t:this.tc("high")},{v:2,t:this.tc("medium")},{v:1,t:this.tc("low")}],this.yesNo=[{v:1,t:this.tc("yes")},{v:2,t:this.tc("no")}],0==u)return t?"":(this.viewModeButtons=[],this.modifyModeButtons=[],this.noCompetitionLabel=new DecisionLabel(this.service,"noCompetitionLabel",this.tc("common:noCompetition"),"","stone"),this.noCompetitionLabel.draw());for(this.noCompetitionLabel=null,e=0;e<u;++e)b++,f.push({title:"",align:"center"}),y.push({title:p.competitors[e].companyName.escapeHTML(),type:"flag"});for(v.push({title:this.tc("company"),colspan:b}),w.push({cols:v,type:"head"}),w.push({cols:y,type:"head"}),w.push({values:[this.tc("levelOfThreat")]},{values:[this.tc("aggressiveness")]}),p.selling&&w.push({values:[this.tc("targetMarketsPrimary")]},{values:[this.tc("targetMarketsSecondary")]}),i=0;i<g;++i)for(s=p.thrustGroups[i],w.push({title:s.text}),a=0,n=s.thrusts.length;a<n;++a)w.push([s.thrusts[a].text]);for(i>0&&w.push({title:this.tc("other")}),w.push({values:[this.tc("significantStrengths")]}),w.push({values:[this.tc("significantWeaknesses")]}),w.push({values:[this.tc("changesInTactics")]}),e=0;e<u;++e){for(d=m[l=p.competitors[e].teamID],r=2,w[r++].values.push(this.com("combobox","levelOfThreat_"+l,d.levelOfThreat,{},this.lowHigh,"v","t",0,"")),w[r++].values.push(this.com("combobox","aggressiveness_"+l,d.aggressiveness,{},this.lowHigh,"v","t",0,"")),p.selling&&(w[r++].values.push(this.com("combobox","targetSegment1_"+l,d.targetSegment1,{},p.segments,"segmentID","name",0,"")),w[r++].values.push(this.com("combobox","targetSegment2_"+l,d.targetSegment2,{},p.segments,"segmentID","name",0,""))),c=d.thrusts.toLookUp("id"),i=0;i<g;++i)for(r++,a=0,n=(s=p.thrustGroups[i]).thrusts.length;a<n;++a){var D;h=void 0!==c[(o=s.thrusts[a]).id],D=s.multiSelect?this.com("combobox","thrust_"+o.id+"_"+l,h?c[o.id].value:0,{},this.yesNo,"v","t",0,this.tc("notSure")):this.com("radio","thrust_"+s.id+"_"+l,h?o.id:0,{},o.id),w[r++].push(D)}i>0&&r++,w[r++].values.push(this.com("memo","significantStrengths_"+l,d.significantStrengths,{rows:7,cols:15})),w[r++].values.push(this.com("memo","significantWeaknesses_"+l,d.significantWeaknesses,{rows:7,cols:15})),w[r++].values.push(this.com("memo","changesInTactics_"+l,d.changesInTactics,{rows:7,cols:15}))}return this.caTable=new DecisionTable(this.tc("competitorAnalysis"),"caTable_"+this.service,f,w,!0),this.caTable.vertical=!0,t&&(this.caTable.tableCorners=""),this.caTable.draw()},observe:function(){null!=this.noCompetitionLabel?(this.noCompetitionLabel.observe(),this.noCompetitionLabel.change("float","left")):this.caTable.observe()},drawSOD:function(){this.setValue(this.pfxSod+this.service,this.draw(!0)),this.disable()}})},18734:()=>{window.CompetitorsAds=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",initSettings:function(){return{filter:null}},draw:function(){return this.filter=new MultiLevelFilter(this.tc("by_company_by_ad"),"tm_ad_filter","blue",this.settings.filter,this.redrawTable.bind(this),this.data.staticData.teams,"teamID","companyName",this.tc("company"),"ads","adID","adName",this.tc("ad")),this.filter.drawSubName=function(t,e){return Format.brandName(t[e].escapeHTML(),t.brandType)},this.adTable=new DecisionTable(this.tc("competitorsAds"),"adTable",[],[],!0),this.filter.draw()+this.adTable.draw()},redrawTable:function(t,e){if(t&&(this.settings.filter=this.filter.settings,this.saveSettings()),e){var i,s,a,n,r,o,l,d,c,h,p,u,g,m,b,f,v,y,w,D=this.data.staticData,_=[],I="",x=[{title:""}],T=[{title:"",rowspan:2}],C=[],L=[{title:this.tc("brandAdv")}],S=[],k=[],P=0;for(w=this.filter.noFilterSet(),s=0,a=D.teams.length;s<a;++s)for(n=0,r=(p=D.teams[s]).ads.length;n<r;++n)if((u=p.ads[n]).checked||w){for(P++,x.push({title:"",type:"flag",nullLabel:this.tc("notincluded")}),C.push({title:u.adName.escapeHTML()}),L.push({title:Format.brandName(u.brandAdvertised.escapeHTML(),u.brandType)}),g=[],d=0,c=u.adFeatures.length;d<c;++d)g[u.adFeatures[d].featureID]=u.adFeatures[d].priority;k.push(u),S.push(g)}for(0==k.length&&x.push({title:""}),T.push({title:this.tc("ad"),colspan:P}),_.push({cols:T,type:"head"}),_.push({cols:C,type:"head"}),_.push({cols:L,type:"normal"}),o=0,l=D.adGroups.length;o<l;++o){for(f=!1,i=[],d=0,c=(h=D.adGroups[o]).adFeatures.length;d<c;++d){for(m=[(v=h.adFeatures[d]).featureName],b=!1,n=0,r=k.length;n<r;++n)void 0!==S[n][v.featureID]?(m.push(S[n][v.featureID]),b=!0):m.push(null);b&&(f=!0,i.push(m))}for(f&&""!=h.groupName&&_.push({title:h.groupName}),d=0,c=i.length;d<c;d++)_.push(i[d])}0==k.length?(this.viewModeButtons=[],this.modifyModeButtons=[],I+=(""!=I?"<br />":"")+this.tc("common:noAdsAll"),y=new DecisionLabel(this.service,"emptyLabel",I,"","blue"),this.adTable.change("replace",y.draw()),y.observe(),y.change("float","left"),this.adTable=y):((y=new DecisionTable(this.tc("competitorsAds"),"adTable",x,_,!0)).vertical=!0,y.clear="",this.adTable.change("replace",y.draw()),y.observe(),this.adTable=y),this.resizeContent()}},observe:function(){this.filter.observe(),this.redrawTable(!1,!0)},resize:function(){this.filter.resize()}})},69654:()=>{window.CompetitorsBrands=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",initSettings:function(){return{filter:null}},draw:function(){return this.filter=new MultiLevelFilter(this.tc("by_company_by_brand"),"tm_bd_filter","blue",this.settings.filter,this.redrawTable.bind(this),this.data.staticData.teams,"teamID","companyName",this.tc("company"),"brands","brandID","brandName",this.tc("brand")),this.filter.drawSubName=function(t,e){return Format.brandName(t[e].escapeHTML(),t.brandType)},this.bdTable=new DecisionTable(this.tc("competitorsBrands"),"bdTable",[],[],!0),this.filter.draw()+this.bdTable.draw()},redrawTable:function(t,e){if(t&&(this.settings.filter=this.filter.settings,this.saveSettings()),e){var i,s,a,n,r,o,l,d,c,h,p,u,g,m,b,f,v,y=this.data.staticData,w=[],D="",_=[{title:""}],I=[{title:this.tc("component"),rowspan:2}],x=[],T=0,C=[],L=[];for(v=this.filter.noFilterSet(),i=0,s=y.teams.length;i<s;++i)for(a=0,n=(l=y.teams[i]).brands.length;a<n;++a)if((d=l.brands[a]).checked||v){for(_.push({title:"",type:"flag",trueLabel:this.tc("included"),falseLabel:this.tc("notincluded")}),T++,x.push({title:Format.brandName(d.brandName.escapeHTML(),d.brandType)}),f=[],r=0,o=d.brandFeatures.length;r<o;++r)f[d.brandFeatures[r]]=!0;L.push(d),C.push(f)}for(0==L.length&&_.push({title:""}),I.push({title:this.tc("brand"),colspan:T}),w.push({cols:I,type:"head"}),w.push({cols:x,type:"head"}),i=0,s=y.componentGroups.length;i<s;++i){for(g=!1,m=[],r=0,o=(c=y.componentGroups[i]).brandFeatures.length;r<o;++r){for(h=c.brandFeatures[r],p=[Format.rdFeatureName("",h.featureName,h.featureTypes,y.brandTypes,!0)],u=!1,a=0,n=L.length;a<n;++a)void 0!==C[a][h.featureID]?(p.push(!0),u=!0):p.push(!1);u&&(g=!0,m.push(p))}for(g&&""!=c.groupName&&w.push({title:c.groupName}),r=0,o=m.length;r<o;r++)w.push(m[r])}0==L.length?(this.viewModeButtons=[],this.modifyModeButtons=[],D+=(""!=D?"<br />":"")+this.tc("common:noBrandsAll"),b=new DecisionLabel(this.service,"emptyLabel",D,"","blue"),this.bdTable.change("replace",b.draw()),b.observe(),b.change("float","left"),this.bdTable=b):((b=new DecisionTable(this.tc("competitorsBrands"),"bdTable",_,w,!0)).vertical=!0,b.clear="",this.bdTable.change("replace",b.draw()),b.observe(),this.bdTable=b),this.resizeContent()}},observe:function(){this.filter.observe(),this.redrawTable(!1,!0)},resize:function(){this.filter.resize()}})},60381:()=>{window.CompetitorsInCity=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",draw:function(){var t,e,i,s,a,n,r,o,l,d=this.data.staticData,c=[],h={},p=[" "],u=[{title:this.tc("city")}],g="";for(d.teams.forEach((function(t,e){u.push({title:t.companyName.escapeHTML(),type:"flag"}),h[t.teamID]=e+1,p.push(!1)})),this.cicTables=[],t=0,e=d.regions.length;t<e;++t){var m;for(c=[],s=0,a=(i=d.regions[t]).cities.length;s<a;++s){for(n=i.cities[s],(m=p.slice(0))[0]=n.cityName,r=0,o=n.teams.length;r<o;++r)m[h[n.teams[r]]]=!0;c.push(m)}if(d.hasWeb){for((m=p.slice(0))[0]=this.tc("webCenter"),r=0,o=i.teams.length;r<o;++r)m[h[i.teams[r]]]=!0;c.push({values:m,hrbefore:!0})}(l=new DecisionTable(i.regionName,"cicTable_"+i.regionID,u,c)).vertical=!0,this.cicTables.push(l),g+=l.draw()}return g},observe:function(){var t,e;for(t=0,e=this.cicTables.length;t<e;t++)this.cicTables[t].observe();DecisionTable.setMaxColWidths(this.cicTables,0)},resize:function(){DecisionTable.setMaxColWidths(this.cicTables,0)}})},52034:(t,e,i)=>{"use strict";i(60381),window.CompetitorsInCityAnim=CompetitorsInCity.extend({viewModeButtons:[],modifyModeButtons:[],style:"",initialize:function(t){this._super("CompetitorsInCity")},loadPositions:function(){var t,e=this.data.staticData.regions.length,i=[];for(t=0;t<e;t++)i[this.data.staticData.regions[t].regionID]=[];return 1===e&&(i[1][1]={x:"14.5",y:"26.5",situated:"right",maxheight:135,table:"top:20px;max-height:135px;"},i[1][2]={x:"32",y:"69",situated:"right",maxheight:96,table:"top:20px;max-height:96px;"},i[1][3]={x:"48",y:"25",situated:"right",maxheight:96,table:"top:20px;left:0px;max-height:96px;"},i[1][4]={x:"88",y:"34",situated:"left",maxheight:150,table:"top:20px;max-height:150px;"}),i},resize:function(){var t,e,i,s,a,n,r=j$("#decision"),o=r.width()/700,l=this.data.staticData;for(r.children().first().css("height",400*o),t=0,e=l.regions.length;t<e;++t)for(s=0,a=(i=l.regions[t]).cities.length;s<a;++s)n=i.cities[s],j$("#cicTableWrap_"+i.regionID+"_"+n.cityID).css({"max-height":o*this.positions[i.regionID][n.cityID].maxheight+"px"})},draw:function(){var t,e,i,s,a,n,r=this.data.staticData,o="";for(this.positions=this.loadPositions(),t=0,e=r.regions.length;t<e;++t)for(s=0,a=(i=r.regions[t]).cities.length;s<a;++s)n=i.cities[s],o+=this.drawCity(i.regionID,n.cityID,n.cityName);return o},drawCityTable:function(t,e,i){var s,a,n,r=this.positions[t][e],o=this.data.staticData,l="",d=[],c=o.regions.toLookUp("regionID")[t].cities.toLookUp("cityID")[e].teams;if(o.hasWeb)for(s=0,a=o.teams.length;s<a;s++)-1==c.indexOf(o.teams[s])&&c.push(o.teams[s]);for(s=0,a=o.teams.length;s<a;s++)-1!=c.indexOf(o.teams[s].teamID)&&(n=o.teams[s],d.push([n.companyName.escapeHTML()]));return 0!=d.length?((l=new DecisionTable(i,"cicTable_"+t+"_"+e,[{title:"",styleClass:"rightAlign",style:"padding-right:3px;"}],d,!0)).hideTitle=!0,'<div id="cicTableWrap_'+t+"_"+e+'" style="'+(void 0===r.table?"top:20px;max-height:96px;":r.table)+'overflow-x:hidden;overflow-y:auto;position:absolute;"><div style="overflow:visible;width:120px;">'+l.draw()+"</div></div>"):""},drawCity:function(t,e,i){var s,a,n="",r=this.positions[t][e];s='<div aria-hidden="true" id="cityLabel_'+t+"_"+e+'" class="cityLabel cityLabelBck" style="position:relative;">'+i+"</div>",a='<div id="cityMarker_'+t+"_"+e+'" class="cityMarker"></div>';var o=this.drawCityTable(t,e,i);return"right"==r.situated?n+='<div id="city_'+t+"_"+e+'" style="position:absolute;top:'+r.y+"%;left:"+r.x+'%;">'+a+'<div style="margin-left:4px;position:relative;float:right;">'+o+s+"</div></div>":"left"==r.situated&&(n+='<div id="city_'+t+"_"+e+'" style="position:absolute;top:'+r.y+"%;right:"+(100-r.x)+'%;">'+a+'<div style="margin-right:4px;position:relative;float:left;">'+o+s+"</div></div>"),n},observe:function(){}})},96234:()=>{window.CompetitorsLocalAdvertising=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",initSettings:function(){return{filter:null}},draw:function(){var t,e,i,s,a,n,r=this.data.staticData,o=r.teams,l=o.length,d="";this.filter=new MultiLevelFilter(this.tc("by_company_by_ad"),"tm_ad_filter","blue",this.settings.filter,this.redrawTables.bind(this),o,"teamID","companyName",this.tc("company"),"ads","adID","name",this.tc("ad")),this.filter.drawSubName=function(t,e){return Format.brandName(t[e].escapeHTML(),t.brandType)},this.adTables=[];var c=[{title:this.tc("city")},{title:this.tc("company")},{title:this.tc("ad"),vline:!0},{title:this.tc("brandAdvertised")},{title:this.tc("inserts"),type:"number"}];for(t=0,e=r.regions.length;t<e;++t)(i=r.regions[t]).mrBought&&i.adsIn>0&&(n=new DecisionTable(i.regionName,"adTable_"+i.regionID,c,[]),this.adTables.push({id:i.regionID,table:n}),d+=n.draw());for(this.tl=o.toLookUp("teamID"),this.al=[],s=0;s<l;++s)a=o[s],this.al[a.teamID]=a.ads.toLookUp("adID");return this.totalTable=new DecisionTable(this.tc("totalInserts"),"totalTable",[{title:this.tc("company")},{title:this.tc("inserts"),type:"number"}],[]),this.filter.draw()+'<table><tr style="vertical-align:top;"><td>'+d+"</td><td>"+this.totalTable.draw()+'</tr></table><div id="noLabel"></div>'},redrawTables:function(t,e){if(t&&(this.settings.filter=this.filter.settings,this.saveSettings()),e){var i,s,a,n,r,o,l,d,c,h,p,u,g,m=this.data.staticData,b=[],f=[],v=[],y="",w=[{title:this.tc("city")},{title:this.tc("company")},{title:this.tc("ad"),vline:!0},{title:this.tc("brandAdvertised")},{title:this.tc("inserts"),type:"number"}],D=m.teams,_=D.length,I=this.adTables.toLookUp("id");for(g=this.filter.noFilterSet(),h=0;h<_;++h)(p=D[h]).cTotal=0,p.cChecked=!1;for(i=0,s=m.regions.length;i<s;++i)if(b=[],(a=m.regions[i]).mrBought)if(0==a.adsIn)f.push(a.regionName);else{for(n=0,r=a.cities.length;n<r;++n)for(l=0,d=(o=a.cities[n]).ads.length;l<d;++l)c=o.ads[l],(this.al[c.teamID][c.adID].checked||g)&&(p=this.tl[c.teamID],b.push([o.cityName,p.companyName.escapeHTML(),this.al[c.teamID][c.adID].name.escapeHTML(),Format.brandName(this.al[c.teamID][c.adID].brandAdvertised.escapeHTML(),this.al[c.teamID][c.adID].brandType),c.inserts]),p.cTotal+=c.inserts,p.cChecked=!0);u=new DecisionTable(a.regionName,"adTable_"+a.regionID,w,b),I[a.regionID].table.change("replace",u.draw()),I[a.regionID].table=u,u.observe()}else v.push(a.regionName);for(b=[],h=0;h<_;++h)D[h].cChecked&&b.push([D[h].companyName.escapeHTML(),D[h].cTotal]);this.totalTable=new DecisionTable(this.tc("totalInserts"),"totalTable",[{title:this.tc("company")},{title:this.tc("inserts"),type:"number"}],b),this.totalTable.clear="",this.totalTable.change("replace",this.totalTable.draw()),this.totalTable.observe(),(v.length>0||f.length>0)&&(f.length>0&&(y+=this.tc("common:noComp",{REGIONS:"<br />&nbsp;&nbsp;"+f.join("<br />&nbsp;&nbsp;")})),v.length>0&&(y+=(""!=y?"<br /><br />":"")+this.tc("common:noMr",{REGIONS:"<br />&nbsp;&nbsp;"+v.join("<br />&nbsp;&nbsp;")})),this.noLabel=new DecisionLabel(this.service,"no",y),j$("#noLabel").html(this.noLabel.draw()),this.noLabel.observe(),this.noLabel.change("float","left")),this.resizeContent()}},resize:function(){var t,e,i=[];for(t=0,e=this.adTables.length;t<e;t++)i.push(this.adTables[t].table);DecisionTable.setMaxColWidths(i,0),this.filter.resize()},observe:function(){this.filter.observe(),this.redrawTables(!1,!0)}})},1340:()=>{window.CompetitorsPrices=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",initSettings:function(){return{filter:null}},draw:function(){var t,e,i,s,a,n=this.data.staticData,r=this.data.staticData.teams,o=r.length,l="";for(this.filter=new MultiLevelFilter(this.tc("by_company_by_brand"),"tm_bd_filter","blue",this.settings.filter,this.redrawTables.bind(this),r,"teamID","companyName",this.tc("company"),"brands","brandID","name",this.tc("brand")),this.filter.drawSubName=function(t,e){return Format.brandName(t[e].escapeHTML(),t.type)},this.tl=r.toLookUp("teamID"),this.bl=[],t=0;t<o;++t)this.bl[r[t].teamID]=r[t].brands.toLookUp("brandID");this.bdTables=[];var d=[{title:this.tc("company")},{title:this.tc("brand"),vline:!0},{title:this.tc("price"),type:"number"},{title:this.tc("rebate"),type:"number"},{title:this.tc("priority"),type:"number"}];for(n.hasPOP&&d.push({title:this.tc("pop"),type:"flag"}),n.showBonus&&d.push({title:this.tc("bonus"),type:"number"},{title:this.tc("gift"),type:"number"}),e=0,i=n.regions.length;e<i;++e)(s=n.regions[e]).mrBought&&s.brands.length>0&&(a=new DecisionTable(s.regionName,"bdTable_"+s.regionID,d,[]),this.bdTables.push({id:s.regionID,table:a}),l+=a.draw());return this.filter.draw()+l+'<div id="noLabel"></div>'},redrawTables:function(t,e){if(t&&(this.settings.filter=this.filter.settings,this.saveSettings()),e){var i,s,a,n,r,o,l,d,c,h=this.data.staticData,p=[],u=[],g=[],m="",b=this.bdTables.toLookUp("id"),f=[{title:this.tc("company")},{title:this.tc("brand"),vline:!0},{title:this.tc("price"),type:"number"},{title:this.tc("rebate"),type:"number"},{title:this.tc("priority"),type:"number"}];for(h.hasPOP&&f.push({title:this.tc("pop"),type:"flag"}),h.showBonus&&f.push({title:this.tc("bonus"),type:"number"},{title:this.tc("gift"),type:"number"}),c=this.filter.noFilterSet(),i=0,s=h.regions.length;i<s;++i)if((a=h.regions[i]).mrBought)if(0==a.brands.length)u.push(a.regionName);else{for(p=[],n=0,r=a.brands.length;n<r;++n)o=a.brands[n],(this.bl[o.teamID][o.brandID].checked||c)&&(l=[this.tl[o.teamID].companyName.escapeHTML(),Format.brandName(this.bl[o.teamID][o.brandID].name.escapeHTML(),this.bl[o.teamID][o.brandID].type),o.price,o.rebate,o.priority],h.hasPOP&&l.push(!!o.pop),h.showBonus&&l.push(o.bonus,o.gift),p.push(l));d=new DecisionTable(a.regionName,"bdTable_"+a.regionID,f,p),b[a.regionID].table.change("replace",d.draw()),b[a.regionID].table=d,d.observe(),d.makeColumnSortable(2);var v=5;h.hasPOP&&v++,h.showBonus&&(d.makeColumnSortable(v),d.makeColumnSortable(v+1))}else g.push(a.regionName);(g.length>0||u.length>0)&&(u.length>0&&(m+=this.tc("common:noComp",{REGIONS:"<br />&nbsp;&nbsp;"+u.join("<br />&nbsp;&nbsp;")})),g.length>0&&(m+=(""!=m?"<br /><br />":"")+this.tc("common:noMr",{REGIONS:"<br />&nbsp;&nbsp;"+g.join("<br />&nbsp;&nbsp;")})),this.noLabel=new DecisionLabel(this.service,"no",m),j$("#noLabel").html(this.noLabel.draw()),this.noLabel.observe(),this.noLabel.change("float","left")),this.resizeContent()}},resize:function(){var t,e,i=[];for(t=0,e=this.bdTables.length;t<e;t++)i.push(this.bdTables[t].table);DecisionTable.setMaxColWidths(i,0),this.filter.resize()},observe:function(){this.filter.observe(),this.redrawTables(!1,!0)}})},28779:()=>{window.CompetitorsProfiles=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",maxSize:35,initSettings:function(){return{reportType:1,detailFilter:{regionID:1,cityID:0}}},draw:function(){var t,e=this.data.staticData,i=e.regions.toLookUp("regionID"),s=[],a="";for(this.regional=e.regions.length>1,s.push(this.com("radio","type",this.settings.reportType,{label:this.tc("summaryReport")},1)),this.regional?(s.push(this.com("radio","type",this.settings.reportType,{label:this.tc("detailedReport")},2)),s.push(this.com("combobox","region",this.settings.detailFilter.regionID,{label:this.tc("region")},e.regions,"regionID","regionName")),s.push(this.com("combobox","city",this.settings.detailFilter.cityID,{label:this.tc("city")},i[this.settings.detailFilter.regionID].cities,"cityID","cityName",0,this.tc("all")))):(this.settings.detailFilter.regionID=1,0==this.settings.detailFilter.cityID&&(this.settings.detailFilter.cityID=1),s.push(this.com("radio","type",this.settings.reportType,{label:this.tc("detailedReport_2")},2)),s.push(this.com("combobox","city",this.settings.detailFilter.cityID,{label:this.tc("city")},i[this.settings.detailFilter.regionID].cities,"cityID","cityName"))),t=0;t<s.length;t++)a+=t>1?'<div style="margin-bottom: 5px; margin-left: 20px;">':'<div style="margin-bottom: 5px;">',a+=s[t]+"</div>";return this.typeFilter=new DecisionLabel(this.service,"labTypeFilter",a),this.cpTable=new DecisionTable(this.tc("competitorsProfiles"),"cpTable",[],[],!1),this.cpTable.vertical=!0,this.typeFilter.draw()+this.cpTable.draw()},observe:function(){this.typeFilter.observe(),this.cpTable.observe(),this.typeFilter.change("float","left"),this.cf.enable(),j$("#type_1").on("click",this.onReportTypeChange.bind(this,1)),j$("#type_2").on("click",this.onReportTypeChange.bind(this,2)),this.regional&&j$("#region").on("change",this.onRegionChange.bind(this)),j$("#city").on("change",this.onCityChange.bind(this)),this.enableControllers(),this.redrawTable(!1,!0)},onReportTypeChange:function(t){t!=this.settings.reportType&&(this.settings.reportType=t,this.enableControllers(),this.redrawTable(!0,!0))},enableControllers:function(){1==this.settings.reportType?(this.regional&&j$("#region").prop("disabled",!0),j$("#city").prop("disabled",!0)):(this.regional&&j$("#region").prop("disabled",!1),j$("#city").prop("disabled",!1))},onRegionChange:function(){var t=this.value("region");if(t!=this.settings.detailFilter.regionID){this.settings.detailFilter.regionID=t,this.settings.detailFilter.cityID=0;var e,i=this.data.staticData.regions.toLookUp("regionID")[this.settings.detailFilter.regionID],s=j$("#city")[0].options,a=i.cities.length;for(e=1;e<=a;++e)s[e].value=i.cities[e-1].cityID,s[e].text=i.cities[e-1].cityName;this.setValue("city",this.settings.detailFilter.cityID),this.redrawTable(!0,!0)}},onCityChange:function(){var t=this.value("city");t!=this.settings.detailFilter.cityID&&(this.settings.detailFilter.cityID=t,this.redrawTable(!0,!0))},redrawTable:function(t,e){if(t&&this.saveSettings(),e){var i,s,a,n,r,o,l,d,c,h,p,u,g,m,b,f=this.data.staticData,v=f.teams,y=v.length,w=[],D=[{title:""}],_=[{title:"",rowspan:2}],I=[],x="",T=0;for(1==this.settings.reportType?(s=f.companyItems,g=this.tc("competitorsProfiles")):(m=f.regions.toLookUp("regionID")[this.settings.detailFilter.regionID],0==this.settings.detailFilter.cityID?(s=m.regionItems,g=this.tc("competitorsProfilesFor",{NAME:m.regionName})):(s=(b=m.cities.toLookUp("cityID")[this.settings.detailFilter.cityID]).cityItems,g=this.tc("competitorsProfilesFor",{NAME:b.cityName+", "+m.regionName}))),i=0;i<y;++i)f.hasLogistics&&(x='<div><img src="'+Path.getPath(this.st("common:iconsFolder"),"sch-"+v[i].iAmSupOrRes,".png")+'" title="'+this.tc("common:role_short"+v[i].iAmSupOrRes)+'" alt="'+this.tc("common:role_short"+v[i].iAmSupOrRes)+'" /></div>'),T++,D.push({title:"",align:"center"}),I.push({title:x+v[i].companyName.escapeHTML()});for(_.push({title:this.tc("company"),colspan:T}),w.push({cols:_,type:"head"}),w.push({cols:I,type:"head"}),a=0,n=s.length;a<n;++a){for(r=[s[a].title],i=0;i<y;++i)null==s[a].values[i]?(p=0,u="N/A"):(p=s[a].values[i][0]||0,u=s[a].values[i].length>1?s[a].values[i][1]:s[a].decimals>0?Format.number(s[a].values[i][0],s[a].decimals):Format.number(s[a].values[i][0])),c="",""!=s[a].file&&(h=s[a].max||0,s[a].extensionMax<=0?(o=Math.round(h>0?p/h*this.maxSize:0),d=""):(o=this.maxSize,d=h>s[a].extensionMax?Math.round(p/h*s[a].extensionMax):Math.round(p)),l=Math.round((this.maxSize-o)/2),c='<img src="'+Path.getPath(this.st("cpFolder"),s[a].file+d,".png")+'" style="width:'+o+"px; height:"+o+"px; border: 0px; margin: "+l+"px 0px "+l+'px 0px;" alt=""/><br />'),r.push(c+u);w.push(r)}this.cpTable=new DecisionTable(g,"cpTable",D,w,!0),this.cpTable.vertical=!0,this.cpTable.clear="",this.cpTable.change("replace",this.cpTable.draw()),this.cpTable.observe()}}})},85959:()=>{window.CompetitorsRegionalAdvertising=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",initSettings:function(){return{filter:null}},draw:function(){var t,e,i,s,a,n=this.data.staticData,r=n.teams,o=r.length,l="";this.filter=new MultiLevelFilter(this.tc("by_company_by_ad"),"tm_ad_filter","blue",this.settings.filter,this.redrawTables.bind(this),r,"teamID","companyName",this.tc("company"),"ads","adID","name",this.tc("ad")),this.filter.drawSubName=function(t,e){return Format.brandName(t[e].escapeHTML(),t.brandType)},this.adTables=[];var d=[{title:this.tc("media")},{title:this.tc("company")},{title:this.tc("ad"),vline:!0},{title:this.tc("brandAdvertised")},{title:this.tc("inserts"),type:"number"}];for(e=0,t=n.regions.length;e<t;++e){var c=n.regions[e];c.mrBought&&c.adsIn>0&&(a=new DecisionTable(c.regionName,"adTable_"+c.regionID,d,[]),this.adTables.push({id:c.regionID,table:a}),l+=a.draw())}for(this.ml=this.data.staticData.media.toLookUp("mediaID"),this.tl=r.toLookUp("teamID"),this.al=[],i=0;i<o;++i)s=r[i],this.al[s.teamID]=s.ads.toLookUp("adID");return this.totalTable=new DecisionTable(this.tc(this.data.staticData.regions.length>1?"totalRegionalInserts":"totalMajorInserts"),"totalTable",[{title:this.tc("company")},{title:this.tc("inserts"),type:"number"}],[]),this.filter.draw()+'<table><tr style="vertical-align:top;"><td>'+l+"</td><td>"+this.totalTable.draw()+'</tr></table><div id="noLabel"></div>'},redrawTables:function(t,e){if(t&&(this.settings.filter=this.filter.settings,this.saveSettings()),e){var i,s,a,n,r,o,l,d,c,h,p,u,g,m=this.data.staticData,b=[],f=[],v=[],y="",w=m.teams,D=w.length,_=this.adTables.toLookUp("id");g=this.filter.noFilterSet();var I=[{title:this.tc("media")},{title:this.tc("company")},{title:this.tc("ad"),vline:!0},{title:this.tc("brandAdvertised")},{title:this.tc("inserts"),type:"number"}];for(h=0;h<D;++h)(p=w[h]).cTotal=0,p.cChecked=!1;for(s=0,i=m.regions.length;s<i;++s)if(v=[],(c=m.regions[s]).mrBought)if(0==c.adsIn)f.push(c.regionName);else{for(n=0,a=c.media.length;n<a;++n)for(r=0,o=(d=c.media[n]).ads.length;r<o;++r)l=d.ads[r],(this.al[l.teamID][l.adID].checked||g)&&(p=this.tl[l.teamID],v.push([this.ml[d.mediaID].mediaName,p.companyName.escapeHTML(),this.al[l.teamID][l.adID].name.escapeHTML(),Format.brandName(this.al[l.teamID][l.adID].brandAdvertised.escapeHTML(),this.al[l.teamID][l.adID].brandType),l.inserts]),p.cTotal+=l.inserts,p.cChecked=!0);u=new DecisionTable(c.regionName,"adTable_"+c.regionID,I,v),_[c.regionID].table.change("replace",u.draw()),_[c.regionID].table=u,u.observe()}else b.push(c.regionName);for(v=[],h=0;h<D;++h)w[h].cChecked&&v.push([w[h].companyName.escapeHTML(),w[h].cTotal]);this.totalTable=new DecisionTable(this.tc(this.data.staticData.regions.length>1?"totalRegionalInserts":"totalMajorInserts"),"totalTable",[{title:this.tc("company")},{title:this.tc("inserts"),type:"number"}],v),this.totalTable.clear="",this.totalTable.change("replace",this.totalTable.draw()),this.totalTable.observe(),(b.length>0||f.length>0)&&(f.length>0&&(y+=this.tc("common:noComp",{REGIONS:"<br />&nbsp;&nbsp;"+f.join("<br />&nbsp;&nbsp;")})),b.length>0&&(y+=(""!=y?"<br /><br />":"")+this.tc("common:noMr",{REGIONS:"<br />&nbsp;&nbsp;"+b.join("<br />&nbsp;&nbsp;")})),this.noLabel=new DecisionLabel(this.service,"no",y),j$("#noLabel").html(this.noLabel.draw()),this.noLabel.observe(),this.noLabel.change("float","left")),this.resizeContent()}},resize:function(){var t,e,i=[];for(t=0,e=this.adTables.length;t<e;t++)i.push(this.adTables[t].table);DecisionTable.setMaxColWidths(i,0),this.filter.resize()},observe:function(){this.filter.observe(),this.redrawTables(!1,!0)}})},25285:()=>{window.CompetitorsSalesForce=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",draw:function(){var t,e,i,s,a,n,r,o,l,d,c,h,p,u=this.data.staticData,g=u.teams.toLookUp("teamID"),m=[],b=[],f=[],v="",y="",w=[{title:this.tc("city")},{title:this.tc("company"),vline:!0},{title:this.tc("totalSF"),type:"number"},{title:Format.segmentName(this.tc("support"),this.st("service")),type:"number"}];for(u.segments.forEach((function(t){w.push({title:Format.segmentName(t.name,t.shortName),type:"number"})})),this.csfTables=[],e=0,t=u.regions.length;e<t;++e)if(m=[],(l=u.regions[e]).mrBought)if(0==l.teamsIn)f.push(l.regionName);else{for(i=0,s=l.cities.length;i<s;++i)for(a=0,n=(d=l.cities[i]).teams.length;a<n;++a){for(c=d.teams[a],h=[d.cityName,g[c.teamID].companyName.escapeHTML(),c.sf,c.support],r=0,o=c.segments.length;r<o;++r)h.push(c.segments[r].sf);m.push(h)}p=new DecisionTable(l.regionName,"csfTable_"+l.regionID,w,m),this.csfTables.push(p),v+=p.draw()}else b.push(l.regionName);return(b.length>0||f.length>0)&&(f.length>0&&(y+=this.tc("common:noComp",{REGIONS:"<br />&nbsp;&nbsp;"+f.join("<br />&nbsp;&nbsp;")})),b.length>0&&(y+=(""!=y?"<br /><br />":"")+this.tc("common:noMr",{REGIONS:"<br />&nbsp;&nbsp;"+b.join("<br />&nbsp;&nbsp;")})),this.noLabel=new DecisionLabel(this.service,"no",y,"","stone"),v+=this.noLabel.draw()),v},observe:function(){var t,e;if(void 0!==this.noLabel)this.noLabel.observe(),this.noLabel.change("float","left");else for(t=0,e=this.csfTables.length;t<e;t++)this.csfTables[t].observe(),this.csfTables[t].makeTableSortable()},resize:function(){this.csfTables.length>0&&DecisionTable.setMaxColWidths(this.csfTables,0)}})},20873:(t,e,i)=>{"use strict";i(25285),window.CompetitorsSalesForceAnim=CompetitorsSalesForce.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 0px 0px 0px 0px;",initialize:function(t){this._super("CompetitorsSalesForce")},draw:function(){var t,e,i,s,a,n,r,o,l,d,c,h,p,u=[],g=[],m=this.data.staticData,b=m.teams.toLookUp("teamID"),f=m.teams,v=[],y=[],w=[],D=[],_="",I="",x=[{title:this.tc("company"),isHead:!0,style:"padding-left:8px;max-width:110px;;overflow:hidden;",headClass:"darkBlue",headStyle:"font-weight:normal;text-align:left;padding-left:8px;"},{title:this.tc("city"),isHead:!0,style:"overflow:hidden;max-width:95px;",headClass:"darkBlue",headStyle:"font-weight:normal;text-align:left;padding-left:8px;"},{title:this.tc("totalSFline"),style:"padding-right:10px;text-align:right;",headClass:"darkBlue",headStyle:"font-weight:normal;text-align:left;padding-left:8px;"},{title:Format.segmentName('<span class="offscreen">'+this.tc("support")+"</span>",this.st("service")),style:"text-align:right;padding-right:10px;"}];for(this.positions=this.loadPositions(),n=0,r=f.length;n<r;++n)(t=[]).push('<label for="teamFilter_'+n+'" class="darkBlueLabel"><input type="checkbox" id="teamFilter_'+n+'" checked="checked"/>'+f[n].companyName.escapeHTML()+"</label>"),v.push(t);for(this.teamHideTab=new SceneTable("","teamHideTab",[{title:"",style:"padding-left:3px;padding:1px;"}],v,"roundedBoth lightblueCmplx","position:relative;float:left;left:1%;top:5px;z-index:1;",""),_+=this.teamHideTab.draw(),g.push('<label for="segHider_supp"><input type="checkbox" id="segHider_supp" checked="checked"/>'+Format.segmentName(this.tc("support"),this.st("service"),!0)+"</label>"),u.push(g),o=0,l=m.segments.length;o<l;o++)(g=[]).push('<label for="segHider_'+o+'"><input type="checkbox" id="segHider_'+o+'" checked="checked"/>'+Format.segmentName(m.segments[o].name,m.segments[o].shortName.toLowerCase(),!0)+"</label>"),u.push(g),m.segments.length,x.push({title:Format.segmentName('<span class="offscreen">'+m.segments[o].name+"</span>",m.segments[o].shortName),style:"text-align:right;padding-right:10px;"});for(this.segHideTab=new SceneTable("","segHideTab",[{title:"",style:"padding:1px;"}],u,"roundedBoth lightblueCmplx","position:relative;float:right;right:1%;top:5px;z-index:1;",""),_+=this.segHideTab.draw(),i=0,e=m.regions.length;i<e;++i)if((d=m.regions[i]).mrBought)if(0==d.teamsIn)D.push(d.regionName);else for(s=0,a=d.cities.length;s<a;++s)for(c=d.cities[s],_+=this.drawCity(d.regionID,c.cityID,c.cityName),n=0,r=c.teams.length;n<r;++n){for(p=[b[(h=c.teams[n]).teamID].companyName.escapeHTML(),c.cityName,h.sf,h.support],o=0,l=h.segments.length;o<l;++o)p.push(h.segments[o].sf);y.push(p)}else w.push(d.regionName);return y.length>0?(this.csfTable=new SceneTable("","csfTable",x,y,"roundedDown lightblueCmplx","white-space:nowrap;",""),_+='<div id="csfTableWrapper" style="position:relative;float:right;max-width:60%;padding-bottom: 10px;">'+this.csfTable.draw()+"</div>"):this.csfTable=null,(w.length>0||D.length>0)&&(D.length>0&&(I+=this.tc("common:noComp",{REGIONS:"<br />&nbsp;&nbsp;"+D.join("<br />&nbsp;&nbsp;")})),w.length>0&&(I+=(""!=I?"<br /><br />":"")+this.tc("common:noMr",{REGIONS:"<br />&nbsp;&nbsp;"+w.join("<br />&nbsp;&nbsp;")})),this.noLabel=new DecisionLabel(this.service,"no",I,"","stone"),_+=this.noLabel.draw()),_+'<div style="clear:both;"></div>'},resize:function(){var t,e,i,s,a,n,r=this.data.staticData,o=j$("#decision"),l=o.width()/700;for(t=0,e=r.regions.length;t<e;++t)for(a=0,n=(i=r.regions[t]).cities.length;a<n;++a)s=i.cities[a],j$("#city_"+i.regionID+"_"+s.cityID).css("top",4*o.width()/7*this.positions[i.regionID][s.cityID].y/100);j$("#csfTableWrapper").css({"margin-top":175*l+"px"})},drawCity:function(t,e,i){var s,a,n="",r=this.positions[t][e];return s="right"==r.situated||"top"==r.situated||"bottom"==r.situated?'<label id="cityLabel_'+t+"_"+e+'" class="cityLabel" style="position:relative;"><span class="cityLabelBck" style="display: inline-block; vertical-align: bottom;">'+i+'</span><input type="checkbox" id="cityFilter_'+t+"_"+e+'" checked="checked"/></label>':'<label id="cityLabel_'+t+"_"+e+'" class="cityLabel" style="position:relative;"><input type="checkbox" id="cityFilter_'+t+"_"+e+'" checked="checked"/><span class="cityLabelBck" style="display: inline-block; vertical-align: bottom;">'+i+"</span></label>",a='<div id="cityMarker_'+t+"_"+e+'" class="cityMarker"></div>',"right"==r.situated?n+='<div id="city_'+t+"_"+e+'" style="position:absolute;top:'+r.y+"%;left:"+r.x+'%;">'+a+'<div style="margin-left:4px;position:relative;float:right;white-space:nowrap;">'+s+"</div></div>":"left"==r.situated?n+='<div id="city_'+t+"_"+e+'" style="position:absolute;top:'+r.y+"%;right:"+(100-r.x)+'%;">'+a+'<div style="margin-right:4px;left:'+r.textLeft+'px;position:relative;float:left;white-space:nowrap;">'+s+"</div></div>":"top"==r.situated?n+='<div id="city_'+t+"_"+e+'" style="position:absolute;top:'+r.y+"%;right:"+(100-r.x)+'%;">'+a+'<div style="bottom:15px;left:'+r.textLeft+'px;position:absolute;white-space:nowrap;">'+s+"</div></div>":"bottom"==r.situated&&(n+='<div id="city_'+t+"_"+e+'" style="position:absolute;top:'+r.y+"%;right:"+(100-r.x)+'%;">'+a+'<div style="top:15px;left:'+r.textLeft+'px;position:absolute;white-space:nowrap;">'+s+"</div></div>"),n},loadPositions:function(){var t,e=this.data.staticData.regions.length,i=[];for(t=0;t<e;t++)i[this.data.staticData.regions[t].regionID]=[];return 1===e&&(i[1][1]={x:"13.0",y:"25.0",situated:"right",textLeft:"0"},i[1][2]={x:"33.5",y:"67.0",situated:"left",textLeft:"0"},i[1][3]={x:"49.0",y:"24.5",situated:"top",textLeft:"-40"},i[1][4]={x:"88.0",y:"34.0",situated:"bottom",textLeft:"-65"}),i},filterTable:function(t,e,i){this.cs.isChecked(t)?this.cs.isChecked(t)&&this.csfTable.unFilterColumn(e,i):this.csfTable.filterColumn(e,i)},hideCol:function(t,e){this.cs.isChecked(t)?this.cs.isChecked(t)&&this.csfTable.unHideColumn(e):this.csfTable.hideColumn(e)},destroy:function(){j$("#decision").css({"background-attachment":"unset"}),this._super()},observe:function(){var t,e,i,s,a,n,r,o,l,d=this.data.staticData,c=d.teams,h=c.length;if(j$("#decision").css({"background-attachment":"local"}),this.resizeContent(),void 0!==this.noLabel)this.noLabel.observe(),this.noLabel.change("float","left"),this.noLabel.change("css",{"margin-left":"25%","margin-top":"25%"}),this.cs.hide("segHideTab"),this.cs.hide("teamHideTab");else{for(e=0,i=d.regions.length;e<i;++e)for(a=0,n=(s=d.regions[e]).cities.length;a<n;++a)r=s.cities[a],j$("#cityFilter_"+s.regionID+"_"+r.cityID).on("click",j$.proxy((function(t,e,i){this.filterTable("cityFilter_"+t+"_"+e,1,i)}),this,s.regionID,r.cityID,r.cityName));for(t=0;t<h;++t)j$("#teamFilter_"+t).on("click",this.filterTable.bind(this,"teamFilter_"+t,0,c[t].companyName));for(j$("#segHider_supp").on("click",this.hideCol.bind(this,"segHider_supp",3)),o=0,l=d.segments.length;o<l;++o)j$("#segHider_"+o).on("click",this.hideCol.bind(this,"segHider_"+o,4+o))}}})},8624:(t,e,i)=>{"use strict";i(54562),window.CompetitorsSocialMediaDecisions=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",draw:function(){var t,e,i,s,a,n,r,o,l,d,c,h,p,u,g,m=this.data.staticData,b="",f=[],v=[],y="",w=[{title:""}],D="",_="";for(s=0,a=m.teams.length;s<a;++s)m.teams[s].smTotal=0,w.push({title:m.teams[s].companyName.escapeHTML(),type:"number"});for(w.push({title:this.extc("averageExp","average"),type:"number"}),this.csmTables=[],t=0,e=m.regions.length;t<e;++t)if(f=[],D+='<div style="padding:10px 0px 0px 0px;"><div id="graph-holder-qtrBudget_'+(i=m.regions[t]).regionID+'"></div></div>',i.totalBudget>0){for(r=0,o=i.socialMedia.length;r<o;++r){for(d=(l=i.socialMedia[r]).teams.toLookUp("teamID"),c=[l.name],h=0,p=0,s=0,a=m.teams.length;s<a;++s)u="",void 0!==d[(n=m.teams[s]).teamID]?(u=d[n.teamID].budget)>0&&(h+=u,p++):u=0,n.smTotal+=u,c.push(u);c.push(p?h/p:0),f.push(c)}for(c=[this.tc("total")],s=0,a=i.teamsTotals.length;s<a;++s)c.push(i.teamsTotals[s].total);c.push(null),f.push({values:c,type:"total"}),g=new DecisionTable(this.tc("socialMediaBudget",{REGION:i.regionName}),"csmTable_"+i.regionID,w,f),this.csmTables.push(g),_+=g.draw()}else v.push(i.regionName);return v.length>0&&(y+=this.tc("noBudgSpent",{REGIONS:"<br />&nbsp;&nbsp;"+v.join("<br />&nbsp;&nbsp;")}),this.noLabel=new DecisionLabel(this.service,"no",y,"","stone"),b+=this.noLabel.draw()),_+b+D},setChartData:function(t,e){var i,s,a,n,r,o,l=!1,d=this.data.staticData.graphs.toLookUp("regionID")[t];if(Live.useSvg()){for((i=this.data.staticData.chartTemplate).legend.position=d.showLegend?"right":"none",i.legend.align="center",i.legend.margin.bottom=10,i.chartSettings.radius=0,i.chartArea.margin.right=12,i.chartArea.vLabels.decimals=1,j$.extend(i.data,{title:d.title,xAxis:d.x,yAxis:d.y,labels:[],x:[],y:[],dsX:4,minY:0,saveUrl:this.st("common:saveChartURL"),saveName:"social-media-budget-reg"+t+"-q"+this.user.quarter()}),s=0,a=d.data.length;s<a;++s)for(o=d.data[s],i.data.labels[s]=o.label,i.data[s]=[],n=0,r=o.x.length;n<r;++n)0==s&&(i.data.x[n]=Number(o.x[n]),i.data.y[n]=[]),i.data.y[n][s]=Number(o.y[n]);SvgCharts.BaseChart.setChartData(e,i)}else{for(j$("#"+e).html(""),(i=new LineChart(j$("#"+e)[0])).label=d.title,i.legend=d.showLegend,i.legendCharLimit=30,i.labelX=d.x,i.labelY=d.y,i.incY=.25,i.decY=2,i.dsx=4,i.labels=[],i.data=[],i.category=[],s=0,a=d.data.length;s<a;++s)for(o=d.data[s],i.labels[s]=o.label,i.data[s]=[],n=0,r=o.x.length;n<r;++n)i.data[s][n]=Number(o.y[n]),Number(o.y[n])>2.5&&(l=!0),i.category[n]=Number(o.x[n]);l&&(i.incY=.5,i.decY=1),i.draw()}},resize:function(){this.csmTables.length>0&&DecisionTable.setMaxColWidths(this.csmTables,0)},observe:function(){var t,e,i,s,a,n=this.data.staticData;for(t=0,e=n.regions.length;t<e;++t)i=n.regions[t],j$("#graph-holder-qtrBudget_"+i.regionID).css({position:"relative",margin:"auto",width:"550px",height:"250px",opacity:Live.opacity}),this.setChartData(i.regionID,"graph-holder-qtrBudget_"+i.regionID);for(s=0,a=this.csmTables.length;s<a;s++)this.csmTables[s].observe();DecisionTable.setMaxColWidths(this.csmTables,0),void 0!==this.noLabel&&(this.noLabel.observe(),this.noLabel.change("float","left"))}})},73556:()=>{window.CompetitorsWebDecisions=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",draw:function(){var t,e,i,s,a,n,r,o,l,d,c,h,p,u,g,m,b,f,v=this.data.staticData,y=v.teams.toLookUp("teamID"),w=v.hasEcommerce,D="",_=[],I=[],x=[],T="",C=w?"number":"flag",L=[{title:this.tc("company")},{title:this.tc("sf"),type:"number"},{title:this.tc("support"),type:"number"},{title:this.tc("total"),type:"number"}],S=[{title:""}],k=[],P=[],N=[];for(this.sfTables=[],t=0,e=v.regions.length;t<e;++t)if(_=[],(i=v.regions[t]).mrBought)if(0==i.teams.length)I.push(i.regionName);else{for(s=0,a=i.teams.length;s<a;++s)n=i.teams[s],_.push([y[n.teamID].companyName.escapeHTML(),n.sf,n.support,n.sf+n.support]);f=new DecisionTable(i.regionName,"sfTable_"+i.regionID,L,_),this.sfTables.push(f),D+=f.draw()}else x.push(i.regionName);for((x.length>0||I.length>0)&&(I.length>0&&(T+=this.tc("common:noComp",{REGIONS:"<br />&nbsp;&nbsp;"+I.join("<br />&nbsp;&nbsp;")})),x.length>0&&(T+=(""!=T?"<br /><br />":"")+this.tc("common:noMr",{REGIONS:"<br />&nbsp;&nbsp;"+x.join("<br />&nbsp;&nbsp;")})),this.noLabel=new DecisionLabel(this.service,"no",T,"","stone"),D+=this.noLabel.draw()),s=0,a=v.teams.length;s<a;++s)v.teams[s].hasWebCenter&&S.push({title:v.teams[s].companyName.escapeHTML(),type:C});if(w&&S.push({title:this.tc("average"),type:"number"}),v.hasWebTraffics&&v.webTraffics.length>0){for(r=0,o=v.webTraffics.length;r<o;++r){for(d=(l=v.webTraffics[r]).teams.toLookUp("teamID"),c=[l.trafficName],h=[l.trafficName],p=0,u=0,g=0,s=0,a=v.teams.length;s<a;++s)(n=v.teams[s]).hasWebCenter&&(m=0,b="",void 0!==d[n.teamID]?w?(p+=b=Number(d[n.teamID].budget),u+=m=d[n.teamID].commision,g++):b=!0:b=!!w&&0,c.push(b),h.push(m));w&&(c.push(g?p/g:0),h.push(g?u/g:0)),N.push(c),l.hasCommission&&w&&k.push(h)}this.wtTable=new DecisionTable(w?this.tc("webTrafficE"):this.tc("webTraffic"),"wtTable",S,N,!1,"stone"),this.wtTable.vertical=!0,D+=this.wtTable.draw()}if(w&&k.length>0&&(this.cmTable=new DecisionTable(this.tc("commision"),"cmTable",S,k,!1,"stone"),this.cmTable.vertical=!0,D+=this.cmTable.draw()),v.webProductivities.length>0){for(r=0,o=v.webProductivities.length;r<o;++r){for(d=(l=v.webProductivities[r]).teams.toLookUp("teamID"),c=[l.productivityName],p=0,g=0,s=0,a=v.teams.length;s<a;++s)(n=v.teams[s]).hasWebCenter&&(b="",void 0!==d[n.teamID]?w?(p+=b=d[n.teamID].budget,g++):b=!0:b=!!w&&0,c.push(b));w&&c.push(g?p/g:0),P.push(c)}this.wpTable=new DecisionTable(w?this.tc("webProductivityE"):this.tc("webProductivity"),"wpTable",S,P,!1,"stone"),this.wpTable.vertical=!0,D+=this.wpTable.draw()}return D},observe:function(){var t,e;for(t=0,e=this.sfTables.length;t<e;t++)this.sfTables[t].observe();DecisionTable.setMaxColWidths(this.sfTables,0),void 0!==this.wtTable&&this.wtTable.observe(),void 0!==this.cmTable&&this.cmTable.observe(),void 0!==this.wpTable&&this.wpTable.observe(),void 0!==this.noLabel&&(this.noLabel.observe(),this.noLabel.change("float","left"))}})},60588:()=>{window.ComponentChangeover=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",draw:function(){var t,e,i=this.data.staticData.componentGroups,s=[{title:this.tc("componentGroup")},{title:this.tc("choverTime"),type:"number",decimals:2},{title:this.tc("choverCost"),type:"number"}],a=[];for(t=0,e=i.length;t<e;++t)a.push([i[t].name,i[t].changeoverTime,i[t].changeoverCost]);return this.ccTable=new DecisionTable(this.tc("componentChangeover"),"inTable",s,a),this.ccTable.draw()},observe:function(){this.ccTable.observe()}})},65008:()=>{window.ComponentRework=Decision.extend({style:"padding: 10px 10px 0px 10px;",read:function(){},write:function(){},draw:function(){var t,e="",i="width:5px;border:0px none";if(this.viewModeButtons=[],this.modifyModeButtons=[],this.data.staticData.studyBought)for(e="<div style='font-size:1.2em; padding: 4px;'>"+this.tc("mCRhdtitle")+"</div>",e+="<img src='"+Path.getDecPath("cc","study-2-big",".png")+"' style='float:left; margin: 10px 10px 10px 0px; height: 100px;' alt=''/>"+this.tc("mCRhd_m"),e+="<div style='clear:both'></div>",e+="<div style='background-color:#C0C0C0;padding:6px;font-weight:bolder;'>"+this.tc("mCRiss")+"</div><br>",t=1;t<2;t++)e+="<div style='background-color:#E0DBC7;padding:6px;font-weight:bolder;'>"+this.tc("mCRhd"+t)+"</div><br>",e+="<table><tr><td style='vertical-align:top;width:33%;padding:4px;background-color:#E6B8B8;'>"+this.tc("mCRct"+t+"_1")+"</td><td style='"+i+"'>&nbsp;</td>",e+="<td style='vertical-align:top;width:33%;padding:4px;background-color:#A6A6A6;'>"+this.tc("mCRct"+t+"_2")+"</td><td style='"+i+"'>&nbsp;</td>",e+="<td style='vertical-align:top;width:33%;padding:4px;background-color:#D8E4BE;'>"+this.tc("mCRct"+t+"_3")+"</td></tr></table><br>";else e=this.tc("mCRnot");return this.frLabel=new DecisionLabel(this.service,"srLabel",e,"","wooden"),this.frLabel.draw()},observe:function(){this.frLabel.observe(),this.data.staticData.studyBought||this.frLabel.change("float","left")}})},59874:()=>{window.ConfirmLongRFP=Decision.extend({style:"padding: 10px 10px 0px 10px;",viewModeButtons:["createNew","modify","goBack"],sendErrors:!1,contractID:-1,amendmentID:0,inSaveOrCancel:!1,serviceName:function(){return 0==this.contractID?"InitiateLongRFP":"ConfirmLongRFP"},createNew:function(){this.switchContract(0,0,!1)},goBack:function(){this.switchContract(-1,0,!1)},read:function(){var t,e=this.data.decisions;if("InitiateLongRFP"==this.serviceName())e.partnerID=this.value("partnerID");else if(-1!=this.contractID){var i=this.data.dynamicData.contracts.toLookUp("contractID","amendmentID")[this.contractID][this.amendmentID];for(e.contractID=i.contractID,e.amendmentID=i.amendmentID,t=0;t<i.actions.length;t++)this.value("action_"+i.actions[t])&&(e.action=i.actions[t])}for(e.goalsAndIntent=this.value("goalsAndIntent"),e.specialTerms=this.value("specialTerms"),t=0;t<e.quartersTeam.length;t++)e.quartersTeam[t].action=this.value("tAction_"+e.quartersTeam[t].quarter),e.quartersTeam[t].incentive=this.value("tIncentive_"+e.quartersTeam[t].quarter);for(t=0;t<e.quartersPartner.length;t++)e.quartersPartner[t].action=this.value("pAction_"+e.quartersPartner[t].quarter),e.quartersPartner[t].incentive=this.value("pIncentive_"+e.quartersPartner[t].quarter)},write:function(){if(!this.inSaveOrCancel){var t,e=this.data.dynamicData;if("InitiateLongRFP"==this.serviceName())this.tables=null,this.cf.removeAllComponents(),j$("#decWrapper").html(this.drawOne()).css({opacity:Live.opacity}),j$("#contractHeader").focus(),j$("#partnerID").on("change",j$.proxy(this.onchangePartnerID,this)),this.hideButtons(),this.showButtons(this.modifyModeButtons);else if(-1==this.contractID){if(this.cf.removeAllComponents(),j$("#decWrapper").html(this.drawList(!1)).css({opacity:Live.opacity}),null!=this.tables){for(t=0;t<this.tables.length;t++)this.tables[t].observe();DecisionTable.setMaxColWidths(this.tables,0)}null!=this.noLabel&&this.noLabel.change("float","left"),this.hideButtons(),this.isCurrentQuarter()&&"undefined"!=typeof Engine&&this.showButtons(["createNew"])}else{if(!this.inModifyMode)if(this.cf.removeAllComponents(),this.keepDisabled=[],j$("#decWrapper").html(this.drawOne()).css({opacity:Live.opacity}),j$("#contractHeader").focus(),this.disable(),"undefined"!=typeof Engine){var i=e.contracts.toLookUp("contractID","amendmentID");if(this.isCurrentQuarter()&&i[this.contractID][this.amendmentID].canModify){if(this.hideButtons(),this.showButtons(["modify","goBack","save","cancel"]),this.disableButtons(this.modifyModeButtons),i[this.contractID][this.amendmentID].previouslyAccepted&&!i[this.contractID][this.amendmentID].amended)for(t=0;t<i[this.contractID][this.amendmentID].actions.length;t++)6==i[this.contractID][this.amendmentID].actions[t]?j$("#action_6").on("click",j$.proxy(this.onAmend,this)):j$("#action_"+i[this.contractID][this.amendmentID].actions[t]).on("click",j$.proxy(this.onAmendDeselect,this))}else this.hideButtons(),this.showButtons(["goBack"])}else this.hideButtons(),this.showButtons(["goBack"]);this.tables=null}}},onAmend:function(){this.cf.enable()},onAmendDeselect:function(){this.disable(),this.cf.enable(this.keepDisabled)},writeErrors:function(){var t,e,i=this.data.errors;if(null!=i){for(0==this.contractID&&this.writeError("partnerID",i.decisions.partnerID,"center right",!0),this.writeError("goalsAndIntent",i.decisions.goalsAndIntent,"top left"),this.writeError("specialTerms",i.decisions.specialTerms,"top left"),t=i.decisions.quartersTeam.quarters,e=0;e<t.length;e++)this.writeError("tAction_"+t[e].quarter,t[e].action,"top left"),this.writeError("tIncentive_"+t[e].quarter,t[e].incentive,"top left");for(t=i.decisions.quartersPartner.quarters,e=0;e<t.length;e++)this.writeError("pAction_"+t[e].quarter,t[e].action,"top left"),this.writeError("pIncentive_"+t[e].quarter,t[e].incentive,"top left");this.contractID>0&&this.writeError("action",i.decisions.action,"center right",!0)}},switchContract:function(t,e,i){if(this.contractID=t,this.amendmentID=e,this.copying=i,0==this.contractID){if(this.load(),!this.modify())return this.contractID=-1,this.amendmentID=0,!1}else if("boolean"==typeof i&&i){if(this.copying=!0,!this.modify())return this.copying=!1,!1}else this.load(),this.write();"undefined"!=typeof Engine&&Engine.areas.body.resizeContent()},drawListItem:function(t,e){var i,s,a=!e&&this.isCurrentQuarter()&&t.canModify,n=this.data.staticData.myID==t.teamID?this.luTeams[t.partnerID].companyName.escapeHTML():this.luTeams[t.teamID].companyName.escapeHTML(),r=this.getStatusSufix(t.status,t.actionByMyFirm,t.previouslyAccepted,t.amendment,t.amended);return i=[t.contractNo,n,"<span>"+this.tc("short_status"+t.status+r)+"</span>"],s=[null,null,null],e||(i.push('<div data-test="contract_'+t.contractID+"_"+t.amendmentID+'">'+(a?this.tc("viewModify"):this.tc("view"))+'</div><img src="'+Path.getPath(this.st("common:decisionsFolder"),"arrow",".png")+'" alt="" style="border: 0px;" />'),s.push({type:"click",linkStyle:"underLink nowrap",context:this,call:this.switchContract,data:[t.contractID,t.amendmentID,!1]})),{data:i,actions:s}},drawList:function(t){t=t||!1;var e,i,s=this.data.dynamicData,a="",n=[],r=[],o=[],l=[{title:"#",align:"center"},{title:this.tc("partner_title"),vline:!0},{title:this.tc("contractStatus")}];for(t||l.push({title:'<span class="offscreen">'+this.tc("action")+"</span>",align:"center"}),this.tables=[],this.luTeams=this.data.staticData.teams.toLookUp("teamID"),e=0;e<s.contracts.length;e++)i=this.drawListItem(s.contracts[e],t),s.contracts[e].accepted?r.push({values:i.data,actions:i.actions}):s.contracts[e].rejected||s.contracts[e].cancelled?o.push({values:i.data,actions:i.actions}):n.push({values:i.data,actions:i.actions});if(n.length>0){var d=new DecisionTable(this.tc("inProcessGroup"),"inProTbl",l,n,!1,"wooden");a+=d.draw(),this.tables.push(d)}if(r.length>0){var c=new DecisionTable(this.tc("acceptedGroup"),"accTbl",l,r,!1,"green");a+=c.draw(),this.tables.push(c)}if(!t&&o.length>0){var h=new DecisionTable(this.tc("rejectedGroup"),"rejTbl",l,o,!1,"concrete");a+=h.draw(),this.tables.push(h)}return""==a?(this.tables=null,this.noLabel=new DecisionLabel(this.service,"no",this.tc("zeroContracts"),"","green"),a+=this.noLabel.draw()):this.noLabel=null,a},drawOne:function(){var t,e,i,s=this.data.staticData,a=this.data.dynamicData,n=this.data.decisions,r=s.factoryCities.toLookUp("regionID"),o=[],l=[],d=this.tc("contractOf"),c='<table class="bordered-table" style="width:80%; background:#ffffff;"><tr><td style="text-align:center; padding:10px;"><h2 id="contractHeader" class="plainHeader bigHeader" tabindex="-1">'+this.tc("certificateOf")+"</h2>{CONTRACT_OF}</td></tr>";if(0==this.contractID){for(o.partners=[],t=0;t<a.partners.length;t++)o.partners.push({value:a.partners[t].teamID,label:this.luTeams[a.partners[t].teamID].companyName.escapeHTML()});for(l.partners=this.com("combobox","partnerID",n.partnerID,{style:"font-weight:bold;",label:this.tc("partnerLabel")},o.partners,"value","label",0,this.tc("partner_0")),l.goalsAndIntent=this.com("memo","goalsAndIntent","",{rows:"3",style:"display: block; width: 96%; margin: auto; margin-top: 5px; resize: vertical;",label:this.tc("goals_and_intent")}),l.specialTerms=this.com("memo","specialTerms","",{rows:"3",style:"display: block; width: 96%; margin: auto; margin-top: 5px; resize: vertical;",label:this.tc("special_terms")}),e=[{title:this.tc("byQuarter"),type:"flag"},{title:this.tc("actions"),width:"50%;"},{title:this.tc("incentives"),width:"50%;"}],i=[],t=0;t<n.quartersTeam.length;t++)i.push([s.beyondQuarter!=n.quartersTeam[t].quarter?n.quartersTeam[t].quarter:this.tc("byQuarterAndBeyond",{QUARTER:n.quartersTeam[t].quarter}),this.com("memo","tAction_"+n.quartersTeam[t].quarter,"",{rows:"3",style:"width:100%; resize: vertical;"}),this.com("memo","tIncentive_"+n.quartersTeam[t].quarter,"",{rows:"3",style:"width:100%; resize: vertical;"})]);for(l.aiTable1=new DecisionTable(this.tc("initiator",{INITIATOR:this.luTeams[s.myID].companyName.escapeHTML()}),"aiTable1",e,i,!1,"green"),i=[],t=0;t<n.quartersPartner.length;t++)i.push([s.beyondQuarter!=n.quartersPartner[t].quarter?n.quartersPartner[t].quarter:this.tc("byQuarterAndBeyond",{QUARTER:n.quartersPartner[t].quarter}),this.com("memo","pAction_"+n.quartersPartner[t].quarter,"",{rows:"3",style:"width:100%; resize: vertical;"}),this.com("memo","pIncentive_"+n.quartersPartner[t].quarter,"",{rows:"3",style:"width:100%; resize: vertical;"})]);l.aiTable2=new DecisionTable(this.tc("partner",{PARTNER:'<span id="partnerName">'+this.tc("common:na")+"</span>"}),"aiTable2",e,i,!1,"green"),c+='<tr><td style="padding:5px;">',c+="<table><tr><td>"+this.tc("initiator",{INITIATOR:this.luTeams[s.myID].companyName.escapeHTML()})+"</td></tr></table>",c+="<table><tr><td>"+l.partners+"</td></tr></table><br />",c+="<table><tr><td>"+this.tc("initiatorFull",{INITIATOR:this.luTeams[s.myID].companyName.escapeHTML(),INITIATOR_LOCATION:Format.location(r[this.luTeams[s.myID].factoryRegionID].city,r[this.luTeams[s.myID].factoryRegionID].region),INITIATOR_INFORMATION_SYSTEM:this.tc("mis_"+this.luTeams[s.myID].misID)})+"</td></tr></table>",c+="<table><tr><td>"+this.tc("partnerFull",{PARTNER:'<span id="partnerNameTop">'+this.tc("common:na")+"</span>",PARTNER_LOCATION:'<span id="partnerLocation">'+this.tc("common:na")+"</span>",PARTNER_INFORMATION_SYSTEM:'<span id="partnerInformationSystem">'+this.tc("common:na")+"</span>"})+"</td></tr></table><br />",c+=l.goalsAndIntent+"<br />",c+=l.specialTerms,c+="<br />"+l.aiTable1.draw()+"<br />",c+=l.aiTable2.draw(),c+="</td></tr>"}else{var h=a.contracts.toLookUp("contractID","amendmentID")[this.contractID][this.amendmentID],p=["goalsAndIntent","specialTerms"];for(d=this.tc("contractOfNo",{CONTRACT_NUMBER:h.contractNo}),l.goalsAndIntent=this.com("memo","goalsAndIntent",h.goalsAndIntent,{rows:"3",style:"display: block; width: 96%; margin: auto; margin-top: 5px; resize: vertical;",label:this.tc("goals_and_intent")}),l.specialTerms=this.com("memo","specialTerms",h.specialTerms,{rows:"3",style:"display: block; width: 96%; margin: auto; margin-top: 5px; resize: vertical;",label:this.tc("special_terms")}),e=[{title:this.tc("byQuarter"),type:"flag"},{title:this.tc("actions"),width:"50%;"},{title:this.tc("incentives"),width:"50%;"}],i=[],t=0;t<h.quartersTeam.length;t++)i.push([s.beyondQuarter!=h.quartersTeam[t].quarter?h.quartersTeam[t].quarter:this.tc("byQuarterAndBeyond",{QUARTER:h.quartersTeam[t].quarter}),h.quartersTeam[t].quarter>=Live.user.quarter()?this.com("memo","tAction_"+h.quartersTeam[t].quarter,h.quartersTeam[t].action,{rows:"3",style:"width:100%; resize: vertical;"}):h.quartersTeam[t].action,h.quartersTeam[t].quarter>=Live.user.quarter()?this.com("memo","tIncentive_"+h.quartersTeam[t].quarter,h.quartersTeam[t].incentive,{rows:"3",style:"width:100%; resize: vertical;"}):h.quartersTeam[t].incentive]),p.push("tAction_"+h.quartersTeam[t].quarter,"tIncentive_"+h.quartersTeam[t].quarter);for(l.aiTable1=new DecisionTable(this.tc("initiator",{INITIATOR:this.luTeams[h.teamID].companyName.escapeHTML()}),"aiTable1",e,i,!1,"green"),i=[],t=0;t<h.quartersPartner.length;t++)i.push([s.beyondQuarter!=h.quartersPartner[t].quarter?h.quartersPartner[t].quarter:this.tc("byQuarterAndBeyond",{QUARTER:h.quartersPartner[t].quarter}),h.quartersTeam[t].quarter>=Live.user.quarter()?this.com("memo","pAction_"+h.quartersPartner[t].quarter,h.quartersPartner[t].action,{rows:"3",style:"width:100%; resize: vertical;"}):h.quartersPartner[t].action,h.quartersTeam[t].quarter>=Live.user.quarter()?this.com("memo","pIncentive_"+h.quartersPartner[t].quarter,h.quartersPartner[t].incentive,{rows:"3",style:"width:100%; resize: vertical;"}):h.quartersPartner[t].incentive]),p.push("pAction_"+h.quartersPartner[t].quarter,"pIncentive_"+h.quartersPartner[t].quarter);if(l.aiTable2=new DecisionTable(this.tc("partner",{PARTNER:this.luTeams[h.partnerID].companyName.escapeHTML()}),"aiTable2",e,i,!1,"green"),l.actions="",h.canModify&&"undefined"!=typeof Engine)for(t=0;t<h.actions.length;t++){var u=h.actions[t];0!=t&&(l.actions+="<br />"),l.actions+=this.com("radio","action",0,{},u)+" "+this.tc("action"+u+this.getActionSufix(u,h.mustFinalize,h.amendment))}h.mustFinalize&&(this.keepDisabled=p),c+='<tr><td style="padding:5px;">',c+="<table><tr><td>"+this.tc("initiatorFull",{INITIATOR:this.luTeams[h.teamID].companyName.escapeHTML(),INITIATOR_LOCATION:Format.location(r[this.luTeams[h.teamID].factoryRegionID].city,r[this.luTeams[h.teamID].factoryRegionID].region),INITIATOR_INFORMATION_SYSTEM:this.tc("mis_"+this.luTeams[h.teamID].misID)})+"</td></tr></table>",c+="<table><tr><td>"+this.tc("partnerFull",{PARTNER:this.luTeams[h.partnerID].companyName.escapeHTML(),PARTNER_LOCATION:Format.location(r[this.luTeams[h.partnerID].factoryRegionID].city,r[this.luTeams[h.partnerID].factoryRegionID].region),PARTNER_INFORMATION_SYSTEM:this.tc("mis_"+this.luTeams[h.partnerID].misID)})+"</td></tr></table><br />",c+=l.goalsAndIntent+"<br />",c+=l.specialTerms,c+="<br />"+l.aiTable1.draw()+"<br />",c+=l.aiTable2.draw(),c+="</td></tr>",c+='<tr><td style="padding:10px;">'+this.tc("initiator_title")+"<br />",c+='<span style="font-weight:bold;">'+(""!=h.repName?h.repName.escapeHTML():this.tc("common:na"))+"</span>",c+="; "+Format.soapLongDate(h.repDate,this.tc("common:na")),""!=l.actions&&s.myID==h.teamID&&(c+='<br /><span id="action"></span><br />'+l.actions),c+="</td></tr>",c+='<tr><td style="padding:10px;">'+this.tc("partner_title"),c+='<br /><span style="font-weight:bold;">'+(""!=h.partnerRepName?h.partnerRepName.escapeHTML():this.tc("common:na"))+"</span>",c+="; "+Format.soapLongDate(h.partnerRepDate,this.tc("common:na")),""!=l.actions&&s.myID==h.partnerID&&(c+='<br /><span id="action"></span><br />'+l.actions),c+="</td></tr>",h.closed&&(c+='<tr><td style="padding:10px; font-weight:bold;">'+this.tc("status"+h.status+(h.amendment?"A":""))+"</td></tr>")}return(c+="</table>").replace("{CONTRACT_OF}",d)},draw:function(){return this.buttonCaptions.createNew=this.tc("new"),this.buttonCaptions.save=this.tc("common:submit"),this.buttonCaptions.goBack=this.tc("goBack"),'<div id="decWrapper"></div>'},observe:function(){this.write(),this.switchContract(this.switchContractID[0],this.switchContractID[1],!1)},applyParams:function(t){var e=(t||";").split(";"),i=-1,s=0;""!=e[0]&&(i=e[0]),""!=e[1]&&(s=e[1]),this.switchContractID=[i,s]},save:function(){if(this.inModifyMode){this.inSaveOrCancel=!0;var t=this._super();return this.inSaveOrCancel=!1,t&&this.switchContract(-1,0,!1),t}return!0},cancel:function(){if(this.inModifyMode){this.inSaveOrCancel=!0;var t=this._super();return this.inSaveOrCancel=!1,0==this.contractID&&this.switchContract(-1,0,!1),this.contractID>0&&this.switchContract(this.contractID,this.amendmentID,!1),t}this.switchContract(-1,0,!1)},getActionSufix:function(t,e,i){var s;return s=3==t||4==t||5==t||6==t?"":0==this.contractID?"init":2!=t||e?"con":"init",i&&(s+="A"),s},onchangePartnerID:function(){var t=this.data.staticData.factoryCities.toLookUp("regionID"),e=this.value("partnerID");e>0?(j$("#partnerNameTop").html(this.luTeams[e].companyName.escapeHTML()),j$("#partnerName").html(this.luTeams[e].companyName.escapeHTML()),j$("#partnerLocation").html(Format.location(t[this.luTeams[e].factoryRegionID].city,t[this.luTeams[e].factoryRegionID].region)),j$("#partnerInformationSystem").html(this.tc("mis_"+this.luTeams[e].misID))):(j$("#partnerNameTop").html(this.tc("common:na")),j$("#partnerName").html(this.tc("common:na")),j$("#partnerLocation").html(this.tc("common:na")),j$("#partnerInformationSystem").html(this.tc("common:na")))},getStatusSufix:function(t,e,i,s,a){var n="";return 3==t?a?n="amended":i&&(n="previously"):n=e?"your":"partner",s&&(n+="A"),n},drawSOD:function(){this.setValue(this.pfxSod+this.service,this.drawList(!0))}})},7161:()=>{window.ConfirmRD=Decision.extend({style:"padding: 10px 10px 0px 10px;",viewModeButtons:["createNew","modify","goBack"],sendErrors:!1,licenseID:-1,inSaveOrCancel:!1,statusColor:["#0088FF","#0088FF","#0088FF","#00ff00","#ff0000"],willFailColor:"#ff0000",serviceName:function(){return-1==this.licenseID?"ConfirmRD":0==this.licenseID?"LicenseRD":"ConfirmRD"},createNew:function(){this.switchLicense(0,!1)},goBack:function(){this.switchLicense(-1,!1)},read:function(){var t,e=this.data.decisions;if("LicenseRD"==this.serviceName()){var i=this.data.staticData;for(e.featureID=this.value("featureID"),e.buyerTeamID=this.value("buyerTeamID"),e.quarter=this.value("quarter"),e.price=this.value("price"),e.penalty=this.value("penalty"),e.cannotLicence=this.value("cannotLicence"),e.cannotResell=this.value("cannotResell"),e.specialTerms=this.value("specialTerms"),t=0;t<i.actions.length;++t)this.value("action_"+i.actions[t])&&(e.action=i.actions[t])}else if(-1!=this.licenseID){var s=this.data.dynamicData.licenses.toLookUp("licenseID");for(e.licenseID=this.licenseID,s[this.licenseID].mustFinalize||(e.price=this.value("price"),s[this.licenseID].quarter!=Number(Live.user.quarter())+1?e.penalty=this.value("penalty"):e.penalty=s[this.licenseID].penalty,e.cannotLicence=this.value("cannotLicence"),e.cannotResell=this.value("cannotResell"),e.specialTerms=this.value("specialTerms")),t=0;t<s[this.licenseID].actions.length;++t)this.value("action_"+s[this.licenseID].actions[t])&&(e.action=s[this.licenseID].actions[t])}},write:function(){if(!this.inSaveOrCancel){var t,e=this.data.staticData,i=this.data.dynamicData;if(this.data.decisions,"LicenseRD"==this.serviceName())this.cf.removeAllComponents(),j$("#decWrapper").html(this.drawOne()),j$("#contractHeader").focus(),j$("#featureID").on("change",j$.proxy(this.onChangeFeature,this)),j$("#quarter").on("change",j$.proxy(this.onChangeQtr,this)),j$("#buyerTeamID").on("change",j$.proxy(this.onChangeBuyer,this)),j$("#price").on("keyup",j$.proxy(this.onChangePrice,this)),j$("#penalty").on("keyup",j$.proxy(this.onChangePenalty,this)),this.hideButtons(),this.showButtons(this.modifyModeButtons);else if(-1==this.licenseID)if(this.hideButtons(),e.stopQuarter>Live.user.quarter()&&this.isCurrentQuarter()&&"undefined"!=typeof Engine&&this.showButtons(["createNew"]),this.cf.removeAllComponents(),j$("#decWrapper").html(this.drawList(!1)),null!=this.tables)for(t=0;t<this.tables.length;t++)this.tables[t].observe();else this.noLabel.observe(),this.noLabel.change("float","left");else if(!this.inModifyMode)if(this.cf.removeAllComponents(),j$("#decWrapper").html(this.drawOne()),j$("#contractHeader").focus(),j$("#price").on("keyup",j$.proxy(this.onChangePrice,this)),j$("#penalty").on("keyup",j$.proxy(this.onChangePenalty,this)),this.disable(),"undefined"!=typeof Engine){var s,a=e.licenses.toLookUp("licenseID");s=void 0!==a[this.licenseID]?a:i.licenses.toLookUp("licenseID"),this.isCurrentQuarter()&&(s[this.licenseID].canModify||s[this.licenseID].mustFinalize)?(this.hideButtons(),this.showButtons(["modify","goBack","save","cancel"]),this.disableButtons(this.modifyModeButtons)):(this.hideButtons(),this.showButtons(["goBack"]))}else this.hideButtons(),this.showButtons(["goBack"])}},writeErrors:function(){var t=this.data.errors;null!=t&&(this.writeError("featureID",t.decisions.featureID,"center right",!0),this.writeError("buyerTeamID",t.decisions.buyerTeamID,"center right",!0),this.writeError("quarter",t.decisions.quarter,"center right",!0),this.writeError("price",t.decisions.price,"center right",!0),this.writeError("penalty",t.decisions.penalty,"center left"),this.writeError("cannotLicence",t.decisions.cannotLicence,"center left",!0),this.writeError("cannotResell",t.decisions.cannotResell,"center left",!0),this.writeError("specialTerms",t.decisions.specialTerms,"center left"),this.writeError("action",t.decisions.action,"center left"))},switchLicense:function(t,e){if(this.licenseID=t,this.copying=e,0==this.licenseID){if(this.load(),!this.modify())return this.licenseID=-1,!1}else if("boolean"==typeof e&&e){if(this.copying=!0,!this.modify())return this.copying=!1,!1}else this.load(),this.write();this.resizeContent()},drawListItem:function(t,e){var i,s,a=this.data.staticData,n=!e&&this.isCurrentQuarter()&&(t.canModify||t.mustFinalize);i=[Format.rdFeatureName(this.luBfGroups[t.featureID].groupName,this.luBfs[t.featureID].featureName,this.luBfs[t.featureID].featureTypes,a.brandTypes).escapeHTML(),this.luTeams[t.sellerTeamID].companyName.escapeHTML(),this.luTeams[t.buyerTeamID].companyName.escapeHTML(),t.price,t.quarter],s=this.getStatusSufix(t.status,t.actionByMyFirm),t.willFail?i.push('<span style="color:'+this.willFailColor+';">'+this.tc((t.seller?"your":"partner")+(t.quarter>Number(Live.user.quarter())?"FailureShort":"FailureShortPT"))+"</span>"):i.push('<span style="'+(n?"font-weight:bold;":"font-weight:normal;")+'">'+this.tc("short_status"+t.status+s)+"</span>");var r=[null,null,null,null,null,null];return e||(i.push('<div data-test="license_s'+t.sellerTeamID%100+"_f"+t.featureID+"_b"+t.buyerTeamID%100+"_q"+t.quarter+'">'+(n?this.tc("viewModify"):this.tc("view"))+'</div><img src="'+Path.getPath(this.st("common:decisionsFolder"),"arrow",".png")+'" alt="" style="border: 0px;" />'),r.push({type:"click",linkStyle:"underLink nowrap",context:this,call:this.switchLicense,data:[t.licenseID,!1]})),{data:i,actions:r}},drawList:function(t){t=t||!1;var e,i=this.data.staticData,s=this.data.dynamicData,a="",n=[],r=[],o=[{title:this.tc("technologyHeading")},{title:this.tc("licensorHeading")},{title:this.tc("licenseeHeading")},{title:this.tc("sellingPriceHeading"),type:"number"},{title:this.tc("startingQuarterHeading"),type:"number"},{title:this.tc("licenceStatusHeading"),type:"flag"}];if(t||o.push({title:"",align:"center"}),this.lookUps(),this.tables=[],i.stopQuarter>Live.user.quarter())for(var l=0;l<s.licenses.length;++l){var d=s.licenses[l];e=this.drawListItem(d,t),n.push({values:e.data,actions:e.actions})}if(!t&&i.startQuarter<Live.user.quarter())for(l=0;l<i.licenses.length;++l)d=i.licenses[l],e=this.drawListItem(d,t),r.push({values:e.data,actions:e.actions});if(n.length>0){var c=new DecisionTable(this.tc("curQtrAgreements"),"currentTbl",o,n,!1);a+=c.draw(),this.tables.push(c)}if(!t&&r.length>0){var h=new DecisionTable(this.tc("prevQtrAgreements"),"historyTbl",o,r,!1);a+=h.draw(),this.tables.push(h)}return""==a?(this.tables=null,t?a+=this.tc("zeroContracts"):(this.noLabel=new DecisionLabel(this.service,"no",this.tc("zeroContracts"),"","green"),a+=this.noLabel.draw())):this.noLabel=null,a},drawOne:function(){var t='<table class="bordered-table" style="background:#ffffff; width: 80%;"><tr><td colspan="2" style="text-align:center; padding:10px;"><h2 id="contractHeader" class="plainHeader bigHeader" tabindex="-1">'+this.tc("certificateOf")+"</h2>"+this.tc("licenseOf")+"</td></tr>",e=this.data.staticData,i=this.data.decisions;if(this.keepDisabled=[],0==this.licenseID){for(var s="",a=[],n=0;n<e.teams.length;++n){var r=e.teams[n];r.seller?s=r.companyName:a.push({teamID:r.teamID,companyName:r.companyName})}var o=[];for(n=0;n<e.quarters.length;++n)o.push({qtr:e.quarters[n]});var l=1==e.quarters.length&&e.quarters[0]==Number(this.data.commonData.currentQuarter)+1,d={optgroups:[]};for(n=0;n<e.groups.length;++n){for(var c=e.groups[n],h={label:c.groupName,options:[]},p=0;p<c.brandFeatures.length;++p){var u=c.brandFeatures[p];if(!l&&e.hasFutureContracts||u.alreadyHave){var g="";e.hasFutureContracts&&u.alreadyHave&&(g=this.tc("alreadyDeveloped")),h.options.push({featureID:u.featureID,featureName:Format.rdFeatureName("",u.featureName,u.featureTypes,e.brandTypes,!0)+(g?" | "+g:"")})}}h.options.length>0&&d.optgroups.push(h)}var m="";for(n=0;n<e.actions.length;++n){var b=e.actions[n];0!=n&&(m+="<br />"),m+=this.com("radio","action",i.action,{label:this.tc("action"+b+this.getActionSufix(b,!1))},b)}t+='<tr><td colspan="2" style="padding:10px;">',t+="<div>"+this.tc("licensorLabel",{LICENSOR:'<span style="font-weight:bold;">'+s.escapeHTML()+"</span>"})+"</div>",t+="<div>"+this.com("combobox","featureID",0,{style:"font-weight:bold; margin-top:5px;",label:this.tc("technologyLabel")},d,"featureID","featureName",0,this.tc("chooseTechnology"))+"</div>",t+="<div>"+this.com("combobox","buyerTeamID",0,{style:"font-weight:bold; margin-top:5px;",label:this.tc("licenseeLabel")},a,"teamID","companyName",0,this.tc("chooseLicensee"))+"</div>",t+="<div>"+this.com("combobox","quarter",0,{style:"font-weight:bold ;margin-top:5px;",label:this.tc("startingQtrLabel")},o,"qtr","qtr",0,this.tc("chooseQtr"))+"</div>",t+="<div>"+this.com("iedit","price",0,{size:10,style:"font-weight:bold; margin-top:5px;",label:this.tc("priceLabel")})+"</div>",t+='<div id="penaltyInputWrapper" style="display:none;">'+this.com("iedit","penalty",0,{size:10,style:"font-weight:bold; margin-top: 5px;",label:this.tc("penaltyLabel")})+"</div>",t+='<div style="margin-top:10px;">'+this.tc("agreement",{LICENSOR:'<span style="font-weight:bold;">'+s.escapeHTML()+"</span>",LICENSEE:'<span id="agreementLicensee" style="font-weight:bold;">'+this.tc("common:na")+"</span>",TECHNOLOGY:'<span id="agreementTechnology" style="font-weight:bold;">'+this.tc("common:na")+"</span>",QUARTER:'<span id="agreementQtr" style="font-weight:bold;">'+this.tc("common:na")+"</span>",SUM:'<span id="agreementPrice" style="font-weight:bold;">0</span>'})+"</div>",t+='<div style="margin-top:10px;">'+this.tc("agreementTransfer",{QUARTER:'<span id="agreementTransferQtr" style="font-weight:bold;">'+this.tc("common:na")+"</span>"})+"</div>",t+='<span id="penaltyWrapper" style="display:none;"><br />'+this.tc("penalty",{PENALTY:'<span id="agreementPenalty">0</span>'})+"<br /></span>",t+='<br /><table><tr style="vertical-align:top;"><td>'+this.com("checkbox","cannotLicence",0,{label:this.tc("cannotLicence")})+"</td></tr>",t+='<tr style="vertical-align:top;"><td style="padding-top: 5px;">'+this.com("checkbox","cannotResell",0,{label:this.tc("cannotResell")})+"</td></tr></table>",t+="<br />"+this.com("memo","specialTerms","",{rows:"3",cols:"50",style:"display: block; width: 96%; margin: auto; margin-top: 5px; resize: vertical;",label:this.tc("specialTerms")})+"</td></tr>",t+='<tr><td colspan="2" style="padding:10px;">'+m+"</td></tr>"}else{var f=this.data.staticData.licenses.toLookUp("licenseID"),v=null,y=!1;if(void 0!==f[this.licenseID]?(v=f,y=!0):v=this.data.dynamicData.licenses.toLookUp("licenseID"),m="",(v[this.licenseID].canModify||v[this.licenseID].mustFinalize)&&"undefined"!=typeof Engine)for(n=0;n<v[this.licenseID].actions.length;++n)b=v[this.licenseID].actions[n],0!=n&&(m+="<br />"),m+=this.com("radio","action",0,{label:this.tc("action"+b+this.getActionSufix(b,v[this.licenseID].mustFinalize))},b);t+='<tr><td colspan="2" style="padding:10px;">',v[this.licenseID].canModify&&!v[this.licenseID].mustFinalize&&(t+="<div>"+this.com("iedit","price",v[this.licenseID].price,{size:10,style:"font-weight:bold; margin-top:5px;",label:this.tc("priceLabel")})+"</div>",(y||v[this.licenseID].quarter!=Number(Live.user.quarter())+1)&&(t+="<div>"+this.com("iedit","penalty",v[this.licenseID].penalty,{size:10,style:"font-weight:bold; margin-top: 5px;",label:this.tc("penaltyLabel")})+"</div>"),t+="<br />"),t+=this.tc("agreement",{LICENSOR:'<span style="font-weight:bold;">'+this.luTeams[v[this.licenseID].sellerTeamID].companyName.escapeHTML()+"</span>",LICENSEE:'<span style="font-weight:bold;">'+this.luTeams[v[this.licenseID].buyerTeamID].companyName.escapeHTML()+"</span>",TECHNOLOGY:'<span style="font-weight:bold;">'+Format.rdFeatureName(this.luBfGroups[v[this.licenseID].featureID].groupName,this.luBfs[v[this.licenseID].featureID].featureName,this.luBfs[v[this.licenseID].featureID].featureTypes,e.brandTypes).escapeHTML()+"</span>",QUARTER:'<span style="font-weight:bold;">'+v[this.licenseID].quarter+"</span>",SUM:'<span id="agreementPrice" style="font-weight:bold;">'+Number(v[this.licenseID].price).format()+"</span>"}),t+="<br />",t+='<div style="margin-top:10px;">'+this.tc("agreementTransfer",{QUARTER:'<span id="agreementTransferQtr" style="font-weight:bold;">'+v[this.licenseID].quarter+"</span>"})+"</div>",(y||v[this.licenseID].quarter!=Number(Live.user.quarter())+1)&&(t+="<br /><span>"+this.tc("penalty",{PENALTY:'<span id="agreementPenalty" style="font-weight:bold;">'+Number(v[this.licenseID].penalty).format()+"</span>"})+"<br /></span>"),v[this.licenseID].canModify&&!v[this.licenseID].mustFinalize?(t+='<br /><table><tr style="vertical-align:top;"><td>'+this.com("checkbox","cannotLicence",v[this.licenseID].cannotLicence,{label:this.tc("cannotLicence")})+"</td></tr>",t+='<tr style="vertical-align:top;"><td style="padding-top: 5px;">'+this.com("checkbox","cannotResell",v[this.licenseID].cannotResell,{label:this.tc("cannotResell")})+"</td></tr></table>",t+="<br />"+this.com("memo","specialTerms",v[this.licenseID].specialTerms.escapeHTML(),{rows:"3",cols:"50",style:"display: block; width: 96%; margin: auto; margin-top: 5px; resize: vertical;",label:this.tc("specialTerms")})+"</td></tr>"):(t+='<br /><table><tr style="vertical-align:top;"><td>'+this.com("checkbox","cannotLicence",v[this.licenseID].cannotLicence,{label:this.tc("cannotLicence")})+"</tr>",t+='<tr style="vertical-align:top;"><td style="padding-top: 5px;">'+this.com("checkbox","cannotResell",v[this.licenseID].cannotResell,{label:this.tc("cannotResell")})+"</td></tr></table>",this.keepDisabled=["cannotLicence","cannotResell"],""!=v[this.licenseID].specialTerms&&(t+="<br />"+this.com("memo","specialTerms",v[this.licenseID].specialTerms.escapeHTML(),{rows:"3",cols:"50",style:"display: block; width: 96%; margin: auto; margin-top: 5px; resize: vertical;",label:this.tc("specialTerms")})+"</td></tr>"),this.keepDisabled.push("specialTerms")),t+='<tr><td colspan="2" style="padding:10px;">'+this.tc("licensor"),t+='<br /><span style="font-weight:bold;">'+v[this.licenseID].sellerName.escapeHTML()+"</span>",t+="; "+Format.soapLongDate(v[this.licenseID].sellerDate),v[this.licenseID].seller&&""!=m&&(t+='<br /><span id="action"></span><br />'+m),t+="</td></tr>",t+='<tr><td colspan="2" style="padding:10px;">'+this.tc("licensee"),t+='<br /><span style="font-weight:bold;">'+(""!=v[this.licenseID].buyerName?v[this.licenseID].buyerName.escapeHTML():this.tc("common:na"))+"</span>",t+="; "+Format.soapLongDate(v[this.licenseID].buyerDate,this.tc("common:na")),v[this.licenseID].seller||""==m||(t+='<br /><span id="action"></span><br />'+m),t+="</td></tr>",t+='<tr><td colspan="2" style="padding:10px; font-weight:bold;">',t+=this.tc("status"+v[this.licenseID].status+this.getStatusSufix(v[this.licenseID].status,v[this.licenseID].actionByMyFirm)),void 0!==v[this.licenseID].willFail&&v[this.licenseID].willFail&&(t+='<br /><span style="color:'+this.willFailColor+';">'+this.tc((v[this.licenseID].seller?"your":"partner")+(v[this.licenseID].quarter>Number(Live.user.quarter())?"Failure":"FailurePT"))+"</span>"),t+="</td></tr>"}return t+"</table>"},draw:function(){return this.buttonCaptions.createNew=this.tc("new"),this.buttonCaptions.save=this.tc("common:submit"),this.buttonCaptions.goBack=this.tc("goBack"),'<div id="decWrapper"></div>'},observe:function(){this.hideButtons(),this.load(),this.write(),this.switchLicense(this.switchContractID,!1)},applyParams:function(t){this.switchContractID=t||-1},save:function(){if(this.inModifyMode){this.inSaveOrCancel=!0;var t=this._super();return this.inSaveOrCancel=!1,t&&this.switchLicense(-1,!1),t}return!0},cancel:function(){if(this.inModifyMode){this.inSaveOrCancel=!0;var t=this._super();return this.inSaveOrCancel=!1,0==this.licenseID&&this.switchLicense(-1,!1),this.licenseID>0&&this.switchLicense(this.licenseID,!1),t}this.switchLicense(-1,!1)},lookUps:function(){this.luTeams=this.data.staticData.teams.toLookUp("teamID"),this.luBfGroups=[],this.luBfs=[];for(var t=0;t<this.data.staticData.groups.length;++t)for(var e=this.data.staticData.groups[t],i=0;i<e.brandFeatures.length;++i){var s=e.brandFeatures[i];this.luBfGroups[s.featureID]=e,this.luBfs[s.featureID]=s}},getStatusSufix:function(t,e){return 3==t?"":e?"your":"partner"},getActionSufix:function(t,e){return 3==t?"":0==this.licenseID?"init":2!=t||e?"con":"init"},onChangeFeature:function(){var t=this.data.staticData,e=Number(this.value("featureID"));0==e?(j$("#groupOf").html(""),j$("#agreementTechnology").html(this.tc("common:na"))):(j$("#groupOf").html(Format.rdFeatureName(this.luBfGroups[e].groupName)),j$("#agreementTechnology").html(Format.rdFeatureName(this.luBfGroups[e].groupName,this.luBfs[e].featureName,this.luBfs[e].featureTypes,t.brandTypes).escapeHTML())),this.resolvePenaltyWrapper()},onChangeQtr:function(){var t=Number(this.value("quarter"));0==t?(j$("#agreementQtr").html(this.tc("common:na")),j$("#agreementTransferQtr").html(this.tc("common:na"))):(j$("#agreementQtr").html(t),j$("#agreementTransferQtr").html(t)),this.resolvePenaltyWrapper()},onChangePrice:function(){var t=Number(this.value("price"));0==t?j$("#agreementPrice").html(0):j$("#agreementPrice").html(Number(t).format())},onChangeBuyer:function(){var t=Number(this.value("buyerTeamID"));0==t?j$("#agreementLicensee").html(this.tc("common:na")):j$("#agreementLicensee").html(this.luTeams[t].companyName.escapeHTML())},onChangePenalty:function(){var t=Number(this.value("penalty"));0==t?j$("#agreementPenalty").html(0):j$("#agreementPenalty").html(Number(t).format())},resolvePenaltyWrapper:function(t,e){t=Number(this.value("featureID")),e=Number(this.value("quarter")),0==t||0==e||e==Number(this.data.commonData.currentQuarter)+1||this.luBfs[t].alreadyHave?(this.setValue("penalty",0),j$("#agreementPenalty").html(0),j$("#penaltyInputWrapper").hide(),j$("#penaltyWrapper").hide()):(j$("#penaltyInputWrapper").show(),j$("#penaltyWrapper").show(),this.resizeContent())},drawSOD:function(){this.setValue(this.pfxSod+this.service,this.drawList(!0)+'<div style="clear:both;"></div>')}})},72498:()=>{window.ConfirmRFP=Decision.extend({style:"padding: 10px 10px 0px 10px;",viewModeButtons:["createNew","modify","goBack"],sendErrors:!1,sendCalculate:!1,cssExplanExt:"-green",contractID:-1,inSaveOrCancel:!1,units:0,serviceName:function(){return 0==this.contractID?"InitiateRFP":"ConfirmRFP"},createNew:function(){this.switchContract(0,!1)},goBack:function(){this.switchContract(-1,!1)},read:function(){var t,e=this.data.decisions;if("InitiateRFP"==this.serviceName()){for(e.supplierID=this.value("supplierID"),t=0;t<e.brands.length;t++)e.brands[t].include=this.value("include"+e.brands[t].brandID),e.brands[t].preferredProductionPriority=this.value("preferredProductionPriority"+e.brands[t].brandID),e.brands[t].contractQuantity=this.value("contractQuantity"+e.brands[t].brandID),e.brands[t].contractMax=this.value("contractMax"+e.brands[t].brandID),e.brands[t].contractEstimate=this.value("contractEstimate"+e.brands[t].brandID);e.mode=this.value("mode"),e.frequency=this.value("frequency"),e.shippingPaidBy=this.value("shippingPaidBy"),e.guaranteedMin=this.value("guaranteedMin"),e.guaranteedMax=this.value("guaranteedMax"),e.feeNotDelivered=this.value("feeNotDelivered"),e.feeNotDemanded=this.value("feeNotDemanded"),e.specialTerms=this.value("specialTerms")}else if(-1!=this.contractID){var i=this.data.dynamicData.contracts.toLookUp("contractID")[this.contractID],s=this.data.staticData.myID==i.resellerID?i.supplierID:i.resellerID,a=this.misUsed(this.luTeams[i.resellerID].misID,this.luTeams[i.supplierID].misID,this.luTeams[s].edi);if(e.contractID=i.contractID,i.mustFinalize)e.specialTerms=this.value("specialTerms");else{for(t=0;t<i.brands.length;t++)e.brands[t]={brandID:i.brands[t].brandID,preferredProductionPriority:this.value("preferredProductionPriority"+i.brands[t].brandID),contractQuantity:0,contractMax:0,contractEstimate:0,outsourcedPrice:0},0!=a&&1!=a||(e.brands[t].contractQuantity=this.value("contractQuantity"+i.brands[t].brandID)),1==a&&(e.brands[t].contractMax=this.value("contractMax"+i.brands[t].brandID)),2!=a&&3!=a||(e.brands[t].contractEstimate=this.value("contractEstimate"+i.brands[t].brandID)),i.evaluated&&(e.brands[t].outsourcedPrice=this.value("outsourcedPrice"+i.brands[t].brandID));e.mode=this.value("mode"),e.frequency=this.value("frequency"),e.shippingPaidBy=this.value("shippingPaidBy"),e.guaranteedMin=this.value("guaranteedMin"),e.guaranteedMax=this.value("guaranteedMax"),e.feeNotDelivered=this.value("feeNotDelivered"),e.feeNotDemanded=this.value("feeNotDemanded"),e.specialTerms=this.value("specialTerms")}for(t=0;t<i.actions.length;t++)this.value("action_"+i.actions[t])&&(e.action=i.actions[t])}},write:function(){if(!this.inSaveOrCancel){var t,e=this.data.dynamicData;if("InitiateRFP"==this.serviceName())this.tables=null,this.cf.removeAllComponents(),j$("#decWrapper").html("").css({opacity:Live.opacity}),this.drawOne(j$("#decWrapper")),j$("#supplierID").on("change",j$.proxy(this.onchangeSupplierID,this)),this.setupEntryFields(-1,-1,!1),this.bindEntryFieldsEvents(!0),this.hideButtons(),this.showButtons(this.modifyModeButtons);else if(-1==this.contractID){if(this.cf.removeAllComponents(),j$("#decWrapper").html(this.drawList(!1)).css({opacity:Live.opacity}),null!=this.tables){for(t=0;t<this.tables.length;t++)this.tables[t].observe();DecisionTable.setMaxColWidths(this.tables,0)}null!=this.noLabel&&this.noLabel.change("float","left"),this.negTable=null,this.hideButtons(),e.reseller&&this.isCurrentQuarter()&&"undefined"!=typeof Engine&&this.showButtons(["createNew"])}else{var i,s=e.contracts.toLookUp("contractID");for(this.inModifyMode||(this.cf.removeAllComponents(),this.keepDisabled=[],this.keepEnabled=[],j$("#decWrapper").html("").css({opacity:Live.opacity}),this.drawOne(j$("#decWrapper")),this.observeBrandsTable(),this.bindEntryFieldsEvents(!1),this.disable(),"undefined"!=typeof Engine&&this.isCurrentQuarter()&&s[this.contractID].canModify?(this.hideButtons(),this.showButtons(["modify","goBack","save","cancel"]),this.disableButtons(this.modifyModeButtons)):(this.hideButtons(),this.showButtons(["goBack"]))),this.tables=null,null!=this.negTable&&(this.negTable.observe(),this.negTable.jelement().find("tbody").find("td, th").css({padding:0})),t=s[this.contractID].turns.length-1;t>=0;t--)i=s[this.contractID].turns[t],j$("#turn_"+i.turnNo).on("click",j$.proxy(this.tracking,this))}}},writeErrors:function(){var t,e,i,s,a,n,r=this.data.errors,o=-1,l=!1;if(null!=r){for(0==this.contractID?(this.writeError("supplierID",r.decisions.supplierID,"center right",!0),this.writeError("zeroBrands",r.decisions.brands.general,"center center"),this.writeError("consecutivePPP",r.decisions.brands.consecutive,"center right",!0),t=r.decisions.brands.brands,i=this.data.staticData.myID,(s=this.value("supplierID"))>0&&(n=this.data.staticData.myID==i?s:i,o=this.misUsed(this.luTeams[i].misID,this.luTeams[s].misID,this.luTeams[n].edi))):(this.writeError("consecutivePPP",r.decisions.brands.consecutive,"center right",!0),t=r.decisions.brands.brands,a=this.data.dynamicData.contracts.toLookUp("contractID")[this.contractID],n=this.data.staticData.myID==a.resellerID?a.supplierID:a.resellerID,o=this.misUsed(this.luTeams[a.resellerID].misID,this.luTeams[a.supplierID].misID,this.luTeams[n].edi),l=a.evaluated),e=0;e<t.length;e++)0==this.contractID&&this.writeError("include"+t[e].brandID,t[e].include,"center left"),this.writeError("preferredProductionPriority"+t[e].brandID,t[e].preferredProductionPriority,"center left"),0!=o&&1!=o||this.writeError("contractQuantity"+t[e].brandID,t[e].contractQuantity,"center left"),1==o&&this.writeError("contractMax"+t[e].brandID,t[e].contractMax,"center left"),2!=o&&3!=o||this.writeError("contractEstimate"+t[e].brandID,t[e].contractEstimate,"center left"),this.contractID>0&&l&&this.writeError("outsourcedPrice"+t[e].brandID,t[e].outsourcedPrice,"center left");this.writeError("mode",r.decisions.mode,"center right",!0),this.writeError("frequency",r.decisions.frequency,"center right",!0),this.writeError("shippingPaidBy",r.decisions.shippingPaidBy,"center right",!0),this.writeError("guaranteedMin",r.decisions.guaranteedMin,"center right",!0),this.writeError("guaranteedMax",r.decisions.guaranteedMax,"center right",!0),this.writeError("feeNotDelivered",r.decisions.feeNotDelivered,"center right",!0),this.writeError("feeNotDemanded",r.decisions.feeNotDemanded,"center right",!0),this.writeError("specialTerms",r.decisions.specialTerms,"top left"),this.contractID>0&&this.writeError("action",r.decisions.action,"center right",!0)}},writeCalculate:function(){null!=this.data.calculate&&j$("#shippingCPU").html(Format.real(this.data.calculate.cpuShipped))},switchContract:function(t,e){if(this.contractID=t,this.copying=e,0==this.contractID){if(this.load(),!this.modify())return this.contractID=-1,!1;this.setupEntryFields(-1,-1,!1)}else if("boolean"==typeof e&&e){if(this.copying=!0,!this.modify())return this.copying=!1,!1}else this.load(),this.write();"undefined"!=typeof Engine&&Engine.areas.body.resizeContent()},drawListItem:function(t,e){var i,s,a,n="",r=!e&&this.isCurrentQuarter()&&t.canModify,o=this.data.staticData.myID==t.resellerID?t.supplierID:t.resellerID,l=this.misUsed(this.luTeams[t.resellerID].misID,this.luTeams[t.supplierID].misID,this.luTeams[o].edi),d=this.data.staticData.myID==t.resellerID?this.luTeams[t.supplierID].companyName.escapeHTML():this.luTeams[t.resellerID].companyName.escapeHTML(),c=3==l?this.tc("shipmentMIS3"):this.tc("mode_"+t.mode)+" / "+this.tc("frequency_N",{NUMBER:t.frequency})+" / "+this.tc("paid_by_"+t.shippingPaidBy),h=this.getStatusSufix(t.status,t.actionByMyFirm),p=Format.number(t.guaranteedMin);for(t.guaranteedMin!=t.guaranteedMax&&(p+=" - "+Format.number(t.guaranteedMax)),i=0;i<t.brands.length;i++)n+=(0!=i?", ":"")+Format.brandName(t.brands[i].name.escapeHTML(),t.brands[i].type);return s=[t.contractNo,d,n,p,c,"<span>"+this.tc("short_status"+t.status+h)+"</span>"],a=[null,null,null,null,null,null],e||(s.push('<div data-test="contract_'+t.contractID+'">'+(r?this.tc("viewModify"):this.tc("view"))+'</div><img src="'+Path.getPath(this.st("common:decisionsFolder"),"arrow",".png")+'" alt="" style="border: 0px;" />'),a.push({type:"click",linkStyle:"underLink nowrap",context:this,call:this.switchContract,data:[t.contractID,!1]})),{data:s,actions:a}},drawList:function(t){t=t||!1;var e,i,s=this.data.dynamicData,a="",n=[],r=[],o=[],l=[{title:"#",align:"center"},{title:this.tc("partner")},{title:this.tc("brandsInContract")},{title:this.tc("contractQuantity"),align:"right"},{title:this.tc("shipment")},{title:this.tc("contractStatus")}];for(t||l.push({title:'<span class="offscreen">'+this.tc("action")+"</span>",align:"center"}),this.tables=[],this.luTeams=this.data.staticData.teams.toLookUp("teamID"),e=0;e<s.contracts.length;e++)i=this.drawListItem(s.contracts[e],t),s.contracts[e].accepted?r.push({values:i.data,actions:i.actions}):s.contracts[e].rejected||s.contracts[e].cancelled?o.push({values:i.data,actions:i.actions}):n.push({values:i.data,actions:i.actions});if(n.length>0){var d=new DecisionTable(this.tc("inProcessGroup"),"inProTbl",l,n,!1,"wooden");a+=d.draw(),this.tables.push(d)}if(r.length>0){var c=new DecisionTable(this.tc("acceptedGroup"),"accTbl",l,r,!1,"green");a+=c.draw(),this.tables.push(c)}if(!t&&o.length>0){var h=new DecisionTable(this.tc("rejectedGroup"),"rejTbl",l,o,!1,"concrete");a+=h.draw(),this.tables.push(h)}return""==a?(this.tables=null,t?a+=this.tc("zeroContracts"):(this.noLabel=new DecisionLabel(this.service,"no",this.tc("zeroContracts"),"","green"),a+=this.noLabel.draw())):this.noLabel=null,a},drawTable:function(t,e){var i,s,a,n,r=this.data.staticData,o=[this.tc("total"),""],l=0,d=0,c=0,h=(e=e||[],this.data.staticData.myID==t.resellerID?t.supplierID:t.resellerID),p=!1,u=this.misUsed(this.luTeams[t.resellerID].misID,this.luTeams[t.supplierID].misID,this.luTeams[h].edi);i=[{title:this.tc("brand"),vline:!0},{title:this.tc("production_priority")+'<span id="consecutivePPP"></span>',align:"right"}];for(var g=t.turns.length-1;g>=0;g--)j$("#turn_"+t.turns[g].turnNo).is(":checked")&&(p=!0);for(p&&(i.unshift({title:this.tc("turnNr"),align:"right"}),o.push("")),s=[],n=0;n<t.brands.length;n++){for(a=[],p&&a.push(this.tc("current")),a.push('<span class="nowrap">'+Format.brandName(t.brands[n].name.escapeHTML(),t.brands[n].type)+"</span>",this.com("iedit","preferredProductionPriority"+t.brands[n].brandID,t.brands[n].preferredProductionPriority,{size:6})),e.push("preferredProductionPriority"+t.brands[n].brandID),0!=u&&1!=u||(a.push(this.com("iedit","contractQuantity"+t.brands[n].brandID,t.brands[n].contractQuantity,{size:6})),e.push("contractQuantity"+t.brands[n].brandID),l+=t.brands[n].contractQuantity),1==u&&(a.push(this.com("iedit","contractMax"+t.brands[n].brandID,t.brands[n].contractMax,{size:6})),e.push("contractMax"+t.brands[n].brandID),d+=Number(t.brands[n].contractMax)),2!=u&&3!=u||(a.push(this.com("iedit","contractEstimate"+t.brands[n].brandID,t.brands[n].contractEstimate,{size:6})),e.push("contractEstimate"+t.brands[n].brandID),c+=Number(t.brands[n].contractEstimate)),t.evaluated&&(r.myID==t.supplierID&&a.push(Format.integer(t.brands[n].productionCost)),a.push(this.com("iedit","outsourcedPrice"+t.brands[n].brandID,t.brands[n].outsourcedPrice,{size:6})),e.push("outsourcedPrice"+t.brands[n].brandID)),s.push({values:a}),g=t.turns.length-1;g>=0;g--)j$("#turn_"+t.turns[g].turnNo).is(":checked")&&(p=!0,(a=[g+1,'<span class="nowrap">'+Format.brandName(t.brands[n].name.escapeHTML(),t.brands[n].type)+"</span>"]).push(Format.integer(t.turns[g].brands[n].preferredProductionPriority)),0!=u&&1!=u||a.push(Format.integer(t.turns[g].brands[n].contractQuantity)),1==u&&a.push(Format.integer(t.turns[g].brands[n].contractMax)),2!=u&&3!=u||a.push(Format.integer(t.turns[g].brands[n].contractEstimate)),t.evaluated&&(r.myID==t.supplierID&&a.push(null),a.push(Format.integer(t.turns[g].brands[n].outsourcedPrice))),s.push({values:a,rowData:{turn:g}}));p&&(s[s.length-1].hrafter=!0)}return 0!=u&&1!=u||(i.push({title:this.tc("quantity_short"),align:"right"}),o.push('<span id="contractQuantityTotal">'+Format.integer(l)+"</span>"+this.trackingHolder("contractQuantityTotal"))),1==u&&(i.push({title:this.tc("max_short"),align:"right"}),o.push('<span id="contractMaxTotal">'+Format.integer(d)+"</span>"+this.trackingHolder("contractMaxTotal"))),2!=u&&3!=u||(i.push({title:this.tc("estimate_short"),align:"right"}),o.push('<span id="contractEstimateTotal">'+Format.integer(c)+"</span>"+this.trackingHolder("contractEstimateTotal"))),t.evaluated&&(r.myID==t.supplierID&&(i.push({title:this.extc("simulated_cogs_exp","simulated_cogs"),align:"right"}),o.push("")),i.push({title:this.tc("outsourced_price"),align:"right"}),o.push("")),s.push({values:o,type:"total"}),new DecisionTable("","brandsTable",i,s,!1,"green")},observeBrandsTable:function(){var t,e,i=this.data.dynamicData.contracts.toLookUp("contractID")[this.contractID];for(this.brandsTable.doHlRows=!1,this.brandsTable.observe(),t=0;t<this.brandsTable.data.length;t++)(e=this.brandsTable.data[t]).rowData&&this.brandsTable.jelement().find("tbody").find("tr").eq(t).find("td, th").css({"background-color":this.getTurnColor(i.turns[e.rowData.turn].turnNo)});this.disable(),this.inModifyMode&&this.enable(),this.writeExplanations(),"InitiateRFP"==this.serviceName()?this.bindEntryFieldsEvents(!0):this.bindEntryFieldsEvents(!1)},drawOne:function(t){var e,i,s,a=this.data.staticData,n=this.data.dynamicData,r=this.data.decisions,o=a.factoryCities.toLookUp("regionID"),l=[],d=[],c=this.tc("contractOf"),h='<table class="bordered-table" style="float:left; width:70%; background:#ffffff;"><tr><td style="text-align:center; padding:10px;"><span style="font-weight:bold;">'+this.tc("certificateOf")+"</span><br />{CONTRACT_OF}</td></tr>",p="";for(l.modes=[],e=0;e<a.modes.length;e++)l.modes.push({value:a.modes[e],label:this.tc("mode_"+a.modes[e])+" - "+this.tc("mode_desc_"+a.modes[e])});for(l.frequencies=[],e=0;e<a.frequencies.length;e++)l.frequencies.push({value:a.frequencies[e],label:this.tc("frequency_N",{NUMBER:a.frequencies[e]})});for(l.shippingPaidBy=[],e=0;e<a.shippingPaidBy.length;e++)l.shippingPaidBy.push({value:a.shippingPaidBy[e],label:this.tc("paid_by_"+a.shippingPaidBy[e])});if(0==this.contractID){var u=n.brands.toLookUp("brandID");for(l.suppliers=[],e=0;e<n.suppliers.length;e++)l.suppliers.push({value:n.suppliers[e].supplierID,label:this.luTeams[n.suppliers[e].supplierID].companyName.escapeHTML()});for(d.suppliers=this.com("combobox","supplierID",r.supplierID,{style:"font-weight:bold;",label:this.tc("supplierLabel")},l.suppliers,"value","label",0,this.tc("partner_0")),i=[{title:'<div id="zeroBrands"></div>',type:"flag"},{title:this.tc("brand"),vline:!0},{title:this.tc("production_priority")+'<span id="consecutivePPP"></span>',align:"right"},{title:this.tc("quantity"),align:"right"},{title:this.tc("max"),align:"right"},{title:this.tc("estimate"),align:"right"}],s=[],e=0;e<r.brands.length;e++)s.push([this.com("checkbox","include"+r.brands[e].brandID,r.brands[e].include,{"aria-labelledby":"includeTitle"+r.brands[e].brandID})+'<span id="includeTitle'+r.brands[e].brandID+'" aria-hidden="true" class="offscreen">'+this.tc("include")+"</span>",Format.brandName(u[r.brands[e].brandID].name.escapeHTML(),u[r.brands[e].brandID].type),this.com("iedit","preferredProductionPriority"+r.brands[e].brandID,r.brands[e].preferredProductionPriority,{size:6}),this.com("iedit","contractQuantity"+r.brands[e].brandID,r.brands[e].contractQuantity,{size:6}),this.com("iedit","contractMax"+r.brands[e].brandID,r.brands[e].contractMax,{size:6}),this.com("iedit","contractEstimate"+r.brands[e].brandID,r.brands[e].contractEstimate,{size:6})]);s.push({values:["",this.tc("total"),"",'<span id="contractQuantityTotal"></span>','<span id="contractMaxTotal"></span>','<span id="contractEstimateTotal"></span>'],type:"total"}),d.brandsTable=new DecisionTable("","brandsTable",i,s,!1,"green"),d.modes=this.com("combobox","mode",r.mode,{style:"font-weight:bold;","aria-labelledby":"title_mode"},l.modes,"value","label",0,this.tc("mode_0")),d.frequencies=this.com("combobox","frequency",r.frequency,{style:"font-weight:bold;","aria-labelledby":"title_frequency"},l.frequencies,"value","label",0,this.tc("frequency_0")),d.shippingPaidBy=this.com("combobox","shippingPaidBy",r.shippingPaidBy,{style:"font-weight:bold;","aria-labelledby":"title_shipping_paid_by"},l.shippingPaidBy,"value","label",0,this.tc("paid_by_0")),d.guaranteedMin=this.com("iedit","guaranteedMin",0,{size:10,style:"font-weight:bold;",label:this.tc("guaranteed_min")}),d.guaranteedMax=this.com("iedit","guaranteedMax",0,{size:10,style:"font-weight:bold;",label:this.tc("guaranteed_max")}),d.feeNotDelivered=this.com("iedit","feeNotDelivered",0,{size:10,style:"font-weight:bold;",label:this.tc("fee_not_delivered")}),d.feeNotDemanded=this.com("iedit","feeNotDemanded",0,{size:10,style:"font-weight:bold;",label:this.tc("fee_not_demanded")}),d.specialTerms=this.com("memo","specialTerms","",{rows:"3",style:"display: block; width: 96%; margin: auto; margin-top: 5px;",label:this.tc("special_terms")}),h+='<tr><td style="padding:5px;">',h+="<table><tr><td>"+this.tc("reseller",{RESELLER:this.luTeams[a.myID].companyName.escapeHTML()})+"</td></tr></table>",h+="<table><tr><td>"+d.suppliers+"</td></tr></table><br />",h+="<table><tr><td>"+this.tc("resellerFull",{RESELLER:this.luTeams[a.myID].companyName.escapeHTML(),RESELLER_LOCATION:Format.location(o[this.luTeams[a.myID].factoryRegionID].city,o[this.luTeams[a.myID].factoryRegionID].region),RESELLER_INFORMATION_SYSTEM:this.tc("mis_"+this.luTeams[a.myID].misID)})+"</td></tr></table>",h+="<table><tr><td>"+this.tc("supplierFull",{SUPPLIER:'<span id="supplierName">'+this.tc("common:na")+"</span>",SUPPLIER_LOCATION:'<span id="supplierLocation">'+this.tc("common:na")+"</span>",SUPPLIER_INFORMATION_SYSTEM:'<span id="supplierInformationSystem">'+this.tc("common:na")+"</span>"})+"</td></tr></table><br />",h+=d.brandsTable.draw()+"<br />",h+='<div id="shipment"><table><tr><td>'+this.tcLbl("mode",{},null,"plainHeader","title_mode")+"</td><td>"+d.modes+"</td></tr>",h+="<tr><td>"+this.tcLbl("frequency",{},null,"plainHeader","title_frequency")+"</td><td>"+d.frequencies+"</td></tr>",h+="<tr><td>"+this.tcLbl("shipping_paid_by",{},null,"plainHeader","title_shipping_paid_by")+"</td><td>"+d.shippingPaidBy+"</td></tr>",h+="<tr><td>"+this.tc("shipping_cpu")+'</td><td id="shippingCPU" style="font-weight:bold;">'+this.tc("common:na")+"</td></tr></table><br /></div>",h+='<div id="guaranteed"><table><tr><td>'+this.tc("guaranteed_min_info")+"</td></tr>",h+="<tr><td>"+d.guaranteedMin+"</td></tr>",h+="<tr><td></td></tr>",h+="<tr><td>"+this.tc("guaranteed_max_info")+"</td></tr>",h+="<tr><td>"+d.guaranteedMax+"</td></tr></table><br /></div>",h+="<table><tr><td>"+this.tc("fee_not_delivered_info")+"</td></tr>",h+="<tr><td>"+d.feeNotDelivered+"</td></tr></table><br />",h+='<div id="notDemanded"><table><tr><td>'+this.tc("fee_not_demanded_info")+"</td></tr>",h+="<tr><td>"+d.feeNotDemanded+"</td></tr></table><br /></div>",h+=d.specialTerms+"<br />",h+="</td></tr>"}else{var g,m=n.contracts.toLookUp("contractID")[this.contractID],b=this.data.staticData.myID==m.resellerID?m.supplierID:m.resellerID,f=this.misUsed(this.luTeams[m.resellerID].misID,this.luTeams[m.supplierID].misID,this.luTeams[b].edi),v=[];if(this.tc("total"),this.units=m.guaranteedMin,m.turns.length>0){for(s=[],e=m.turns.length-1;e>=0;e--)g=m.turns[e],s.push({values:['<div style="margin:0px; padding:3px 5px; background-color:'+this.getTurnColor(g.turnNo)+';">'+this.cf.getComponent("checkbox","turn_"+g.turnNo,!1,{viewMode:!0,label:this.tc("turnNum",{NUMBER:e+1,TURN:g.turnBy.escapeHTML()}),value:g.turnNo})+"</div>"]}),this.keepEnabled.push("turn_"+g.turnNo);p='<div id="negTracking">'+(y=new DecisionTable("","negTable",[{title:this.tc("negotiations"),vline:!1}],s,!1,"green")).draw()+"</div>"}else var y=null;if(this.negTable=y,c=this.tc("contractOfNo",{CONTRACT_NUMBER:m.contractNo}),this.brandsTable=this.drawTable(m,v),d.brandsTable=this.brandsTable,d.modes=this.com("combobox","mode",m.mode,{style:"font-weight:bold;","aria-labelledby":"title_mode"},l.modes,"value","label",0,this.tc("mode_0"))+this.trackingHolder("mode"),d.frequencies=this.com("combobox","frequency",m.frequency,{style:"font-weight:bold;","aria-labelledby":"title_frequency"},l.frequencies,"value","label",0,this.tc("frequency_0"))+this.trackingHolder("frequency"),d.shippingPaidBy=this.com("combobox","shippingPaidBy",m.shippingPaidBy,{style:"font-weight:bold;","aria-labelledby":"title_shipping_paid_by"},l.shippingPaidBy,"value","label",0,this.tc("paid_by_0"))+this.trackingHolder("shippingPaidBy"),d.guaranteedMin=this.com("iedit","guaranteedMin",m.guaranteedMin,{size:10,style:"font-weight:bold;",label:this.tc("guaranteed_min")})+this.trackingHolder("guaranteedMin"),d.guaranteedMax=this.com("iedit","guaranteedMax",m.guaranteedMax,{size:10,style:"font-weight:bold;",label:this.tc("guaranteed_max")})+this.trackingHolder("guaranteedMax"),d.feeNotDelivered=this.com("iedit","feeNotDelivered",m.feeNotDelivered,{size:10,style:"font-weight:bold;",label:this.tc("fee_not_delivered")})+this.trackingHolder("feeNotDelivered"),d.feeNotDemanded=this.com("iedit","feeNotDemanded",m.feeNotDemanded,{size:10,style:"font-weight:bold;",label:this.tc("fee_not_demanded")})+this.trackingHolder("feeNotDemanded"),d.specialTerms=this.com("memo","specialTerms",m.specialTerms,{rows:"3",style:"display: block; width: 96%; margin: auto; margin-top: 5px; resize: vertical;",label:this.tc("special_terms")})+this.trackingHolder("specialTerms"),v.push("mode","frequency","shippingPaidBy","guaranteedMin","guaranteedMax","feeNotDelivered","feeNotDemanded","specialTerms"),d.actions="",m.canModify&&"undefined"!=typeof Engine)for(e=0;e<m.actions.length;e++){var w=m.actions[e];0!=e&&(d.actions+="<br />"),d.actions+=this.com("radio","action",0,{label:this.tc("action"+w+this.getActionSufix(w,m.mustFinalize))},w)}(a.myID==m.supplierID&&!m.evaluated||m.mustFinalize)&&(this.keepDisabled=v),h+='<tr><td style="padding:5px;">',h+="<table><tr><td>"+this.tc("resellerFull",{RESELLER:this.luTeams[m.resellerID].companyName.escapeHTML(),RESELLER_LOCATION:Format.location(o[this.luTeams[m.resellerID].factoryRegionID].city,o[this.luTeams[m.resellerID].factoryRegionID].region),RESELLER_INFORMATION_SYSTEM:this.tc("mis_"+this.luTeams[m.resellerID].misID)})+"</td></tr></table>",h+="<table><tr><td>"+this.tc("supplierFull",{SUPPLIER:this.luTeams[m.supplierID].companyName.escapeHTML(),SUPPLIER_LOCATION:Format.location(o[this.luTeams[m.supplierID].factoryRegionID].city,o[this.luTeams[m.supplierID].factoryRegionID].region),SUPPLIER_INFORMATION_SYSTEM:this.tc("mis_"+this.luTeams[m.supplierID].misID)})+"</td></tr></table><br />",h+=d.brandsTable.draw()+"<br />",h+='<div id="shipment"'+(0==f||1==f||2==f?"":' style="display:none;"')+"><table><tr><td>"+this.tcLbl("mode",{},null,"plainHeader","title_mode")+"</td><td>"+d.modes+"</td></tr>",h+="<tr><td>"+this.tcLbl("frequency",{},null,"plainHeader","title_frequency")+"</td><td>"+d.frequencies+"</td></tr>",h+="<tr><td>"+this.tcLbl("shipping_paid_by",{},null,"plainHeader","title_shipping_paid_by")+"</td><td>"+d.shippingPaidBy+"</td></tr>",h+="<tr><td>"+this.tc("shipping_cpu")+'</td><td id="shippingCPU" style="font-weight:bold;">'+Format.real(m.cpuShipped)+"</td></tr></table><br /></div>",h+='<div id="guaranteed"'+(2==f||3==f?"":' style="display:none;"')+"><table><tr><td>"+this.tc("guaranteed_min_info")+"</td></tr>",h+="<tr><td><table><tr><td>"+d.guaranteedMin+"</td></tr></table></td></tr>",h+="<tr><td></td></tr>",h+="<tr><td>"+this.tc("guaranteed_max_info")+"</td></tr>",h+="<tr><td><table><tr><td>"+d.guaranteedMax+"</td></tr></table></td></tr></table><br /></div>",h+="<table><tr><td>"+this.tc("fee_not_delivered_info")+"</td></tr>",h+="<tr><td><table><tr><td>"+d.feeNotDelivered+"</td></tr></table></td></tr></table><br />",h+='<div id="notDemanded"'+(2==f||3==f?"":' style="display:none;"')+"><table><tr><td>"+this.tc("fee_not_demanded_info")+"</td></tr>",h+="<tr><td><table><tr><td>"+d.feeNotDemanded+"</td></tr></table></td></tr></table><br /></div>",h+=d.specialTerms,h+='<tr><td style="padding:10px;">'+this.tc("reseller_title"),h+='<br /><span style="font-weight:bold;">'+m.resellerName.escapeHTML()+"</span>",h+="; "+Format.soapLongDate(m.resellerDate),""!=d.actions&&a.myID==m.resellerID&&(h+='<br /><span id="action"></span><br />'+d.actions),h+="</td></tr>",h+='<tr><td style="padding:10px;">'+this.tc("supplier_title"),h+='<br /><span style="font-weight:bold;">'+(""!=m.supplierName?m.supplierName.escapeHTML():this.tc("common:na"))+"</span>",h+="; "+Format.soapLongDate(m.supplierDate,this.tc("common:na")),""!=d.actions&&a.myID==m.supplierID&&(h+='<br /><span id="action"></span><br />'+d.actions),h+="</td></tr>",m.closed&&(h+='<tr><td style="padding:10px; font-weight:bold;">'+this.tc("status"+m.status)+"</td></tr>")}return h=(h+="</table>").replace("{CONTRACT_OF}",c),t.append(h),t.append(p),!0},draw:function(){return this.buttonCaptions.createNew=this.tc("new"),this.buttonCaptions.save=this.tc("common:submit"),this.buttonCaptions.goBack=this.tc("goBack"),'<div id="decWrapper"></div>'},observe:function(){this.write(),this.switchContractID>-1&&this.switchContract(this.switchContractID,!1)},applyParams:function(t){this.switchContractID=t||-1},save:function(){if(this.inModifyMode){this.inSaveOrCancel=!0;var t=this._super();return this.inSaveOrCancel=!1,t&&this.switchContract(-1,!1),t}return!0},cancel:function(){if(this.inModifyMode){this.inSaveOrCancel=!0;var t=this._super();return this.inSaveOrCancel=!1,0==this.contractID&&this.switchContract(-1,!1),this.contractID>0&&this.switchContract(this.contractID,!1),t}this.switchContract(-1,!1)},getActionSufix:function(t,e){return 2==t||4==t||5==t?"":0==this.contractID?"init":3!=t||e?"con":"init"},setupBrandFields:function(t,e,i){if(0==this.contractID){var s=this.value("supplierID");e=-1,i=!1,s>0&&(e=this.luTeams[s].misID,i=this.luTeams[s].edi)}var a,n,r,o=this.misUsed(t,e,i);for(n=0==this.contractID?this.data.decisions.brands:this.data.dynamicData.contracts.toLookUp("contractID")[this.contractID].brands,a=0;a<n.length;a++)(r=this.value("include"+n[a].brandID))&&0==o?(j$("#preferredProductionPriority"+n[a].brandID).prop("disabled",!1),j$("#contractQuantity"+n[a].brandID).prop("disabled",!1),j$("#contractMax"+n[a].brandID).prop("disabled",!0),j$("#contractEstimate"+n[a].brandID).prop("disabled",!0),this.setValue("contractMax"+n[a].brandID,0),this.setValue("contractEstimate"+n[a].brandID,0)):r&&1==o?(j$("#preferredProductionPriority"+n[a].brandID).prop("disabled",!1),j$("#contractQuantity"+n[a].brandID).prop("disabled",!1),j$("#contractMax"+n[a].brandID).prop("disabled",!1),j$("#contractEstimate"+n[a].brandID).prop("disabled",!0),this.setValue("contractEstimate"+n[a].brandID,0)):!r||2!=o&&3!=o?(j$("#preferredProductionPriority"+n[a].brandID).prop("disabled",!0),j$("#contractQuantity"+n[a].brandID).prop("disabled",!0),j$("#contractMax"+n[a].brandID).prop("disabled",!0),j$("#contractEstimate"+n[a].brandID).prop("disabled",!0),this.setValue("preferredProductionPriority"+n[a].brandID,0),this.setValue("contractQuantity"+n[a].brandID,0),this.setValue("contractMax"+n[a].brandID,0),this.setValue("contractEstimate"+n[a].brandID,0)):(j$("#preferredProductionPriority"+n[a].brandID).prop("disabled",!1),j$("#contractQuantity"+n[a].brandID).prop("disabled",!0),j$("#contractMax"+n[a].brandID).prop("disabled",!0),j$("#contractEstimate"+n[a].brandID).prop("disabled",!1),this.setValue("contractQuantity"+n[a].brandID,0),this.setValue("contractMax"+n[a].brandID,0))},setupEntryFields:function(t,e,i){var s,a=this.misUsed(t,e,i),n=!1;if(0==this.contractID)for(s=0;s<this.data.decisions.brands.length;s++)e>-1?j$("#include"+this.data.decisions.brands[s].brandID).prop("disabled",!1):(j$("#include"+this.data.decisions.brands[s].brandID).prop("disabled",!0),this.setValue("include"+this.data.decisions.brands[s].brandID,!1));this.setupBrandFields(t,e,i),0==a||1==a||2==a?(j$("#shipment").show(),n=!0):(this.setValue("mode",0),this.setValue("frequency",0),this.setValue("shippingPaidBy",0),j$("#shipment").hide()),2==a||3==a?(j$("#guaranteed").show(),j$("#notDemanded").show(),n=!0):(this.setValue("guaranteedMin",0),this.setValue("guaranteedMax",0),j$("#guaranteed").hide(),this.setValue("feeNotDemanded",0),j$("#notDemanded").hide()),this.clearErrors(),n&&"undefined"!=typeof Engine&&Engine.areas.body.resizeContent()},onchangeSupplierID:function(){var t,e=this.data.staticData.factoryCities.toLookUp("regionID"),i=this.data.staticData.myID,s=this.value("supplierID");s>0?(j$("#supplierLocation").html(Format.location(e[this.luTeams[s].factoryRegionID].city,e[this.luTeams[s].factoryRegionID].region)),j$("#supplierInformationSystem").html(this.tc("mis_"+this.luTeams[s].misID)),j$("#supplierName").html(this.luTeams[s].companyName.escapeHTML()),t=this.data.staticData.myID==i?s:i,this.setupEntryFields(this.luTeams[i].misID,this.luTeams[s].misID,this.luTeams[t].edi)):(j$("#supplierLocation").html(this.tc("common:na")),j$("#supplierInformationSystem").html(this.tc("common:na")),j$("#supplierName").html(this.tc("common:na")),this.setupEntryFields(this.luTeams[i].misID,-1,!1))},misUsed:function(t,e,i){var s=Math.min(t,e);return i||(s=Math.min(s,1)),s},bindEntryFieldsEvents:function(t){var e,i,s,a,n=[],r=-1,o=-1,l=-1,d=!1;if(0==this.contractID)e=this.data.decisions.brands,s=["contractQuantity","contractMax","contractEstimate"],o=this.luTeams[this.data.staticData.myID].misID;else{var c,h,p=this.data.dynamicData.contracts.toLookUp("contractID"),u=p[this.contractID];if(e=p[this.contractID].brands,c=this.data.staticData.myID==u.resellerID?u.supplierID:u.resellerID,o=this.luTeams[u.resellerID].misID,l=this.luTeams[u.supplierID].misID,d=this.luTeams[c].edi,0==(r=this.misUsed(o,l,d))?s=["contractQuantity"]:1==r?s=["contractQuantity","contractMax"]:2!=r&&3!=r||(s=["contractEstimate"]),(-1!=u.actions.indexOf(4)||-1!=u.actions.indexOf(5))&&-1!=this.keepDisabled.indexOf("specialTerms")&&"undefined"!=typeof Engine)for(h=0;h<u.actions.length;h++)j$("#action_"+u.actions[h]).on("click",j$.proxy(this.enableSpecialTerms,this,4==u.actions[h]||5==u.actions[h],u))}for(i=0;i<e.length;i++)n.push(e[i].brandID),t&&j$("#include"+e[i].brandID).on("click",j$.proxy(this.setupBrandFields,this,o,-1,d));for(i=0;i<e.length;i++)for(a=0;a<s.length;a++)t&&j$("#include"+e[i].brandID).on("click",j$.proxy(this.calcTotal,this,s[a],n.join(","))),j$("#"+s[a]+e[i].brandID).on("keyup",j$.proxy(this.calcTotal,this,s[a],n.join(",")));j$("#mode").on("change",j$.proxy(this.calcShippingCPU,this)),j$("#frequency").on("change",j$.proxy(this.calcShippingCPU,this)),j$("#guaranteedMin").on("keyup",j$.proxy(this.guaranteedMinOnKeyUp,this))},enableSpecialTerms:function(t,e){t?j$("#specialTerms").prop("disabled",!1):(this.setValue("specialTerms",e.specialTerms),j$("#specialTerms").prop("disabled",!0))},guaranteedMinOnKeyUp:function(){var t=this.value("guaranteedMin");isNaN(t)?0!=this.units&&(this.units=0,this.calcShippingCPU()):this.units!=t&&(this.units=t,this.calcShippingCPU())},calcShippingCPU:function(){var t=0,e=0,i=0,s=0;if(0==this.contractID&&(t=this.data.staticData.myID,e=this.value("supplierID"),i=this.value("mode"),s=this.value("frequency")),this.contractID>0){var a=this.data.dynamicData.contracts.toLookUp("contractID")[this.contractID];t=a.resellerID,e=a.supplierID,i=this.value("mode"),s=this.value("frequency")}if(t>0&&e>0&&i>0&&s>0&&this.units>0){var n={calc:!0,resellerID:t,supplierID:e,mode:i,frequency:s,units:this.units};ServiceFactory.callService(this.serviceName(),"calculate",[this.user,n,0],!0,this.setCalculateData.bind(this))}else j$("#shippingCPU").html(this.tc("common:na"))},calcTotal:function(t,e){var i,s,a=[],n=0;for(""!=e&&(a=e.split(",")),i=0;i<a.length;i++){if(s=this.value(t+a[i]),isNaN(s)){n=null;break}n+=Number(s)}null===n?(j$("#"+t+"Total").html(this.tc("common:na")),0!=this.units&&"contractQuantity"==t&&(this.units=0,this.calcShippingCPU())):(j$("#"+t+"Total").html(Format.integer(n)),this.units!=n&&"contractQuantity"==t&&(this.units=n,this.calcShippingCPU()))},getStatusSufix:function(t,e){return 4==t?"partner":e?"your":"partner"},drawSOD:function(){this.setValue(this.pfxSod+this.service,this.drawList(!0))},trackingHolder:function(t){return'<div id="tracking_'+t+'"></div>'},getTurnColor:function(t){var e,i=GraphDefaults.color,s=i[(t-1)%i.length];return e=(s[0]<<16|s[1]<<8|s[2]).toString(16).toUpperCase(),"#"+Array(7-e.length).join("0")+e},trackingValue:function(t,e,i){if(""==String(e))return"";var s=void 0===i||i?String(e).escapeHTML():String(e);return'<div style="padding-left:5px; padding-right:5px; background-color:'+this.getTurnColor(t)+'; color:#000000;">'+s+"</div>"},tracking:function(){var t,e,i,s,a=this.data.dynamicData.contracts.toLookUp("contractID")[this.contractID];if(s=this.drawTable(a),this.brandsTable.change("replace",s.draw()),this.brandsTable=s,this.observeBrandsTable(),(t=j$("#tracking_mode")).length>0){for(i="",e=a.turns.length-1;e>=0;e--)j$("#turn_"+a.turns[e].turnNo).is(":checked")&&(i+=this.trackingValue(a.turns[e].turnNo,this.tc("turnNum",{NUMBER:e+1,TURN:this.tc("mode_"+a.turns[e].mode)+" - "+this.tc("mode_desc_"+a.turns[e].mode)})));t.html(i)}if((t=j$("#tracking_frequency")).length>0){for(i="",e=a.turns.length-1;e>=0;e--)j$("#turn_"+a.turns[e].turnNo).is(":checked")&&(i+=this.trackingValue(a.turns[e].turnNo,this.tc("turnNum",{NUMBER:e+1,TURN:this.tc("frequency_N",{NUMBER:a.turns[e].frequency})})));t.html(i)}if((t=j$("#tracking_shippingPaidBy")).length>0){for(i="",e=a.turns.length-1;e>=0;e--)j$("#turn_"+a.turns[e].turnNo).is(":checked")&&(i+=this.trackingValue(a.turns[e].turnNo,this.tc("turnNum",{NUMBER:e+1,TURN:this.tc("paid_by_"+a.turns[e].shippingPaidBy)})));t.html(i)}if((t=j$("#tracking_guaranteedMin")).length>0){for(i="",e=a.turns.length-1;e>=0;e--)j$("#turn_"+a.turns[e].turnNo).is(":checked")&&(i+=this.trackingValue(a.turns[e].turnNo,this.tc("turnNum",{NUMBER:e+1,TURN:Format.integer(a.turns[e].guaranteedMin)})));t.html(i)}if((t=j$("#tracking_guaranteedMax")).length>0){for(i="",e=a.turns.length-1;e>=0;e--)j$("#turn_"+a.turns[e].turnNo).is(":checked")&&(i+=this.trackingValue(a.turns[e].turnNo,this.tc("turnNum",{NUMBER:e+1,TURN:Format.integer(a.turns[e].guaranteedMax)})));t.html(i)}if((t=j$("#tracking_feeNotDelivered")).length>0){for(i="",e=a.turns.length-1;e>=0;e--)j$("#turn_"+a.turns[e].turnNo).is(":checked")&&(i+=this.trackingValue(a.turns[e].turnNo,this.tc("turnNum",{NUMBER:e+1,TURN:Format.integer(a.turns[e].feeNotDelivered)})));t.html(i)}if((t=j$("#tracking_feeNotDemanded")).length>0){for(i="",e=a.turns.length-1;e>=0;e--)j$("#turn_"+a.turns[e].turnNo).is(":checked")&&(i+=this.trackingValue(a.turns[e].turnNo,this.tc("turnNum",{NUMBER:e+1,TURN:Format.integer(a.turns[e].feeNotDemanded)})));t.html(i)}if((t=j$("#tracking_specialTerms")).length>0){for(i="",e=a.turns.length-1;e>=0;e--)j$("#turn_"+a.turns[e].turnNo).is(":checked")&&(i+=this.trackingValue(a.turns[e].turnNo,this.tc("turnNum",{NUMBER:e+1,TURN:a.turns[e].specialTerms})));t.html(i)}}})},60153:(t,e,i)=>{"use strict";i(94067),window.ControlCharts=StrategicGraphs.extend({getCategoryTitle:function(t){return this.tc(t.id+"Charts")}})},67291:(t,e,i)=>{"use strict";i(13669),window.ControlChartsAnim=StrategicGraphsAnim.extend({typeOfService:"ControlCharts",getCategoryTitle:function(t){return this.tc(t.id+"Charts")}})},30162:(t,e,i)=>{"use strict";i(60153),window.ControlChartsFinance=ControlCharts.extend()},96490:(t,e,i)=>{"use strict";i(67291),window.ControlChartsFinanceAnim=ControlChartsAnim.extend({typeOfService:"ControlChartsFinance"})},34513:(t,e,i)=>{"use strict";i(60153),window.ControlChartsHumanResource=ControlCharts.extend()},18236:(t,e,i)=>{"use strict";i(67291),window.ControlChartsHumanResourceAnim=ControlChartsAnim.extend({typeOfService:"ControlChartsHumanResource"})},22580:(t,e,i)=>{"use strict";i(60153),window.ControlChartsManufacturing=ControlCharts.extend()},51270:(t,e,i)=>{"use strict";i(67291),window.ControlChartsManufacturingAnim=ControlChartsAnim.extend({typeOfService:"ControlChartsManufacturing"})},28691:(t,e,i)=>{"use strict";i(60153),window.ControlChartsMarketing=ControlCharts.extend()},32841:(t,e,i)=>{"use strict";i(67291),window.ControlChartsMarketingAnim=ControlChartsAnim.extend({typeOfService:"ControlChartsMarketing"})},57166:(t,e,i)=>{"use strict";i(60153),window.ControlChartsSalesChannel=ControlCharts.extend()},42603:(t,e,i)=>{"use strict";i(67291),window.ControlChartsSalesChannelAnim=ControlChartsAnim.extend({typeOfService:"ControlChartsSalesChannel"})},8323:()=>{window.CorporateObjectives=Decision.extend({style:"padding: 10px 10px 0px 10px;",hideButtonsInLastQuarter:!1,read:function(){var t,e,i=this.data.staticData,s=this.data.decisions,a=i.objectives.length;for(s.objectives=[],t=0;t<a;++t)e=i.objectives[t],s.objectives.push({id:e.id,priority:this.value("obj_"+e.id),text:"I"==e.type?"":this.value("obj_text_"+e.id)})},write:function(){var t,e,i,s=this.data.staticData,a=this.data.decisions.objectives.toLookUp("id"),n=s.objectives.length;for(t=0;t<n;++t)i=a[(e=s.objectives[t]).id],this.setValue("obj_"+e.id,i.priority),"I"!=e.type&&this.setValue("obj_text_"+e.id,i.text)},writeErrors:function(){var t,e,i,s=this.data.staticData,a=this.data.errors.decisions.objectives.toLookUp("id"),n=s.objectives.length;for(t=0;t<n;++t)i=a[(e=s.objectives[t]).id],this.writeError("obj_"+e.id,i.priority),"I"!=e.type&&this.writeError("obj_text_"+e.id,i.text)},draw:function(){var t,e,i,s=this.data.staticData,a=this.data.decisions.objectives.toLookUp("id"),n=s.objectives.length,r=[];for(t=0;t<n;++t)i=a[(e=s.objectives[t]).id],r.push([this.com("iedit","obj_"+e.id,i.priority,{size:2}),"I"==e.type?e.text:this.com("edit","obj_text_"+e.id,i.text,{maxlength:s.maxTextSize,size:s.maxTextSize})]);return this.oTable=new DecisionTable(this.tc("objectives"),"oTable",[{title:this.tc("priority"),align:"center"},{title:this.tc("objective")}],r),this.oTable.draw()},observe:function(){this.oTable.observe()},drawSOD:function(){var t,e,i,s=this.data.staticData,a=this.data.decisions.objectives.toLookUp("id"),n=s.objectives.length,r="",o=[];for(t=0;t<n;++t)(i=a[(e=s.objectives[t]).id]).priority>0&&o.push({priority:i.priority,text:"I"==e.type?e.text:i.text});if((n=o.length)>0){for(o.sort((function(t,e){return t.priority-e.priority})),r="<ol>",t=0;t<n;++t)r+="<li>"+o[t].text+"</li>";r+="</ol>"}this.setValue(this.pfxSod+this.service,r)}})},72162:()=>{window.CorrectiveActions=Decision.extend({style:"padding: 10px 10px 0px 10px;",hideButtonsInLastQuarter:!1,read:function(){var t,e,i=this.data.decisions,s=i.functionalAreas.length;for(t=0;t<s;++t)(e=i.functionalAreas[t]).problem=this.value("problem_"+e.id),e.action=this.value("action_"+e.id)},write:function(){var t,e,i=this.data.decisions,s=i.functionalAreas.length;for(t=0;t<s;++t)e=i.functionalAreas[t],this.setValue("problem_"+e.id,e.problem),this.setValue("action_"+e.id,e.action)},writeErrors:function(){var t,e,i=this.data.errors.decisions,s=i.functionalAreas.length;for(t=0;t<s;++t)e=i.functionalAreas[t],this.writeError("problem_"+e.id,e.problem),this.writeError("action_"+e.id,e.action)},draw:function(t){var e,i,s=this.data.staticData,a=s.functionalAreas.length,n=this.data.decisions.functionalAreas.toLookUp("id"),r=[{title:this.tc("functionalArea")},{title:this.tc("problem")},{title:this.tc("action")}],o=[];for(e=0;e<a;++e)i=s.functionalAreas[e],o.push({values:[{title:i.title},this.com("memo","problem_"+i.id,n[i.id].problem,{cols:40,rows:6}),this.com("memo","action_"+i.id,n[i.id].action,{cols:40,rows:6})]});return this.paTable=new DecisionTable(t?"":this.tc("correctiveActions"),"paTable",r,o),t&&(this.paTable.tableCorners=""),this.paTable.draw()},observe:function(){this.paTable.observe()},drawSOD:function(){this.setValue(this.pfxSod+this.service,this.draw(!0)),this.disable()}})},63544:()=>{window.CostOfProduction=Decision.extend({viewModeButtons:[],modifyModeButtons:[],sendCalculate:!1,sendErrors:!1,style:"padding: 10px 10px 0px 10px;",draw:function(){var t,e,i,s,a,n,r,o,l=this.data.dynamicData.brands,d=this.data.staticData.units,c=d.length,h=[{}],p=[],u=[{title:this.tc("brand"),rowspan:2},{title:this.tc("total_number"),colspan:c}],g=[],m=this.data.dynamicData.demandProjection;for(r=0;r<c;++r)h.push({type:"number"}),g.push({title:Number(d[r]).format()+" "+this.tc("units")});for(p.push({cols:u,type:"head"}),p.push({cols:g,type:"head"}),t=0,e=l.length;t<e;++t){for(i=l[t],s=[Format.brandName(i.brandName.escapeHTML(),i.brandType)],a=0,n=i.cogsEstimates.length;a<n;++a)s.push(i.cogsEstimates[a].cost);p.push(s)}return this.dpLabel=null,null!=m&&(o=0===m.totalDemand?this.tc("askDemandForecast"):this.tc("demandForecast",{DEMAND:m.totalDemand.format()}),this.dpLabel=new DecisionLabel(this.service,"dpLabel",o)),this.copLabel=new DecisionLabel(this.service,"copLabel",this.tc("explanation")),this.copTable=new DecisionTable(this.tc("cogs"),"copTable",h,p,!0),this.copLabel.draw()+(this.dpLabel?this.dpLabel.draw():"")+this.copTable.draw()},observe:function(){this.copLabel.observe(),this.copLabel.change("float","left"),this.dpLabel&&(this.dpLabel.observe(),this.dpLabel.change("float","left")),this.copTable.observe()}})},21614:()=>{window.CostOfProductionRegional=Decision.extend({viewModeButtons:[],modifyModeButtons:[],sendCalculate:!1,sendErrors:!1,style:"padding: 10px 10px 0px 10px;",getRegionProjectionLabel:function(t){var e,i=t.demandProjection;return e=0===i.totalDemand?this.tc("askDemandForecast",{REGION:t.regionName}):this.tc("demandForecast",{REGION:t.regionName,DEMAND:i.totalDemand.format()}),new DecisionLabel(this.service,"dpLabel_"+t.regionID,e)},getRegionTable:function(t){var e=this,i=this.data.staticData.units,s=[{}].concat(i.map((function(t){return{type:"number"}}))),a=[{title:this.tc("brand"),rowspan:2},{title:this.tc("total_number"),colspan:i.length}],n=i.map((function(t){return{title:Number(t).format()+" "+e.tc("units")}})),r=[];r.push({cols:a,type:"head"}),r.push({cols:n,type:"head"});for(var o=0,l=t.brands.length;o<l;++o){var d=t.brands[o],c=[Format.brandName(d.brandName.escapeHTML(),d.brandType)].concat(d.cogsEstimates.map((function(t){return t.cost})));r.push(c)}return new DecisionTable(this.tc("cogs",{REGION:t.regionName}),"copTable_"+t.regionID,s,r,!0)},draw:function(){var t=this.data.dynamicData,e="";this.copTable=[],this.dplabel=[];for(var i=0,s=t.regions.length;i<s;++i){var a=t.regions[i];a.isIn&&(this.dplabel[a.regionID]=this.getRegionProjectionLabel(a),e+=this.dplabel[a.regionID].draw(),this.copTable[a.regionID]=this.getRegionTable(a),e+=this.copTable[a.regionID].draw())}return this.copLabel=new DecisionLabel(this.service,"copLabel",this.tc("explanation")),this.copLabel.draw()+e},observe:function(){var t=this.data.dynamicData;this.copLabel.observe(),this.copLabel.change("float","left");for(var e=0,i=t.regions.length;e<i;++e){var s=t.regions[e];s.isIn&&(this.dplabel[s.regionID].observe(),this.dplabel[s.regionID].change("float","left"),this.copTable[s.regionID].observe())}}})},35435:()=>{window.CostTrends=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",draw:function(){var t,e,i,s,a,n="",r=this.data.staticData;for(r.regions.toLookUp("regionID"),s=0,a=r.graphs.length;s<a;s++)for(n+='<div id="gr_'+(t=r.graphs[s]).id+'" style="float:left;margin:5px;height:300px; width:400px;"></div>',e=0,i=t.regions.length;e<i;e++)t.regions[e];return n},observe:function(){var t,e,i=this.data.staticData;for(i.regions.toLookUp("regionID"),t=0,e=i.graphs.length;t<e;t++)this.setChartData(i.graphs[t],"gr_"+i.graphs[t].id)},resize:function(){var t,e,i=this.data.staticData,s=j$("#decision").children().first();for(s.width(),j$('[id^="gr_"]').css({width:(s.width()-20)/2-1}),t=0,e=i.graphs.length;t<e;t++)this.setChartData(i.graphs[t],"gr_"+i.graphs[t].id)},setChartData:function(t,e){var i,s,a,n,r,o,l,d,c,h,p,u,g=[],m=this.data.staticData.regions.toLookUp("regionID");if(Live.useSvg()){for(l=this.data.staticData.chartTemplate,d=void 0!==t.params?this.tc(t.id,t.params):this.tc(t.id),j$.extend(l.data,{title:d,xAxis:this.tc("quarter"),yAxis:"",xLines:10,labels:[],x:[],y:[],minX:1,intersectionX:1,dsX:5,dsY:8,saveUrl:this.st("common:saveChartURL"),saveName:"cost-trends-"+t.id+this.user.quarter()}),l.chartSettings.radius=0,l.legend.position="right",i=0,s=t.regions.length;i<s;++i)a=t.regions[i],l.data.labels[i]=m[a.regionID].regionName,g.push(a);for(c=0,h=a.quarters.length;c<h;c++)for(l.data.x[c]=Number(a.quarters[c].xqtr),l.data.y[c]=[],p=0,u=l.data.labels.length;p<u;++p)l.data.y[c].push(Number(g[p].quarters[c].value));SvgCharts.BaseChart.setChartData(e,l)}else{for((n=j$("#"+e)).css({opacity:Live.opacity}),l=new LineChart(n[0]),void 0!==t.params?l.label=this.tc(t.id,t.params):l.label=this.tc(t.id),l.labelX=this.tc("quarter"),l.labelY="",l.labels=[],l.data=[],l.category=[],o=0,r=t.regions.length;o<r;o++)for(a=t.regions[o],l.data[o]=[],l.labels[o]=m[a.regionID].regionName,c=0,h=a.quarters.length;c<h;c++)l.category[c]=Number(a.quarters[c].xqtr),l.data[o][c]=a.quarters[c].value;l.draw()}}})},69363:()=>{window.Culture=Decision.extend({style:"padding: 10px 10px 0px 10px",hideButtonsInLastQuarter:!1,sendCalculate:!1,read:function(){this.data.decisions.culture=this.value("culture")},write:function(){this.setValue("culture",this.data.decisions.culture)},writeErrors:function(){this.writeError("culture",this.data.errors.decisions.culture,"center right",!0,3)},draw:function(){return this.lbl=new DecisionLabel(this.service,"culture",this.tcLbl("culture")+"<br />"+this.com("memo","culture",this.data.decisions.culture,{rows:15,cols:100})),this.lbl.draw()},observe:function(){this.lbl.observe(),this.lbl.change("float","left")},drawSOD:function(){this.setValue(this.pfxSod+this.service,this.data.decisions.culture.escapeHTML())}})},51642:()=>{window.CumulativeBalancedScorecard=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",drawVars:function(t,e){var i,s,a,n="",r=t.length;for(i=0;i<r;++i)a=(s=t[i]).name.replace("{Q3}",Live.user.quarter()-4).replace("{Q2}",Live.user.quarter()-3).replace("{Q1}",Live.user.quarter()-2).replace("{Q0}",Live.user.quarter()-1),s.variables.length>0?n+='<div style="margin-left:'+e+'px; margin-top:2px;">'+a+"<br />= XXX"+s.strEquation.replace("{Q3}",Live.user.quarter()-4).replace("{Q2}",Live.user.quarter()-3).replace("{Q1}",Live.user.quarter()-2).replace("{Q0}",Live.user.quarter()-1)+" = "+s.valueEquation+" = "+s.value+"<br />"+this.drawVars(s.variables,15)+"</div>":n+='<div style="margin-left:'+e+'px">'+a+": "+s.value+"</div>";return n},draw:function(){var t,e,i,s,a=this.data.staticData.indicators,n=a.length,r=[],o="",l="",d=[{title:"",vline:!0},{title:this.tc("minimum"),type:"number",decimals:3},{title:this.tc("maximum"),type:"number",decimals:3},{title:this.tc("average"),type:"number",decimals:3,vline:!0},{title:this.data.staticData.companyName.escapeHTML(),type:"number",decimals:3}];for(t=0;t<n;++t)e=a[t],r.push([e.name,e.min,e.max,e.avg,e.value]),i=1==e.rootVariable.variables.length&&e.rootVariable.variables[0].id==e.rootVariable.equation.trim(),s=e.rootVariable.strEquation.replace("{Q3}",Live.user.quarter()-4).replace("{Q2}",Live.user.quarter()-3).replace("{Q1}",Live.user.quarter()-2).replace("{Q0}",Live.user.quarter()-1),l+='<div id="x'+t+'">'+e.description.replace(new RegExp("{"+e.id+"}","gi"),'<h2 class="plainHeader bscHeader">'+e.name+"</h2>")+'</div><div class="bscFormula">'+e.name+" = "+s+"<br /><br />"+(i?"":" = "+e.rootVariable.valueEquation+"<br />")+" = "+e.rootVariable.value+"<br /><br />"+this.drawVars(e.rootVariable.variables,0)+"</div><br />";return this.bscTable=new DecisionTable(this.tc("inductryResults",{QUARTER:Live.user.quarter()-1}),"bscTable",d,r),"undefined"!=typeof Engine&&(o=this.cf.getLink(this.tc("standings"),"standings",(function(){Engine.showNewWindow("cumulativeplayersstanding","CumulativePlayersStanding")}),"#","button-link")),this.text=new DecisionLabel(this.service,"bscDescription",l),this.bscTable.draw()+o+this.text.draw()},observe:function(){this.bscTable.observe(),this.text.observe(),this.text.change("css",{"line-height":"1.5em","max-width":"650px"})}})},53639:(t,e,i)=>{"use strict";i(54167),window.CumulativePlayersStanding=PlayersStanding.extend()},60248:()=>{window.CurrencyFunds=Decision.extend({style:"padding: 10px 10px 0px 10px;",read:function(){var t,e,i,s=this.data.staticData,a=this.data.decisions.regions;if(null!=this.buyTable)for(this.data.decisions.cashToCurrencies=this.value("cash_to_cur"),e=0,t=a.length;e<t;++e)(i=a[e]).regionID!=s.hq_region&&(i.distrToCurrency=this.value("distr_"+i.regionID),null!=this.sellTable&&(i.withdraw=this.value("withdraw_"+i.regionID)))},write:function(){var t,e,i,s=this.data.staticData,a=this.data.decisions.regions;if(null!=this.buyTable)for(this.setValue("cash_to_cur",this.data.decisions.cashToCurrencies),e=0,t=a.length;e<t;++e)(i=a[e]).regionID!=s.hq_region&&(this.setValue("distr_"+i.regionID,i.distrToCurrency),null!=this.sellTable&&this.setValue("withdraw_"+i.regionID,i.withdraw))},writeErrors:function(){var t,e,i,s=this.data.staticData,a=this.data.errors.decisions.regions;if(null!=this.buyTable)for(this.writeError("cash_to_cur",this.data.errors.decisions.cashToCurrencies,"center right",!0,-3),this.writeError("distr_title",this.data.errors.decisions.distrTotal,"center right",!0,-3),e=0,t=a.length;e<t;++e)(i=a[e]).regionID!=s.hq_region&&(this.writeError("distr_"+i.regionID,i.distrToCurrency,"center left",!0,3),null!=this.sellTable&&this.writeError("withdraw_"+i.regionID,i.withdraw,"center left",!0,3))},draw:function(){var t,e,i,s,a,n,r,o="",l=this.data.staticData,d=this.data.decisions,c=d.regions.toLookUp("regionID"),h=[],p=[],u=!1;if(this.isGameOverQuarter())this.buyTable=null,this.sellTable=null;else{for(this.lblBuy=new DecisionLabel(this.service,"cashToCurr",this.lbl(this.tc("cashToCurr"),"cash_to_cur","plainLabel")+" "+this.com("iedit","cash_to_cur",d.cashToCurrencies,{size:6}),"","concrete"),o+=this.lblBuy.draw(),p=[{title:this.tc("currency")},{title:'<span id="distr_title">'+this.tc("distribution")+"</span>",align:"right"}],s=0,a=l.regions.length;s<a;s++)l.regions[s].regionID!=l.hq_region&&(h.push([l.regions[s].currency,this.com("iedit","distr_"+l.regions[s].regionID,c[l.regions[s].regionID].distrToCurrency,{size:2})]),l.regions[s].current_currency[l.regions[s].current_currency.length-1].valueUsd>0&&(u=!0));if(this.buyTable=new DecisionTable(this.tc("purchaseTable"),"buyTable",p,h,!1,"concrete","right"),o+=this.buyTable.draw(),u){for(h=[],p=[{title:this.tc("currency")},{title:this.tc("valueOfCurrency"),type:"number"},{title:this.tc("valueOfHqCurrencyCur",{HQCUR:l.hq_currency}),type:"number"},{title:this.tc("percToWithdraw"),align:"right"}],s=0,a=l.regions.length;s<a;s++)l.regions[s].regionID!=l.hq_region&&(i=l.regions[s].current_currency,l.regions[s].rates,h.push([l.regions[s].currency,i[i.length-1].value,i[i.length-1].valueUsd,this.com("iedit","withdraw_"+l.regions[s].regionID,c[l.regions[s].regionID].withdraw,{size:2})]));this.sellTable=new DecisionTable(this.tc("sellTable"),"sellTable",p,h,!1,"concrete","right"),o+=this.sellTable.draw()}else this.sellTable=null}var g=0;for(h=[],p=[{title:this.tc("quarter"),align:"center"},{title:this.tc("currency"),vline:!0},{title:this.tc("valueOfCurrency"),type:"number"},{title:this.tc("valueOfHqCurrencyCur",{HQCUR:l.hq_currency}),type:"number"},{title:this.tc("valueOfHqCurrencyPrev",{HQCUR:l.hq_currency}),type:"number"},{title:this.tc("gainsLosesCur"),type:"number"}],n=0,r=l.regions[0].current_currency.length;n<r;n++)for(s=0,a=l.regions.length;s<a;s++)l.regions[s].regionID!=l.hq_region&&(l.regions[s].rates,0!=(i=l.regions[s].current_currency)[n].value&&(e=i[n].valueUsdPrev,g+=(t=i[n].valueUsd)-e,h.push([i[n].xqtr,l.regions[s].currency,i[n].value,t,e,t-e])));for(h.length>0?(h.push({values:[this.tc("total"),null,null,null,null,g],type:"total"}),this.historyGL=new DecisionTable(this.tc("historyGL"),"historyGL",p,h,!1,"concrete","right"),o+=this.historyGL.draw()):this.historyGL=null,h=[],p=[{title:this.tc("quarter"),align:"center"},{title:this.tc("currency")},{title:this.tc("valueOfCurrency"),type:"number"},{title:this.tc("valueOfHqCurrencyCur",{HQCUR:l.hq_currency}),type:"number"},{title:this.tc("typeOfTrans"),align:"center"},{title:this.tc("exRate"),type:"number",decimals:3}],n=1,r=l.regions[0].current_currency.length;n<r;n++)for(s=0,a=l.regions.length;s<a;s++)l.regions[s].regionID!=l.hq_region&&(l.regions[s].rates,0!=(i=l.regions[s].current_currency)[n].gainValue&&(t=i[n].gainValue,h.push([i[n].prevQtr,l.regions[s].currency,Math.abs(t),Math.abs(i[n].gainValueUsd),t>0?this.tc("purchase"):this.tc("sale"),i[n].prevRate])));return h.length>0?(this.historyTrans=new DecisionTable(this.tc("historyTrans"),"historyTrans",p,h,!1,"concrete","right"),o+=this.historyTrans.draw()):this.historyTrans=null,""==o?(this.lblNoTransaction=new DecisionLabel(this.service,"noTransaction",this.tc("noTransaction"),"","concrete"),o+=this.lblNoTransaction.draw()):this.lblNoTransaction=null,o},observe:function(){this.data.staticData,null!=this.buyTable&&(this.lblBuy.observe(),this.lblBuy.change("float","left"),this.buyTable.observe()),null!=this.sellTable&&this.sellTable.observe(),null!=this.historyGL&&this.historyGL.observe(),null!=this.historyTrans&&this.historyTrans.observe(),null!=this.lblNoTransaction&&(this.lblNoTransaction.observe(),this.lblNoTransaction.change("float","left"))}})},72187:()=>{window.CustomerNeeds=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",saveName:"customer-needs",chartRelativeToMax:!1,initialize:function(t){this.filter=null,this._super(t)},initSettings:function(){return{filter:null}},getFilter:function(){return""},checkFilter:function(t){return!0},draw:function(){var t,e,i,s,a,n,r,o,l,d,c,h=this.data.staticData,p="",u="",g=0,m=[{title:"",header:!0}],b=!0;if(!h.isBought)return this.noLabel=new DecisionLabel(this.service,"no",this.tc("common:noSurveyBought")),this.noLabel.draw();for(this.tables=[],this.charts=[],h.segments.forEach((function(t){m.push({title:Format.segmentName(t.name,t.shortName),type:"number"})})),t=0,e=h.tables.length;t<e;++t)if(d=[],(i=h.tables[t]).sameData){for((c=m.slice(0)).shift(),c[0].vline=!1,d[0]=[],s=0,a=c.length;s<a;++s)d[0][s]=i.items[0].segments[s].value;this.tables[t]=new DecisionTable(i.tableName,"priceWillingToPay"+i.tableID,c,d),u+=this.tables[t].draw(),o=90+30*c.length,p+="<div>",p+='<div id="chart_'+g+'" style="width: 500px; height: '+o+'px;"></div><br />',this.charts[g]={table:t},g++,p+="</div>"}else{for(b=!1,s=0,a=i.items.length;s<a;++s){for(l=[(n=i.items[s]).itemName],r=1;r<m.length;++r)l.push(n.segments[r-1].value);d.push(l)}this.tables[t]=new DecisionTable(i.tableName,"customerNeedsTable"+i.tableID,m,d),u+=this.tables[t].draw()+"<br />",o=90+30*Math.min(this.st("topItemsMax"),i.items.length),p+="<div>",h.segments.forEach((function(e){p+='<div id="chart_'+g+'" style="width: 500px; height: '+o+'px;"></div><br />',this.charts[g]={table:t,segment:e},g++}),this),p+="</div><br />"}return(b?"":this.getFilter())+u+'<div id="graphs" style="clear: both;">'+p+"</div>"},redrawTables:function(t,e){if(t&&(this.filter&&(this.settings.filter=this.filter.settings),this.saveSettings()),e){var i,s,a,n,r,o,l,d,c,h,p,u=this.data.staticData,g="",m=0,b=[{title:"",header:!0}],f=0,v=!0;for(this.filter&&(v=this.filter.noFilterSet()),u.segments.forEach((function(t){b.push({title:Format.segmentName(t.name,t.shortName),type:"number"})})),i=0,s=u.tables.length;i<s;++i)if(h=[],(a=u.tables[i]).sameData){for((p=b.slice(0)).shift(),p[0].vline=!1,h[0]=[],n=0,r=p.length;n<r;++n)h[0][n]=a.items[0].segments[n].value;this.tables[i]=new DecisionTable(a.tableName,"priceWillingToPay"+a.tableID,p,h),this.tables[i].change("replace",this.tables[i].draw()),this.tables[i].observe(),d=90+30*p.length,g+="<div>",g+='<div id="chart_'+m+'" style="width: 500px; height: '+d+'px;"></div><br />',this.charts[m]={table:i},m++,g+="</div>"}else{for(n=0,r=a.items.length;n<r;++n)if(o=a.items[n],this.checkFilter(o)||v){for(c=[o.itemName],l=1;l<b.length;++l)c.push(o.segments[l-1].value);h.push(c),f++}for(this.tables[i]=new DecisionTable(a.tableName,"customerNeedsTable"+a.tableID,b,h),this.tables[i].change("replace",this.tables[i].draw()),this.tables[i].observe(),n=1,r=this.tables[i].cols.length;n<r;++n)this.tables[i].makeColumnSortable(n);d=90+30*Math.min(this.topItems,f),g+="<div>",u.segments.forEach((function(t){g+='<div id="chart_'+m+'" style="width: 500px; height: '+d+'px;"></div><br />',this.charts[m]={table:i,segment:t},m++}),this),g+="</div><br />"}for(j$("#graphs").html(g),n=this.charts.length-1;n>=0;--n)this.setChartData(n,"chart_"+n)}},observe:function(){if(!this.data.staticData.isBought)return this.noLabel.observe(),void this.noLabel.change("float","left");DecisionTable.setMaxColWidths(this.tables,0),this.filter&&this.filter.observe(),this.redrawTables(!1,!0)},resize:function(){this.filter&&this.filter.resize()},setChartData:function(t,e){var i,a,n,r,o,l,d,c,h=this.data.staticData,p=[],u=this.charts[t].segment,g=h.tables[this.charts[t].table],m=!0;if(this.filter&&(m=this.filter.noFilterSet()),!g.sameData){for(c=u.segmentID-1,l=0,d=g.items.length;l<d;++l)(this.checkFilter(g.items[l])||m)&&p.push({n:g.items[l].itemName,v:Number(g.items[l].segments[u.segmentID-1].value)});p.sort((function(t,e){return e.v-t.v}))}if(Live.useSvg()){if(a=this.data.staticData.chartTemplate,j$.extend(a.data,{title:"",xAxis:"",yAxis:g.sameData?"":g.tableName,labels:[],colorIds:[],x:[0],y:[[]],saveUrl:this.st("common:saveChartURL"),saveName:this.saveName+(g.sameData?"":"-"+u.shortName.toLowerCase())+"-q"+this.user.quarter(),image:{url:g.sameData?"":Path.getPath(this.st("common:chartsFolder"),u.shortName.toLowerCase(),"1.svg"),hAlign:"right",vAlign:"bottom",margin:5,scale:1.5,invert:!0,width:40,height:40}}),this.chartRelativeToMax){for(max=0,l=this.charts.length-1;l>=0;--l)for(segTab=h.tables[this.charts[l].table],j=0;j<segTab.items.length;j++)for(s=0;s<segTab.items[j].segments.length;s++)max=Math.max(segTab.items[j].segments[s].value,max);a.data.maxY=max}if(n=0,o=0,g.sameData){for(l=0,d=h.segments.length;l<d;++l)seg=h.segments[l],a.data.labels.push(seg.name),a.data.y[0].push(Number(g.items[0].segments[seg.segmentID-1].value));a.data.title=g.tableName,r=80+30*h.segments.length,j$("#"+e).css({height:r+"px"})}else{for(l=0,d=p.length;l<d&&!(l>=this.st("topItemsMax"));++l)p[l].v<this.st("topItemsCut")||(o++,a.data.labels[l]=p[l].n,a.data.colorIds[l]=c,a.data.y[0][l]=p[l].v,n++);a.data.title=this.tc("topItems",{SEGMENT:u.name,NUMBER:o}),r=80+30*n,j$("#"+e).css({height:r+"px"})}SvgCharts.BaseChart.setChartData(e,a)}else{if((i=j$("#"+e)).css({opacity:Live.opacity}),(a=new VerticalBarChart(i[0])).labelX="",a.labelY=g.sameData?"":g.tableName,a.labels=[],a.data=[],a.category=[""],o=0,g.sameData){for(l=0,d=h.segments.length;l<d;++l)seg=h.segments[l],a.labels.push(seg.name),a.data.push([Number(g.items[0].segments[seg.segmentID-1].value)]);a.label=g.tableName}else{for(l=0,d=p.length;l<d&&!(l>=this.st("topItemsMax"));++l)p[l].v<this.st("topItemsCut")||(o++,a.labels[l]=p[l].n,a.data[l]=[p[l].v]);a.label=this.tc("topItems",{SEGMENT:u.name,NUMBER:o})}a.minY=0,a.draw()}}})},80175:()=>{window.DemandImpactFactors=Decision.extend({viewModeButtons:[],modifyModeButtons:[],sendCalculate:!1,sendErrors:!1,style:"padding: 10px 10px 0px 10px;",initSettings:function(){return{competitorTeamID:0}},getValueFormatter:function(t,e,i){var s=this,a=function(e){return null===e?s.tc("common:na"):"number"===t?Format.number(e,i):e};return function(t){return null===t?s.tc("common:na"):e?t.map(a).join("<br/>"):a(t)}},formatComparison:function(t,e){return null===t?"":t>0?e?">":"<":t<0?e?"<":">":"="},getEstimateDemandTable:function(t){var e=this.data.staticData,i=!1,s=this.user.quarter(),a=s-1,n=e.myTeam.companyName.escapeHTML(),r=e.teams.filter((function(e){return e.teamID==t})),o=r.length>0?r[0]:null,l=[{title:""},{title:this.tc("competitorQuarter",{QUARTER:a,COMPANY:n}),align:"right"},{title:this.tc("comparison"),align:"center"}],d=[];null!==o&&l.push({title:this.tc("competitorQuarter",{QUARTER:a,COMPANY:o.companyName.escapeHTML()}),align:"right"},{title:this.tc("comparison"),align:"center"}),l.push({title:this.tc("competitorQuarter",{QUARTER:s,COMPANY:n}),align:"right"});for(var c=0,h=e.sections.length;c<h;++c){var p=e.sections[c];if(""!==p.title){var u={cols:[p.title,"","",""],type:"division"};null!==o&&u.cols.push("",""),d.push(u),i=!1}else i=!0;for(var g=0,m=p.items.length;g<m;++g){var b=p.items[g],f=this.getValueFormatter(b.type,b.array,b.decimals),v={values:[b.title,f(b.previousValue.value)]},y=b.competitorPreviousValues.filter((function(e){return e.teamID==t})),w=y.length>0?y[0]:null;if(null!==w){var D=w.comparison?w.comparison[0]:null,_=w.comparison?w.comparison[1]:null;v.values.push(this.formatComparison(D,!1),f(w.value),this.formatComparison(_,!0))}else v.values.push(this.formatComparison(b.previousValue.comparison,!0));v.values.push(f(b.value)),i&&(v.type="total"),d.push(v)}}return new DecisionTable(this.tc("estimateDemand"),"estimateDemandTable",l,d)},getCompetitorLabel:function(){var t=this.data.staticData,e=this.com("combobox","teams",this.settings.competitorTeamID,{label:this.tc("competitor")},t.teams,"teamID","companyName",0,"---");return new DecisionLabel(this.service,"labelCompetitorFilter",'<div style="margin-bottom: 5px;">'+e+"</div>")},draw:function(){return this.estimateDemandTable=this.getEstimateDemandTable(this.settings.competitorTeamID),this.competitorLabel=this.getCompetitorLabel(),this.competitorLabel.draw()+this.estimateDemandTable.draw()},observe:function(){this.estimateDemandTable.observe(),this.competitorLabel.observe(),this.competitorLabel.change("float","left"),this.cf.enable(),j$("#teams").on("change",this.onCompetitorChange.bind(this))},onCompetitorChange:function(){this.settings.competitorTeamID=Number(j$("#teams").val()),this.saveSettings(),this.redrawTable()},redrawTable:function(){this.estimateDemandTable=this.getEstimateDemandTable(this.settings.competitorTeamID),this.estimateDemandTable.change("replace",this.estimateDemandTable.draw()),this.estimateDemandTable.observe()}})},29930:()=>{window.DemandProjection=Decision.extend({style:"padding: 10px 10px 0px 10px;",modifyModeButtons:["fixDemand","save","cancel"],read:function(){var t,e=this.data.decisions,i=e.brands,s=i.length;for(e.demandPerSp=this.value("demandPerSp"),this.data.staticData.hasWeb&&(e.demandPerWebSp=this.value("demandPerWebSp")),t=0;t<s;++t)i[t].demand=this.value("bDemand_"+i[t].brandID)},write:function(){var t,e=this.data.decisions,i=e.brands,s=i.length;for(this.setValue("demandPerSp",e.demandPerSp),this.data.staticData.hasWeb&&this.setValue("demandPerWebSp",e.demandPerWebSp),t=0;t<s;++t)this.setValue("bDemand_"+i[t].brandID,i[t].demand)},writeErrors:function(){var t,e=this.data.errors.decisions,i=e.brands,s=i.length;for(this.writeError("demandPerSp",this.data.errors.decisions.demandPerSp,"center left",!0),this.data.staticData.hasWeb&&this.writeError("demandPerWebSp",this.data.errors.decisions.demandPerWebSp,"center left",!0),t=0;t<s;++t)this.writeError("bDemand_"+i[t].brandID,i[t].demand,"center right",!0);this.writeError("brandDemand",e.totalDemand,"center left",!0),this.data.staticData.hasWeb?this.writeError("totalDemand",e.totalDemand,"center left",!0):this.writeError("soDemand",e.totalDemand,"center left",!0)},writeCalculate:function(){var t,e=this.data.staticData,i=this.data.dynamicData,s=this.data.calculate.brands,a=s.length;for(j$("#soDemand").html(Number(this.data.calculate.soDemand).formatInt()),this.data.staticData.hasWeb&&(j$("#webDemand").html(Number(this.data.calculate.webDemand).formatInt()),j$("#totalDemand").html(Number(this.data.calculate.totalDemand).formatInt())),t=0;t<a;++t)j$("#bShare_"+s[t].brandID).html(s[t].share.formatFloat(1)+"%"),e.hasOperatingCapacity&&j$("#bCapacity_"+s[t].brandID).html(s[t].capacity.formatInt());j$("#brandDemand").html(this.data.calculate.brandDemand.formatInt()),i.selling&&!i.producing&&(j$("#projectedDemand").html(this.data.calculate.brandDemand.formatInt()),j$("#dailyProjectedDemand").html((this.data.calculate.brandDemand/65).formatInt())),i.producing&&e.hasOperatingCapacity&&(j$("#projectedOC").html(this.data.calculate.operatingCapacityNeeded.formatInt()),j$("#dailyProjectedOC").html(Math.ceil(this.data.calculate.operatingCapacityNeeded/65).formatInt())),e.hasOperatingCapacity&&j$("#brandCapacity").html(this.data.calculate.operatingCapacityNeeded.formatInt())},draw:function(){var t,e,i,s,a,n=this.data.staticData,r=this.data.dynamicData,o=this.data.decisions,l=this.data.calculate,d=[],c=[{title:""},{title:"",align:"right"},{title:"",align:"right"},{title:"",align:"right"}],h=n.brands.toLookUp("brandID"),p=o.brands.toLookUp("brandID"),u=l.brands.toLookUp("brandID"),g=r.brands,m=g.length,b=[],f=[{title:""},{title:"",align:"right"}],v=[];for(this.buttonCaptions.fixDemand=this.tc("fixDemand"),d[0]={cols:[{title:"",rowspan:2},{title:this.tc("lq"),colspan:3}],type:"head"},d[1]={cols:[{title:this.tc("sf")},{title:this.tc("demandPerSp")},{title:this.tc("totalDemand")}],type:"head"},d[2]=[this.tc("so"),Number(n.lqSf).formatInt(),Number(n.lqDemandPerSp).formatFloat(),Number(n.lqSoDemand).formatInt()],this.data.staticData.hasWeb&&(d[3]=[this.tc("web"),Number(n.lqWebSf).formatInt(),Number(n.lqDemandPerWebSp).formatFloat(),Number(n.lqWebDemand).formatInt()],d[4]={values:[this.tc("total"),Number(n.lqTotalSf).formatInt(),null,Number(n.lqTotalDemand).formatInt()],type:"total"}),b[0]={cols:[{title:this.tc("brand"),rowspan:2},{title:this.tc("lq"),colspan:2}],type:"head"},b[1]={cols:[{title:this.tc("demand")},{title:this.tc("demandPercent")}],type:"head"},s=0,i=0;i<m;++i)void 0!==h[(e=g[i]).brandID]&&h[e.brandID].onSale?(t=h[e.brandID],b[2+i]=[Format.brandName(e.brandName.escapeHTML(),e.brandType),t.demand.formatInt(),t.share.formatFloat(1)+"%"],s+=t.demand):b[2+i]=[Format.brandName(e.brandName.escapeHTML(),e.brandType),this.tc("na"),this.tc("na")];if(b[2+i]={values:[this.tc("total"),s.formatInt(),100..formatFloat(1)+"%"],type:"total"},n.hasOperatingCapacity&&f.push({title:"",align:"right"}),this.totalTable=null,!this.isGameOverQuarter()){for(c.push({title:"",align:"right"},{title:"",align:"right"},{title:"",align:"right"}),d[0].cols.push({title:this.tc("cq"),colspan:3}),d[1].cols.push({title:this.tc("sf")},{title:this.tc("demandPerSp")},{title:this.tc("totalDemand")}),d[2].push(Number(r.sf).formatInt(),this.com("iedit","demandPerSp",this.data.decisions.demandPerSp,{size:10,maxLength:10}),'<span id="soDemand">'+Number(this.data.calculate.soDemand).formatInt()+"</span>"),this.data.staticData.hasWeb&&(d[3].push(Number(r.webSf).formatInt(),this.com("iedit","demandPerWebSp",this.data.decisions.demandPerWebSp,{size:10,maxLength:10}),'<span id="webDemand">'+Number(this.data.calculate.webDemand).formatInt()+"</span>"),d[4].values.push(Number(r.totalSf).formatInt(),null,'<span id="totalDemand">'+Number(this.data.calculate.totalDemand).formatInt()+"</span>")),f.push({title:"",align:"right"},{title:"",align:"right"}),n.hasOperatingCapacity&&!n.hasZeroMaxEndingInventory&&f.push({title:"",align:"right"}),f.push({title:"",align:"right"}),b[0].cols.push({title:this.tc("cq"),colspan:2}),n.hasOperatingCapacity&&!n.hasZeroMaxEndingInventory&&b[0].cols.push({title:this.tc("units"),rowspan:2}),n.hasOperatingCapacity&&b[0].cols.push({title:this.tc("capacityRequired"),rowspan:2}),b[1].cols.push({title:this.tc("demand")},{title:this.tc("demandPercent")}),s=0,i=0;i<m;++i)void 0!==p[(e=g[i]).brandID]?(a=p[e.brandID],b[2+i].push(this.com("iedit","bDemand_"+e.brandID,a.demand,{size:10}),'<span id="bShare_'+e.brandID+'">'+u[e.brandID].share.formatFloat(1)+"%</span>"),n.hasOperatingCapacity&&!n.hasZeroMaxEndingInventory&&b[2+i].push(e.inventory),n.hasOperatingCapacity&&b[2+i].push('<span id="bCapacity_'+e.brandID+'">'+u[e.brandID].capacity.formatInt()+"</span>"),s+=a.demand):(b[2+i].push(this.tc("na"),this.tc("na"),this.tc("na")),n.hasOperatingCapacity&&b[2+i].push(this.tc("na")));b[2+i].values.push('<span id="brandDemand">'+s.formatInt()+"</span>",100..formatFloat(1)+"%"),n.hasOperatingCapacity?(r.selling&&!r.producing&&v.push([this.tc("projectedDemand"),'<span id="projectedDemand">'+l.brandDemand.formatInt()+"</span>",'<span id="dailyProjectedDemand">'+(l.brandDemand/65).formatInt()+"</span>"]),r.producing&&v.push([this.tc("projectedOperatingCapacity"),'<span id="projectedOC">'+l.operatingCapacityNeeded.formatInt()+"</span>",'<span id="dailyProjectedOC">'+Math.ceil(l.operatingCapacityNeeded/65).formatInt()+"</span>"]),this.totalTable=new DecisionTable("","totalTable",[{title:""},{title:this.tc("unitsPerQuarter"),align:"right"},{title:this.tc("unitsPerDay"),align:"right"}],v,!1,"green"),n.hasZeroMaxEndingInventory||b[2+i].values.push(r.totalInventory),b[2+i].values.push('<span id="brandCapacity">'+l.operatingCapacityNeeded.formatInt()+"</span>")):this.totalTable=null}return this.dpTable=new DecisionTable("","dpTable",c,d,!0,"green"),this.bdpTable=new DecisionTable("","bdpTable",f,b,!0,"green"),this.dpTable.draw()+this.bdpTable.draw()+(this.totalTable?this.totalTable.draw():"")},observe:function(){if(this.isGameOverQuarter())this.hideButtons();else{this.bindCalculate("demandPerSp","keyup",!0),this.data.staticData.hasWeb&&this.bindCalculate("demandPerWebSp","keyup",!0);var t,e=this.data.decisions.brands,i=e.length;for(t=0;t<i;++t)this.bindCalculate("bDemand_"+e[t].brandID,"keyup",!0)}null!=this.totalTable&&this.totalTable.observe(),this.dpTable.observe()},fixDemand:function(){this.calculate();var t=this.data.calculate;if(null!=t){var e,i=t.brands,s=i.length;for(e=0;e<s;++e)this.setValue("bDemand_"+i[e].brandID,i[e].adjDemand);this.calculate()}}})},97890:()=>{window.DemandProjectionNextQuarter=Decision.extend({style:"padding: 10px 10px 0px 10px;",soOpen:function(){return this.data.dynamicData.salesOffices>0||this.data.dynamicData.salesOfficesNextQuarter>0},wscOpen:function(){return this.data.dynamicData.webCenters>0||this.data.dynamicData.webCentersNextQuarter>0},read:function(){var t=this.data.decisions.projection;this.soOpen()&&(t.salesPeople=this.value("salesPeople"),t.demandPerSalesPerson=this.value("demandPerSalesPerson")),this.wscOpen()&&(t.webSalesPeople=this.value("webSalesPeople"),t.demandPerWebSalesPerson=this.value("demandPerWebSalesPerson"))},write:function(){var t=this.data.decisions.projection;this.soOpen()&&(this.setValue("salesPeople",t.salesPeople),this.setValue("demandPerSalesPerson",t.demandPerSalesPerson)),this.wscOpen()&&(this.setValue("webSalesPeople",t.webSalesPeople),this.setValue("demandPerWebSalesPerson",t.demandPerWebSalesPerson))},writeErrors:function(){var t="center left",e=!0,i=this.data.errors.decisions.projection;this.soOpen()&&(this.writeError("salesPeople",i.salesPeople,t,e),this.writeError("demandPerSalesPerson",i.demandPerSalesPerson,t,e)),this.wscOpen()&&(this.writeError("webSalesPeople",i.webSalesPeople,t,e),this.writeError("demandPerWebSalesPerson",i.demandPerWebSalesPerson,t,e))},writeCalculate:function(){var t=this.data.calculate.projection;this.soOpen()&&j$("#nqSalesOfficeDemand").html(Number(t.salesOfficeDemand).formatInt()),this.wscOpen()&&j$("#nqWebDemand").html(Number(t.webDemand).formatInt()),this.data.staticData.hasWeb&&(j$("#nqTotalSalesPeople").html(Number(t.totalSalesPeople).formatInt()),j$("#nqTotalDemand").html(Number(t.totalDemand).formatInt())),j$("#nqTotalEstimate").html(Number(t.totalDemand).format())},getDecisionTable:function(){var t=[{cols:[{title:"",rowspan:2},{title:this.tc("cqProjections"),colspan:4},{title:this.tc("nqProjections"),colspan:4}],type:"head"},{cols:[{title:this.tc("salesOutlets")},{title:this.tc("salesPeople")},{title:this.tc("demandPerSalesPerson")},{title:this.tc("totalDemand")},{title:this.tc("salesOutlets")},{title:this.tc("salesPeople")},{title:this.tc("demandPerSalesPerson")},{title:this.tc("totalDemand")}],type:"head"}],e=this.data.decisions.projection,i=this.data.dynamicData.projection,s=this.data.calculate.projection;return this.soOpen()&&t.push([this.tc("salesOffices"),this.data.dynamicData.salesOffices,i.salesPeople,i.demandPerSalesPerson,i.salesOfficeDemand,this.data.dynamicData.salesOfficesNextQuarter,this.com("iedit","salesPeople",e.salesPeople,{size:5}),this.com("iedit","demandPerSalesPerson",e.demandPerSalesPerson,{size:5}),'<span id="nqSalesOfficeDemand">'+Number(s.salesOfficeDemand).format()+"</span>"]),this.wscOpen()&&t.push([this.tc("webCenter"),this.data.dynamicData.webCenters,i.webSalesPeople,i.demandPerWebSalesPerson,i.webDemand,this.data.dynamicData.webCentersNextQuarter,this.com("iedit","webSalesPeople",e.webSalesPeople,{size:5}),this.com("iedit","demandPerWebSalesPerson",e.demandPerWebSalesPerson,{size:5}),'<span id="nqWebDemand">'+Number(s.webDemand).format()+"</span>"]),this.data.staticData.hasWeb&&t.push({values:[this.tc("total"),this.data.dynamicData.salesOffices+this.data.dynamicData.webCenters,i.totalSalesPeople,null,i.totalDemand,this.data.dynamicData.salesOfficesNextQuarter+this.data.dynamicData.webCentersNextQuarter,'<span id="totalSalesPeople">'+Number(s.totalSalesPeople).format()+"</span>",null,'<span id="nqTotalDemand">'+Number(s.totalDemand).format()+"</span>"],type:"total"}),new DecisionTable(this.tc("dpnq"),"nqDpTable",[{title:""},{title:"",type:"number"},{title:"",type:"number"},{title:"",type:"number"},{title:"",type:"number"},{title:"",align:"right"},{title:"",align:"right"},{title:"",align:"right"},{title:"",align:"right"}],t,!0)},getEmptyLabel:function(){var t=this.data.staticData.hasWeb?this.tc("noSoWeb"):this.tc("noSo");return new DecisionLabel(this.service,"nqDpLabel",t,"","stone")},draw:function(){return this.dpLabel=null,this.dpTable=null,this.soOpen()||this.wscOpen()?(this.dpTable=this.getDecisionTable(),this.dpTable.draw()):(this.dpLabel=this.getEmptyLabel(),this.dpLabel.draw())},observe:function(){this.dpTable&&(this.dpTable.observe(),this.soOpen()&&(this.bindCalculate("salesPeople","keyup",!0),this.bindCalculate("demandPerSalesPerson","keyup",!0)),this.wscOpen()&&(this.bindCalculate("webSalesPeople","keyup",!0),this.bindCalculate("demandPerWebSalesPerson","keyup",!0))),this.dpLabel&&(this.dpLabel.observe(),this.dpLabel.change("float","left"))}})},31394:()=>{window.DemandProjectionNextQuarterRegional=Decision.extend({style:"padding: 10px 10px 0px 10px;",getRegionIterator:function(){return this.getIterator.apply(this,["regions","regionID",function(t,e,i){return e.isIn||i.opening},this.data.staticData,this.data.dynamicData].concat(Array.from(arguments)))},soOpen:function(t){return t.salesOffices>0||t.salesOfficesNextQuarter>0},wscOpen:function(t){return t.webCenters>0||t.webCentersNextQuarter>0},read:function(){var t=this;this.getRegionIterator(this.data.decisions)((function(e,i,s,a){var n=a.projection;t.soOpen(s)&&(n.salesPeople=t.value("salesPeople_"+e),n.demandPerSalesPerson=t.value("demandPerSalesPerson_"+e)),t.wscOpen(s)&&(n.webSalesPeople=t.value("webSalesPeople_"+e),n.demandPerWebSalesPerson=t.value("demandPerWebSalesPerson_"+e))}))},write:function(){var t=this;this.getRegionIterator(this.data.decisions)((function(e,i,s,a){var n=a.projection;t.soOpen(s)&&(t.setValue("salesPeople_"+e,n.salesPeople),t.setValue("demandPerSalesPerson_"+e,n.demandPerSalesPerson)),t.wscOpen(s)&&(t.setValue("webSalesPeople_"+e,n.webSalesPeople),t.setValue("demandPerWebSalesPerson_"+e,n.demandPerWebSalesPerson))}))},writeErrors:function(){var t=this,e="center left",i=!0;this.getRegionIterator(this.data.errors.decisions)((function(s,a,n,r){var o=r.projection;t.soOpen(n)&&(t.writeError("salesPeople_"+s,o.salesPeople,e,i),t.writeError("demandPerSalesPerson_"+s,o.demandPerSalesPerson,e,i)),t.wscOpen(n)&&(t.writeError("webSalesPeople_"+s,o.webSalesPeople,e,i),t.writeError("demandPerWebSalesPerson_"+s,o.demandPerWebSalesPerson,e,i))}))},writeCalculate:function(){var t=this;this.getRegionIterator(this.data.calculate)((function(e,i,s,a){t.soOpen(s)&&j$("#nqSalesOfficeDemand_"+e).html(Number(a.projection.salesOfficeDemand).formatInt()),t.wscOpen(s)&&j$("#nqWebDemand_"+e).html(Number(a.projection.webDemand).formatInt()),t.data.staticData.hasWeb&&(j$("#totalSalesPeople_"+e).html(Number(a.projection.totalSalesPeople).formatInt()),j$("#nqTotalDemand_"+e).html(Number(a.projection.totalDemand).formatInt()))})),j$("#nqTotalEstimate").html(Number(this.data.calculate.totalDemand).format())},draw:function(){var t=this,e="";return this.dpTable=[],this.getRegionIterator(this.data.decisions,this.data.calculate)((function(i,s,a,n,r){var o=[{cols:[{title:"",rowspan:2},{title:t.tc("cqProjections"),colspan:4},{title:t.tc("nqProjections"),colspan:4}],type:"head"},{cols:[{title:t.tc("salesOutlets")},{title:t.tc("salesPeople")},{title:t.tc("demandPerSalesPerson")},{title:t.tc("totalDemand")},{title:t.tc("salesOutlets")},{title:t.tc("salesPeople")},{title:t.tc("demandPerSalesPerson")},{title:t.tc("totalDemand")}],type:"head"}],l=n.projection,d=a.projection,c=r.projection;t.soOpen(a)&&o.push([t.tc("salesOffices"),a.salesOffices,d.salesPeople,d.demandPerSalesPerson,d.salesOfficeDemand,a.salesOfficesNextQuarter,t.com("iedit","salesPeople_"+i,l.salesPeople,{size:5}),t.com("iedit","demandPerSalesPerson_"+i,l.demandPerSalesPerson,{size:5}),'<span id="nqSalesOfficeDemand_'+i+'">'+Number(c.salesOfficeDemand).format()+"</span>"]),t.wscOpen(a)&&o.push([t.tc("webCenter"),a.webCenters,d.webSalesPeople,d.demandPerWebSalesPerson,d.webDemand,a.webCentersNextQuarter,t.com("iedit","webSalesPeople_"+i,l.webSalesPeople,{size:5}),t.com("iedit","demandPerWebSalesPerson_"+i,l.demandPerWebSalesPerson,{size:5}),'<span id="nqWebDemand_'+i+'">'+Number(c.webDemand).format()+"</span>"]),t.data.staticData.hasWeb&&o.push({values:[t.tc("total"),a.salesOffices+a.webCenters,d.totalSalesPeople,null,d.totalDemand,a.salesOfficesNextQuarter+a.webCentersNextQuarter,'<span id="totalSalesPeople_'+i+'">'+Number(c.totalSalesPeople).format()+"</span>",null,'<span id="nqTotalDemand_'+i+'">'+Number(c.totalDemand).format()+"</span>"],type:"total"}),t.dpTable[i]=new DecisionTable(s.regionName,"nqDpTable_"+i,[{title:""},{title:"",type:"number"},{title:"",type:"number"},{title:"",type:"number"},{title:"",type:"number"},{title:"",align:"right"},{title:"",align:"right"},{title:"",align:"right"},{title:"",align:"right"}],o,!0),e+=t.dpTable[i].draw()})),this.dpLabel=new DecisionLabel(this.service,"nqDpLabel",this.tc("totalEstimate")+' <span id="nqTotalEstimate">'+Number(this.data.calculate.totalDemand).format()+"</span>","","stone"),e+this.dpLabel.draw()},observe:function(){var t=this;this.getRegionIterator()((function(e,i,s){t.dpTable[e].observe(),t.soOpen(s)&&(t.bindCalculate("salesPeople_"+e,"keyup",!0),t.bindCalculate("demandPerSalesPerson_"+e,"keyup",!0)),t.wscOpen(s)&&(t.bindCalculate("webSalesPeople_"+e,"keyup",!0),t.bindCalculate("demandPerWebSalesPerson_"+e,"keyup",!0))})),this.dpLabel.observe(),this.dpLabel.change("float","left")},drawSOD:function(){this.setValue(this.pfxSod+this.service,this.draw(!0)),this.disable(),this.dpLabel.observe(),this.dpLabel.change("float","left")}})},7639:()=>{window.DemandProjectionRegional=Decision.extend({style:"padding: 10px 10px 0px 10px;",modifyModeButtons:["fixDemand","save","cancel"],getRegionIterator:function(){return this.getIterator.apply(this,["regions","regionID",function(t,e){return e.isIn},this.data.staticData].concat(Array.from(arguments)))},getBrandIterator:function(){return this.getIterator.apply(this,["brands","brandID",function(){return!0}].concat(Array.from(arguments)))},read:function(){var t=this;this.getRegionIterator(this.data.decisions)((function(e,i,s){i.soOpen&&(s.demandPerSp=t.value("demandPerSp_"+e)),i.wscOpen&&(s.demandPerWebSp=t.value("demandPerWebSp_"+e)),t.getBrandIterator(s)((function(i,s){s.demand=t.value("bDemand_"+e+"_"+i)}))}))},write:function(){var t=this;this.getRegionIterator(this.data.decisions)((function(e,i,s){i.soOpen&&t.setValue("demandPerSp_"+e,s.demandPerSp),i.wscOpen&&t.setValue("demandPerWebSp_"+e,s.demandPerWebSp),t.getBrandIterator(s)((function(i,s){t.setValue("bDemand_"+e+"_"+i,s.demand)}))}))},writeErrors:function(){var t=this,e="center left",i=!0;this.getRegionIterator(this.data.errors.decisions)((function(s,a,n){a.soOpen&&t.writeError("demandPerSp_"+s,n.demandPerSp,e,i),a.wscOpen&&t.writeError("demandPerWebSp_"+s,n.demandPerWebSp,e,i),t.getBrandIterator(n)((function(e,a){t.writeError("bDemand_"+s+"_"+e,a.demand,"center right",i)})),t.writeError("brandDemand_"+s,n.totalDemand,e,i),t.data.staticData.hasWeb?t.writeError("totalDemand_"+s,n.totalDemand,e,i):t.writeError("soDemand_"+s,n.totalDemand,e,i)}))},writeCalculate:function(){var t=this;this.getRegionIterator(this.data.dynamicData,this.data.calculate)((function(e,i,s,a){if(i.soOpen&&j$("#soDemand_"+e).html(Number(a.soDemand).formatInt()),i.wscOpen&&j$("#webDemand_"+e).html(Number(a.webDemand).formatInt()),t.data.staticData.hasWeb&&j$("#totalDemand_"+e).html(Number(a.totalDemand).formatInt()),t.getBrandIterator(a)((function(i,s){j$("#bShare_"+e+"_"+i).html(s.share.formatFloat(1)+"%"),t.data.staticData.hasOperatingCapacity&&j$("#bCapacity_"+e+"_"+i).html(s.capacity.formatInt())})),j$("#brandDemand_"+e).html(a.brandDemand.formatInt()),j$("#brandDemandPerc_"+e).html((a.totalDemand>0?100:0).formatFloat(1)+"%"),t.data.dynamicData.selling&&!t.data.dynamicData.producing&&(j$("#projectedDemand_"+e).html(a.brandDemand.formatInt()),j$("#dailyProjectedDemand_"+e).html((a.brandDemand/65).formatInt())),t.data.dynamicData.producing&&t.data.staticData.hasOperatingCapacity){var n=a.operatingCapacityNeeded/65,r=2;t.data.staticData.isJustInTime||(n=Math.ceil(n),r=0),j$("#projectedOC_"+e).html(a.operatingCapacityNeeded.formatInt()),j$("#dailyProjectedOC_"+e).html(n.format(r))}t.data.staticData.hasOperatingCapacity&&j$("#brandCapacity_"+e).html(a.operatingCapacityNeeded.formatInt())})),j$("#totalEstimate").html(Number(this.data.calculate.totalDemand).format())},getRegionTable:function(t,e,i,s,a){var n=[{title:""},{title:"",align:"right"},{title:"",align:"right"},{title:"",align:"right"}],r=[{title:"",rowspan:2},{title:this.tc("lq"),colspan:3}],o=[{title:this.tc("sf")},{title:this.tc("demandPerSp")},{title:this.tc("totalDemand")}],l=[this.tc("so"),Number(e.lqSf).formatInt(),Number(e.lqDemandPerSp).formatFloat(),Number(e.lqSoDemand).formatInt()],d=[this.tc("web"),Number(e.lqWebSf).formatInt(),Number(e.lqDemandPerWebSp).formatFloat(),Number(e.lqWebDemand).formatInt()],c=[this.tc("total"),Number(e.lqTotalSf).formatInt(),null,Number(e.lqTotalDemand).formatInt()],h=[{cols:r,type:"head"},{cols:o,type:"head"}];return e.soOpen&&h.push({values:l}),e.wscOpen&&h.push({values:d}),this.data.staticData.hasWeb&&h.push({values:c,type:"total"}),this.isGameOverQuarter()||(n.push({title:"",align:"right"},{title:"",align:"right"},{title:"",align:"right"}),r.push({title:this.tc("cq"),colspan:3}),o.push({title:this.tc("sf")},{title:this.tc("demandPerSp")},{title:this.tc("totalDemand")}),e.soOpen&&l.push(Number(s.sf).formatInt(),this.com("iedit","demandPerSp_"+t,i.demandPerSp,{size:5}),'<span id="soDemand_'+t+'">'+Number(a.soDemand).formatInt()+"</span>"),e.wscOpen&&d.push(Number(s.webSf).formatInt(),this.com("iedit","demandPerWebSp_"+t,i.demandPerWebSp,{size:5}),'<span id="webDemand_'+t+'">'+Number(a.webDemand).formatInt()+"</span>"),this.data.staticData.hasWeb&&c.push(Number(s.totalSf).formatInt(),null,'<span id="totalDemand_'+t+'">'+Number(a.totalDemand).formatInt()+"</span>")),new DecisionTable(e.regionName,"dpTable_"+t,n,h,!0,"green")},getRegionBrandsTable:function(t,e,i,s,a){var n=this,r=[{title:""},{title:"",align:"right"},{title:"",align:"right"}],o=[{title:this.tc("brand"),rowspan:2},{title:this.tc("lq"),colspan:2}],l=[{title:this.tc("demand")},{title:this.tc("demandPercent")}],d=[],c=[{cols:o,type:"head"},{cols:l,type:"head"}];this.isGameOverQuarter()||(r.push({title:"",align:"right"},{title:"",align:"right"}),o.push({title:this.tc("cq"),colspan:2}),this.data.staticData.hasOperatingCapacity&&(this.data.staticData.hasZeroMaxEndingInventory||(r.push({title:"",align:"right"}),o.push({title:this.tc("units"),rowspan:2})),r.push({title:"",align:"right"}),o.push({title:this.tc("capacityRequired"),rowspan:2})),l.push({title:this.tc("demand")},{title:this.tc("demandPercent")}));var h=0,p=0;return this.getBrandIterator(s,i,a,e)((function(e,i,s,a,r){var o=[Format.brandName(i.brandName.escapeHTML(),i.brandType)];null!==r&&r.onSale?(o.push(r.demand.formatInt(),r.share.formatFloat(1)+"%"),h+=r.demand):o.push(n.tc("na"),n.tc("na")),n.isGameOverQuarter()||(null!==s?(o.push(n.com("iedit","bDemand_"+t+"_"+e,s.demand,{size:8}),'<span id="bShare_'+t+"_"+e+'">'+a.share.formatFloat(1)+"%</span>"),n.data.staticData.hasOperatingCapacity&&(n.data.staticData.hasZeroMaxEndingInventory||o.push(i.inventory),o.push('<span id="bCapacity_'+t+"_"+e+'">'+a.capacity.formatInt()+"</span>")),p+=s.demand):(o.push(n.tc("na"),n.tc("na")),n.data.staticData.hasOperatingCapacity&&(n.data.staticData.hasZeroMaxEndingInventory||o.push(n.tc("na")),o.push(n.tc("na"))))),c.push({values:o})})),d.push(this.tc("total"),h.formatInt(),(e.lqTotalDemand>0?100*h/e.lqTotalDemand:0).formatFloat(1)+"%"),this.isGameOverQuarter()||(d.push('<span id="brandDemand_'+t+'">'+p.formatInt()+"</span>",'<span id="brandDemandPerc_'+t+'">'+(a.totalDemand>0?100:0).formatFloat(1)+"%</span>"),this.data.staticData.hasOperatingCapacity&&(this.data.staticData.hasZeroMaxEndingInventory||d.push(s.totalInventory),d.push('<span id="brandCapacity_'+t+'">'+a.operatingCapacityNeeded.formatInt()+"</span>"))),c.push({values:d,type:"total"}),new DecisionTable("","bdpTable_"+t,r,c,!0,"green")},getRegionTotalTable:function(t,e,i,s,a){var n=[{title:""},{title:this.tc("unitsPerQuarter"),align:"right"},{title:this.tc("unitsPerDay"),align:"right"}],r=[];if(this.isGameOverQuarter())return null;if(!this.data.staticData.hasOperatingCapacity)return null;if(this.data.dynamicData.selling&&!this.data.dynamicData.producing&&r.push([this.tc("projectedDemand"),'<span id="projectedDemand_'+t+'">'+a.brandDemand.formatInt()+"</span>",'<span id="dailyProjectedDemand_'+t+'">'+(a.brandDemand/65).formatInt()+"</span>"]),this.data.dynamicData.producing){var o=a.operatingCapacityNeeded/65,l=2;this.data.staticData.isJustInTime||(o=Math.ceil(o),l=0),r.push([this.tc("projectedOperatingCapacity"),'<span id="projectedOC_'+t+'">'+a.operatingCapacityNeeded.formatInt()+"</span>",'<span id="dailyProjectedOC_'+t+'">'+o.format(l)+"</span>"])}return new DecisionTable("","totalTable_"+t,n,r,!1,"green")},draw:function(){var t=this,e="";return this.buttonCaptions.fixDemand=this.tc("fixDemand"),this.totalTable=[],this.dpTable=[],this.bdpTable=[],this.getRegionIterator(this.data.decisions,this.data.dynamicData,this.data.calculate)((function(i,s,a,n,r){t.dpTable[i]=t.getRegionTable(i,s,a,n,r),t.bdpTable[i]=t.getRegionBrandsTable(i,s,a,n,r),t.totalTable[i]=t.getRegionTotalTable(i,s,a,n,r),e+=t.dpTable[i].draw()+t.bdpTable[i].draw()+(t.totalTable[i]?t.totalTable[i].draw():"")})),this.dpLabel=new DecisionLabel(this.service,"dpLabel",this.tc("totalEstimate",{QUARTER:this.user.quarter()+1})+' <span id="totalEstimate">'+Number(this.data.calculate.totalDemand).format()+"</span>","","stone"),e+this.dpLabel.draw()},observe:function(){var t=this;this.getRegionIterator(this.data.decisions)((function(e,i,s){t.isGameOverQuarter()||(i.soOpen&&t.bindCalculate("demandPerSp_"+e,"keyup",!0),i.wscOpen&&t.bindCalculate("demandPerWebSp_"+e,"keyup",!0),t.getBrandIterator(s)((function(i,s){t.bindCalculate("bDemand_"+e+"_"+i,"keyup",!0)}))),t.dpTable[e].observe(),t.bdpTable[e].observe(),t.totalTable[e]&&t.totalTable[e].observe()})),this.isGameOverQuarter()&&this.hideButtons(),this.dpLabel.observe(),this.dpLabel.change("float","left")},fixDemand:function(){var t=this;this.calculate(),null!=this.data.calculate&&(this.getRegionIterator(this.data.calculate)((function(e,i,s){t.getBrandIterator(s)((function(i,s){t.setValue("bDemand_"+e+"_"+i,s.adjDemand)}))})),this.calculate())},drawSOD:function(){this.setValue(this.pfxSod+this.service,this.draw(!0)),this.disable(),this.dpLabel.observe(),this.dpLabel.change("float","left")}})},27390:()=>{window.DesignWebPage=Decision.extend({style:"padding: 10px 10px 0px 10px;",hiddenExpl:!1,read:function(){var t,e,i,s,a,n,r=this.data.staticData.regions.toLookUp("regionID"),o=this.data.decisions;for(t=0,e=o.ads.length;t<e;++t)for((i=o.ads[t]).ofKwId=this.value("keyword_"+i.adID),s=0,a=i.regions.length;s<a;s++)r[(n=i.regions[s]).regionID].isIn&&0!=i.ofKwId&&(n.webActive=this.value("webActive_"+i.adID+"_"+n.regionID)),0==i.ofKwId&&(n.webActive=!1)},write:function(){var t,e,i,s,a,n,r=this.data.staticData.regions.toLookUp("regionID"),o=this.data.decisions;for(t=0,e=o.ads.length;t<e;++t)for(i=o.ads[t],this.setValue("keyword_"+i.adID,i.ofKwId),s=0,a=i.regions.length;s<a;s++)r[(n=i.regions[s]).regionID].isIn&&this.setValue("webActive_"+i.adID+"_"+n.regionID,n.webActive)},writeErrors:function(){var t,e,i,s=this.data.errors.decisions.ads;for(t=0,e=s.length;t<e;++t)i=s[t],this.writeError("keyword_"+i.adID,i.ofKwId,"center right",!0)},writeCalculate:function(){var t,e,i,s,a,n,r=this.data.calculate.adsCost.toLookUp("adID"),o=this.data.dynamicData,l=this.data.decisions,d=this.data.staticData.regions.toLookUp("regionID");for(t=0,e=l.ads.length;t<e;++t)if(0==(i=l.ads[t]).ofKwId)for(a=0,n=i.regions.length;a<n;a++)d[(s=i.regions[a]).regionID].isIn&&this.setValue("webActive_"+i.adID+"_"+s.regionID,0);for(t=0,e=o.ads.length;t<e;++t)i=o.ads[t],j$("#cost_"+i.adID).html(Number(r[i.adID].cost).format());j$("#designWebPageTotal").html(Number(this.data.calculate.totalCost).format()),this.drawExplanations()},drawExplanations:function(){var t,e,s,a,n,r=this.data.staticData,o=this.data.dynamicData,l=r.keywords.toLookUp("id"),d=this.data.decisions.ads.toLookUp("adID");if(this.allExplanations)for(e=0,s=this.allExplanations.length;e<s;e++)this.allExplanations[e].destroy();for(this.allExplanations=[],e=0,s=o.ads.length;e<s;e++){for(t=o.ads[e],a="<ul>",i=0,il=t.content.length;i<il;i++)a+="<li>"+t.content[i]+"</li>";if(a+="</ul>",n="",d[t.adID].ofKwId>0){for(n=this.tc("keywordsPane")+"<ul>",k=0,kl=l[d[t.adID].ofKwId].keywords.length;k<kl;k++)kwd=l[d[t.adID].ofKwId].keywords[k],n+="<li>"+kwd+"</li>";n+="</ul>"}exp=new DropDownStaticExplanation("wpExp_"+t.adID,this.tc("webContent"),this.tc("webpagePane")+a+n,"","explanation-white",this.contentElement),exp.useContentElement=!0,exp.setVisuallyHidden(this.hiddenExpl),this.allExplanations.push(exp)}},draw:function(t){t=t||!1;var e,i,s,a,n,r,o,l,d,c,h=this.data.staticData,p=this.data.dynamicData,u=this.data.decisions.ads.toLookUp("adID"),g=[],m=[],b=(this.data.staticData.keywords.toLookUp("id"),!0),f=!0,v=!0,y="",w=(this.data.calculate.adsCost.toLookUp("adID"),0),D=[],_=[{title:""},{title:""}];for(cols=[],cols2=[],cols3=[],this.isMultiOptions=h.optimizeOptions.length>1,this.isMultiOptions?cols=[{title:this.tc("webpageCnt"),rowspan:2},{title:this.tc("kwForSegment"),rowspan:2}]:cols=[{title:this.tc("webpageCnt"),rowspan:3},{title:this.tc("kwForSegment"),rowspan:3}],r=0,o=h.regions.length;r<o;r++)(n=h.regions[r]).isIn&&(w++,_.push({title:"",type:"flag"}),cols2.push({title:n.regionName,type:"flag"}),cols3.push({title:Format.number(n.webActiveCost[0].cost),type:"flag"}),f=!1);for(cols.push({title:this.tc("regDepl"),colspan:w}),m.push({cols,type:"head"}),m.push({cols:cols2,type:"head"}),this.isMultiOptions||m.push({cols:cols3,type:"head"}),s=0,a=p.ads.length;s<a;s++){for(i=p.ads[s],g=[],r=0,o=h.regions.length;r<o;r++)if((n=h.regions[r]).isIn){if(e=u[i.adID].regions.toLookUp("regionID"),this.isMultiOptions){for(D=[],d=0,c=n.webActiveCost.length;d<c;d++)(l=j$.extend({},n.webActiveCost[d])).cost=Format.number(l.cost),D.push(l);g.push(this.com("combobox","webActive_"+i.adID+"_"+n.regionID,e[n.regionID].webActive,{},D,"id","cost",0,"---"))}else g.push(this.com("checkbox","webActive_"+i.adID+"_"+n.regionID,e[n.regionID].webActive));v=!1}g.length>0&&(g.unshift('<span id="webpText_'+i.adID+'">'+i.name.escapeHTML()+'</span><span id="wpExp_'+i.adID+'" style="margin-left: 5px; font-size: 0.9em;"></span>',this.com("combobox","keyword_"+i.adID,u[i.adID].ofKwId,{},h.segments,"segmentID","name",0,this.tc("inactive"))),m.push(g)),b=!1}return v?(this.viewModeButtons=[],this.modifyModeButtons=[],f&&(y+=this.tc("common:noOutlet")),b&&(y+=(""!=y?"<br />":"")+this.tc("common:noAds")),this.emptyLabel=new DecisionLabel(this.service,"emptyLabel",y,"","blue"),this.emptyLabel.draw()):(this.emptyLabel=null,this.designWebTable=new DecisionTable(this.tc("designWebTable"),"designWebTable",_,m,!0),t&&(this.designWebTable.tableCorners=""),this.totalLbl=new DecisionLabel(this.service,"totalLbl",this.tc("total")+' <span id="designWebPageTotal">'+Number(this.data.calculate.totalCost).format()+"</span>",""),t&&(this.totalLbl.labelCorners=""),this.designWebTable.draw()+this.totalLbl.draw())},destroy:function(){j$(".ddm-keyword").remove(),this._super()},observe:function(){var t,e,i,s,a,n,r=this.data.staticData,o=this.data.dynamicData;if(null!=this.emptyLabel)this.emptyLabel.observe(),this.emptyLabel.change("float","left");else{for(this.designWebTable.observe(),this.totalLbl.observe(),this.totalLbl.change("float","left"),e=0,i=o.ads.length;e<i;e++)for(t=o.ads[e],this.bindCalculate("keyword_"+t.adID,"change"),a=0,n=r.regions.length;a<n;a++)(s=r.regions[a]).isIn&&this.bindCalculate("webActive_"+t.adID+"_"+s.regionID,"change");this.drawExplanations()}},drawSOD:function(){var t=this.draw(!0);null==this.emptyLabel?(this.setValue(this.pfxSod+this.service,t),this.designWebTable.change("float","left"),this.totalLbl.change("float","left"),this.disable()):this.setValue(this.pfxSod+this.service,"")}})},17034:(t,e,i)=>{"use strict";i(27390),window.DesignWebPageAnim=DesignWebPage.extend({style:"width: 100%; padding-top: 10px;",regionMaps:[],regionOutlines:[],segmentShortNames:["Default","Youth","Workb","Recre","Mount","Speed"],newPreview:!0,hiddenExpl:!0,initialize:function(t){this._super("DesignWebPage")},writeCalculate:function(){this._super(),this.lastID&&this.setImagesRightPane(this.lastID)},draw:function(){var t,e,i,s,a,n,r,o,l,d,c=this.data.staticData,h=this.data.dynamicData,p=this.data.decisions.ads.toLookUp("adID"),u=[],g=[],m=(this.data.staticData.keywords.toLookUp("id"),!0),b=!0,f=!0,v="",y=(this.data.calculate.adsCost.toLookUp("adID"),0),w=[],D=[{title:""},{title:""}],_=[],I=[],x=[];for(this.isMultiOptions=c.optimizeOptions.length>1,_=this.isMultiOptions?[{title:this.tc("webpageCnt"),rowspan:2},{title:this.tc("kwForSegment"),rowspan:2}]:[{title:this.tc("webpageCnt"),rowspan:3},{title:this.tc("kwForSegment"),rowspan:3}],n=0,r=c.regions.length;n<r;n++)(a=c.regions[n]).isIn&&(y++,D.push({title:"",type:"flag"}),I.push({title:a.regionName,type:"flag"}),x.push({title:Format.number(a.webActiveCost[0].cost),type:"flag"}),b=!1);for(_.push({title:this.tc("regDepl"),colspan:y}),g.push({cols:_,type:"head"}),g.push({cols:I,type:"head"}),this.isMultiOptions||g.push({cols:x,type:"head"}),i=0,s=h.ads.length;i<s;i++){for(e=h.ads[i],u=[],n=0,r=c.regions.length;n<r;n++)if((a=c.regions[n]).isIn){if(t=p[e.adID].regions.toLookUp("regionID"),this.isMultiOptions){for(w=[],l=0,d=a.webActiveCost.length;l<d;l++)(o=j$.extend({},a.webActiveCost[l])).cost=Format.number(o.cost),w.push(o);u.push(this.com("combobox","webActive_"+e.adID+"_"+a.regionID,t[a.regionID].webActive,{},w,"id","cost",0,"---"))}else u.push(this.com("checkbox","webActive_"+e.adID+"_"+a.regionID,t[a.regionID].webActive));f=!1}u.length>0&&(u.unshift('<span id="webpText_'+e.adID+'" class="webpContent">'+e.name.escapeHTML()+'</span><span id="wpExp_'+e.adID+'" style="margin-left: 5px; font-size: 0.9em;"></span>',this.com("combobox","keyword_"+e.adID,p[e.adID].ofKwId,{},c.segments,"segmentID","name",0,this.tc("inactive"))),g.push(u)),m=!1}return f?(this.viewModeButtons=[],this.modifyModeButtons=[],b&&(v+=this.tc("common:noOutlet")),m&&(v+=(""!=v?"<br />":"")+this.tc("common:noAds")),this.emptyLabel=new DecisionLabel(this.service,"emptyLabel",v,"","blue"),this.emptyLabel.draw()):(this.emptyLabel=null,this.designWebTable=new DecisionTable("","designWebTable",D,g,!0,"blue","left"),this.totalLbl=new DecisionLabel(this.service,"totalLbl",this.tc("total")+' <span id="designWebPageTotal">'+Number(this.data.calculate.totalCost).format()+"</span>","","blue","left"),this.designWebTable.draw()+this.totalLbl.draw())},onModifyScene:function(){null==this.emptyLabel&&(j$("#designWebTable").toggleClass("activeTable",!0),this.activateRightPane())},onCancelScene:function(){null==this.emptyLabel&&(j$("#designWebTable").toggleClass("activeTable",!1),this.deactivateRightPane())},onSaveScene:function(){null==this.emptyLabel&&(j$("#designWebTable").toggleClass("activeTable",!1),this.deactivateRightPane())},positionArrow:function(t,e,i){this.rparrow&&t?(this.rparrow.show(),this.rparrow.css({top:e+"px",height:i+"px"})):this.rparrow.hide()},activateRow:function(t){var e,i,s,a,n=this.data.staticData;for(j$("#webpText_"+t).toggleClass("active",!0),e=0,i=n.regions.length;e<i;e++)(s=n.regions[e]).isIn&&(this.inModifyMode&&j$("#webActive_"+t+"_"+s.regionID).prop("disabled",!1),(a=this.keepDisabled.indexOf("webActive_"+t+"_"+s.regionID))>-1&&this.keepDisabled.splice(a,1))},deactivateRow:function(t){var e,i,s,a=this.data.staticData;for(j$("#webpText_"+t).toggleClass("active",!1),e=0,i=a.regions.length;e<i;e++)(s=a.regions[e]).isIn&&(j$("#webActive_"+t+"_"+s.regionID).prop("disabled",!0),this.keepDisabled.push("webActive_"+t+"_"+s.regionID))},initActiveNames:function(){var t,e,i,s=this.data.decisions.ads;for(t=0,e=s.length;t<e;t++)0==(i=s[t]).ofKwId?this.deactivateRow(i.adID):this.inModifyMode?this.activateRow(i.adID):j$("#webpText_"+i.adID).toggleClass("active",!0)},getPicToShort:function(t){return 101==(t=Number(t))?"Tabl":102==t?"Pack":this.segmentShortNames[t]},changeWebPreview:function(t,e){var i,s,a,n,r,o,l=this.data.staticData,d=(this.data.decisions.ads.toLookUp("adID"),l.adFeatures.toLookUp("featureID")),c=this.data.staticData.keywords.toLookUp("id"),h=[],p=[],u="Default";for(i=this.data.dynamicData.ads.toLookUp("adID")[t],0!=(e=e||0)&&(u=c[e].shortName),s=0,a=i.adFeatures.length;s<a;s++)n=i.adFeatures[s],s<3&&1!=n.featureID&&0==d[n.featureID].pictureSegmentID&&(h.push(d[n.featureID].featureName),p.push("text")),1==n.featureID&&(h.push(i.brandType),p.push("brand")),0!=d[n.featureID].pictureSegmentID&&(h.push(this.getPicToShort(d[n.featureID].pictureSegmentID)),p.push("segmentPic"));for(this.webpage.html(""),this.webHead=j$('<img src="'+this.st("webHead"+u)+'" id="webHead" class="webHead" alt=""></img>'),this.webpage.append(this.webHead),r=0,o=h.length;r<o&&r<3;r++)0==r&&"text"==p[r]&&(this.webTitle=j$('<div id="webTitleWrapper" class="webTitleWrapper"><div id="webTitle" class="webTitle'+u+'">'+Format.smartTrim(h[r],50)+"</div></div>"),Format.smartTrim(h[r],this.webTitle.height()>20?30:60),this.webpage.append(this.webTitle)),"brand"==p[r]&&(this.webBraImage=j$("<div style=\"background-image:url('"+this.st("webBraImage"+h[r])+'\');" class="webMiniImage"></div>'),0!=r||"segmentPic"!=p[2]&&"brand"!=p[2]||"text"!=p[1]?0!=r&&(1!=r||"segmentPic"!=p[0]&&"brand"!=p[0])||this.webBraImage.css({"margin-left":"8px","margin-bottom":"4px"}):this.webBraImage.css({"margin-left":"8px"}),1==r&&this.webBraImage.css({"margin-left":"8px"}),2!=r||"segmentPic"!=p[1]&&"brand"!=p[1]||"text"!=p[0]||this.webBraImage.css({"margin-left":"8px"}),2!=r||"segmentPic"!=p[0]&&"brand"!=p[0]||"text"!=p[1]||(this.webBraImage.css({position:"absolute",left:"8px",bottom:"2px",height:"30px"}),this.webSideText.css({height:"65px"})),this.webpage.append(this.webBraImage)),"segmentPic"==p[r]&&(this.webSegImage=j$("<div style=\"background-image:url('"+this.st("webSegImage"+h[r])+'\');" class="webMiniImage"></div>'),0!=r||"segmentPic"!=p[2]&&"brand"!=p[2]||"text"!=p[1]?0!=r&&(1!=r||"segmentPic"!=p[0]&&"brand"!=p[0])||this.webSegImage.css({"margin-left":"8px","margin-bottom":"4px"}):this.webSegImage.css({"margin-left":"8px"}),1==r&&this.webSegImage.css({"margin-left":"8px"}),2!=r||"segmentPic"!=p[1]&&"brand"!=p[1]||"text"!=p[0]||this.webSegImage.css({"margin-left":"8px"}),2!=r||"segmentPic"!=p[0]&&"brand"!=p[0]||"text"!=p[1]||(this.webSegImage.css({position:"absolute",left:"8px",bottom:"2px",height:"30px"}),this.webSideText.css({height:"65px"})),this.webpage.append(this.webSegImage)),"text"==p[r]&&"text"==p[0]&&"text"==p[1]&&"text"==p[2]?(1==r&&(this.webBar=j$("<div style=\"background-image:url('"+this.st("webBar"+u)+'\');" class="webBarWrapper"><div id="webBarText" class="webBarText">'+h[r]+"</div></div>"),this.webpage.append(this.webBar)),2==r&&(this.webText=j$('<div id="webSmallTextWrapper" class="webSmallTextWrapper"><div id="webTitle">'+Format.smartTrim(h[r],this.webTitle.height()>20?30:60)+"</div></div>"),this.webTitle.height()<20?this.webText.css({"max-height":"20px"}):this.webText.css({"max-height":"10px"}),this.webpage.append(this.webText))):"text"!=p[r]||("text"!=p[0]||2!=r)&&1!=r||"brand"!=p[r-1]&&"segmentPic"!=p[r-1]&&"brand"!=p[r+1]&&"segmentPic"!=p[r+1]||(this.webSideText=j$('<div id="webSideTextWrapper" class="webSideTextWrapper webSideBck'+u+'"><div class="webSideTitle">'+h[r]+"</div></div>"),1!=r||"brand"==p[0]||"segmentPic"==p[0]||"brand"!=p[r+1]&&"segmentPic"!=p[r+1]||this.webSideText.css({"margin-left":"8px"}),this.webpage.append(this.webSideText)),2!=r||"text"!=p[r]||"text"==p[0]||"brand"!=p[0]&&"segmentPic"!=p[0]&&"brand"!=p[1]&&"segmentPic"!=p[1]||(this.webBottomText=j$('<div id="webBottomTextWrapper" class="webBottomTextWrapper webBottomBck'+u+'"><div class="webBottomStrip webBottomStrip'+u+'"></div><div class="webBottomTitle webBottomBck'+u+'">'+Format.smartTrim(h[r],50)+"</div></div>"),this.webpage.append(this.webBottomText))},changeWebPreviewNew:function(t,e){var i,s,a,n,r,o,l=this.data.staticData,d=(this.data.decisions.ads.toLookUp("adID"),l.adFeatures.toLookUp("featureID")),c=this.data.staticData.keywords.toLookUp("id"),h=[],p=[],u="Default";for(i=this.data.dynamicData.ads.toLookUp("adID")[t],0!=(e=e||0)&&(u=c[e].shortName),s=0,a=Math.min(i.adFeatures.length,3);s<a;s++)1!=(n=i.adFeatures[s]).featureID&&0==d[n.featureID].pictureSegmentID&&(h.push(d[n.featureID].featureName),p.push("text")),1==n.featureID&&(h.push(i.brandAdvertised.escapeHTML()),p.push("text")),0!=d[n.featureID].pictureSegmentID&&(h.push(this.getPicToShort(d[n.featureID].pictureSegmentID)),p.push("segmentPic"));for(this.webpage.html(""),"Default"!=u&&(this.webHead=j$('<img src="'+this.st("webBck"+u)+'" id="webBck" class="webBck" alt=""></img>'),this.webpage.append(this.webHead)),this.webOvr=j$('<img src="'+this.st("webOvr")+'" id="webOvr" class="webOvr" alt=""></img>'),this.webpage.append(this.webOvr),r=0,o=h.length;r<o&&r<3;r++)0==r&&"segmentPic"==p[r]&&(this.webTopPic=j$("<div style=\"background-image:url('"+this.st("webArtBig"+h[r])+'\');" class="webTopPic"></div>'),this.webpage.append(this.webTopPic)),0==r&&"text"==p[r]&&(this.webTopTxt=j$('<div id="webTopTxt" class="webTopTxt">'+Format.smartTrim(h[r],50)+"</div>"),this.webTopTxtWrap=j$('<div class="webTopTxtWrap"></div>'),this.webTopTxtWrap.append(this.webTopTxt),this.webpage.append(this.webTopTxtWrap)),1==r&&"segmentPic"==p[r]&&(this.webLPic=j$("<div style=\"background-image:url('"+this.st("webArtSmall"+h[r])+'\');" class="webLPic"></div>'),this.webpage.append(this.webLPic)),1==r&&"text"==p[r]&&"segmentPic"==p[2]&&(this.webLTxt=j$('<div class="webLTxt">'+h[r]+"</div>"),this.webpage.append(this.webLTxt)),1==r&&"text"==p[r]&&"text"==p[2]&&(this.webRTxt=j$('<div class="webLSTxt">'+h[r]+"</div>"),this.webpage.append(this.webRTxt)),2==r&&"segmentPic"==p[r]&&(this.webRPic=j$("<div style=\"background-image:url('"+this.st("webArtSmall"+h[r])+'\');" class="webRPic"></div>'),this.webpage.append(this.webRPic)),2==r&&"text"==p[r]&&"segmentPic"==p[1]&&(this.webRTxt=j$('<div class="webRTxt">'+h[r]+"</div>"),this.webpage.append(this.webRTxt)),2==r&&"text"==p[r]&&"text"==p[1]&&(this.webRTxt=j$('<div class="webRSTxt">'+h[r]+"</div>"),this.webpage.append(this.webRTxt))},disableRightPaneKW:function(){this.rightPaneKeywordsBarDD.html(""),this.rightPaneKeywordsBarDD.hide(),this.rightPaneKeywordsBarTxt.html(""),this.rightPaneKeywordsBar.toggleClass("active",!1),this.rightPaneKeywordsBtn.toggleClass("active",!1),this.rightPaneKeywordsBtnImg.attr("src",this.st("btnNoKw"))},setImagesRightPane:function(t){var e,i,s,a,n,r,o=this.value("keyword_"+t),l=this.data.staticData,d=this.data.staticData.keywords.toLookUp("id"),c="";if(0==o)for(this.webpage.hide(),this.deactivateRow(t),this.disableRightPaneKW(),e=0,i=l.regions.length;e<i;e++)(s=l.regions[e]).isIn&&(this.regionOutlines[s.regionID].show(),this.regionMaps[s.regionID].hide());else{for(this.activateRow(t),this.webpage.show(),a=0,n=d[o].keywords.length;a<n;a++)r=d[o].keywords[a],0==a?this.rightPaneKeywordsBarTxt.html(r):(c+='<div class="rightPaneKeywordsInside">',c+=r,c+="</div>");for(this.rightPaneKeywordsBarDD.show(),this.rightPaneKeywordsBarDD.html(c),this.rightPaneKeywordsBar.toggleClass("active",!0),this.rightPaneKeywordsBtn.toggleClass("active",!0),this.rightPaneKeywordsBtnImg.attr("src",this.st("btnActKw")),e=0,i=l.regions.length;e<i;e++)(s=l.regions[e]).isIn&&(0!=this.value("webActive_"+t+"_"+s.regionID)?(this.regionOutlines[s.regionID].hide(),this.regionMaps[s.regionID].show()):(this.regionOutlines[s.regionID].show(),this.regionMaps[s.regionID].hide()))}this.newPreview?this.changeWebPreviewNew(t,o):this.changeWebPreview(t,o)},activateRightPane:function(){this.rightPaneContentWrap.toggleClass("dimmed",!1),this.initActiveNames()},deactivateRightPane:function(){this.rightPaneContentWrap.toggleClass("dimmed",!0),this.initActiveNames(),this.rightPaneWebpage.attr("src",this.st("webpageDisabled"))},setActiveWPage:function(t,e){this.lastID=t,this.lastRow&&this.lastRow.toggleClass("activeRowWebPage",!1),this.lastRow=e,e.toggleClass("activeRowWebPage",!0),this.positionArrow(!0,e.position().top,e.outerHeight()),this.setImagesRightPane(t)},initRightPane:function(){var t,e,i,s=this.data.staticData;for(this.rightPane=j$('<div id="rightPane" class="rightPane"></div>'),this.rparrow=j$("<div style=\"display:none;background-image:url('"+this.st("common:arrowLight")+'\');" id="rightPaneArrow" class="rightPaneArrow"></div>'),this.rightPaneContentWrap=j$('<div id="rightPaneContentWrap" class="rightPaneContentWrap dimmed"></div>'),this.rightPane.append(this.rightPaneContentWrap),this.decisionContent.append(this.rightPane),this.decisionContent.append(this.rparrow),this.rightPaneWebpageWrapper=j$('<div id="rightPaneWebpages" class="rightPaneWebpages"></div>'),this.rightPaneWebpage=j$('<img src="'+this.st("webpageDisabled")+'" id="rightPaneWebpage" class="rightPaneImg" alt=""/>'),this.webpage=j$('<div id="webpage" class="rightPaneInside webpageInside"></div>'),this.rightPaneWebpageWrapper.append(this.webpage),this.rightPaneWebpageWrapper.append(this.rightPaneWebpage),this.rightPaneKeywords=j$('<div id="rightPaneKeywords" class="rightPaneImg rightPaneKeywords"></div>'),this.rightPaneKeywordsBar=j$('<div id="rightPaneKeywordsBar" class="rightPaneKeywordsBar"></div>'),this.rightPaneKeywordsBtn=j$('<div id="rightPaneKeywordsBtn" class="rightPaneKeywordsBtn"></div>'),this.rightPaneKeywordsCurs=j$('<div id="rightPaneKeywordsCurs" class="rightPaneKeywordsCurs"></div>'),this.rightPaneKeywordsBarTxt=j$('<div id="rightPaneKeywordsBarTxt" class="rightPaneKeywordsInside rightPaneKeywordsBarTxt"></div>'),this.rightPaneKeywordsBarDD=j$('<div id="rightPaneKeywordsBarDD" style="display:none;background-image:url(\''+this.st("kwDD")+'\');" class="rightPaneKeywordsBarDD"></div>'),this.rightPaneKeywordsBar.append(this.rightPaneKeywordsBarTxt),this.rightPaneKeywordsBar.append(this.rightPaneKeywordsCurs),this.rightPaneKeywordsBtnImg=j$('<img src="'+this.st("btnNoKw")+'" id="rightPaneKeywordsBtnImg" class="rightPaneKeywordsBtnImg" alt=""></div>'),this.rightPaneKeywordsBtn.append(this.rightPaneKeywordsBtnImg),this.rightPaneKeywords.append(this.rightPaneKeywordsBar),this.rightPaneKeywords.append(this.rightPaneKeywordsBtn),this.rightPaneKeywords.append('<div style="clear:both;"></div>'),this.rightPaneKeywords.append(this.rightPaneKeywordsBarDD),this.rightPaneRegionsWrapper=j$('<div id="rightPaneRegions" class="rightPaneRegions"></div>'),this.rightPaneBoxWebpage=j$('<div id="webpageBox" class="rightPaneBox"></div>'),this.rightPaneBoxWebpage.append('<div class="rightPaneText">'+this.tc("webpagePane")+"</div>"),this.rightPaneBoxWebpage.append(this.rightPaneWebpageWrapper),this.rightPaneBoxKeywords=j$('<div id="keywordsBox" class="rightPaneBox"></div>'),this.rightPaneBoxKeywords.append('<div class="rightPaneText">'+this.tc("keywordsPane")+"</div>"),this.rightPaneBoxKeywords.append(this.rightPaneKeywords),this.rightPaneBoxRegions=j$('<div id="regionsBox" class="rightPaneBox"></div>'),this.rightPaneBoxRegions.append('<div class="rightPaneText">'+this.tc("regionsPane")+"</div>"),this.rightPaneBoxRegions.append(this.rightPaneRegionsWrapper),this.rightPaneContentWrap.append(this.rightPaneBoxWebpage),this.rightPaneContentWrap.append(this.rightPaneBoxKeywords),this.rightPaneContentWrap.append(this.rightPaneBoxRegions),t=0,e=s.regions.length;t<e;t++)i=s.regions[t],this.regionOutlines[i.regionID]=j$('<img src="'+this.st("mapsOutline_"+e+"r"+i.regionID)+'" id="mapOutline_'+i.regionID+'" class="rightPaneInside rightPaneMap" alt="" />'),this.rightPaneRegionsWrapper.append(this.regionOutlines[i.regionID]),this.regionOutlines[i.regionID].show(),i.isIn&&(this.regionMaps[i.regionID]=j$('<img src="'+this.st("maps_"+e+"r"+i.regionID)+'" id="map_'+i.regionID+'" class="rightPaneInside rightPaneMap" alt="" />'),this.rightPaneRegionsWrapper.append(this.regionMaps[i.regionID]));this.rightPane.attr("aria-hidden",!0).attr("role","presentation")},scrollRightPane:function(){this.rightPaneContentWrap.css({"margin-top":this.decision.scrollTop()+"px"})},resize:function(){var t=j$("#designWebTable");null==this.emptyLabel&&(this.decisionContent.css({"min-width":t.width()+174+"px"}),this.rightPane.css({"min-height":this.decision.height()+"px"}))},destroy:function(){this.scrollEvt&&this.decision.off("scroll",this.scrollEvt),this._super()},observe:function(){var t,e,i,s,a,n,r,o,l=this.data.staticData,d=this.data.dynamicData;if(this.decision=j$("#decision"),this.scrollEvt=j$.proxy(this.scrollRightPane,this),this.decision.on("scroll",this.scrollEvt),this.decisionContent=j$("#decision").children().first(),null!=this.emptyLabel)this.emptyLabel.observe(),this.emptyLabel.change("float","left");else{for(this.initActiveNames(),this.initRightPane(),this.designWebTable.observe(),this.totalLbl.observe(),this.totalLbl.change("float","left"),j$("th.dtitle").css({background:"none","border-bottom":"none"}),(o=j$("span.webpContent")).parent().css({"padding-top":"10px","padding-bottom":"10px"}),e=0,i=d.ads.length;e<i;e++)for(t=d.ads[e],r=j$(o[e]).closest("tr")[0],j$(r).attr("tabindex",10).css({padding:"6px"}),j$(r).children("td").addClass("activeCursor"),j$(r).on("focusin",j$.proxy(this.setActiveWPage,this,t.adID,j$(r))),j$("#keyword_"+t.adID).on("change",j$.proxy(this.setImagesRightPane,this,t.adID)),this.bindCalculate("keyword_"+t.adID,"change"),a=0,n=l.regions.length;a<n;a++)(s=l.regions[a]).isIn&&this.bindCalculate("webActive_"+t.adID+"_"+s.regionID,"change");this.drawExplanations()}}})},2514:()=>{window.DetailedBrandDemandReport=Decision.extend({style:"padding: 10px 10px 0px 10px;",viewModeButtons:[],modifyModeButtons:[],reportType:2,initSettings:function(){return{reportType:2,tbFilter:null,rcFilter:null}},draw:function(){var t,e,i=this.data.staticData,s=i.teams.length;for(this.tl=i.teams.toLookUp("teamID"),this.bl=[],t=0;t<s;++t)e=i.teams[t],this.bl[e.teamID]=e.brands.toLookUp("brandID");return this.reportType=this.settings.reportType,this.tbFilter=new MultiLevelFilter(this.tc("by_company_by_brand"),"tm_bd_filter","blue",this.settings.tbFilter,this.redrawTables.bind(this),i.teams,"teamID","companyName",this.tc("company"),"brands","brandID","name",this.tc("brand")),this.tbFilter.drawSubName=function(t,e){return Format.brandName(t[e].escapeHTML(),t.type)},this.rcFilter=new MultiLevelFilter(this.tc("by_region_by_city"),"rg_ct_filter","blue",this.settings.rcFilter,this.redrawTables.bind(this),i.regions,"regionID","regionName",this.tc("region"),"cities","cityID","cityName",this.tc("city")),this.typeFilter=new DecisionLabel(this.service,"labTypeFilter",this.com("radio","type",this.reportType,{label:this.tc("detailedReport")},1)+'<div style="height:4px;"></div>'+this.com("radio","type",this.reportType,{label:this.tc("summaryReport")},2)),this.tbFilter.draw()+this.rcFilter.draw()+this.typeFilter.draw()+'<br /><div id="rsArea"></div>'},observe:function(){this.tbFilter.observe(),this.rcFilter.observe(),this.typeFilter.observe(),this.typeFilter.change("float","left"),this.cf.enable(),j$("#type_1").on("click",this.onReportTypeChange.bind(this,1)),j$("#type_2").on("click",this.onReportTypeChange.bind(this,2)),this.redrawTables(!1,!0)},onReportTypeChange:function(t){t!=this.reportType&&(this.reportType=t,this.redrawTables(!0,!0))},redrawTables:function(t,e){t&&(this.settings.reportType=this.reportType,this.settings.tbFilter=this.tbFilter.settings,this.settings.rcFilter=this.rcFilter.settings,this.saveSettings()),e&&(j$("#rsArea").html(1==this.reportType?this.drawReport():this.drawSummary()),1==this.reportType?this.observeReport():this.observeSummary())},drawReport:function(){var t,e,i,s,a,n,r,o,l,d,c,h,p,u,g,m,b=this.data.staticData,f="",v=[],y=[],w="",D=[{title:this.tc("brand")},{title:this.tc("company")},{title:this.tc("city"),vline:!0}];for(t=0,e=b.segments.length;t<e;++t)D.push({title:Format.segmentName(b.segments[t].name,b.segments[t].shortName),type:"number"});for(D.push({title:this.tc("total"),type:"number"}),m=this.tbFilter.noFilterSet(),g=this.rcFilter.noFilterSet(),this.tbls=[],i=0,s=b.regions.length;i<s;++i)if((a=b.regions[i]).mrBought)if(a.isEmpty)v.push(a.regionName);else{for(h=[],n=0,r=a.cities.length;n<r;++n)if((o=a.cities[n]).checked||g)for(l=0,d=o.brands.length;l<d;++l)if(c=o.brands[l],void 0!==this.bl[c.teamID]&&(this.bl[c.teamID][c.brandID].checked||m)){for(p=0,u=[Format.brandName(this.bl[c.teamID][c.brandID].name.escapeHTML(),this.bl[c.teamID][c.brandID].type),this.tl[c.teamID].companyName.escapeHTML(),o.cityName],t=0,e=c.segments.length;t<e;++t)u.push(c.segments[t].demand),p+=Number(c.segments[t].demand);u.push(p),p>0&&h.push(u)}this.tbls.push(new DecisionTable(a.regionName,"tblRegion"+a.regionID,D,h)),f+=this.tbls[this.tbls.length-1].draw()}else y.push(a.regionName);return y.length>0||v.length>0?(v.length>0&&(w+=this.tc("common:noComp",{REGIONS:"<br />&nbsp;&nbsp;"+v.join("<br />&nbsp;&nbsp;")})),y.length>0&&(w+=(""!=w?"<br /><br />":"")+this.tc("common:noMr",{REGIONS:"<br />&nbsp;&nbsp;"+y.join("<br />&nbsp;&nbsp;")})),this.noLabel=new DecisionLabel(this.service,"no",w),f+=this.noLabel.draw()):this.noLabel=null,f},observeReport:function(){var t,e,i,s=this.data.staticData.segments.length;for(t=0,e=this.tbls.length;t<e;++t)for(this.tbls[t].observe(),i=0;i<=s;++i)this.tbls[t].makeColumnSortable(i+3);DecisionTable.setMaxColWidths(this.tbls,0),null!=this.noLabel&&(this.noLabel.observe(),this.noLabel.change("float","left"))},resize:function(){this.tbls.length>0&&DecisionTable.setMaxColWidths(this.tbls,0),this.tbFilter.resize(),this.rcFilter.resize()},drawSummary:function(){var t,e,i,s,a,n,r,o,l,d,c,h,p,u,g,m,b,f,v,y,w,D=this.data.staticData,_=D.segments.length,I="",x=[];for(v=this.tbFilter.noFilterSet(),f=this.rcFilter.noFilterSet(),t=0,e=D.teams.length;t<e;++t){for((i=D.teams[t]).byCompany=[],s=0;s<_;++s)i.byCompany[s]=0;for(n=0,r=i.brands.length;n<r;++n)for((o=i.brands[n]).byBrand=[],s=0;s<_;++s)o.byBrand[s]=0}for(h=0,p=D.regions.length;h<p;++h){for((u=D.regions[h]).byRegion=[],s=0;s<_;++s)u.byRegion[s]=0;for(l=0,d=u.cities.length;l<d;++l)for((c=u.cities[l]).byCity=[],s=0;s<_;++s)c.byCity[s]=0}for(h=0,p=D.regions.length;h<p;++h)if((u=D.regions[h]).mrBought){for(l=0,d=u.cities.length;l<d;++l)if((c=u.cities[l]).checked||f)for(n=0,r=c.brands.length;n<r;++n)if(o=c.brands[n],void 0!==this.bl[o.teamID]&&(this.bl[o.teamID][o.brandID].checked||v))for(s=0;s<_;++s)a=o.segments[s],u.byRegion[s]+=Number(a.demand),c.byCity[s]+=Number(a.demand),this.bl[o.teamID][o.brandID].byBrand[s]+=Number(a.demand),this.tl[o.teamID].byCompany[s]+=Number(a.demand)}else x.push(u.regionName);for(g=[{title:""}],s=0;s<_;++s)g.push({title:Format.segmentName(D.segments[s].name,D.segments[s].shortName),type:"number"});for(g.push({title:this.tc("total"),type:"number"}),this.tbls=[],(m=g.slice(0))[0]={title:this.tc("brand")+" ("+this.tc("company")+")"},b=[],t=0,e=D.teams.length;t<e;++t)for(n=0,r=(i=D.teams[t]).brands.length;n<r;++n)if((o=i.brands[n]).checked||v){for(y=0,w=[Format.brandName(o.name.escapeHTML(),o.type)+" ("+i.companyName.escapeHTML()+")"],s=0,_=o.byBrand.length;s<_;++s)w.push(o.byBrand[s]),y+=o.byBrand[s];w.push(y),y>0&&b.push(w)}for(this.tbls.push(new DecisionTable(this.tc("summaryByBrand"),"tblByBrand",m,b)),(m=g.slice(0))[0]={title:this.tc("company")},b=[],t=0,e=D.teams.length;t<e;++t){for(y=0,w=[(i=D.teams[t]).companyName.escapeHTML()],s=0,_=i.byCompany.length;s<_;++s)w.push(i.byCompany[s]),y+=i.byCompany[s];w.push(y),y>0&&b.push(w)}for(this.tbls.push(new DecisionTable(this.tc("summaryByCompany"),"tblByCompany",m,b)),(m=g.slice(0))[0]={title:this.tc("city")},b=[],h=0,p=D.regions.length;h<p;++h)for(l=0,d=(u=D.regions[h]).cities.length;l<d;++l)if((c=u.cities[l]).checked||f){for(y=0,w=[c.cityName],s=0,_=c.byCity.length;s<_;++s)w.push(c.byCity[s]),y+=c.byCity[s];w.push(y),y>0&&b.push(w)}for(this.tbls.push(new DecisionTable(this.tc("summaryByCity"),"tblByCity",m,b)),(m=g.slice(0))[0]={title:this.tc("region")},b=[],h=0,p=D.regions.length;h<p;++h){for(y=0,w=[(u=D.regions[h]).regionName],s=0,_=u.byRegion.length;s<_;++s)w.push(u.byRegion[s]),y+=u.byRegion[s];w.push(y),y>0&&b.push(w)}for(this.tbls.push(new DecisionTable(this.tc("summaryByRegion"),"tblByRegion",m,b)),t=0,e=this.tbls.length;t<e;++t)I+=this.tbls[t].draw();return x.length>0?(this.noLabel=new DecisionLabel(this.service,"no",this.tc("common:noMr",{REGIONS:"<br />&nbsp;&nbsp;"+x.join("<br />&nbsp;&nbsp;")})),I+=this.noLabel.draw()):this.noLabel=null,I},observeSummary:function(){var t,e,i,s=this.data.staticData.segments.length;for(t=0,e=this.tbls.length;t<e;++t)for(this.tbls[t].observe(),i=0;i<=s;++i)this.tbls[t].makeColumnSortable(i+1);DecisionTable.setMaxColWidths(this.tbls,0),null!=this.noLabel&&(this.noLabel.observe(),this.noLabel.change("float","left"))}})},52623:()=>{window.Dividends=Decision.extend({style:"padding: 10px 10px 0px 10px;",read:function(){this.data.decisions.dividend=this.value("dividend")},write:function(){this.setValue("dividend",this.data.decisions.dividend)},writeErrors:function(){this.writeError("dividend",this.data.errors.decisions.dividend,"center left",!0,3)},writeCalculate:function(){j$("#dividendsTotal").html(Number(this.data.calculate.dividends).format())},draw:function(t){t=t||!1;var e,i=[],s=[{title:"",header:!0},{title:"",align:"right"}],a="";return this.divTables=[],t||(i.push([this.tc("equityLQ"),Number(this.data.staticData.stock).format()],[this.tc("equityCQ"),Number(this.data.dynamicData.stockIncrease).format()],[this.tc("equityTotal"),Number(this.data.calculate.stockTotal).format()]),e=new DecisionTable(this.tc("equity"),"divTable_eq",s,i),this.divTables.push(e),a+=e.draw(),(i=[]).push([this.tc("sharesLQ"),Number(this.data.staticData.shares).format()],[this.tc("sharesCQ"),Number(this.data.dynamicData.sharesIncrease).format()],[this.tc("sharesTotal"),Number(this.data.calculate.sharesTotal).format()]),e=new DecisionTable(this.tc("shares"),"divTable_sh",s,i),this.divTables.push(e),a+=e.draw()),(i=[]).push([this.tc("dividendPerShare"),this.com("iedit","dividend",this.data.decisions.dividend,{size:10})],[this.tc("dividendsTotal"),'<span id="dividendsTotal">'+Number(this.data.calculate.dividends).format()+"</span>"]),e=new DecisionTable(this.tc("dividends"),"divTable_div",s,i),t&&(e.tableCorners=""),this.divTables.push(e),a+e.draw()},observe:function(){var t,e;for(t=0,e=this.divTables.length;t<e;t++)this.divTables[t].observe();DecisionTable.setMaxColWidths(this.divTables,0),this.bindCalculate("dividend","keyup",!0)},resize:function(){this.divTables.length>0&&DecisionTable.setMaxColWidths(this.divTables,0)},drawSOD:function(){Number(this.data.calculate.dividends)>0?this.setValue(this.pfxSod+this.service,this.draw(!0)):this.setValue(this.pfxSod+this.service,this.tc("noDividends")),this.disable()}})},97961:(t,e,i)=>{"use strict";i(66406),window.DivisionProfitability=FinanceReport.extend({stmt:"divisionProfitability"})},61142:()=>{window.DrillDownBSC=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",sw:1,myTeam:-1,getWellPoorIndex:function(t,e){return 0==t?0:this.sw>0&&t<=this.sw?t:this.sw<0&&e-t+1<=Math.abs(this.sw)?-(e-t+1):0},getWellPoor:function(t,e){var i=this.getWellPoorIndex(t,e);return i>0?"well"+(i-1):i<0?"poor"+(Math.abs(i)-1):null},getVariables:function(t,e,i){i[this.getWellPoorIndex(e.order,e.maxOrder)].push([t,e]);for(var s=0,a=e.variables.length;s<a;++s)this.getVariables(t,e.variables[s],i)},viewSummary:function(){var t,e,i,s,a,n,r=this.data.staticData.indicators,o=r.length,l=[],d=[],c=[],h=[],p=this.sw>0?[this.tc("best"),this.tc("2nd_best"),this.tc("3rd_best"),this.tc("4th_best")]:[this.tc("poorest"),this.tc("2nd_poorest"),this.tc("3rd_poorest"),this.tc("4th_poorest")];for(s=-4;s<=4;s++)c[s]=[],h[s]=[];for(t=0;t<o;++t)i=r[t],c[this.getWellPoorIndex(i.teams[this.myTeam].order,i.maxOrder)].push(i),this.getVariables(i,i.rootVariable,h);for(t=0,e=Math.abs(this.sw);t<e;++t){for(l.push({title:p[t]}),d.push({title:p[t]}),s=0,a=(n=c[(this.sw>0?1:-1)*(t+1)]).length;s<a;++s)l.push([n[s].name]);for(s=0,a=(n=h[(this.sw>0?1:-1)*(t+1)]).length;s<a;++s)d.push([n[s][0].name,n[s][1].name])}j$("#bscDD").html(new DecisionTable(this.tc("overallBSC"),"otTable",[{title:""}],l,!0).draw()+new DecisionTable(this.tc("tacticalDetails"),"tdTable",[{title:""},{title:""}],d,!0).draw()),this.resizeContent()},drawFormula:function(t,e){var i,s,a,n,r,o="",l=e.id+" = "+e.equation,d=l,c=this.getWellPoor(e.order,e.maxOrder);for(o=null!=c?'class="'+c+'"':"",l=l.replace(new RegExp(e.id+" ","gi"),'</td><td id="cvarn_'+e.id+'">'+e.name+"</td><td> "),d=d.replace(new RegExp(e.id+" ","gi"),'</td><td id="cvarv_'+e.id+'" '+o+">"+Format.number(Number(e.value),e.decimals)+"</td><td> "),i=0,s=e.variables.length;i<s;++i)r=e.variables[i],o=null!=(c=this.getWellPoor(r.order,r.maxOrder))?'class="'+c+'"':"",l=l.replace(new RegExp(r.id+" ","gi"),'</td><td id="varn_'+r.id+'">'+r.name+"</td><td> "),d=d.replace(new RegExp(r.id+" ","gi"),'</td><td id="varv_'+r.id+'" '+o+">"+Format.number(Number(r.value),r.decimals)+"</td><td> ");for((a=j$("<div></div>")).html('<table style="margin: 10px;"><tr style="text-align: center"><td>'+l+'</td></tr><tr style="text-align: center"><td>'+d+'</td></tr></table><div class="dd"></div>'),t.html(a),n=a.find(".dd").first(),c=this.getWellPoor(e.order,e.maxOrder),j$("#cvarn_"+e.id).wrapInner('<button class="button-plain" style="color: inherit;"></button>').css({cursor:"pointer","text-decoration":"underline"}).on("click",j$.proxy(this.drawFormula,this,t,e)),null!=c?j$("#cvarv_"+e.id).wrapInner('<button class="button-plain" style="color: inherit;" title="'+this.tc(c)+'"></button>').append('<span class="offscreen">'+this.tc(c)+"</span>").css({cursor:"pointer","text-decoration":"underline"}).on("click",j$.proxy(this.drawFormula,this,t,e)):j$("#cvarv_"+e.id).wrapInner('<button class="button-plain" style="color: inherit;"></button>').css({cursor:"pointer","text-decoration":"underline"}).on("click",j$.proxy(this.drawFormula,this,t,e)),i=0,s=e.variables.length;i<s;++i)r=e.variables[i],c=this.getWellPoor(r.order,r.maxOrder),r.variables.length>0?(j$("#varn_"+r.id).wrapInner('<button class="button-plain" style="color: inherit;"></button>').css({cursor:"pointer","text-decoration":"underline"}).on("click",j$.proxy(this.drawFormula,this,n,r)),null!=c?j$("#varv_"+r.id).wrapInner('<button class="button-plain" style="color: inherit;" title="'+this.tc(c)+'"></button>').append('<span class="offscreen">'+this.tc(c)+"</span>").css({cursor:"pointer","text-decoration":"underline"}).on("click",j$.proxy(this.drawFormula,this,n,r)):j$("#varv_"+r.id).wrapInner('<button class="button-plain" style="color: inherit;"></button>').css({cursor:"pointer","text-decoration":"underline"}).on("click",j$.proxy(this.drawFormula,this,n,r))):null!=c&&j$("#varv_"+r.id).wrapInner('<span title="'+this.tc(c)+'"></span>').append('<span class="offscreen">'+this.tc(c)+"</span>")},drillDown:function(t){var e=t.ind;j$("#bscDD").html('<div id="indTitle"><h2 class="plainHeader bscHeader">'+e.name+'</h2></div><div id="indDrillDown"></div><div id="indDescription" style="margin-top:10px;">'+e.description.replace(new RegExp("{"+e.id+"}","gi"),e.name)+"</div>"),this.drawFormula(j$("#indDrillDown"),e.rootVariable)},updateSW:function(){var t,e,i,s,a,n,r=this.data.staticData,o=this.bscTable.element();for(j$(o.rows[0].cells[0]).html(this.tc("advBSC",{SW:this.sw>0?this.tc("strenghts"):this.tc("weaknesses")})),t=0,e=r.indicators.length;t<e;++t)for(var l=0,d=(i=r.indicators[t]).teams.length;l<d;++l)s=this.getWellPoor(i.teams[l].order,i.maxOrder),(a=(n=j$(o.rows[t+1].cells[l+1])).attr("class").split(" "))[1]&&(n.toggleClass(a[1],!1),n.find(".offscreen").remove(),n.find("span").first().contents().unwrap()),null!=s&&(n.toggleClass(s,!0),0==n.find(".offscreen").length&&n.append('<span class="offscreen">'+this.tc(s)+"</span>"),n.wrapInner('<span title="'+this.tc(s)+'"></span>'));for(this.sw>0?(j$("#switchSW").html(this.tc("switchW")),j$("#numberSW").html(this.tc("numberS"))):(j$("#switchSW").html(this.tc("switchS")),j$("#numberSW").html(this.tc("numberW"))),t=1;t<=4;t++)Math.abs(this.sw)==t?j$("#nw"+t).css({"font-weight":"bold"}):j$("#nw"+t).css({"font-weight":"normal"});j$("#bscDD").html("<p>"+this.tc("p1")+"</p><p>"+this.tc("p2")+"</p><p>"+this.tc("p3")+"</p><p>"+this.tc("p4")+"</p><p>"+this.tc("p5")+"</p>")},draw:function(){var t,e,i,s,a,n,r,o,l,d=this.data.staticData,c=[{title:""}],h=[],p='<button id="switchSW" class="button-plain"></button><br /><span id="numberSW"></span>';for(l=j$.proxy(this.drillDown,this),t=0,e=d.teams.length;t<e;++t)d.teams[t].myTeam&&(this.myTeam=t,o=d.teams[t].teamID),c.push({title:d.teams[t].companyName.escapeHTML(),type:"number",decimals:3});for(t=0,e=d.indicators.length;t<e;++t){for(r=[(a=d.indicators[t]).name],n=[null],i=0,s=a.teams.length;i<s;++i)r.push(a.teams[i].value),0==t||a.teams[i].teamID!=o?n.push(null):n.push({type:"click",linkStyle:"underLink",call:l,data:{ind:a}});h.push({values:r,actions:n})}for(this.bscTable=new DecisionTable(this.tc("advBSC",{SW:this.sw>0?this.tc("strenghts"):this.tc("weaknesses")}),"bscTable",c,h),h=[[this.tc("strenghts"),this.tc("i1"),this.tc("i2"),this.tc("i3"),this.tc("i4")],[this.tc("weaknesses"),this.tc("i1"),this.tc("i2"),this.tc("i3"),this.tc("i4")]],this.ccTable=new DecisionTable(this.tc("colorCode"),"ccTable",[{title:""},{title:""},{title:""},{title:""},{title:""}],h,!0,"","left"),t=1;t<=4;t++)p+=' <button id="nw'+t+'" class="button-plain" style="display: inline-block;">['+t+"]</button>";return p+='<br /><button id="summary" class="button-plain">'+this.tc("summary")+"</button>",p=this.ccTable.draw()+'<div style=" float:left;">'+p+'</div><div style="clear: both;"></div><br /><hr/><div id="bscDD" style="clear: both"></div>',this.text=new DecisionLabel(this.service,"bscDescription",p,"",Live.newTables?"gray":""),this.bscTable.draw()+this.text.draw()},observe:function(){this.data.staticData;var t,e=this.bscTable.element();for(this.bscTable.observe(),this.text.observe(),this.text.change("css",{"line-height":"1.5em"}),j$("#switchSW").toggleClass("underLink",!0).on("click",j$.proxy((function(){this.sw=-this.sw,this.updateSW()}),this)),t=1;t<=4;t++)j$("#nw"+t).toggleClass("underLink",!0).on("click",j$.proxy((function(t){this.sw=(this.sw>0?1:-1)*t,this.updateSW()}),this,t));for(j$("#summary").toggleClass("underLink",!0).on("click",j$.proxy(this.viewSummary,this)),this.ccTable.observe(),e=this.ccTable.element(),this.ccTable.change("float","right"),this.ccTable.jelementWrapper().attr("aria-hidden",!0),t=1;t<=4;t++)j$(e.rows[0].cells[t]).toggleClass("well"+(t-1),!0);for(t=1;t<=4;t++)j$(e.rows[1].cells[t]).toggleClass("poor"+(t-1),!0);this.updateSW()}})},85785:()=>{window.EconomicIndexes=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",draw:function(){var t,e,i,s,a,n=this.data.staticData,r="",o=[],l=[],d=[{title:this.tc("date")}],c=n.regions[0].stockEI.length;for(t=0,e=n.regions.length;t<e;t++)d.push({title:n.regions[t].name+"<br />("+n.regions[t].stockIndex.symbol+")",type:"number",decimals:3}),l.push([n.regions[t].stockIndex.symbol,this.cf.getLink(n.regions[t].stockIndex.name,"webSource_"+n.regions[t].regionID,"undefined"!=typeof Engine?this.runClick.bind(this,n.regions[t].stockIndex.url):null,n.regions[t].stockIndex.url)]);this.sourcesTable=new DecisionTable(this.tc("sourceOfInfo"),"sourcesTable",[{title:this.tc("index"),align:"left"},{title:this.tc("webSource"),align:"left"}],l,!1,"blue","right");for(var h=0;h<c;h++){for(i=[],t=0,e=n.regions.length;t<e;t++)0==t&&i.push(n.regions[t].stockEI[h].date),i.push(n.regions[t].stockEI[h].stockEI);o.push(i)}if(this.eiTable=new DecisionTable(this.tc("economicIndexes"),"eiTable",d,o,!1,"blue","right"),n.copyright){if(a={YEAR:n.copyright.year},n.copyright.links)for(s in n.copyright.links)a[s+"_LINK_START"]='<a href="'+n.copyright.links[s]+'" target="win_'+n.copyright.id+'" class="blueLink">',a[s+"_LINK_END"]="</a>";r='<p style="clear:both;">'+this.tc("copyright"+n.copyright.id,a)+"</p>"}return'<div id="eichart" style="width: 650px; height:400px;"></div>'+this.eiTable.draw()+this.sourcesTable.draw()+r},runClick:function(t){Engine.openWindow(t,"NewsWindow","simple",900,700)},observe:function(){this.data.staticData,this.setChartData("eichart"),this.eiTable.observe(),this.sourcesTable.observe()},setChartData:function(t){var e,i,s,a,n,r,o=this.data.staticData,l=0,d=o.regions[0].stockEI.length;if(Live.useSvg()){for(n=this.data.staticData.chartTemplate,r=0;r<d;r++)if(l++,o.regions[0].stockEI[r].date<=o.processDate){e=[d-l];break}j$.extend(n.data,{title:"",xAxis:this.tc("weekDaysSince",{DATE:o.regions[0].stockEI[d-1].date}),yAxis:"",xLines:e,labels:[],x:[],y:[],minX:0,maxX:d-1,saveUrl:this.st("common:saveChartURL"),saveName:"economic-indexes-"+this.user.quarter()}),n.chartSettings.radius=0,n.legend.position="right",n.chartArea.vLabels.decimals=3;for(var c=0;c<d;c++)n.data.x[c]=d-c-1;for(i=0,s=o.regions.length;i<s;i++)for(n.data.labels[i]=o.regions[i].name,r=0;r<d;r++)void 0===n.data.y[r]&&(n.data.y[r]=[]),n.data.y[r][i]=Number(o.regions[i].stockEI[r].stockEI);SvgCharts.BaseChart.setChartData(t,n)}else{for((a=j$("#"+t)).css({opacity:Live.opacity}),(n=new LineChart(a[0])).labelX=this.tc("weekDaysSince",{DATE:o.regions[0].stockEI[d-1].date}),n.labelY="",r=0;r<d;r++)if(l++,o.regions[0].stockEI[r].date<=o.processDate){n.xLines=[d-l];break}for(n.decY=3,n.labels=[],n.data=[],n.category=[],i=0,s=o.regions.length;i<s;i++)for(n.labels[i]=o.regions[i].name,r=0;r<d;r++)void 0===n.data[i]&&(n.data[i]=[]),n.data[i][r]=Number(o.regions[i].stockEI[r].stockEI),n.category[r]=Number(d-r)-1;n.minX=0,n.maxX=d-1,n.draw()}}})},48116:()=>{window.EmployeeInvolvement=Decision.extend({style:"padding: 10px 10px 0px 10px;",read:function(){},write:function(){},draw:function(){var t,e="",i="padding:6px;font-weight:bolder;text-align:center",s="text-align:center;vertical-align:top;padding:4px;background-color:#E6B8B8",a="text-align:center;vertical-align:top;padding:4px",n="text-align:left;vertical-align:top;padding:4px",r="width:5px;border:0px none";if(this.viewModeButtons=[],this.modifyModeButtons=[],this.data.staticData.studyBought){for(e="<div style='font-size:1.2em; padding: 4px;'>"+this.tc("mEIhdtitle")+"</div>",e+="<img src='"+Path.getDecPath("cc","study-3-big",".png")+"' style='float:left; margin: 10px 10px 10px 0px; height: 100px;' alt=''/>"+this.tc("mEIhd_m"),e+="<div style='clear:both'></div>",e+="<div style='background-color:#C0C0C0;padding:6px;font-weight:bolder;'>"+this.tc("mEIiss")+"</div><br>",e+="<div style='background-color:#E0DBC7;padding:6px;font-weight:bolder;'>"+this.tc("mEIhd_a")+"</div><br>",e+="<div style='"+i+"'>"+this.tc("mEIhd_1")+"</div><br><table><tr>",t=1;t<5;t++)e+="<td style='"+s+"'>"+this.tc("mEIct"+t+"_1")+"</td><td style='"+r+"'>&nbsp;</td>";for(e+="</tr><tr>",t=1;t<5;t++)e+="<td style='"+a+"'><img src='"+Path.getPath(this.st("common:decisionsFolder"),"arrow_down",".png")+"' alt=''></td><td style='"+r+"'>&nbsp;</td>";for(e+="</tr><tr>",t=1;t<5;t++)e+="<td style='"+n+"'>"+this.tc("mEIct"+t+"_2")+"</td><td style='"+r+"'>&nbsp;</td>";for(e+="</tr></table><br>",e+="<div style='"+i+"'>"+this.tc("mEIhd_2")+"</div><br><table><tr>",t=5;t<8;t++)e+="<td style='"+s+"'>"+this.tc("mEIct"+t+"_1")+"</td><td style='"+r+"'>&nbsp;</td>";for(e+="</tr><tr>",t=5;t<8;t++)e+="<td style='"+a+"'><img src='"+Path.getPath(this.st("common:decisionsFolder"),"arrow_down",".png")+"' alt=''></td><td style='"+r+"'>&nbsp;</td>";for(e+="</tr><tr>",t=5;t<8;t++)e+="<td style='"+n+"'>"+this.tc("mEIct"+t+"_2")+"</td><td style='"+r+"'>&nbsp;</td>";e+="</tr></table>"}else e=this.tc("mEInot");return this.frLabel=new DecisionLabel(this.service,"srLabel",e,"","wooden"),this.frLabel.draw()},observe:function(){this.frLabel.observe(),this.data.staticData.studyBought||this.frLabel.change("float","left")}})},99674:()=>{window.EnvironmentalConcerns=Decision.extend({style:"padding: 10px 10px 0px 10px;",read:function(){},write:function(){},draw:function(){var t,e=[],i=[],s="",a="width:5px;border:0px none",n=this.data.staticData.hasFactoryPerRegion?"mEChd_icm_m":"mEChd_m",r="";if(this.viewModeButtons=[],this.modifyModeButtons=[],this.data.staticData.studyBought){for(e=[{title:""}],s="<div style='font-size:1.2em; padding: 4px;'>"+this.tc("mEChtitle")+"</div>",s+="<img src='"+Path.getDecPath("cc","study-1-big",".png")+"' style='float:left; margin: 10px 10px 10px 0px; height: 100px;' alt=''/>"+this.tc(n),s+="<div style='clear:both'></div>",s+="<div style='background-color:#C0C0C0;padding:6px;font-weight:bolder;'>"+this.tc("mECiss")+"</div><br>",t=1;t<6;t++)r="mECct",2==t&&this.data.staticData.hasFactoryPerRegion&&(r="mECct_icm"),""!=this.tc("mEChd"+t)&&(s+="<div style='background-color:#E0DBC7;padding:6px;font-weight:bolder;'>"+this.tc("mEChd"+t)+"</div><br>",s+="<table><tr><td style='vertical-align:top;width:33%;padding:4px;background-color:#E6B8B8;'>"+this.tc("mECct"+t+"_1")+"</td><td style='"+a+"'>&nbsp;</td>",s+="<td style='vertical-align:top;width:33%;padding:4px;background-color:#A6A6A6;'>"+this.tc("mECct"+t+"_2")+"</td><td style='"+a+"'>&nbsp;</td>",s+="<td style='vertical-align:top;width:33%;padding:4px;background-color:#D8E4BE;'>"+this.tc(r+t+"_3")+"</td></tr></table><br>");i.push([s]),this.bmrTable=new DecisionTable(this.tc("mEChtitle"),"bmrTable",e,i,!0,"wooden")}else s=this.tc("mECnot");return this.frLabel=new DecisionLabel(this.service,"srLabel",s,"","wooden"),this.frLabel.draw()},observe:function(){this.frLabel.observe(),this.data.staticData.studyBought||this.frLabel.change("float","left")}})},8251:()=>{window.ExchangeRates=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",draw:function(){var t,e,i,s,a,n,r,o,l,d,c,h="",p=this.data.staticData,u=[{title:""},{title:""}],g=[this.tc("previousRates"),p.headquarters.currencyName+" = "],m=[this.tc("changeRates"),""],b=[this.tc("currentRates"),p.headquarters.currencyName+" = "];for(this.hqTable=new DecisionTable(this.tc("headquarters"),"hqTable",[{title:""},{title:""}],[[this.tc("location"),Format.location(p.headquarters.cityName,p.headquarters.regionName)],[this.tc("transaction"),p.headquarters.currencyName]],!0,"concrete"),a=0,n=p.regions.length;a<n;++a)r=p.regions[a],u.push({title:r.regionName+"<br />["+r.currencyName+"]",align:"right"}),g.push(r.previousRate.format(3)),m.push((r.change>0?"+":"")+r.change.format(2)+"%"),b.push(r.currentRate.format(3));for(t=p.showPreviousAndChange?[g,{values:b,hrafter:!0},m]:[b],this.erTable=new DecisionTable(this.tc("exchangeRates"),"erTable",u,t,!1,"concrete"),t=[],i=0,s=p.messages.length;i<s;++i)e=p.messages[i],t.push({title:e.subject},[e.message.replace(/\n/gi,"<br />")]);if(t.length>0?(this.nTable=new DecisionTable(this.tc("newsletter"),"nTable",[{title:"",vline:!1}],t,!0,"concrete"),this.nTable.doHlRows=!1):this.nTable=null,p.hasRealEconomics){for(u=[{title:this.tc("date")}],t=[],a=0,n=p.regions.length;a<n;++a)r=p.regions[a],u.push({title:r.regionName+"<br />["+r.currencyName+"]",align:"right"}),r.currency!=p.headquarters.currency&&(h+='<div id="cur_'+p.regions[a].regionID+'" style="margin:5px; width: 400px; height:300px; float:left;"></div>');for(l=0,d=p.er.length;l<d;l++){for(o=[],(c=p.er[l]).weekend?o.push('<span style="font-weight:bold;">'+c.date+"</span>"):o.push(c.date),a=0,n=p.regions.length;a<n;++a)r=p.regions[a],c.weekend?o.push('<span style="font-weight:bold;">'+Number(c.rates[p.currency.indexOf(r.currency)]).format(3)+"</span>"):o.push(Number(c.rates[p.currency.indexOf(r.currency)]).format(3));t.push(o)}this.rexrTable=new DecisionTable(this.tc("historyExRates"),"rexrTable",u,t,!1,"concrete","right"),this.sourceInfoLabel=new DecisionLabel(this.service,"sourceInfoLabel",this.cf.getLink(this.tc("sourceInfo"),"sourceInfo",this.runClick.bind(this),p.sourceInfo),"","concrete","right")}else this.rexrTable=null,this.sourceInfoLabel=null;return this.hqTable.draw()+this.erTable.draw()+(null!=this.nTable?this.nTable.draw():"")+(null!=this.rexrTable?h+this.rexrTable.draw():"")+(null!=this.sourceInfoLabel?this.sourceInfoLabel.draw():"")},runClick:function(){var t=this.data.staticData;"undefined"!=typeof Engine?Engine.openWindow(t.sourceInfo,"NewsWindow","simple",900,700):"undefined"!=typeof window&&null!=window.opener&&void 0!==window.opener&&void 0!==window.opener.Engine&&window.opener.Engine.openWindow(t.sourceInfo,"NewsWindow","simple",900,700)},observe:function(){var t,e,i=this.data.staticData;if(this.hqTable.observe(),this.erTable.observe(),null!=this.nTable&&this.nTable.observe(),null!=this.rexrTable){for(t=0,e=i.regions.length;t<e;t++)i.regions[t].currency!=i.headquarters.currency&&this.setChartData(i.regions[t],"cur_"+i.regions[t].regionID);this.rexrTable.observe()}null!=this.sourceInfoLabel&&(this.sourceInfoLabel.observe(),this.sourceInfoLabel.change("float","left"))},resize:function(){var t,e,i=this.data.staticData,s=j$("#decision").children().first();if(s.width(),i.hasRealEconomics)for(j$('[id^="cur_"]').css({width:(s.width()-20)/2-1}),t=0,e=i.regions.length;t<e;t++)i.regions[t].currency!=i.headquarters.currency&&this.setChartData(i.regions[t],"cur_"+i.regions[t].regionID)},setChartData:function(t,e){var i,s,a,n,r,o,l,d=this.data.staticData,c=d.currency.indexOf(t.currency),h=0;if(Live.useSvg()){for(r=this.data.staticData.chartTemplate,o=0;o<d.er.length;o++)if(h++,d.er[o].date<=d.processDate){l=[d.er.length-h];break}for(j$.extend(r.data,{title:t.regionName+" ["+t.currencyName+"]",xAxis:this.tc("daysSince",{DATE:d.er[d.er.length-1].date}),yAxis:"",xLines:l,labels:[t.currency],x:[],y:[],minX:0,dsY:5,saveUrl:this.st("common:saveChartURL"),saveName:"exchange_rates-"+t.regionName+"-"+this.user.quarter()}),r.legend.position="none",r.chartSettings.radius=0,r.chartArea.vLabels.decimals=3,i=0,s=d.er.length;i<s;i++)a=d.er[i],r.data.x[i]=Number(i),r.data.y[i]=[Number(a.rates[c])];SvgCharts.BaseChart.setChartData(e,r)}else{for((n=j$("#"+e)).css({opacity:Live.opacity}),(r=new LineChart(n[0])).label=t.regionName+" ["+t.currencyName+"]",o=0;o<d.er.length;o++)if(h++,d.er[o].date<=d.processDate){r.xLines=[d.er.length-h];break}for(r.labelX=this.tc("daysSince",{DATE:d.er[d.er.length-1].date}),r.labelY="",r.decY=3,r.labels=[t.currency],r.legend=!1,r.data=[],r.category=[],i=0,s=d.er.length;i<s;i++)a=d.er[i],r.category[i]=Number(d.er.length-1-i),void 0===r.data[0]&&(r.data[0]=[]),r.data[0][i]=a.rates[c];r.draw()}}})},45316:(t,e,i)=>{"use strict";i(2394),window.ExecutiveCompensation=WorkersCompensation.extend({typeOfComp:"ExecutiveCompensation",prefix:"e"})},84850:(t,e,i)=>{"use strict";i(59978),window.ExecutiveCompensationAnim=WorkersCompensationAnim.extend({typeOfComp:"ExecutiveCompensation",prefix:"e"})},2332:()=>{window.ExecutiveResponsibilities=Decision.extend({style:"padding: 10px 10px 0px 10px;",showTableTitle:!0,allowedLogoFileTypesShort:[".png",".jpg",".bmp",".dib",".gif"],allowedLogoFileTypes:["image/x-png","image/png","image/jpeg","image/jpg","image/bmp","image/gif","image/dib","image/webp"],allowedLogoSize:15e6,read:function(){var t,e,i,s,a=this.data.staticData.students,n=a.length,r=this.data.decisions.students.toLookUp("studentID");for(t=0;t<n;++t)void 0!==r[(s=a[t]).studentID]&&(j$("#personLogo_"+s.studentID+" canvas").length>0?(r[s.studentID].logoDataUri=j$("#personLogo_"+s.studentID+" canvas")[0].toDataURL("image/png"),r[s.studentID].logoDataName=this.logoDataNames[s.studentID].replace(/\.[^\.]+$/,"")+".png"):(r[s.studentID].logoDataUri="",r[s.studentID].logoDataName="")),e=this.value("resp1_"+s.studentID),i=this.value("resp2_"+s.studentID),(e>=0||i>=0)&&(r[s.studentID].responsibilityID1=e,r[s.studentID].responsibilityID2=i)},write:function(){var t,e,i,s,a=this.data.staticData.students,n=a.length,r=this.data.decisions.students.toLookUp("studentID");for(t=0;t<n;++t)e=i=0,void 0!==r[(s=a[t]).studentID]&&(j$("#personLogo_"+s.studentID).html(""),j$("#personLogo_"+s.studentID).css("background-image","url("+s.photoUrl+")"),r[s.studentID].logoDataUri="",r[s.studentID].logoDataName="",e=r[s.studentID].responsibilityID1,i=r[s.studentID].responsibilityID2),this.setValue("resp1_"+s.studentID,e),this.setValue("resp2_"+s.studentID,i)},writeErrors:function(){var t,e,i,s,a=this.data.staticData.students,n=a.length,r=this.data.errors.decisions.students.toLookUp("studentID");for(t=0;t<n;++t)e=i=null,void 0!==r[(s=a[t]).studentID]&&(e=r[s.studentID].responsibilityID1,i=r[s.studentID].responsibilityID2),this.writeError("resp1_"+s.studentID,e),this.writeError("resp2_"+s.studentID,i)},draw:function(){var t,e,i,s,a=this.data.staticData,n=a.students,r=n.length,o=this.data.decisions.students.toLookUp("studentID"),l=[],d="";for(this.photos=[],this.logoDataNames=[],t=0;t<r;++t)void 0===o[(s=n[t]).studentID]?e=i=0:(e=o[s.studentID].responsibilityID1,i=o[s.studentID].responsibilityID2),Live.companyProfile()&&(d='<div id="personLogo_'+s.studentID+'" role="img" style="display: block; margin: 7px auto 2px auto; width: 50px; height: 50px; border: 1px solid #CCCCCC; background-size: cover; background-repeat: no-repeat; background-image: url('+s.photoUrl+')"></div>',(Live.user.isInstructor()||s.isMe)&&(d+=this.com("file","personLogoFile_"+s.studentID,"",{style:"display: none; margin-top:10px;",accept:this.allowedLogoFileTypesShort.join(", "),"aria-label":this.tc("common:browse")}),d+=this.cf.getComponent("button","personLogoBtn_"+s.studentID,this.tc("common:browse"),{style:"display:inline-block; margin-top: 5px;"}),this.photos.push(s.studentID))),l.push({values:[Format.fullName(s.lastName,s.firstName).escapeHTML()+d,this.com("combobox","resp1_"+s.studentID,e,{},a.responsibilities,"responsibilityID","name",0,this.tc("none")),this.com("combobox","resp2_"+s.studentID,i,{},a.responsibilities,"responsibilityID","name",0,this.tc("none"))]});return this.respTable=new DecisionTable(this.showTableTitle?this.tc("responsibilities"):"","respTable",[{title:this.tc("officerName"),header:!0,align:"center"},{title:this.tc("primaryResp")},{title:this.tc("secondaryResp")}],l),this.respTable.cellpadding=3,this.respTable.cellspacing=0,this.respTable.draw()},observe:function(){var t,e;if(this.respTable.observe(),"undefined"!=typeof Engine&&Live.companyProfile())for(t=0,e=this.photos.length;t<e;t++)j$("#personLogoBtn_"+this.photos[t]).on("click",j$.proxy((function(t){j$("#personLogoFile_"+t).trigger("click")}),this,this.photos[t])),j$("#personLogoFile_"+this.photos[t]).on("click",(function(){j$(this).val("")})),j$("#personLogoFile_"+this.photos[t]).on("change",j$.proxy((function(t,e){this.preview(t,e.target.files)}),this,this.photos[t])),j$("#personLogo_"+this.photos[t]).on("drop",j$.proxy((function(t,e){this.preview(t,e.originalEvent.dataTransfer.files),e.preventDefault()}),this,this.photos[t])).on("dragenter dragover",(function(t){t.preventDefault()}));else for(t=0,e=this.photos.length;t<e;t++)j$("#personLogoBtn_"+this.photos[t]).hide()},preview:function(t,e){var i,s;0!=e.length&&this.inModifyMode&&(i=e[0],this.removeError(this.logoError),this.logoError=null,this.allowedLogoFileTypes.indexOf(i.type)>-1?i.size<this.allowedLogoSize?(s=window.URL.createObjectURL(i),Engine.showImageUpload(s,j$.proxy(this.saveLogo,this,t)),this.logoDataNames[t]=i.name):this.logoError=this.writeError("personLogo_"+t,{type:1,number:1,message:this.tc("sizeExceeded",{MAXSIZE:Number(this.allowedLogoSize).format(),SIZE:Number(i.size).format()})},"center left",!0,3):this.logoError=this.writeError("personLogo_"+t,{type:1,number:1,message:this.tc("unsupportedType",{NAME:i.name,TYPE:i.type})},"center left",!0,3),"undefined"!=typeof Engine&&Engine.basicInfo.isSampleGame&&null==this.logoError&&(this.logoError=this.writeError("personLogo_"+t,{type:1,number:1,message:this.tc("tpl:naSample")},"center left",!0,3)))},saveLogo:function(t,e){e=j$(e),j$("#personLogo_"+t).css("background-image",""),e.css({width:"50px",height:"50px"}),j$("#personLogo_"+t).html(e)},enable:function(){var t,e;for(this._super(),t=0,e=this.photos.length;t<e;t++)j$("#personLogoBtn_"+this.photos[t]).attr("disabled",!1).toggleClass("button-class",!0).toggleClass("button-class-disabled",!1)},disable:function(){var t,e;for(this._super(),t=0,e=this.photos.length;t<e;t++)j$("#personLogoBtn_"+this.photos[t]).attr("disabled",!0).toggleClass("button-class",!1).toggleClass("button-class-disabled",!0)},drawSOD:function(){if(this.data.dynamicData.decisionChangedThisQuarter){var t,e,i,s,a=this.data.staticData,n=a.students,r=n.length,o=this.data.decisions.students.toLookUp("studentID"),l=a.responsibilities.toLookUp("responsibilityID"),d=[];for(t=0;t<r;++t)void 0===o[(s=n[t]).studentID]?e=i=0:(e=o[s.studentID].responsibilityID1,i=o[s.studentID].responsibilityID2),d.push([Format.fullName(s.lastName,s.firstName).escapeHTML(),0!=e?l[e].name:this.tc("none"),0!=i?l[i].name:this.tc("none")]);this.respTable=new DecisionTable("","respTable",[{title:this.tc("officerName"),header:!0},{title:this.tc("primaryResp")},{title:this.tc("secondaryResp")}],d),this.respTable.tableCorners="",this.setValue(this.pfxSod+this.service,this.respTable.draw())}else this.setValue(this.pfxSod+this.service,"")}})},42827:(t,e,i)=>{"use strict";i(2332),window.ExecutiveResponsibilitiesAnim=ExecutiveResponsibilities.extend({style:"padding: 40px 10px 0px 10px;",showTableTitle:!1,useSmallPhoto:!0,initialize:function(t){this._super("ExecutiveResponsibilities")},draw:function(){var t="";return(t+='<h2 id="tsTitle" aria-hidden="true" style="text-align:center;font-family: arial,sans-serif;color: #538757;margin:0;padding:8px 35px 0;font-size: 36px;font-weight: bold;font-style: italic;"><span style="border-bottom:2px solid #538757;">'+this.tc("responsibilitiesTitle")+"</span></h2>")+'<div id="exr" class="gsdAnim">'+this._super()+"</div>"},destroy:function(){j$("#decision").css("background-attachment","unset"),this._super()},resize:function(){var t=j$("#decision").width()/700;j$("#tsTitle").css({"font-size":36*t+"px",margin:8*t+"px "+35*t+"px 0"})},observe:function(){this._super(),j$("#decision").css({"background-attachment":"local"})}})},90935:()=>{window.ExtFactorySimulation=Decision.extend({modifyModeButtons:["loaddata","calculate","save","cancel"],style:"padding: 10px 10px 0px 10px;",cssExplanExt:"-green",redrawOnModify:!0,canChangeProduce:function(){var t=this.data.staticData;return!t.isJustInTime||!t.hasZeroMaxEndingInventory||!t.hasDemandMultiplier},read:function(){var t,e,i,s,a,n=this.data.staticData,r=this.data.dynamicData,o=this.data.decisions;for(r.producing&&((n.isEasyPush||n.isJustInTime||n.isPull||n.isEasyPull)&&(o.operatingCapacity=this.value("oc")),n.hasOvertime&&n.isJustInTime&&(o.hoursInDay=this.value("maxOvertime")),n.hasWorkersCompensations&&(o.projectedWorkersProductivity=this.value("productivity")),r.hasProductionControlSystem&&r.productionControlSystemStarted&&(o.controlSystem=this.value("control_system"))),null!=this.demandMultiplierLabel&&(o.demandMultiplier=this.value("demandMultiplier")),e=0;e<o.brandsForSale.length;e++)t=o.brandsForSale[e],null==this.demandMultiplierLabel&&(t.estimatedDemand=this.value(this.getElementName("demand",t,!1))),t.estimatedPrice=this.value(this.getElementName("price",t,!1)),r.inSupplyChain?(t.contractID=this.value(this.getElementName("produce",t,!1)),t.produce=-1==t.contractID):this.canChangeProduce()&&(t.produce=this.value(this.getElementName("produce",t,!1))),r.producing&&(!n.isEasyPush||n.isJustInTime||n.hasZeroMaxEndingInventory||(t.maxEndingInventory=this.value("bsmax_"+t.brandID)),n.isPush&&(t.plannedProduction=this.value("bsplan_"+t.brandID)),(n.isPull||n.isEasyPull)&&(t.replenishmentPoint=this.value(this.getElementName("replenish",t,!1)),n.isPull&&(t.targetPoint=this.value(this.getElementName("target",t,!1))),t.productionPriority=this.value(this.getElementName("priority",t,!1)))),-1==t.contractID&&(t.contractID=0);for(e=0;e<o.brandsForProduction.length;e++)for(t=o.brandsForProduction[e],a=this.value(this.getElementName("produce",t,!0)),s=0;s<t.RFPs.length;s++)(i=t.RFPs[s]).contractID==a?(i.produce=!0,!n.isEasyPush||n.isJustInTime||n.hasZeroMaxEndingInventory||(t.maxEndingInventory=this.value("bsmax_"+t.brandID)),n.isPush&&(t.plannedProduction=this.value("bsplan_"+t.brandID)),(n.isPull||n.isEasyPull)&&(null==this.demandMultiplierLabel&&(i.estimatedDemand=this.value(this.getElementName("demand",t,!0))),i.estimatedPrice=this.value(this.getElementName("price",t,!0)),i.replenishmentPoint=this.value(this.getElementName("replenish",t,!0)),n.isPull&&(i.targetPoint=this.value(this.getElementName("target",t,!0))),i.productionPriority=this.value(this.getElementName("priority",t,!0)))):i.produce=!1},write:function(){var t,e,i,s,a,n,r,o,l=this.data.staticData,d=this.data.dynamicData,c=this.data.decisions,h=d.resellerRFPs.toLookUp("contractID"),p=d.supplierRFPs.toLookUp("contractID"),u=d.brandsForSale.toLookUp("brandID"),g=d.brandsForProduction.toLookUp("teamID","brandID");for(d.producing&&((l.isEasyPush||l.isJustInTime||l.isPull||l.isEasyPull)&&this.setValue("oc",c.operatingCapacity),l.hasOvertime&&l.isJustInTime&&this.setValue("maxOvertime",c.hoursInDay),l.hasWorkersCompensations&&this.setValue("productivity",c.projectedWorkersProductivity),d.hasProductionControlSystem&&d.productionControlSystemStarted&&this.setValue("control_system",c.controlSystem)),null!=this.demandMultiplierLabel&&this.setValue("demandMultiplier",c.demandMultiplier),e=0;e<c.brandsForSale.length;e++)t=c.brandsForSale[e],null==this.demandMultiplierLabel&&this.setValue(this.getElementName("demand",t,!1),t.estimatedDemand),this.setValue(this.getElementName("price",t,!1),t.estimatedPrice),d.inSupplyChain?(t.produceIndex=t.produce?-1:t.contractID,this.setValue(this.getElementName("produce",t,!1),t.produceIndex)):this.canChangeProduce()&&this.setValue(this.getElementName("produce",t,!1),t.produce),d.producing&&(!l.isEasyPush||l.isJustInTime||l.hasZeroMaxEndingInventory||this.setValue("bsmax_"+t.brandID,t.maxEndingInventory),l.isPush&&this.setValue("bsplan_"+t.brandID,t.plannedProduction),(l.isPull||l.isEasyPull)&&(this.setValue(this.getElementName("replenish",t,!1),t.replenishmentPoint),l.isPull&&this.setValue(this.getElementName("target",t,!1),t.targetPoint),this.setValue(this.getElementName("priority",t,!1),t.productionPriority),d.inSupplyChain&&(a=n="",t.contractID>0&&(o=this.getRFPIndex(u[t.brandID],t.contractID),a=(r=this.getRFPInfo(u[t.brandID].RFPs[o],h[t.contractID])).amount,n=r.status),j$("#"+this.getElementName("contractQuantity",t,!1)).html(a),j$("#"+this.getElementName("contractStatusLink",t,!1)).html(n))));for(e=0;e<c.brandsForProduction.length;e++){t=c.brandsForProduction[e];var m=0;for(s=0;s<t.RFPs.length;s++)if((i=t.RFPs[s]).produce){m=i.contractID;break}t.produceIndex=m,this.setValue(this.getElementName("produce",t,!0),t.produceIndex),m>0?(!l.isEasyPush||l.isJustInTime||l.hasZeroMaxEndingInventory||this.setValue("bsmax_"+t.brandID,t.maxEndingInventory),l.isPush&&this.setValue("bsplan_"+t.brandID,t.plannedProduction),(l.isPull||l.isEasyPull)&&(null==this.demandMultiplierLabel&&this.setValue(this.getElementName("demand",t,!0),i.estimatedDemand),this.setValue(this.getElementName("price",t,!0),i.estimatedPrice),this.setValue(this.getElementName("replenish",t,!0),i.replenishmentPoint),l.isPull&&this.setValue(this.getElementName("target",t,!0),i.targetPoint),this.setValue(this.getElementName("priority",t,!0),i.productionPriority),d.inSupplyChain&&(a=n="",o=this.getRFPIndex(g[t.teamID][t.brandID],i.contractID),a=(r=this.getRFPInfo(g[t.teamID][t.brandID].RFPs[o],p[i.contractID])).amount,n=r.status,j$("#"+this.getElementName("contractQuantity",t,!0)).html(a),j$("#"+this.getElementName("contractStatusLink",t,!0)).html(n)))):(!l.isEasyPush||l.isJustInTime||l.hasZeroMaxEndingInventory||this.setValue("bsmax_"+t.brandID,t.maxEndingInventory),l.isPush&&this.setValue("bsplan_"+t.brandID,t.plannedProduction),(l.isPull||l.isEasyPull)&&(this.setValue(this.getElementName("demand",t,!0),0),this.setValue(this.getElementName("price",t,!0),0),this.setValue(this.getElementName("replenish",t,!0),0),l.isPull&&this.setValue(this.getElementName("target",t,!0),0),this.setValue(this.getElementName("priority",t,!0),0)))}},writeErrors:function(){var t,e,i,s,a,n=this.data.staticData,r=this.data.dynamicData,o=this.data.errors.decisions,l=this.data.decisions.brandsForProduction.toLookUp("teamID","brandID");for(r.producing&&((n.isEasyPush||n.isJustInTime||n.isPull||n.isEasyPull)&&this.writeError("oc",o.operatingCapacity,"center right",!0,6),n.hasOvertime&&n.isJustInTime&&this.writeError("maxOvertime",o.hoursInDay,"center right",!0,3),n.hasWorkersCompensations&&this.writeError("productivity",o.projectedWorkersProductivity,"center right",!0,6),r.hasProductionControlSystem&&r.productionControlSystemStarted&&this.writeError("control_system",o.controlSystem,"center right",!0,6)),e=0;e<o.brandsForSale.length;e++)t=o.brandsForSale[e],this.writeError(this.getElementName("demand",t,!1),t.estimatedDemand,"center left",!0,3),this.writeError(this.getElementName("price",t,!1),t.estimatedPrice,"center left",!0,3),this.canChangeProduce()&&this.writeError(this.getElementName("produce",t,!1),t.produce,"center left",!1,3),r.producing&&(!n.isEasyPush||n.isJustInTime||n.hasZeroMaxEndingInventory||this.writeError(this.getElementName("max",t,!1),t.maxEndingInventory,"center left",!1,3),n.isPush&&this.writeError(this.getElementName("plan",t,!1),t.plannedProduction,"center left",!1,3),(n.isPull||n.isEasyPull)&&(this.writeError(this.getElementName("replenish",t,!1),t.replenishmentPoint,"center left",!1,3),n.isPull&&this.writeError(this.getElementName("target",t,!1),t.targetPoint,"center left",!1,3),this.writeError(this.getElementName("priority",t,!1),t.productionPriority,"center left",!1,3)));for(e=0;e<o.brandsForProduction.length;e++)for(t=o.brandsForProduction[e],s=0;s<t.RFPs.length;s++)i=t.RFPs[s],a=this.getRFPIndex(l[t.teamID][t.brandID],i.contractID),l[t.teamID][t.brandID].RFPs[a].produce&&(this.writeError(this.getElementName("demand",t,!0),i.estimatedDemand,"center left",!0,3),this.writeError(this.getElementName("price",t,!0),i.estimatedPrice,"center left",!0,3),this.writeError(this.getElementName("produce",t,!0),i.produce,"center left",!1,3),!n.isEasyPush||n.isJustInTime||n.hasZeroMaxEndingInventory||this.writeError(this.getElementName("max",t,!0),i.maxEndingInventory,"center left",!1,3),n.isPush&&this.writeError(this.getElementName("plan",t,!0),i.plannedProduction,"center left",!1,3),(n.isPull||n.isEasyPull)&&(this.writeError(this.getElementName("replenish",t,!0),i.replenishmentPoint,"center left",!1,3),n.isPull&&this.writeError(this.getElementName("target",t,!0),i.targetPoint,"center left",!1,3),this.writeError(this.getElementName("priority",t,!0),i.productionPriority,"center left",!1,3)))},writeCalculate:function(){var t,e,i=this.data.staticData,s=this.data.decisions,a=this.data.dynamicData,n=this.data.calculate,r=a.brandsForSale.toLookUp("brandID"),o=a.brandsForProduction.toLookUp("teamID","brandID"),l=0,d=0;if(a.producing&&(i.isPull||i.isEasyPush||i.isJustInTime||i.isEasyPull)&&(j$("#qcap").html((65*s.operatingCapacity).formatInt()),i.hasWorkersCompensations&&(t=s.operatingCapacity*s.projectedWorkersProductivity/100,e=2,i.isJustInTime||(t=Math.round(t),e=0),j$("#ecap").html(t.format(e)),j$("#qecap").html((65*t).formatInt()))),null!=this.demandMultiplierLabel){for(var c=0,h=n.brandsForSale.length;c<h;++c){var p=n.brandsForSale[c];j$("#"+this.getElementName("demand",p,!1)).html(Number(p.netDemand).format())}for(c=0,h=n.brandsForProduction.length;c<h;++c)p=n.brandsForProduction[c],j$("#"+this.getElementName("demand",p,!0)).html(Number(p.contractDemand).format())}if(i.isPush){for(c=0,h=s.brandsForSale.length;c<h;++c)p=s.brandsForSale[c],j$("#bsplan_q_"+p.brandID).html((65*p.plannedProduction).formatInt()),l+=65*p.plannedProduction,i.hasWorkersCompensations&&(j$("#bsplan_qe_"+p.brandID).html((65*p.plannedProduction*s.projectedWorkersProductivity/100).formatInt()),d+=Math.round(65*p.plannedProduction*s.projectedWorkersProductivity/100));a.producing&&(j$("#qscheduled").html(l.formatInt()),j$("#dscheduled").html((l/65).formatInt()),i.hasWorkersCompensations&&(j$("#qescheduled").html(d.formatInt()),j$("#descheduled").html((d/65).formatFloat(2))))}null!=this.ocTable&&(a.selling&&!a.producing&&(j$("#dDemPro").html(i.isJustInTime?(n.demandProjection/65).format(2):Math.ceil(n.demandProjection/65).formatInt()),j$("#qDemPro").html(Number(n.demandProjection).formatInt())),a.producing&&(j$("#dOCNeeded").html(i.isJustInTime?(n.demandProjection/65).format(2):Math.ceil(n.operatingCapacityNeeded/65).formatInt()),j$("#qOCNeeded").html(Number(n.operatingCapacityNeeded).formatInt()))),this.createTables(r,o,!0),this.tables.forEach((function(t){t.change("replace",t.draw()),t.observe()})),this.writeExplanations(),this.placeCharts()},createTables:function(t,e,i){var s,a,n,r,o,l,d,c=this.data.staticData,h=this.data.dynamicData,p=this.data.calculate,u=this.data.decisions,g=u.brandsForSale.toLookUp("brandID");for(this.tables=[],r=[{title:this.tc("brand")}],o=[this.tc("total")],c.hasZeroMaxEndingInventory||(r.push({title:this.tc("startInventory"),type:"number"}),o.push(0)),h.producing&&(r.push({title:this.tc("produced"),type:"number"}),o.push(0)),h.inSupplyChain&&(r.push({title:this.tc("arrived"),type:"number"}),o.push(0)),c.hasZeroMaxEndingInventory||(r.push({title:this.tc("totalInventory"),type:"number"}),o.push(0)),r.push({title:this.tc("netDemand"),type:"number"}),c.hasZeroMaxEndingInventory||r.push({title:this.tc("sold"),type:"number"}),r.push({title:this.tc("lost"),type:"number"}),c.hasZeroMaxEndingInventory?o.push(0,0):(r.push({title:this.tc("endInventory"),type:"number"}),o.push(0,0,0,0)),h.inSupplyChain&&(r.push({title:this.tc("toArrive"),type:"number"}),o.push(0)),a=[],s=0;s<p.brandsForSale.length;s++)n=p.brandsForSale[s],l=[Format.brandName(t[n.brandID].name.escapeHTML(),t[n.brandID].brandType)],d=1,c.hasZeroMaxEndingInventory||(l.push(Number(t[n.brandID].startingInventory)-Number(t[n.brandID].sellUnwanted)),o[d++]+=Number(t[n.brandID].startingInventory)-Number(t[n.brandID].sellUnwanted)),h.producing&&(l.push(Number(n.unitsProduced)),o[d++]+=Number(n.unitsProduced)),h.inSupplyChain&&(l.push(Number(n.arrived)),o[d++]+=Number(n.arrived)),c.hasZeroMaxEndingInventory||(l.push(Number(t[n.brandID].startingInventory)-Number(t[n.brandID].sellUnwanted)+Number(n.unitsProduced)+Number(n.arrived)),o[d++]+=Number(t[n.brandID].startingInventory)-Number(t[n.brandID].sellUnwanted)+Number(n.unitsProduced)+Number(n.arrived)),l.push(n.netDemand),c.hasZeroMaxEndingInventory||l.push(n.sold),l.push(n.stockOuts),o[d++]+=Number(n.netDemand),c.hasZeroMaxEndingInventory||(o[d++]+=Number(n.sold)),o[d++]+=Number(n.stockOuts),c.hasZeroMaxEndingInventory||(l.push(n.endInventory),o[d++]+=Number(n.endInventory)),h.inSupplyChain&&(l.push(n.inTransfer),o[d++]+=Number(n.inTransfer)),a.push(l);for(a.length>0?(a.push({values:o,type:"total"}),this.ipuTable=new DecisionTable(c.hasZeroMaxEndingInventory?this.tc("ipUnitsZeroInventory"):this.tc("ipUnits"),"ipuTable",r,a,!1,"green"),this.tables.push(this.ipuTable)):this.ipuTable=null,r=[{title:this.tc("brand")},{title:this.tc("produced"),type:"number"},{title:this.tc("quantityOrdered"),type:"number"},{title:this.tc("unfulfilledDemand"),type:"number"},{title:this.tc("contractFulfillment"),align:"right"},{title:this.tc("unfulfilledOrderDemand"),type:"number"},{title:this.tc("orderFulfillment"),align:"right"},{title:this.tc("toArrive"),type:"number"}],o=[this.tc("total"),0,0,0,0,0,0,0],a=[],s=0;s<p.brandsForProduction.length;s++)n=p.brandsForProduction[s],l=[Format.brandName(e[n.teamID][n.brandID].name.escapeHTML(),e[n.teamID][n.brandID].brandType),n.unitsProduced,n.contractDemand,n.stockOuts,Number(n.contractFulfill).formatFloat()+"%",n.orderStockOuts,Number(n.orderFulfill).formatFloat()+"%",n.inTransfer],d=1,o[d++]+=Number(n.unitsProduced),o[d++]+=Number(n.contractDemand),o[d++]+=Number(n.stockOuts),d++,o[d++]+=Number(n.orderStockOuts),d++,o[d++]+=Number(n.inTransfer),a.push(l);for(a.length>0?(o[2]>0&&(o[4]=Format.real((o[2]-o[3])/o[2]*100)+"%",o[6]=Format.real((o[2]-o[5])/o[2]*100)+"%"),a.push({values:o,type:"total"}),this.ipuTableSupplier=new DecisionTable(this.tc("ipUnitsSupplier"),"ipuTableSupplier",r,a,!1,"green"),this.tables.push(this.ipuTableSupplier)):this.ipuTableSupplier=null,r=[{title:this.tc("brand")},{title:this.tc("unitsProduced"),align:"right"},{title:this.tc("material"),align:"right"},{title:this.tc("labor"),align:"right"},{title:this.tc("totOverhead"),align:"right"}],c.isPull&&r.push({title:this.tc("changeover"),align:"right"}),r.push({title:this.tc("average"),align:"right"}),a=[],s=0;s<p.brandsForSale.length;s++)n=p.brandsForSale[s],!h.producing||g[n.brandID].contractID>0||(l=[Format.brandName(t[n.brandID].name.escapeHTML(),t[n.brandID].brandType),Number(n.unitsProduced).format(),Number(n.material).format(),Number(n.labor).format(),Number(n.overhead).format()],c.isPull&&l.push(Number(n.changeover).format()),l.push(Number(n.prodCost).format()),a.push(l),i&&this.setValue(this.getElementName("cogsToBe",n,!1),Number(n.prodCost).format()));for(s=0;s<p.brandsForProduction.length;s++)n=p.brandsForProduction[s],l=[Format.brandName(e[n.teamID][n.brandID].name.escapeHTML(),e[n.teamID][n.brandID].brandType),Number(n.unitsProduced).format(),Number(n.material).format(),Number(n.labor).format(),Number(n.overhead).format()],c.isPull&&l.push(Number(n.changeover).format()),l.push(Number(n.prodCost).format()),a.push(l),i&&this.setValue(this.getElementName("cogsToBe",n,!0),Number(n.prodCost).format());for(a.length>0?(this.pcTable=new DecisionTable(this.tc("prodCost"),"pcTable",r,a,!1,"green"),this.tables.push(this.pcTable)):this.pcTable=null,r=[{title:this.tc("brand")},{title:this.tc("startCost"),align:"right"},{title:this.tc("prodCost2"),align:"right"},{title:this.tc("avgCost"),align:"right"},{title:this.tc("endCost"),align:"right"}],a=[],s=0;s<p.brandsForSale.length;s++)n=p.brandsForSale[s],a.push([Format.brandName(t[n.brandID].name.escapeHTML(),t[n.brandID].brandType),Number(t[n.brandID].startingInvCost).format(),Number(n.prodCost).format(),Number(n.avgCost).format(),Number(n.endCost).format()]),i&&this.setValue(this.getElementName("cogsToBe",n,!1),Number(n.endCost).format());if(!c.hasZeroMaxEndingInventory&&a.length>0?(this.ipcTable=new DecisionTable(this.tc("ipCost"),"ipcTable",r,a,!1,"green"),this.tables.push(this.ipcTable)):this.ipcTable=null,h.producing&&c.isPull){for(r=[{title:this.tc("brand")},{title:this.tc("addedTime"),align:"right"},{title:this.tc("lostCapacity"),align:"right"},{title:this.tc("overhead"),align:"right"},{title:this.tc("dirLabor"),align:"right"},{title:this.tc("choverSpecCost"),align:"right"},{title:this.tc("choverUnitCost"),align:"right"}],a=[],s=0;s<p.brandsForSale.length;s++)0==g[(n=p.brandsForSale[s]).brandID].contractID&&a.push([Format.brandName(t[n.brandID].name.escapeHTML(),t[n.brandID].brandType),Number(n.choverAddedTime).format(1),Number(n.choverLostCapacity).format(),Number(n.choverOverhead).format(),Number(n.choverLabor).format(),Number(n.choverCost).format(),Number(n.changeover).format()]);for(s=0;s<p.brandsForProduction.length;s++)n=p.brandsForProduction[s],a.push([Format.brandName(e[n.teamID][n.brandID].name.escapeHTML(),e[n.teamID][n.brandID].brandType),Number(n.choverAddedTime).format(1),Number(n.choverLostCapacity).format(),Number(n.choverOverhead).format(),Number(n.choverLabor).format(),Number(n.choverCost).format(),Number(n.changeover).format()]);a.length>0?(this.ccTable=new DecisionTable(this.tc("changeoverCosts"),"ccTable",r,a,!1,"green"),this.tables.push(this.ccTable)):this.ccTable=null}(c.isEasyPush||c.isEasyPull||c.isJustInTime)&&(a=[],r=[{title:""},{title:"",align:"right"}],c.hasOvertime&&c.isJustInTime&&(a.push({title:this.tc("overtime")}),a.push([this.extc("overtimeHoursExp","overtimeHours"),'<span id="overtimeHours">'+Number(p.overtimeHours).format(2)+"</span>h"]),a.push([this.extc("overtimeOCExp","overtimeOC"),'<span id="overtimeOC">'+Number(p.overtimeOC).format()+"</span>"]),c.hasWorkersCompensations&&(a.push([this.extc("workersProdBeforeOtExp","workersProdBeforeOt"),"<span>"+Number(u.projectedWorkersProductivity).format(1)+"</span>%"]),a.push([this.extc("workersProdAfterOtExp","workersProdAfterOt"),'<span id="workersProdOt">'+(0==p.overtimeOC?this.tc("common:na"):Number(p.overtimeAdjProductivity).format(1)+"%")+"</span>"])),a.push([this.extc("otUnitCostIncExp","otUnitCostInc"),'<span id="otUnitCost">'+Number(p.directLaborCPUOtInc).format(2)+"</span>"])),a.push({title:this.tc("oc")}),c.hasWorkersCompensations?(a.push([this.extc("plannedOCNoChoverExp","plannedOC"),'<span id="plannedeffOC">'+Number(p.plannedOC).format()+"</span>"]),c.hasOvertime&&c.isJustInTime&&a.push([this.extc("plannedOCwithOtExp","plannedOCwithOt"),'<span id="plannedOCwithOt">'+Number(p.plannedOCwithOt).format()+"</span>"]),a.push([this.extc(c.hasOvertime?"workersProdOtExp":"workersProdExp",c.hasFactoryProductivity?"factoryProd":"workersProd"),"<span>"+Number(p.overtimeAdjProductivity).format(1)+"</span>%"]),a.push([this.extc(c.hasOvertime?"effOCOtExp":"effOCExp","effOC"),'<span id="effOC">'+Number(p.totalOC).format()+"</span>"]),a.push([this.extc("effOCUtilizedNoChoverExp","effOCUtilized"),'<span id="effOCUtilized">'+Number(p.productionOC).format()+"</span>"]),a.push([this.extc("effOCUtilizationExp","effOCUtilization"),'<span id="effOCUtilization">'+Number(p.productionOCPercent).format()+"</span>%"])):(c.hasOvertime&&c.isJustInTime?(a.push([this.tc("plannedOC"),'<span id="plannedeffOC">'+Number(p.plannedOC).format()+"</span>"]),a.push([this.tc("plannedOCwithOt"),'<span id="plannedOCwithOt">'+Number(p.plannedOCwithOt).format()+"</span>"])):a.push([this.tc("scheduledOC"),'<span id="effOC">'+Number(p.totalOC).format()+"</span>"]),a.push([this.tc("usedOC"),'<span id="effOCUtilized">'+Number(p.productionOC).format()+"</span>"]),a.push([this.tc("ocUtilization2"),'<span id="effOCUtilization">'+Number(p.productionOCPercent).format()+"</span>%"])),a.push({title:this.tc("excessCapacity")}),a.push([this.extc("unutilizedOCExp","unusedOC"),'<span id="unutilizedOC">'+Number(p.excessOC).format()+"</span>"]),a.push([this.extc("excessOCExp","excessOC"),'<span id="excessOC">'+Number(p.excessOCPercent).format()+"</span>%"]),a.push([this.extc("overheadCostExp","overheadCost"),'<span id="excessLabor">'+(Number(p.excessLabor)+Number(p.excessOverhead)).format()+"</span>"]),this.ocuTable=new DecisionTable(this.tc("ocUtilization"),"ocuTable",r,a,!0,"green"),this.tables.push(this.ocuTable)),c.isPull&&(h.producing||Number(p.totalOverhead)>0)&&(r=[{title:""},{title:"",align:"right"}],a=[{title:this.tc("factoryOverhead")},[this.extc("operatingOverheadExp","operatingOverhead"),'<span id="operatingOverhead">'+Number(p.operatingOverhead).format()+"</span>"],[this.extc("ocChangeCostExp","ocChangeCost"),'<span id="ocChangeCost">'+Number(p.costToChangeOC).format()+"</span>"],[this.extc("totalOverheadExp","totalOverhead"),'<span id="totalOverhead">'+Number(p.totalOverhead).format()+"</span>"],{title:this.tc("prodOverhead")}],c.hasWorkersCompensations&&a.push([this.extc("plannedOCExp","plannedOC"),'<span id="plannedOC">'+Number(p.plannedOC).format()+"</span>"],[this.extc("workersProdExp",c.hasFactoryProductivity?"factoryProd":"workersProd"),"<span>"+Number(u.projectedWorkersProductivity).format(1)+"</span>%"]),a.push([this.extc("effOCExp","effOC"),'<span id="effOC">'+Number(p.totalOC).format()+"</span>"],[this.extc("effOCUtilizedExp","effOCUtilized"),'<span id="effOCUtilized">'+Number(p.productionOC).format()+"</span>"],[this.extc("effOCUtilizationExp","effOCUtilization"),'<span id="effOCUtilization">'+Number(p.productionOCPercent).format()+"</span>%"],[this.extc("prodOverheadCostsExp","prodOverheadCosts"),'<span id="prodOverheadCosts">'+Number(p.productionOverhead).format()+"</span>"],{title:this.tc("choverOverhed")},[this.extc("lostDueChoverExp","lostDueChover"),'<span id="lostDueChover">'+Number(p.choverOC).format()+"</span>"],[this.extc("choverCapUtilizationExp","choverCapUtilization"),'<span id="choverCapUtilization">'+Number(p.choverOCPercent).format()+"</span>%"],[this.extc("choverOverheadCostsExp","choverOverheadCosts"),'<span id="choverOverheadCosts">'+Number(p.choverOverhead).format()+"</span>"],[this.extc("choverLaborExp","choverLabor"),'<span id="choverLabor">'+Number(p.choverLabor).format()+"</span>"],{title:this.tc("excessOverhead")},[this.extc("unutilizedOCExp","unutilizedOC"),'<span id="unutilizedOC">'+Number(p.excessOC).format()+"</span>"],[this.extc("excessOCExp","excessOC"),'<span id="excessOC">'+Number(p.excessOCPercent).format()+"</span>%"],[this.extc("excessOverheadCostsExp","excessOverheadCosts"),'<span id="excessOverheadCosts">'+Number(p.excessOverhead).format()+"</span>"],[this.extc("excessLaborExp","excessLabor"),'<span id="excessLabor">'+Number(p.excessLabor).format()+"</span>"]),this.oaTable=new DecisionTable(this.tc("overheadAllocation"),"oaTable",r,a,!0,"green"),this.tables.push(this.oaTable))},loaddata:function(){var t,e,i,s=this.data.dynamicData,a=this.data.decisions.brandsForProduction.toLookUp("teamID","brandID"),n=0,r=0;for(e=0;e<s.brandsForSale.length;e++)t=s.brandsForSale[e],this.setValue(this.getElementName("price",t,!1),t.price);for(e=0;e<s.brandsForProduction.length;e++){for(t=s.brandsForProduction[e],n=0,r=0,i=0;i<t.RFPs.length;i++){var o=this.getRFPIndex(a[t.teamID][t.brandID],t.RFPs[i].contractID);a[t.teamID][t.brandID].RFPs[o].estimatedDemand=t.RFPs[i].demand,t.RFPs[i].outsourcedPrice>0&&(a[t.teamID][t.brandID].RFPs[o].estimatedPrice=t.RFPs[i].outsourcedPrice),a[t.teamID][t.brandID].produceIndex==t.RFPs[i].contractID&&(n=a[t.teamID][t.brandID].RFPs[o].estimatedDemand,r=a[t.teamID][t.brandID].RFPs[o].estimatedPrice)}this.setValue(this.getElementName("demand",t,!0),n),this.setValue(this.getElementName("price",t,!0),r)}this.calculate()},getDemandMultiplier:function(){if(!this.data.staticData.hasDemandMultiplier)return null;var t=this.data.staticData.demandMultipliers.map((function(t){return{key:t,value:t+"%"}})),e=this.com("combobox","demandMultiplier",this.data.decisions.demandMultiplier,{label:this.tc("demandMultiplier")},t,"key","value");return new DecisionLabel(this.service,"demandMultiplierLabel",e)},draw:function(){var t,e,i,s,a,n,r,o,l,d,c,h,p,u,g,m,b=this.data.staticData,f=this.data.dynamicData,v=this.data.decisions,y=f.resellerRFPs.toLookUp("contractID"),w=f.supplierRFPs.toLookUp("contractID"),D="",_=[],I="",x=0,T=0,C=f.brandsForSale.toLookUp("brandID"),L=f.brandsForProduction.toLookUp("teamID","brandID"),S=b.teams.toLookUp("teamID"),k=this.data.calculate,P=k.brandsForSale.toLookUp("brandID"),N=k.brandsForProduction.toLookUp("teamID","brandID");if(this.buttonCaptions.loaddata=this.tc("common:loaddata"),this.demandMultiplierLabel=this.getDemandMultiplier(),f.producing&&(b.hasOvertime&&b.isJustInTime&&_.push([this.tc("maxOvertime"),this.com("combobox","maxOvertime",this.data.decisions.hoursInDay,{},b.overtimeLaborChange,"hours","label")]),b.hasWorkersCompensations&&_.push([this.tc(b.hasFactoryProductivity?"factProductivity":"productivity"),this.com("iedit","productivity",this.data.decisions.projectedWorkersProductivity,{size:3})]),f.hasProductionControlSystem&&f.productionControlSystemStarted)){for(p=[],u=0;u<b.controlSystemChangeoverImprovements.length;u++)g=b.controlSystemChangeoverImprovements[u],p.push({value:g.controlSystemID,label:g.shortName+": "+g.minHours+" / "+this.tc("setupCost")+" "+g.setupCost.format()+" / "+this.tc("quarterlyCost")+" "+g.quarterlyExpense.format()});_.push([this.tc("controlSystem"),this.com("combobox","control_system",this.data.decisions.controlSystem,{},p,"value","label")])}if(_.length>0?this.productivityTable=new DecisionTable("","productivityTable",[{title:""},{title:""}],_,!0,"green"):this.productivityTable=null,o=[{title:this.tc("brand"),vline:!0}],b.isEasyPush||b.isJustInTime){var E={title:this.tc("produce"),align:"center"};this.canChangeProduce()||(E.type="flag",E.trueLabel=this.tc("yes"),E.falseLabel=this.tc("no")),o.push(E),b.hasZeroMaxEndingInventory||b.isJustInTime||o.push({title:this.tc("maxEndInv"),align:"right"})}for(b.isPush&&(o.push({title:this.tc("planProduc"),align:"right"},{title:this.tc("planProducQ"),align:"right"}),b.hasWorkersCompensations&&o.push({title:this.tc("planProducQE"),align:"right"})),(b.isPull||b.isEasyPull)&&(o.push({title:this.tc("produce"),align:"center"}),f.producing&&(f.inSupplyChain?o.push({title:this.tc("replenish_short"),align:"right"}):o.push({title:this.tc("replenish"),align:"right"}),b.isPull&&o.push({title:this.tc("target"),align:"right"}),o.push({title:this.tc("priority"),align:"right",vline:!0}))),o.push({title:this.tc("demand_previous"),align:"right"},{title:this.tc("demand_projected"),align:"right"},{title:this.tc("price_avg"),align:"right"},{title:this.tc("price_p"),align:"right",vline:!0}),(b.isPull||b.isEasyPull)&&f.inSupplyChain&&o.push({title:this.tc("contractQuantity"),align:"right"},{title:this.tc("contractStatus"),align:"right"}),_=[],t=0,e=v.brandsForSale.length;t<e;++t)i=v.brandsForSale[t],s=[Format.brandName(C[i.brandID].name.escapeHTML(),C[i.brandID].brandType)],(b.isEasyPush||b.isJustInTime)&&(this.canChangeProduce()?s.push(this.com("checkbox","bsproduce_"+i.brandID,i.produce)):s.push(i.produce),b.hasZeroMaxEndingInventory||b.isJustInTime||s.push(this.com("iedit","bsmax_"+i.brandID,i.maxEndingInventory,{size:5}))),b.isPush&&(s.push(this.com("iedit","bsplan_"+i.brandID,i.plannedProduction,{size:5}),'<span id="bsplan_q_'+i.brandID+'">'+(65*i.plannedProduction).formatInt()+"</span>"),x+=65*i.plannedProduction,b.hasWorkersCompensations&&(s.push('<span id="bsplan_qe_'+i.brandID+'">'+(65*i.plannedProduction*v.projectedWorkersProductivity/100).formatInt()+"</span>"),T+=Math.round(65*i.plannedProduction*v.projectedWorkersProductivity/100))),(b.isPull||b.isEasyPull)&&(s.push(this.getCtrlProduce(i,!1)),f.producing&&(s.push(this.com("iedit",this.getElementName("replenish",i,!1),i.replenishmentPoint,{size:5})),b.isPull&&s.push(this.com("iedit",this.getElementName("target",i,!1),i.targetPoint,{size:5})),s.push(this.com("iedit",this.getElementName("priority",i,!1),i.productionPriority,{size:5}))),I+='<div id="bschart_'+i.brandID+'" style="width: 600px; height: 300px; position: relative"></div><br />'),d=null!=this.demandMultiplierLabel?'<span id="'+this.getElementName("demand",i,!1)+'">'+Number(P[i.brandID].netDemand).format()+"</span>":this.com("iedit",this.getElementName("demand",i,!1),i.estimatedDemand,{size:5}),s.push(Number(C[i.brandID].ldemand).format(),d,'<span id="'+this.getElementName("cogsToBe",i,!1)+'">'+Number(P[i.brandID].endCost).format()+"</span>",this.com("iedit",this.getElementName("price",i,!1),i.estimatedPrice,{size:5})),(b.isPull||b.isEasyPull)&&f.inSupplyChain&&(a=n="",i.contractID>0&&(h=this.getRFPIndex(C[i.brandID],i.contractID),a=(r=this.getRFPInfo(C[i.brandID].RFPs[h],y[i.contractID])).amount,n=r.status),s.push('<div id="'+this.getElementName("contractQuantity",i,!1)+'">'+a+"</div>",this.getContractStatusLink(i,n,!1))),_.push(s);for(t=0,e=v.brandsForProduction.length;t<e;++t)i=v.brandsForProduction[t],s=[this.tc("brandBy",{BRAND_NAME:Format.brandName(L[i.teamID][i.brandID].name.escapeHTML(),L[i.teamID][i.brandID].brandType),RESELLER:S[i.teamID].companyName.escapeHTML()})],b.isEasyPush&&(s.push(this.com("checkbox","bpproduce_"+i.teamID+"_"+i.brandID,i.produce)),b.hasZeroMaxEndingInventory||s.push(this.com("iedit","bpmax_"+i.teamID+"_"+i.brandID,i.maxEndingInventory,{size:5}))),b.isPush&&(s.push(this.com("iedit","bpplan_"+i.teamID+"_"+i.brandID,i.plannedProduction,{size:5}),'<span id="bpplan_q_'+i.teamID+"_"+i.brandID+'">'+(65*i.plannedProduction).formatInt()+"</span>"),x+=65*i.plannedProduction,b.hasWorkersCompensations&&(s.push('<span id="bpplan_qe_'+i.teamID+"_"+i.brandID+'">'+(65*i.plannedProduction*v.projectedWorkersProductivity/100).formatInt()+"</span>"),T+=Math.round(65*i.plannedProduction*v.projectedWorkersProductivity/100))),(b.isPull||b.isEasyPull)&&(c=this.getRFPIndex(i),s.push(this.getCtrlProduce(i,!0,c),this.com("iedit",this.getElementName("replenish",i,!0),c>-1?i.RFPs[c].replenishmentPoint:0,{size:5})),b.isPull&&s.push(this.com("iedit",this.getElementName("target",i,!0),c>-1?i.RFPs[c].targetPoint:0,{size:5})),s.push(this.com("iedit",this.getElementName("priority",i,!0),c>-1?i.RFPs[c].productionPriority:0,{size:5})),I+='<div id="bpchart_'+i.teamID+"_"+i.brandID+'" style="width: 600px; height: 300px; position: relative"></div><br />'),d=null!=this.demandMultiplierLabel?'<span id="'+this.getElementName("demand",i,!0)+'">'+Number(c>-1?N[i.teamID][i.brandID].prodCost:0).format()+"</span>":this.com("iedit",this.getElementName("demand",i,!0),c>-1?i.RFPs[c].estimatedDemand:0,{size:5}),s.push(Number(L[i.teamID][i.brandID].ldemand).format(),d,'<span id="'+this.getElementName("cogsToBe",i,!0)+'">'+Number(c>-1?N[i.teamID][i.brandID].contractDemand:0).format()+"</span>",this.com("iedit",this.getElementName("price",i,!0),c>-1?i.RFPs[c].estimatedPrice:0,{size:5})),(b.isPull||b.isEasyPull)&&(c=this.getRFPIndex(i),f.inSupplyChain&&(a=n="",c>-1&&(h=this.getRFPIndex(L[i.teamID][i.brandID],i.RFPs[c].contractID),a=(r=this.getRFPInfo(L[i.teamID][i.brandID].RFPs[h],w[i.RFPs[c].contractID])).amount,n=r.status),s.push('<div id="'+this.getElementName("contractQuantity",i,!0)+'">'+a+"</div>",this.getContractStatusLink(i,n,!0)))),_.push(s);return this.pdTable=new DecisionTable(this.tc("projectedDemand"),"pdTable",o,_,!1,"green"),o=[{title:""},{title:this.tc("unitsPerDay"),align:"right"},{title:this.tc("unitsPerQuarter"),align:"right"}],_=[],f.producing&&(_.push([this.tc("fixedCapacity"),Number(b.fixedCapacity).formatInt(),(65*b.fixedCapacity).formatInt()]),(b.isPull||b.isEasyPush||b.isJustInTime||b.isEasyPull)&&(_.push([this.tc("operatingCapacity"),this.com("iedit","oc",v.operatingCapacity,{size:5}),'<span id="qcap">'+(65*v.operatingCapacity).formatInt()+"</span>"]),b.hasWorkersCompensations&&(l=v.operatingCapacity*v.projectedWorkersProductivity/100,m=2,b.isJustInTime||(l=Math.round(l),m=0),_.push([this.tc("effectiveOperatingCapacity"),'<span id="ecap">'+l.format(m)+"</span>",'<span id="qecap">'+(65*l).formatInt()+"</span>"]))),b.isPush&&(_.push([this.tc("scheduledProduction"),'<span id="dscheduled">'+(x/65).formatInt()+"</span>",'<span id="qscheduled">'+x.formatInt()+"</span>"]),b.hasWorkersCompensations&&_.push([this.tc("effectiveProduction"),'<span id="descheduled">'+(T/65).formatFloat(2)+"</span>",'<span id="qescheduled">'+T.formatInt()+"</span>"]))),f.selling&&!f.producing&&_.push({values:[this.tc("demandProjection"),'<span id="dDemPro">'+Math.ceil(k.demandProjection/65).formatInt()+"</span>",'<span id="qDemPro">'+Number(k.demandProjection).formatInt()+"</span>"],hrbefore:!0}),f.producing&&_.push({values:[this.tc(b.hasWorkersCompensations?"effectiveOCNeededCQ":"OCNeededCQ"),'<span id="dOCNeeded">'+(b.isJustInTime?(k.demandProjection/65).format(2):Math.ceil(k.operatingCapacityNeeded/65).formatInt())+"</span>",'<span id="qOCNeeded">'+Number(k.operatingCapacityNeeded).formatInt()+"</span>"],hrbefore:!0}),_.length>0?this.ocTable=new DecisionTable("","ocTable",o,_,!1,"green"):this.ocTable=null,this.createTables(C,L,!1),D+=(null!=this.demandMultiplierLabel?this.demandMultiplierLabel.draw():"")+this.pdTable.draw()+(null!=this.ocTable?this.ocTable.draw():"")+(null!=this.productivityTable?this.productivityTable.draw():"")+"<br />",this.tables.forEach((function(t){D+=t.draw()})),D+='<br /><div id="charts" style="position: relative">'+I+"</div>"},setChartData:function(t,e){var i,s,a,n,r,o,l,d,c,h=t.split("_"),p=h.length>1,u=this.data.staticData,g=this.data.dynamicData,m=[this.tc("demand1"),this.tc("lostSales"),this.tc("production"),this.tc("inventory")];if(p?(r=g.brandsForProduction.toLookUp("teamID","brandID")[h[0]][h[1]],o=this.data.decisions.brandsForProduction.toLookUp("teamID","brandID"),l=(c=this.getRFPIndex(o[h[0]][h[1]]))>-1?o[h[0]][h[1]].RFPs[c]:null,d=this.data.calculate.brandsForProduction.toLookUp("teamID","brandID")[h[0]][h[1]]):(r=g.brandsForSale.toLookUp("brandID")[t],l=(o=this.data.decisions.brandsForSale.toLookUp("brandID"))[t],d=this.data.calculate.brandsForSale.toLookUp("brandID")[t]),g.inSupplyChain&&(p?(m[0]=this.tc("shipment"),m[1]=this.tc("unfilledShipment")):u.producing?m[2]=this.tc("productionDelivery"):m[2]=this.tc("delivery")),Live.useSvg()){for(i=u.chartTemplate,j$.extend(i.data,{title:r.name.escapeHTML(),xAxis:this.tc("days"),yAxis:this.tc("units"),labels:m,x:[0],y:[[0,0,0,Number(r.startingInventory)]],minX:0,minY:0,yLines:[],saveUrl:this.st("common:saveChartURL"),saveName:"factory-simulation-brand-"+t+"-q"+this.user.quarter()}),null!=l&&(Number(l.replenishmentPoint)>0&&i.data.yLines.push(Number(l.replenishmentPoint)),Number(l.targetPoint)>0&&i.data.yLines.push(Number(l.targetPoint))),i.chartSettings.radius=0,s=0,a=d.days.length;s<a;s++)n=d.days[s],i.data.x[s+1]=Number(n.dayID),i.data.y[s+1]=[Number(n.demand),Number(n.lost),Number(n.produced)+Number(n.shippedUnits),Number(n.inventory)];SvgCharts.BaseChart.setChartData(e,i)}else{for(j$("#"+e).html(""),(i=new LineChart(j$("#"+e)[0])).minX=0,i.minY=0,i.label=r.name.escapeHTML(),i.legend=!0,i.labelX=this.tc("days"),i.labelY=this.tc("units"),i.labels=m,i.data=[[0],[0],[0],[Number(r.startingInventory)]],i.category=[0],s=0,a=d.days.length;s<a;s++)n=d.days[s],i.category[s+1]=Number(n.dayID),i.data[0][s+1]=Number(n.demand),i.data[1][s+1]=Number(n.lost),i.data[2][s+1]=Number(n.produced)+Number(n.shippedUnits),i.data[3][s+1]=Number(n.inventory);i.yLines=[],null!=l&&(Number(l.replenishmentPoint)>0&&i.yLines.push(Number(l.replenishmentPoint)),Number(l.targetPoint)>0&&i.yLines.push(Number(l.targetPoint))),i.draw()}},placeCharts:function(){var t,e,i=this.data.staticData,s=this.data.calculate.brandsForSale,a=this.data.calculate.brandsForProduction,n="bschart_";if(i.isPull||i.isEasyPull){for(t=0;t<s.length;t++)e=s[t],this.setChartData(e.brandID,n+e.brandID);for(n="bpchart_",t=0;t<a.length;t++)e=a[t],this.setChartData(e.teamID+"_"+e.brandID,n+e.teamID+"_"+e.brandID)}},observe:function(){var t,e=this.data.staticData,i=this.data.decisions.brandsForSale,s=this.data.decisions.brandsForProduction;if(null!=this.demandMultiplierLabel&&(this.demandMultiplierLabel.observe(),this.demandMultiplierLabel.change("float","left")),this.pdTable.observe(),null!=this.ocTable&&(this.ocTable.observe(),this.ocTable.change("float","left")),null!=this.productivityTable&&this.productivityTable.observe(),this.tables.forEach((function(t){t.observe()})),this.placeCharts(),e.isEasyPush&&!e.hasZeroMaxEndingInventory||e.isPull||e.isEasyPull){for(t=0;t<i.length;++t)this.canChangeProduce()&&j$("#"+this.getElementName("produce",i[t],!1)).on("change",j$.proxy(this.onChangeProduce,this,i[t],!1)),this.setRow(i[t],!1);for(t=0;t<s.length;++t)j$("#"+this.getElementName("produce",s[t],!0)).on("change",j$.proxy(this.onChangeProduce,this,s[t],!0)),this.setRow(s[t],!0)}},onChangeProduce:function(t,e){var i,s=this.value(this.getElementName("produce",t,e)),a=this.data.dynamicData,n=this.data.staticData;n.isEasyPush&&!n.hasZeroMaxEndingInventory&&a.producing&&!e&&-1==t.produceIndex&&(t.maxEndingInventory=this.value(this.getElementName("max",t,e))),(n.isPull||n.isEasyPull)&&0!=t.produceIndex&&(a.producing&&!e&&-1==t.produceIndex&&(t.replenishmentPoint=this.value(this.getElementName("replenish",t,e)),t.targetPoint=this.value(this.getElementName("target",t,e)),t.productionPriority=this.value(this.getElementName("priority",t,e))),e&&t.produceIndex>0&&(i=this.getRFPIndex(t,t.produceIndex),t.RFPs[i].estimatedDemand=this.value(this.getElementName("demand",t,e)),t.RFPs[i].estimatedPrice=this.value(this.getElementName("price",t,e)),t.RFPs[i].replenishmentPoint=this.value(this.getElementName("replenish",t,e)),t.RFPs[i].targetPoint=this.value(this.getElementName("target",t,e)),t.RFPs[i].productionPriority=this.value(this.getElementName("priority",t,e)))),this.setRow(t,e),a.inSupplyChain?t.produceIndex=Number(s):t.produceIndex=s?-1:0},setRow:function(t,e){var i,s,a,n,r,o,l,d,c=this.value(this.getElementName("produce",t,e)),h=this.data.dynamicData,p=this.data.staticData,u=0,g=0,m=0,b=0,f=!1,v="",y="",w=this.getElementName("replenish",t,e),D=this.getElementName("target",t,e),_=this.getElementName("priority",t,e),I=this.getElementName("max",t,e),x=this.getElementName("demand",t,e),T=this.getElementName("price",t,e),C=h.inSupplyChain?-1==c:c,L=h.inSupplyChain?0==c:!c;if(p.isEasyPush&&!p.hasZeroMaxEndingInventory)return h.producing&&C?b=t.maxEndingInventory:L&&(f=!0),void(h.producing&&(this.setValue(I,b),this.inModifyMode&&j$("#"+I).prop("disabled",f)));if(h.producing&&C)u=t.replenishmentPoint,g=t.targetPoint,m=t.productionPriority;else if(L)e&&(this.setValue(x,0),this.setValue(T,0),j$("#"+this.getElementName("cogsToBe",t,e)).html(0)),f=!0;else{if(e){s=h.supplierRFPs.toLookUp("contractID"),n=h.brandsForProduction.toLookUp("teamID","brandID"),r=s[c],o=n[t.teamID][t.brandID];var S=this.getRFPIndex(t,c);this.setValue(x,t.RFPs[S].estimatedDemand),this.setValue(T,t.RFPs[S].estimatedPrice),u=t.RFPs[S].replenishmentPoint,g=t.RFPs[S].targetPoint,m=t.RFPs[S].productionPriority}else i=h.resellerRFPs.toLookUp("contractID"),a=h.brandsForSale.toLookUp("brandID"),r=i[c],o=a[t.brandID],f=!0;l=this.getRFPIndex(o,c),v=(d=this.getRFPInfo(o.RFPs[l],r)).amount,y=d.status}h.producing&&(this.setValue(w,u),this.setValue(D,g),this.setValue(_,m),this.inModifyMode&&(j$("#"+w).prop("disabled",f),j$("#"+D).prop("disabled",f),j$("#"+_).prop("disabled",f),e&&(j$("#"+x).prop("disabled",f),j$("#"+T).prop("disabled",f)))),h.inSupplyChain&&(j$("#"+this.getElementName("contractQuantity",t,e)).html(v),j$("#"+this.getElementName("contractStatusLink",t,e)).html(y))},getContractStatusLink:function(t,e,i){return this.cf.getLink(e,this.getElementName("contractStatusLink",t,i),j$.proxy(this.onClickContractStatus,this,t,i),"#")},onClickContractStatus:function(t,e){var i=this.value(this.getElementName("produce",t,e));i>0&&Engine.showNewWindow("confirmrfp","ConfirmRfp",i)},getRFPIndex:function(t,e){var i,s=e||null;for(i=0;i<t.RFPs.length;i++){if(null!=s&&s==t.RFPs[i].contractID)return i;if(null==s&&t.RFPs[i].produce)return i}return-1},getCtrlProduce:function(t,e,i){var s,a=[],n=(i=void 0===i?-1:i,this.data.dynamicData),r=n.resellerRFPs.toLookUp("contractID"),o=n.supplierRFPs.toLookUp("contractID"),l=n.brandsForSale.toLookUp("brandID");if(n.brandsForProduction.toLookUp("teamID","brandID"),t.produceIndex=e?i>-1?t.RFPs[i].contractID:0:t.produce?-1:t.contractID,!n.inSupplyChain)return this.com("checkbox",this.getElementName("produce",t,e),t.produce);if(e&&-1!=t.produceIndex)for(s=0;s<t.RFPs.length;s++)a.push({value:t.RFPs[s].contractID,label:this.tc("contractNo",{CONTRACT_NUMBER:o[t.RFPs[s].contractID].contractNo})});else for((this.data.dynamicData.allowSelfProduction||-1==t.produceIndex)&&a.push({value:-1,label:this.tc("selfProduction")}),s=0;s<l[t.brandID].RFPs.length;s++)a.push({value:l[t.brandID].RFPs[s].contractID,label:this.tc("contractNo",{CONTRACT_NUMBER:r[l[t.brandID].RFPs[s].contractID].contractNo})});return this.com("combobox",this.getElementName("produce",t,e),t.produceIndex,{},a,"value","label",0,this.tc("doNotProduce"))},getElementName:function(t,e,i){return i?"bp"+t+"_"+e.teamID+"_"+e.brandID:"bs"+t+"_"+e.brandID},getRFPInfo:function(t,e){var i={amount:"",status:""};return null==t||(t.amount>0&&(i.amount=Format.integer(t.amount)),t.maxAmount>t.amount&&(i.amount+=" - "+Format.integer(t.maxAmount)),t.amountEstimate>0&&(i.amount=Format.integer(t.amountEstimate)),i.status=this.tc("status"+e.status)),i}})},13204:()=>{window.ExtFactorySimulationRegional=Decision.extend({modifyModeButtons:["loaddata","calculate","save","cancel"],style:"padding: 10px 10px 0px 10px;",cssExplanExt:"-green",redrawOnModify:!0,initialize:function(t){this._super(t)},getRegionIterator:function(){return this.getIterator.apply(this,["regions","regionID",function(t,e){return e.isIn},this.data.staticData].concat(Array.from(arguments)))},getBrandsForSaleIterator:function(){return this.getIterator.apply(this,["brandsForSale","brandID",function(){return!0},this.data.dynamicData].concat(Array.from(arguments)))},initializeRegionsAvailable:function(){var t=this;this.regionsAvailable=[],this.getRegionIterator()((function(e,i){t.regionsAvailable.push(i)}))},initSettings:function(){return{detailFilter:{regionID:0}}},read:function(){var t=this,e=this.data.staticData,i=this.data.decisions;this.data.dynamicData.producing&&(this.getRegionIterator(i)((function(i,s,a){(e.isEasyPush||e.isJustInTime)&&(a.operatingCapacity=t.value("oc_"+i)),e.hasWorkersCompensations&&(a.projectedWorkersProductivity=t.value("productivity_"+i))})),e.hasOvertime&&e.isJustInTime&&(i.hoursInDay=this.value("maxOvertime"))),this.getBrandsForSaleIterator(i)((function(e,i,s){s.estimatedPrice=t.value(t.getElementName("price",s,!1))})),i.demandMultiplier=this.value("demandMultiplier")},write:function(){var t=this,e=this.data.staticData,i=this.data.decisions;this.data.dynamicData.producing&&(this.getRegionIterator(i)((function(i,s,a){(e.isEasyPush||e.isJustInTime)&&t.setValue("oc_"+i,a.operatingCapacity),e.hasWorkersCompensations&&t.setValue("productivity_"+i,a.projectedWorkersProductivity)})),e.hasOvertime&&e.isJustInTime&&this.setValue("maxOvertime",i.hoursInDay)),this.getBrandsForSaleIterator(i)((function(e,i,s){t.setValue(t.getElementName("price",s,!1),s.estimatedPrice)})),this.setValue("demandMultiplier",i.demandMultiplier)},writeErrors:function(){var t=this,e=this.data.staticData,i=this.data.errors.decisions;this.data.dynamicData.producing&&(this.getRegionIterator(i)((function(i,s,a){(e.isEasyPush||e.isJustInTime)&&t.writeError("oc_"+i,a.operatingCapacity,"center right",!0,6),e.hasWorkersCompensations&&t.writeError("productivity_"+i,a.projectedWorkersProductivity,"center right",!0,6)})),e.hasOvertime&&e.isJustInTime&&this.writeError("maxOvertime",i.hoursInDay,"center right",!0,3)),this.getBrandsForSaleIterator(i)((function(i,s,a){t.writeError(t.getElementName("price",a,!1),a.estimatedPrice,"center left",!0,3),t.data.dynamicData.producing&&(!e.isEasyPush||e.isJustInTime||e.hasZeroMaxEndingInventory||t.writeError(t.getElementName("max",a,!1),a.maxEndingInventory,"center left",!1,3))})),this.writeError("demandMultiplier",i.demandMultiplier,"center right",!0,3)},writeCalculate:function(){var t=this,e=this.data.staticData,i=this.data.decisions,s=this.data.dynamicData,a=this.data.calculate,n=this.data.dynamicData.brandsForSale.toLookUp("brandID");this.getBrandsForSaleIterator(a)((function(e,i,s){j$("#"+t.getElementName("demand",i,!1)).html(Number(s.estimatedDemand).format()),j$("#"+t.getElementName("cogsToBe",i,!1)).html(Number(s.endCost).format())})),this.getRegionIterator(i,a)((function(i,a,n,r){s.producing?((e.isEasyPush||e.isJustInTime)&&e.hasWorkersCompensations&&j$("#ecap_"+i).html(t.getFormattedEffectiveOperatingCapacity(n)),j$("#dOCNeeded_"+i).html(t.getFormattedDemandProjection(r.operatingCapacityNeeded))):s.selling&&j$("#dDemPro_"+i).html(t.getFormattedDemandProjection(r.demandProjection))})),null!=this.ocTable&&(s.producing?(j$("#dOCNeeded").html(this.getFormattedDemandProjection(a.operatingCapacityNeeded)),j$("#qOCNeeded").html(Number(a.operatingCapacityNeeded).formatInt())):s.selling&&(j$("#dDemPro").html(this.getFormattedDemandProjection(a.demandProjection)),j$("#qDemPro").html(Number(a.demandProjection).formatInt()))),this.createTables(n),this.tables.forEach((function(t){t.change("replace",t.draw()),t.observe()})),this.toggleFilteredTables(),this.ocuTable.change("replace",this.ocuTable.draw()),this.ocuTable.observe(),this.writeExplanations()},createTables:function(t){var e=this.data.calculate,i=[],s=[];this.tables=[];for(var a=0;a<this.regionsAvailable.length;a++)i[a]=[];for(var n=0;n<e.brandsForSale.length;n++){var r=e.brandsForSale[n],o=r.regions.toLookUp("regionID");s.push(r);for(var l=0;l<this.regionsAvailable.length;l++){var d=this.regionsAvailable[l];o[d.regionID].brandID=r.brandID,i[l].push(o[d.regionID])}}this.createIpuTable(0,s,t),this.createPcTable(0,s,t),this.createIpcTable(0,s,t);for(var c=0;c<this.regionsAvailable.length;c++){var h=this.regionsAvailable[c];this.createIpuTable(h.regionID,i[c],t),this.createPcTable(h.regionID,i[c],t),this.createIpcTable(h.regionID,i[c],t)}this.createOcuTable()},formatValue:function(t,e,i,s,a){return e=e||0,i=i||"",a=a||null,null!==(s=s||null)&&null!==a&&s==t?a:Number(t).format(e)+i},createOcuTable:function(){var t=this,e=this.data.staticData;if(e.isEasyPush||e.isJustInTime){var i=[{title:""}],s=[this.extc("overtimeHoursExp","overtimeHours")],a=[this.extc("overtimeOCExp","overtimeOC")],n=[this.extc("workersProdBeforeOtExp","workersProdBeforeOt")],r=[this.extc("workersProdAfterOtExp","workersProdAfterOt")],o=[this.extc("otUnitCostIncExp","otUnitCostInc")],l=[this.extc("plannedOCNoChoverExp","plannedOC")],d=[this.extc("plannedOCwithOtExp","plannedOCwithOt")],c=[this.extc(e.hasOvertime?"workersProdOtExp":"workersProdExp","workersProd")],h=[this.extc(e.hasOvertime?"effOCOtExp":"effOCExp","effOC")],p=[this.extc("effOCUtilizedNoChoverExp","effOCUtilized")],u=[this.extc("effOCUtilizationExp","effOCUtilization")],g=[this.tc("scheduledOC")],m=[this.tc("usedOC")],b=[this.tc("ocUtilization2")],f=[this.extc("unutilizedOCExp","unusedOC")],v=[this.extc("excessOCExp","excessOC")],y=[this.extc("overheadCostExp","overheadCost")],w=[];e.hasOvertime&&e.isJustInTime&&(w.push({title:this.tc("overtime")},s,a),e.hasWorkersCompensations&&w.push(n,r),w.push(o)),w.push({title:this.tc("oc")}),e.hasWorkersCompensations?(w.push(l),e.hasOvertime&&e.isJustInTime&&w.push(d),w.push(c,h,p,u)):(e.hasOvertime&&e.isJustInTime?w.push(l,d):w.push(g),w.push(m,b)),w.push({title:this.tc("excessCapacity")},f,v,y),this.getRegionIterator(this.data.decisions,this.data.calculate)((function(e,w,D,_){i.push({title:w.regionName,align:"right"}),s.push(t.formatValue(_.overtimeHours,2,"h")),a.push(t.formatValue(_.overtimeOC)),n.push(t.formatValue(D.projectedWorkersProductivity,1,"%")),r.push(t.formatValue(_.overtimeAdjProductivity,1,"%")),o.push(t.formatValue(_.directLaborCPUOtInc,2)),l.push(t.formatValue(_.plannedOC)),d.push(t.formatValue(_.plannedOCwithOt)),c.push(t.formatValue(_.overtimeAdjProductivity,1,"%")),h.push(t.formatValue(_.totalOC)),p.push(t.formatValue(_.productionOC)),u.push(t.formatValue(_.productionOCPercent,0,"%")),g.push(t.formatValue(_.totalOC)),m.push(t.formatValue(_.productionOC)),b.push(t.formatValue(_.productionOCPercent,0,"%")),f.push(t.formatValue(_.excessOC)),v.push(t.formatValue(_.excessOCPercent,0,"%")),y.push(t.formatValue(Number(_.excessLabor)+Number(_.excessOverhead)))})),this.ocuTable=new DecisionTable(this.tc("ocUtilization"),"ocuTable",i,w,!1,"green")}},createIpcTable:function(t,e,i){for(var s=[{title:this.tc("brand")},{title:this.tc("startCost"),align:"right"},{title:this.tc("prodCost2"),align:"right"},{title:this.tc("avgCost"),align:"right"},{title:this.tc("endCost"),align:"right"}],a=[],n=0;n<e.length;n++){var r=e[n],o=i[r.brandID];a.push([Format.brandName(o.name.escapeHTML(),o.brandType),Number(o.startingInvCost).format(),Number(r.prodCost).format(),Number(r.avgCost).format(),Number(r.endCost).format()])}if(!this.data.staticData.hasZeroMaxEndingInventory&&a.length>0){var l=new DecisionTable(this.tc("ipCost"),"ipcTable_"+t,s,a,!1,"green");this.tables.push(l)}},createPcTable:function(t,e,i){for(var s=[{title:this.tc("brand")},{title:this.tc("unitsProduced"),align:"right"},{title:this.tc("material"),align:"right"},{title:this.tc("labor"),align:"right"},{title:this.tc("totOverhead"),align:"right"},{title:this.tc("average"),align:"right"}],a=[],n=0;n<e.length;n++){var r=e[n],o=i[r.brandID];this.data.dynamicData.producing&&a.push([Format.brandName(o.name.escapeHTML(),o.brandType),Number(r.unitsProduced).format(),Number(r.material).format(),Number(r.labor).format(),Number(r.overhead).format(),Number(r.prodCost).format()])}if(a.length>0){var l=new DecisionTable(this.tc("prodCost"),"pcTable_"+t,s,a,!1,"green");this.tables.push(l)}},createIpuTable:function(t,e,i){var s=this.data.staticData,a=this.data.dynamicData,n=[{title:this.tc("brand")}],r=[this.tc("total")],o=[];s.hasZeroMaxEndingInventory||(n.push({title:this.tc("startInventory"),type:"number"}),r.push(0)),a.producing&&(n.push({title:this.tc("produced"),type:"number"}),r.push(0)),s.hasZeroMaxEndingInventory||(n.push({title:this.tc("totalInventory"),type:"number"}),r.push(0)),n.push({title:this.tc("netDemand"),type:"number"}),r.push(0),s.hasZeroMaxEndingInventory||(n.push({title:this.tc("sold"),type:"number"}),r.push(0)),n.push({title:this.tc("lost"),type:"number"}),r.push(0),s.hasZeroMaxEndingInventory||(n.push({title:this.tc("endInventory"),type:"number"}),r.push(0));for(var l=0;l<e.length;l++){var d=e[l],c=i[d.brandID],h=Number(c.startingInventory)-Number(c.sellUnwanted),p=Number(d.unitsProduced),u=h+p+Number(d.arrived),g=1,m=[Format.brandName(c.name.escapeHTML(),c.brandType)];s.hasZeroMaxEndingInventory||(m.push(h),r[g++]+=h),a.producing&&(m.push(p),r[g++]+=p),s.hasZeroMaxEndingInventory||(m.push(u),r[g++]+=u),m.push(d.netDemand),r[g++]+=Number(d.netDemand),s.hasZeroMaxEndingInventory||(m.push(d.sold),r[g++]+=Number(d.sold)),m.push(d.stockOuts),r[g++]+=Number(d.stockOuts),s.hasZeroMaxEndingInventory||(m.push(d.endInventory),r[g++]+=Number(d.endInventory)),o.push(m)}if(o.length>0){o.push({values:r,type:"total"});var b=s.hasZeroMaxEndingInventory?this.tc("ipUnitsZeroInventory"):this.tc("ipUnits"),f=new DecisionTable(b,"ipuTable_"+t,n,o,!1,"green");this.tables.push(f)}},loaddata:function(){var t=this;this.getBrandsForSaleIterator()((function(e,i){t.setValue(t.getElementName("price",i,!1),i.price)})),this.calculate()},getProjectedDemandTable:function(){var t=this,e=(this.data.staticData,[{title:this.tc("brand"),vline:!0},{title:this.tc("demand_previous"),align:"right"},{title:this.tc("demand_projected"),align:"right"},{title:this.tc("price_avg"),align:"right"},{title:this.tc("price_p"),align:"right",vline:!0}]),i=[];return this.getBrandsForSaleIterator(this.data.decisions,this.data.calculate)((function(e,s,a,n){i.push([Format.brandName(s.name.escapeHTML(),s.brandType),Number(s.ldemand).format(),'<span id="'+t.getElementName("demand",a,!1)+'">'+Number(n.estimatedDemand).format()+"</span>",'<span id="'+t.getElementName("cogsToBe",a,!1)+'">'+Number(n.endCost).format()+"</span>",t.com("iedit",t.getElementName("price",a,!1),a.estimatedPrice,{size:5})])})),new DecisionTable(this.tc("projectedDemand"),"pdTable",e,i,!1,"green")},getProductivityTable:function(){var t=this.data.staticData,e=[];return this.data.dynamicData.producing&&t.hasOvertime&&t.isJustInTime&&e.push([this.tc("maxOvertime"),this.com("combobox","maxOvertime",this.data.decisions.hoursInDay,{},t.overtimeLaborChange,"hours","label")]),e.length>0?new DecisionTable("","productivityTable",[{title:""},{title:""}],e,!0,"green"):null},getUnitsPerDayTable:function(){var t=this,e=this.data.dynamicData,i=this.data.staticData,s=[{title:""}],a=[this.tc("fixedCapacity")],n=[this.tc("operatingCapacity")],r=[this.tc("productivity")],o=[this.tc("effectiveOperatingCapacity")],l=[this.tc(i.hasWorkersCompensations?"effectiveOCNeededCQ":"OCNeededCQ")],d=[this.tc("demandProjection")],c=[];return this.getRegionIterator(e,this.data.decisions,this.data.calculate)((function(e,i,c,h,p){s.push({title:i.regionName,align:"right"}),a.push(Number(i.fixedCapacity+c.fixedCapacityIncrease).formatInt()),n.push(t.com("iedit","oc_"+e,h.operatingCapacity,{size:5})),r.push(t.com("iedit","productivity_"+e,h.projectedWorkersProductivity,{size:3})),o.push('<span id="ecap_'+e+'">'+t.getFormattedEffectiveOperatingCapacity(h)+"</span>"),l.push('<span id="dOCNeeded_'+e+'">'+t.getFormattedDemandProjection(p.operatingCapacityNeeded)+"</span>"),d.push('<span id="dDemPro_'+e+'">'+t.getFormattedDemandProjection(p.demandProjection)+"</span>")})),e.producing?(c.push(a),(i.isEasyPush||i.isJustInTime)&&(c.push(n),i.hasWorkersCompensations&&c.push(r,o)),c.push({values:l,hrbefore:!0})):e.selling&&c.push({values:d,hrbefore:!0}),c.length>0?new DecisionTable(this.tc("unitsPerDay"),"ocTable",s,c,!1,"green"):null},getRegionSelector:function(){var t='<h2 style="font-size: 120%; font-weight: bold"> '+this.tc("regionalDetail")+" </h2>"+this.com("combobox","regionFilter",this.settings.detailFilter.regionID,{label:this.tc("common:region")},this.regionsAvailable,"regionID","regionName",0,this.tc("allRegions"));return this.keepEnabled.push("regionFilter"),new DecisionLabel(this.service,"regionSelectorLabel",t)},getDemandMultiplier:function(){var t=this.data.staticData.demandMultipliers.map((function(t){return{key:t,value:t+"%"}})),e=this.com("combobox","demandMultiplier",this.data.decisions.demandMultiplier,{label:this.tc("demandMultiplier")},t,"key","value");return new DecisionLabel(this.service,"demandMultiplierLabel",e)},draw:function(){var t=this.data.dynamicData.brandsForSale.toLookUp("brandID");return this.initializeRegionsAvailable(),this.buttonCaptions.loaddata=this.tc("common:loaddata"),this.demandMultiplierLabel=this.getDemandMultiplier(),this.productivityTable=this.getProductivityTable(),this.pdTable=this.getProjectedDemandTable(),this.ocTable=this.getUnitsPerDayTable(),this.regionSelectorLabel=this.getRegionSelector(),this.createTables(t),this.demandMultiplierLabel.draw()+this.pdTable.draw()+(null!=this.ocTable?this.ocTable.draw():"")+(null!=this.productivityTable?this.productivityTable.draw():"")+"<hr />"+this.regionSelectorLabel.draw()+this.tables.reduce((function(t,e){return t+e.draw()}),"")+"<hr />"+this.ocuTable.draw()+'<br /><div id="charts" style="position: relative"></div>'},observeRegionSelector:function(){var t=j$("#regionFilter");t.on("change",function(t){this.settings.detailFilter.regionID=j$(t).val(),this.toggleFilteredTables()}.bind(this,t))},showRegionalTables:function(t){j$("#ipuTable_"+t).parent().show(),j$("#pcTable_"+t).parent().show(),j$("#ipcTable_"+t).parent().show()},hideRegionalTables:function(t){j$("#ipuTable_"+t).parent().hide(),j$("#pcTable_"+t).parent().hide(),j$("#ipcTable_"+t).parent().hide()},toggleFilteredTables:function(){for(var t=this.settings.detailFilter.regionID,e=0;e<this.regionsAvailable.length;e++){var i=this.regionsAvailable[e];i.regionID==t?this.showRegionalTables(i.regionID):this.hideRegionalTables(i.regionID)}0==t?this.showRegionalTables(0):this.hideRegionalTables(0)},getFormattedDemandProjection:function(t){return this.data.staticData.isJustInTime?(t/65).format(2):Math.ceil(t/65).formatInt()},getFormattedEffectiveOperatingCapacity:function(t){var e=t.operatingCapacity*t.projectedWorkersProductivity/100;return this.data.staticData.isJustInTime?e.format(2):Math.round(e).format()},setChartData:function(t,e){var i,s,a,n,r,o,l,d=this.data.staticData,c=this.data.dynamicData,h=[this.tc("demand1"),this.tc("lostSales"),this.tc("production"),this.tc("inventory")];if(r=c.brandsForSale.toLookUp("brandID")[t],o=this.data.decisions.brandsForSale.toLookUp("brandID")[t],l=this.data.calculate.brandsForSale.toLookUp("brandID")[t],Live.useSvg()){for(i=d.chartTemplate,j$.extend(i.data,{title:r.name.escapeHTML(),xAxis:this.tc("days"),yAxis:this.tc("units"),labels:h,x:[0],y:[[0,0,0,Number(r.startingInventory)]],minX:0,minY:0,yLines:[],saveUrl:this.st("common:saveChartURL"),saveName:"factory-simulation-brand-"+t+"-q"+this.user.quarter()}),null!=o&&(Number(o.replenishmentPoint)>0&&i.data.yLines.push(Number(o.replenishmentPoint)),Number(o.targetPoint)>0&&i.data.yLines.push(Number(o.targetPoint))),i.chartSettings.radius=0,s=0,a=l.days.length;s<a;s++)n=l.days[s],i.data.x[s+1]=Number(n.dayID),i.data.y[s+1]=[Number(n.demand),Number(n.lost),Number(n.produced)+Number(n.shippedUnits),Number(n.inventory)];SvgCharts.BaseChart.setChartData(e,i)}else{for(j$("#"+e).html(""),(i=new LineChart(j$("#"+e)[0])).minX=0,i.minY=0,i.label=r.name.escapeHTML(),i.legend=!0,i.labelX=this.tc("days"),i.labelY=this.tc("units"),i.labels=h,i.data=[[0],[0],[0],[Number(r.startingInventory)]],i.category=[0],s=0,a=l.days.length;s<a;s++)n=l.days[s],i.category[s+1]=Number(n.dayID),i.data[0][s+1]=Number(n.demand),i.data[1][s+1]=Number(n.lost),i.data[2][s+1]=Number(n.produced)+Number(n.shippedUnits),i.data[3][s+1]=Number(n.inventory);i.yLines=[],null!=o&&(Number(o.replenishmentPoint)>0&&i.yLines.push(Number(o.replenishmentPoint)),Number(o.targetPoint)>0&&i.yLines.push(Number(o.targetPoint))),i.draw()}},observe:function(){this.toggleFilteredTables(),this.regionSelectorLabel.observe(),this.regionSelectorLabel.change("float","left"),this.observeRegionSelector(),this.demandMultiplierLabel.observe(),this.demandMultiplierLabel.change("float","left"),this.pdTable.observe(),null!=this.ocTable&&(this.ocTable.observe(),this.ocTable.change("float","left")),null!=this.productivityTable&&this.productivityTable.observe(),this.ocuTable.observe(),this.tables.forEach((function(t){return t.observe()}))},getElementName:function(t,e,i){return i?"bp"+t+"_"+e.teamID+"_"+e.brandID:"bs"+t+"_"+e.brandID}})},61299:()=>{window.FactoryEfficiency=Decision.extend({style:"padding: 10px 10px 0px 10px;",read:function(){},write:function(){},draw:function(){var t,e="",i="";if(this.viewModeButtons=[],this.modifyModeButtons=[],this.data.staticData.studyBought)for(e="<div style='font-size:1.2em; padding: 4px;'>"+this.tc("mFEhdtitle")+"</div>",e+="<img src='"+Path.getDecPath("cc","study-4-big",".png")+"' style='float:left; margin: 10px 10px 10px 0px; height: 100px;' alt=''/>"+this.tc("mFEhd_m"),e+="<div style='clear:both'></div>",e+="<div style='background-color:#C0C0C0;padding:6px;font-weight:bolder;'>"+this.tc("mFEiss")+"</div><br>",t=1;t<5;t++)this.data.staticData.hasFactoryPerRegion&&(i=1==t?"_icm":""),e+="<div style='background-color:#E0DBC7;padding:6px;font-weight:bolder;'>"+this.tc("mFEhd"+t)+"</div><br>",e+="<table><tr><td style='vertical-align:top;width:50%;padding:4px;background-color:#E6B8B8;'>"+this.tc("mFEct"+i+t+"_1")+"</td><td style='width:5px;border:0px none'>&nbsp;</td>",e+="<td style='vertical-align:top;width:50%;padding:4px;background-color:#D8E4BE;'>"+this.tc("mFEct"+t+"_2")+"</td></tr></table><br>";else e=this.tc("mFEnot");return this.frLabel=new DecisionLabel(this.service,"srLabel",e,"","wooden"),this.frLabel.draw()},observe:function(){this.frLabel.observe(),this.data.staticData.studyBought||this.frLabel.change("float","left")}})},73835:()=>{window.FactoryLocation=Decision.extend({style:"padding: 10px 10px 0px 10px;",read:function(){var t,e=this.data.staticData.regions,i=e.length;for(this.data.decisions.factoryRegion=0,t=0;t<i;++t)if(this.value("facLoc_"+e[t].regionID)){this.data.decisions.factoryRegion=e[t].regionID;break}},write:function(){var t,e=this.data.staticData.regions,i=e.length;for(t=0;t<i;++t)this.setValue("facLoc_"+e[t].regionID,this.data.decisions.factoryRegion)},draw:function(){var t,e,i,s=this.data.staticData,a=[],n=[],r="";for(s.hasFactoryPerRegion||a.push({title:"",type:"flag",vline:!0}),a.push({title:this.tc("region")},{title:this.tc("city"),vline:!0},{title:this.tc("costIndex"),type:"number"}),s.hasFactoryPerRegion&&a.push({title:this.tc("constructionCost"),type:"number"}),t=0,e=s.regions.length;t<e;++t){i=s.regions[t];var o=[];s.hasFactoryPerRegion||o.push(this.com("radio","facLoc",this.data.decisions.factoryRegion,{"aria-labelledby":"r_"+i.regionID+" rc_"+i.regionID},i.regionID)),o.push(this.cf.getLabel(i.regionName,null,"plainLabel","r_"+i.regionID),this.cf.getLabel(i.cityName,null,"plainLabel","rc_"+i.regionID),i.costIndex),s.hasFactoryPerRegion&&o.push(i.constructionCost),n.push(o),r+='<div id="chart_'+i.regionID+'" style="margin: auto; width: 450px; height: 300px"></div><br />'}return this.flTable=new DecisionTable(this.tc("factoryLocation"),"flTable",a,n,!1,"green"),this.flTable.draw()+(s.hasFactoryPerRegion?"":'<div style="padding:10px;">'+r+"</div>")},observe:function(){if(this.flTable.observe(),!this.data.staticData.hasFactoryPerRegion){var t,e=this.data.staticData.regions;for(t=e.length-1;t>=0;--t)this.setChartData(e[t].regionID,"chart_"+e[t].regionID)}},setChartData:function(t,e){var i,s,a,n,r,o,l=this.data.staticData.regions.toLookUp("regionID"),d=l[t],c=d.shipping;if(Live.useSvg()){for(r=this.data.staticData.chartTemplate,j$.extend(r.data,{title:this.tc("factoryLocated",{REGION:d.regionName}),xAxis:this.tc("units"),yAxis:this.tc("costPerUnit"),labels:[],x:[],y:[],minX:0,minY:0,maxY:this.data.staticData.shippingMax,dsX:5,saveUrl:this.st("common:saveChartURL"),saveName:"factory-location-q"+this.user.quarter()}),r.chartSettings.radius=0,i=0,s=c.regions.length;i<s;++i)for(o=c.regions[i],r.data.labels[i]=l[o.regionID].regionName,a=0,n=c.units.length;a<n;++a)0==i&&(r.data.x[a]=Number(c.units[a]),r.data.y[a]=[]),r.data.y[a][i]=Number(o.costs[a]);SvgCharts.BaseChart.setChartData(e,r)}else{for(j$("#"+e).html(""),(r=new LineChart(j$("#"+e)[0])).minX=0,r.minY=0,r.maxY=this.data.staticData.shippingMax,r.label=this.tc("factoryLocated",{REGION:d.regionName}),r.legend=!0,r.labelX=this.tc("units"),r.labelY=this.tc("costPerUnit"),r.labels=[],r.data=[],r.category=[],i=0,s=c.regions.length;i<s;++i)for(o=c.regions[i],r.labels[i]=l[o.regionID].regionName,r.data[i]=[],a=0,n=c.units.length;a<n;++a)r.data[i][a]=Number(o.costs[a]),r.category[a]=Number(c.units[a]);r.dsx=5,r.draw()}},drawSOD:function(){var t,e,i=this.data.staticData.regions,s=this.data.decisions.factoryRegion,a="";for(t=0,e=i.length;t<e;++t)if(i[t].regionID==s){a=i[t].regionName+", "+i[t].cityName;break}this.setValue(this.pfxSod+this.service,a)}})},96223:()=>{window.FactoryLocationRegional=Decision.extend({style:"padding: 10px 10px 0px 10px;",getRegionIterator:function(){return this.getIterator.apply(this,["regions","regionID",function(){return!0},this.data.staticData].concat(Array.from(arguments)))},read:function(){var t=this;this.data.staticData.readOnly||this.getRegionIterator(this.data.decisions)((function(e,i,s){i.opened||(s.open=t.value("facLoc_"+e))}))},write:function(){var t=this;this.data.staticData.readOnly||this.getRegionIterator(this.data.decisions)((function(e,i,s){i.opened||t.setValue("facLoc_"+e,s.open)}))},writeErrors:function(){var t=this;this.data.staticData.readOnly||this.getRegionIterator(this.data.errors.decisions).each((function(e,i,s){i.opened||t.writeError("facLoc_"+e,s.open,"center left",!0)}))},writeCalculate:function(){this.data.staticData.readOnly||j$("#factoryLocationTotal").html(Number(this.data.calculate.total).format())},getDecisionTable:function(){var t=this,e=this.data.staticData,i=[{title:this.tc("region")},{title:this.tc("city"),vline:!0}],s=[];return e.readOnly||i.push({title:this.tc("open"),type:"flag"}),i.push({title:this.tc("status"),type:"flag"},{title:this.tc("constructionCost"),type:"number"},{title:this.tc("costIndex"),type:"number"}),e.showLaborCostIndex&&i.push({title:this.tc("laborCostIndex"),type:"number"}),e.showOverheadCostIndex&&i.push({title:this.tc("overheadCostIndex"),type:"number"}),this.getRegionIterator(this.data.decisions)((function(i,a,n){var r=[t.cf.getLabel(a.regionName,null,"plainLabel","r_"+i),t.cf.getLabel(a.cityName,null,"plainLabel","rc_"+i)];e.readOnly||r.push(a.opened?"":t.com("checkbox","facLoc_"+i,n.open)),r.push(a.opened?t.tc("opened"):n.open?t.tc("opening"):t.tc("closed"),a.constructionCost,a.costIndex),e.showLaborCostIndex&&r.push(a.laborCostIndex),e.showOverheadCostIndex&&r.push(a.overheadCostIndex),s.push(r)})),new DecisionTable(this.tc("factoryLocation"),"flTable",i,s,!1,"green")},getDecisionLabel:function(){return new DecisionLabel(this.service,"flLabel",this.tc("totalCost")+' <span id="factoryLocationTotal">'+Number(this.data.calculate.total).format()+"</span>","","stone")},draw:function(){return this.data.staticData.readOnly&&(this.viewModeButtons=[],this.modifyModeButtons=[]),this.flTable=this.getDecisionTable(),this.flLabel=this.getDecisionLabel(),this.flTable.draw()+this.flLabel.draw()},observe:function(){var t=this;this.flTable.observe(),this.flLabel.observe(),this.flLabel.change("float","left"),this.data.staticData.readOnly||this.getRegionIterator()((function(e){t.bindCalculate("facLoc_"+e,"click",!1)}))},drawSOD:function(){var t=[],e="";this.getRegionIterator(this.data.decisions)((function(e,i,s){s.open&&t.push(i.regionName)})),t.length>0&&(e='<div style="margin-bottom: 5px;">'+this.tc("openingRegions")+" "+t.join(", ")+"</div>"+this.tc("totalCost")+" "+Number(this.data.calculate.total).format()),this.setValue(this.pfxSod+this.service,e)}})},43256:()=>{window.FactoryLocations=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",hasVisuals:!0,draw:function(){var t,e,i,s,a,n,r,o,l="",d=this.data.staticData,c=d.factoryCities.toLookUp("regionID"),h=d.productionSystems.toLookUp("systemID"),p=d.mis.toLookUp("misID"),u=[{title:this.tc("company")}],g=[{title:this.tc("company")}],m=[],b=[],f=0;if(d.factoryCities.length>1&&(u.push({title:this.tc("region")},{title:this.tc("city"),vline:!0}),g.push({title:this.tc("region")},{title:this.tc("city"),vline:!0})),this.hasVisuals?u.push({title:'<div style="width:13px; height:13px; margin: auto; margin-bottom: 3px; background-color:#8ece72;"></div>'+this.tc("fixedCapacity"),align:"right"},{title:'<div style="width:13px; height:13px; margin: auto; margin-bottom: 3px; background-repeat:no-repeat;background-image:url('+Path.getDecPath("factorylocations","workerSmall2",".png")+')"></div>'+this.tc("operatingCapacity"),align:"right"}):u.push({title:this.tc("fixedCapacity"),align:"right"},{title:this.tc("operatingCapacity"),align:"right"}),d.hasLogistics&&(u.push({title:this.tc("productionSystem")},{title:this.tc("mis")}),g.push({title:this.tc("mis")})),d.hasOvertime&&u.push({title:this.tc("overtimeCapacity"),align:"right",type:"number",decimals:2}),this.hasVisuals)for(u.push({title:this.tc("fixedCapacityUtilization"),align:"right"}),i=0,s=d.locations.length;i<s;++i)(a=d.locations[i]).fixedCapacity>f&&(f=a.fixedCapacity);for(e=0;e<d.locations.length;e++)t=[(a=d.locations[e]).companyName.escapeHTML()],d.factoryCities.length>1&&t.push(c[a.regionID].region,c[a.regionID].city),a.producing&&(t.push(a.fixedCapacity,a.operatingCapacity),d.hasLogistics&&t.push(h[a.systemID].name)),d.hasLogistics&&t.push(p[a.misID].name),a.producing&&d.hasOvertime&&t.push(a.overtimeOC),this.hasVisuals&&a.producing&&(f>0?(r=a.operatingCapacity/f*100,n=a.fixedCapacity/f*100):(r=0,n=0),o=a.fixedCapacity>0?100*a.operatingCapacity/a.fixedCapacity:0,t.push('<div><div style="position:relative; width:150px;"><div style="width:'+n+'%;height:15px;background-color:#8ece72;"></div><div style="position:absolute;z-index:5;bottom:0px;width:'+r+"%;height:13px;background-repeat:repeat-x;background-image:url("+Path.getDecPath("factorylocations","workerSmall2",".png")+')"></div></div><div>'+this.tc("percentUtilization",{PERCENT:Format.number(o,2),CAPACITY:Format.number(a.fixedCapacity)})+"</div></div>")),a.producing?m.push(t):b.push(t);return m.length>0?(this.fTable=new DecisionTable(this.tc(d.hasLogistics?"locationsOperatingConditions":d.factoryCities.length>1?"locationsFixedAndOperatingCapacity":"fixedAndOperatingCapacity"),"fTable",u,m,!1,"green"),l+=this.fTable.draw()):this.fTable=null,b.length>0?(this.wTable=new DecisionTable(this.tc("warehouseLocationsOperatingConditions"),"wTable",g,b,!1,"green"),""!=l&&(l+="<br />"),l+=this.wTable.draw()):this.wTable=null,l},observe:function(){if(null!=this.wTable&&this.wTable.observe(),null!=this.fTable){this.fTable.observe();var t=this.data.staticData,e=3;t.factoryCities.length>1&&(e+=2),t.hasLogistics&&e++,t.hasOvertime&&e++;for(var i=0;i<e;++i)this.fTable.makeColumnSortable(i)}}})},44933:(t,e,i)=>{"use strict";i(43256),window.FactoryLocationsAnim=FactoryLocations.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 0px 185px 0px 0px; height: 100%;",hasVisuals:!0,initialize:function(t){this._super("FactoryLocations")},draw:function(){var t=this.data.staticData,e="";return this.positions=this.loadPositions(),(e+=this.drawCity(t.factoryCities[0].regionID,t.factoryCities[0].cityID,t.factoryCities[0].city))+this._super()},drawCity:function(t,e,i){var s,a,n="",r=this.positions[e];return s='<div id="cityLabel_'+t+"_"+e+'" class="cityLabel" style="position:relative;text-shadow:-1px 0 black, 0 1px black, 1px 0 black, 0 -1px black">'+i+"</div>",a='<div id="cityMarker_'+t+"_"+e+'" class="cityMarker"></div>',"right"==r.situated?(n+='<div id="city_'+t+"_"+e+'" style="position:absolute;top:'+r.y+"%;left:"+r.x+'%;"',r.hideDot||(n+=a),n+='<div class="cityLabelBck" style="margin-left:4px;position:relative;float:right;">'+s+"</div></div>"):"left"==r.situated?(n+='<div id="city_'+t+"_"+e+'" style="position:absolute;top:'+r.y+"%;right:"+(100-r.x)+'%;">',r.hideDot||(n+=a),n+='<div class="cityLabelBck" style="margin-right:4px;position:relative;float:left;">'+s+"</div></div>"):"top"==r.situated&&(n+='<div id="city_'+t+"_"+e+'" style="position:absolute;top:'+r.y+"px;left:"+r.x+'px;">',r.hideDot||(n+=a),n+='<div class="cityLabelBck" style="bottom:18px;left:'+r.textLeft+'px;position:absolute;white-space:nowrap;">'+s+"</div></div>"),n},loadPositions:function(){return this.st("positions")},resize:function(){var t,e,i,s=this.data.staticData,a=j$("#decision").width()/700;for(t=0,e=s.factoryCities.length;t<e;++t)i=s.factoryCities[t],j$("#city_"+i.regionID+"_"+i.cityID).css({top:a*this.positions[i.cityID].y+"px",left:a*this.positions[i.cityID].x+"px"})},observe:function(){this._super(),null!=this.fTable&&this.fTable.change("css",{margin:"15px"})}})},97817:()=>{window.FactoryPayroll=Decision.extend({style:"padding: 10px 10px 0px 10px;",viewModeButtons:[],modifyModeButtons:[],sd:null,dd:null,setSdDd:function(){this.sd=this.data.staticData,this.dd=this.data.dynamicData},draw:function(){this.setSdDd();var t=[[this.tc("workers"),Format.real(this.dd.workers,2)],[this.tc("quarterlyCompensation"),Format.integer(this.dd.quarterlyCompensation)]];return this.sd.hasOvertime&&t.push([this.tc("quarterlyCompensationIncreaseDueOvertime"),Format.integer(this.dd.quarterlyCompensationIncreaseDueOvertime)]),this.sd.hasExecutiveCompensations&&(t.push({values:[this.tc("workersPayroll"),Format.integer(this.dd.workersPayroll)],type:"total"},[this.tc("executive"),Format.real(this.dd.executive,2)],[this.tc("quarterlyECompensation"),Format.integer(this.dd.quarterlyECompensation)]),this.sd.hasOvertime&&t.push([this.tc("quarterlyECompensationIncreaseDueOvertime"),Format.integer(this.dd.quarterlyECompensationIncreaseDueOvertime)]),t.push({values:[this.tc("executivePayroll"),Format.integer(this.dd.executivePayroll)],type:"total"})),t.push({values:[this.tc("factoryPayroll"),Format.integer(this.dd.factoryPayroll)],type:"total"},[this.tc("unitsScheduled"),Format.integer(this.dd.unitsScheduled)],[this.tc("laborCostPerUnit"),Format.integer(this.dd.laborCostPerUnit)]),this.fpTable=new DecisionTable(Format.location(this.sd.cityName,this.sd.regionName),"fpTable",[{title:""},{title:"",align:"right"}],t,!0,"green"),this.fpTable.draw()},observe:function(){this.fpTable.observe()}})},77036:()=>{window.FactoryPayrollRegional=Decision.extend({style:"padding: 10px 10px 0px 10px;",viewModeButtons:[],modifyModeButtons:[],getRegionIterator:function(){return this.getIterator.apply(this,["regions","regionID",function(t,e,i){return e.isIn},this.data.staticData,this.data.dynamicData].concat(Array.from(arguments)))},getPayrollTable:function(){var t=this.data.staticData,e=[{title:""}],i=[{values:[this.tc("workers")]},{values:[this.tc("quarterlyCompensation")]}];return t.hasOvertime&&i.push({values:[this.tc("quarterlyCompensationIncreaseDueOvertime")]}),t.hasExecutiveCompensations&&(i.push({values:[this.tc("workersPayroll")],type:"total"},{values:[this.tc("executive")]},{values:[this.tc("quarterlyECompensation")]}),t.hasOvertime&&i.push({values:[this.tc("quarterlyECompensationIncreaseDueOvertime")]}),i.push({values:[this.tc("executivePayroll")],type:"total"})),i.push({values:[this.tc("factoryPayroll")],type:"total"},{values:[this.tc("unitsScheduled")]},{values:[this.tc("laborCostPerUnit")]}),this.getRegionIterator()((function(s,a,n){var r=0;e.push({title:a.regionName,align:"right"}),i[r++].values.push(Format.real(n.workers,2)),i[r++].values.push(Format.integer(n.quarterlyCompensation)),t.hasOvertime&&i[r++].values.push(Format.integer(n.quarterlyCompensationIncreaseDueOvertime)),t.hasExecutiveCompensations&&(i[r++].values.push(Format.integer(n.workersPayroll)),i[r++].values.push(Format.real(n.executive,2)),i[r++].values.push(Format.integer(n.quarterlyECompensation)),t.hasOvertime&&i[r++].values.push(Format.integer(n.quarterlyECompensationIncreaseDueOvertime)),i[r++].values.push(Format.integer(n.executivePayroll))),i[r++].values.push(Format.integer(n.factoryPayroll)),i[r++].values.push(Format.integer(n.unitsScheduled)),i[r++].values.push(Format.integer(n.laborCostPerUnit))})),new DecisionTable(this.tc("factoryPayrollTitle"),"fpTable",e,i,!1,"green")},draw:function(){return this.fpTable=this.getPayrollTable(),this.fpTable.draw()},observe:function(){this.fpTable.observe()}})},30353:()=>{window.FactoryProductivity=Decision.extend({style:"padding: 10px 10px 0px 10px;",viewModeButtons:[],modifyModeButtons:[],draw:function(){var t,e,i,s=this.data.staticData,a=s.quarters.length,n=[{title:""}],r=s.teams.length,o=[[this.tc("workersCompensation")],[this.tc("workersSatisfaction")],[this.tc("supervisorsCompensation")],[this.tc("supervisorsSatisfaction")],[this.tc("morale")],[this.tc("turnover")],[this.tc("yearlyTurnover")],{values:[this.tc(s.hasOvertime?"factoryProductivityWithoutOvertime":"factoryProductivity")],type:"total"}];for(s.hasOvertime&&(o.push([this.tc("dailyOvertime")]),o.push([this.tc("lostFactoryProductivityDueOvertime")]),o.push({values:[this.tc("factoryProductivityWithOvertime")],type:"total"})),o.push([this.tc("payroll")]),o.push(['<span id="excessLabor">'+this.tc("excessLabor")+"</span>"]),t=0;t<a;++t){var l=s.quarters[t];i=0,n.push({title:this.tc("quarter",{QTR:l.quarter}),align:"right"}),o[i++].push(Number(l.workersCompensation).format()),o[i++].push(Number(l.workersSatisfaction).format(1)+"%"),o[i++].push(Number(l.supervisorsCompensation).format()),o[i++].push(Number(l.supervisorsSatisfaction).format(1)+"%"),o[i++].push(Number(l.morale).format()),o[i++].push(Number(l.employeeTurnover).format()+"%"),o[i++].push(Number(l.employeeTurnoverYearly).format()+"%"),o[i++].values.push(Number(l.factoryProductivity).format(1)+"%"),s.hasOvertime&&(o[i++].push(this.tc("dailyOvertimeHours",{DAILY_OVERTIME:Number(l.dailyOvertime).format(1)})),o[i++].push(Number(l.lostFactoryProductivityDueOvertime).format(2)+"%"),o[i++].values.push(Number(l.factoryProductivityWithOvertime).format(1)+"%")),o[i++].push(Number(l.payroll).format()),o[i++].push(Number(l.excessLabor).format())}for(this.fpTable=new DecisionTable(this.tc("factoryProductivity"),"fpTable",n,o,!1,"green"),n=[{title:""}],o=[[this.tc("workersCompensation")],[this.tc("workersSatisfaction")],[this.tc("supervisorsCompensation")],[this.tc("supervisorsSatisfaction")],[this.tc("morale")],[this.tc("turnover")],[this.tc("yearlyTurnover")],{values:[this.tc(s.hasOvertime?"factoryProductivityWithoutOvertime":"factoryProductivity")],type:"total"}],s.hasOvertime&&(o.push([this.tc("dailyOvertime")]),o.push([this.tc("lostFactoryProductivityDueOvertime")]),o.push({values:[this.tc("factoryProductivityWithOvertime")],type:"total"})),e=0;e<r;++e){i=0;var d=s.teams[e];n.push({title:d.companyName.escapeHTML(),align:"right"}),o[i++].push(Number(d.workersCompensation).format()),o[i++].push(Number(d.workersSatisfaction).format(1)+"%"),o[i++].push(Number(d.supervisorsCompensation).format()),o[i++].push(Number(d.supervisorsSatisfaction).format(1)+"%"),o[i++].push(Number(d.morale).format()),o[i++].push(Number(d.employeeTurnover).format()+"%"),o[i++].push(Number(d.employeeTurnoverYearly).format()+"%"),o[i++].values.push(Number(d.factoryProductivity).format(1)+"%"),s.hasOvertime&&(o[i++].push(this.tc("dailyOvertimeHours",{DAILY_OVERTIME:Number(d.dailyOvertime).format(1)})),o[i++].push(Number(d.lostFactoryProductivityDueOvertime).format(2)+"%"),o[i++].values.push(Number(d.factoryProductivityWithOvertime).format(1)+"%"))}return this.fpcTable=new DecisionTable(this.tc("competitorFactoryProductivity"),"fpcTable",n,o,!1,"green"),this.fpTable.draw()+"<br />"+this.fpcTable.draw()},observe:function(){this.fpTable.observe(),this.fpcTable.observe(),this.fpcTable.change("z-index",0)}})},74343:()=>{window.FactoryProductivityRegional=Decision.extend({style:"padding: 10px 10px 0px 10px;",viewModeButtons:[],modifyModeButtons:[],getRegionIterator:function(){return this.getIterator.apply(this,["regions","regionID",function(t,e){return!0},this.data.staticData].concat(Array.from(arguments)))},getTableData:function(){var t=this.data.staticData,e=[{values:[this.tc("workersCompensation")]},{values:[this.tc("workersSatisfaction")]}];return t.hasExecutiveCompensations&&e.push({values:[this.tc("supervisorsCompensation")]},{values:[this.tc("supervisorsSatisfaction")]}),e.push({values:[this.tc("morale")]},{values:[this.tc("turnover")]},{values:[this.tc("yearlyTurnover")]},{values:[this.tc(t.hasOvertime?"factoryProductivityWithoutOvertime":"factoryProductivity")],type:"total"}),t.hasOvertime&&e.push({values:[this.tc("dailyOvertime")]},{values:[this.tc("lostFactoryProductivityDueOvertime")]},{values:[this.tc("factoryProductivityWithOvertime")],type:"total"}),e.push({values:[this.tc("payroll")]},{values:[this.tc("excessLabor")]}),e},fillTableData:function(t,e){var i=this.data.staticData,s=0;t[s++].values.push(Number(e.workersCompensation.total).format()),t[s++].values.push(Number(e.workersSatisfaction).format(1)+"%"),i.hasExecutiveCompensations&&(t[s++].values.push(Number(e.supervisorsCompensation.total).format()),t[s++].values.push(Number(e.supervisorsSatisfaction).format(1)+"%")),t[s++].values.push(Number(e.morale).format()),t[s++].values.push(Number(e.employeeTurnover).format()+"%"),t[s++].values.push(Number(e.employeeTurnoverYearly).format()+"%"),t[s++].values.push(Number(e.factoryProductivity).format(1)+"%"),i.hasOvertime&&(t[s++].values.push(this.tc("dailyOvertimeHours",{DAILY_OVERTIME:Number(e.dailyOvertime).format(1)})),t[s++].values.push(Number(e.lostFactoryProductivityDueOvertime).format(2)+"%"),t[s++].values.push(Number(e.factoryProductivityWithOvertime).format(1)+"%")),t[s++].values.push(Number(e.payroll).format()),t[s++].values.push(Number(e.excessLabor).format())},getQuartersTable:function(t){for(var e=[{title:""}],i=this.getTableData(),s=0,a=this.tc("factoryProductivity")+" - "+t.regionName,n=0;n<t.quarters.length;++n){var r=t.quarters[n];r.isIn&&(e.push({title:this.tc("quarter",{QTR:r.quarter}),align:"right"}),this.fillTableData(i,r),s++)}return s>0?new DecisionTable(a,"fpTable_"+t.regionID,e,i,!1,"green"):null},getTeamsTable:function(t){for(var e=[{title:""}],i=this.getTableData(),s=0,a=this.data.staticData.teams.toLookUp("teamID"),n=this.tc("competitorFactoryProductivity")+" - "+t.regionName,r=0;r<t.teams.length;++r){var o=t.teams[r];o.isIn&&(e.push({title:a[o.teamID].companyName.escapeHTML(),align:"right"}),this.fillTableData(i,o),s++)}return s>0?new DecisionTable(n,"fpcTable_"+t.regionID,e,i,!1,"green"):null},draw:function(){var t=this,e="";return this.tables=[],this.getRegionIterator()((function(i,s){var a=t.getQuartersTable(s),n=t.getTeamsTable(s);a&&(t.tables.push(a),e+=a.draw()),n&&(t.tables.push(n),e+=n.draw())})),e},observe:function(){for(var t=0;t<this.tables.length;++t)this.tables[t].observe()}})},25028:()=>{window.FactorySimulation=Decision.extend({modifyModeButtons:["calculate","save","cancel"],style:"padding: 10px 10px 0px 10px;",read:function(){for(var t=0;t<this.data.decisions.brandsForSale.length;t++)(e=this.data.decisions.brandsForSale[t]).estimatedDemand=this.value("bsdemand_"+e.brandID),e.estimatedPrice=this.value("bsprice_"+e.brandID);for(t=0;t<this.data.decisions.brandsForProduction.length;t++){var e;(e=this.data.decisions.brandsForProduction[t]).estimatedDemand=this.value("bpdemand_"+e.brandID+"_"+e.teamID),e.estimatedPrice=this.value("bpprice_"+e.brandID+"_"+e.teamID)}},write:function(){for(var t=0;t<this.data.decisions.brandsForSale.length;t++){var e=this.data.decisions.brandsForSale[t];this.setValue("bsdemand_"+e.brandID,e.estimatedDemand),this.setValue("bsprice_"+e.brandID,e.estimatedPrice)}for(t=0;t<this.data.decisions.brandsForProduction.length;t++)e=this.data.decisions.brandsForProduction[t],this.setValue("bpdemand_"+e.brandID+"_"+e.teamID,e.estimatedDemand),this.setValue("bpprice_"+e.brandID+"_"+e.teamID,e.estimatedPrice)},writeErrors:function(){for(var t=0;t<this.data.errors.decisions.brandsForSale.length;t++){var e=this.data.errors.decisions.brandsForSale[t];this.writeError("bsdemand_"+e.brandID,e.estimatedDemand),this.writeError("bsprice_"+e.brandID,e.estimatedPrice)}for(t=0;t<this.data.decisions.brandsForProduction.length;t++);},writeCalculate:function(){var t=this.data.dynamicData.brandsForSale.toLookUp("brandID"),e=this.data.dynamicData.brandsForProduction.toLookUp("brandID","teamID");this.createTables(t,e),this.tables.forEach((function(t){t.change("replace",t.draw()),t.observe()}))},createTables:function(t,e){this.tables=[];var i=[{title:this.tc("brand")},{title:this.tc("startInventory"),align:"right"},{title:this.tc("produced"),align:"right"}];this.data.staticData.hasLogistics&&(i=i.concat([{title:this.tc("arrived"),align:"right"},{title:this.tc("totalInventory"),align:"right"}])),i=i.concat([{title:this.tc("netDemand"),align:"right"},{title:this.tc("sold"),align:"right"},{title:this.tc("lost"),align:"right"},{title:this.tc("endInventory"),align:"right"}]),this.data.staticData.hasLogistics&&(i=i.concat([{title:this.tc("toArrive"),align:"right"}]));for(var s=[],a=0;a<this.data.calculate.brandsForSale.length;a++){var n=[t[(r=this.data.calculate.brandsForSale[a]).brandID].name.escapeHTML(),(Number(t[r.brandID].startingInventory)-Number(t[r.brandID].sellUnwanted)).format(),Number(r.unitsProduced).format()];this.data.staticData.hasLogistics&&(n=n.concat([Number(r.arrived).format(),(Number(r.unitsProduced)+Number(r.arrived)).format()])),n=n.concat([Number(r.netDemand).format(),Number(r.sold).format(),Number(r.stockOuts).format(),Number(r.endInventory).format()]),this.data.staticData.hasLogistics&&(n=n.concat(["TODO"])),s.push(n)}for(a=0;a<this.data.calculate.brandsForProduction.length;a++)n=[e[(r=this.data.calculate.brandsForProduction[a]).brandID][r.teamID].name.escapeHTML(),0,r.unitsProduced],this.data.staticData.hasLogistics&&(n=n.concat([0,Number(r.unitsProduced).format()])),n=n.concat(["TODO",Number(r.sold).format(),Number(r.stockOuts).format(),Number(r.endInventory).format()]),this.data.staticData.hasLogistics&&(n=n.concat([0])),s.push(n);for(this.ipuTable=new DecisionTable(this.tc("ipUnits"),"ipuTable",i,s),this.tables.push(this.ipuTable),i=[{title:this.tc("brand")},{title:this.tc("unitsProduced"),align:"right"},{title:this.tc("material"),align:"right"},{title:this.tc("labor"),align:"right"},{title:this.tc("totOverhead"),align:"right"}],this.data.staticData.isPull&&(i=i.concat([{title:this.tc("changeover"),align:"right"}])),i=i.concat([{title:this.tc("average"),align:"right"}]),s=[],a=0;a<this.data.calculate.brandsForSale.length;a++)n=[t[(r=this.data.calculate.brandsForSale[a]).brandID].name.escapeHTML(),Number(r.unitsProduced).format(),Number(r.material).format(),Number(r.labor).format(),Number(r.overhead).format()],this.data.staticData.isPull&&(n=n.concat([Number(r.changeover).format()])),n=n.concat([Number(r.prodCost).format()]),s.push(n);for(a=0;a<this.data.calculate.brandsForProduction.length;a++)n=[e[(r=this.data.calculate.brandsForProduction[a]).brandID][r.teamID].name.escapeHTML(),Number(r.unitsProduced).format(),Number(r.material).format(),Number(r.labor).format(),Number(r.overhead).format()],this.data.staticData.isPull&&(n=n.concat([Number(r.changeover).format()])),n=n.concat([Number(r.prodCost).format()]),s.push(n);for(this.pcTable=new DecisionTable(this.tc("prodCost"),"pcTable",i,s),this.tables.push(this.pcTable),i=[{title:this.tc("brand")},{title:this.tc("startCost"),align:"right"},{title:this.tc("prodCost2"),align:"right"},{title:this.tc("avgCost"),align:"right"},{title:this.tc("endCost"),align:"right"}],s=[],a=0;a<this.data.calculate.brandsForSale.length;a++)n=[t[(r=this.data.calculate.brandsForSale[a]).brandID].name.escapeHTML(),Number(t[r.brandID].startingInvCost).format(),Number(r.prodCost).format(),Number(r.avgCost).format(),Number(r.endCost).format()],s.push(n);for(a=0;a<this.data.calculate.brandsForProduction.length;a++)n=[e[(r=this.data.calculate.brandsForProduction[a]).brandID][r.teamID].name.escapeHTML(),0,Number(r.prodCost).format(),Number(r.avgCost).format(),Number(r.endCost).format()],s.push(n);if(this.ipcTable=new DecisionTable(this.tc("ipCost"),"ipcTable",i,s),this.tables.push(this.ipcTable),this.data.staticData.isPull){for(i=[{title:this.tc("brand")},{title:this.tc("addedTime"),align:"right"},{title:this.tc("lostCapacity"),align:"right"},{title:this.tc("overhead"),align:"right"},{title:this.tc("dirLabor"),align:"right"},{title:this.tc("choverSpecCost"),align:"right"},{title:this.tc("choverUnitCost"),align:"right"}],s=[],a=0;a<this.data.calculate.brandsForSale.length;a++)n=[t[(r=this.data.calculate.brandsForSale[a]).brandID].name.escapeHTML(),Number(r.choverAddedTime).format(1),Number(r.choverLostCapacity).format(),Number(r.choverOverhead).format(),Number(r.choverLabor).format(),Number(r.choverCost).format(),Number(r.changeover).format()],s.push(n);for(a=0;a<this.data.calculate.brandsForProduction.length;a++){var r;n=[e[(r=this.data.calculate.brandsForProduction[a]).brandID][r.teamID].name.escapeHTML(),Number(r.choverAddedTime).format(1),Number(r.choverLostCapacity).format(),Number(r.choverOverhead).format(),Number(r.choverLabor).format(),Number(r.choverCost).format(),Number(r.changeover).format()],s.push(n)}this.ccTable=new DecisionTable(this.tc("changeoverCosts"),"ccTable",i,s),this.tables.push(this.ccTable)}(this.data.staticData.isEasyPush||this.data.staticData.isJustInTime)&&(i=[{title:""},{title:"",align:"right"}],s=[{title:this.tc("oc")},[this.tc("scheduledOC"),'<span id="effOC">'+Number(this.data.calculate.totalOC).format()+"</span>"],[this.tc("usedOC"),'<span id="effOCUtilized">'+Number(this.data.calculate.productionOC).format()+"</span>"],[this.tc("ocUtilization2"),'<span id="effOCUtilization">'+Number(this.data.calculate.productionOCPercent).format()+"</span>%"],{title:this.tc("excessCapacity")},[this.tc("unusedOC"),'<span id="unutilizedOC">'+Number(this.data.calculate.excessOC).format()+"</span>"],[this.tc("excessOC"),'<span id="excessOC">'+Number(this.data.calculate.excessOCPercent).format()+"</span>%"],[this.tc("overheadCost"),'<span id="excessLabor">'+(Number(this.data.calculate.excessLabor)+Number(this.data.calculate.excessOverhead)).format()+"</span>"]],this.ocuTable=new DecisionTable(this.tc("ocUtilization"),"ocuTable",i,s,!0),this.tables.push(this.ocuTable)),this.data.staticData.isPull&&(i=[{title:""},{title:"",align:"right"}],s=[{title:this.tc("factoryOverhead")},[this.tc("operatingOverhead"),'<span id="operatingOverhead">'+Number(this.data.calculate.operatingOverhead).format()+"</span>"],[this.tc("ocChangeCost"),'<span id="ocChangeCost">'+Number(this.data.calculate.costToChangeOC).format()+"</span>"],[this.tc("totalOverhead"),'<span id="totalOverhead">'+Number(this.data.calculate.totalOverhead).format()+"</span>"],{title:this.tc("prodOverhead")},[this.tc("plannedOC"),'<span id="plannedOC"></span>'],[this.tc("workersProd"),'<span id="workersProd"></span>'],[this.tc("effOC"),'<span id="effOC">'+Number(this.data.calculate.totalOC).format()+"</span>"],[this.tc("effOCUtilized"),'<span id="effOCUtilized">'+Number(this.data.calculate.productionOC).format()+"</span>"],[this.tc("effOCUtilization"),'<span id="effOCUtilization">'+Number(this.data.calculate.productionOCPercent).format()+"</span>%"],[this.tc("prodOverheadCosts"),'<span id="prodOverheadCosts">'+Number(this.data.calculate.productionOverhead).format()+"</span>"],{title:this.tc("choverOverhed")},[this.tc("lostDueChover"),'<span id="lostDueChover">'+Number(this.data.calculate.choverOC).format()+"</span>"],[this.tc("choverCapUtilization"),'<span id="choverCapUtilization">'+Number(this.data.calculate.choverOCPercent).format()+"</span>%"],[this.tc("choverOverheadCosts"),'<span id="choverOverheadCosts">'+Number(this.data.calculate.choverOverhead).format()+"</span>"],[this.tc("choverLabor"),'<span id="choverLabor">'+Number(this.data.calculate.choverLabor).format()+"</span>"],{title:this.tc("excessOverhead")},[this.tc("unutilizedOC"),'<span id="unutilizedOC">'+Number(this.data.calculate.excessOC).format()+"</span>"],[this.tc("excessOC"),'<span id="excessOC">'+Number(this.data.calculate.excessOCPercent).format()+"</span>%"],[this.tc("excessOverheadCosts"),'<span id="excessOverheadCosts">'+Number(this.data.calculate.excessOverhead).format()+"</span>"],[this.tc("excessLabor"),'<span id="excessLabor">'+Number(this.data.calculate.excessLabor).format()+"</span>"]],this.oaTable=new DecisionTable(this.tc("overheadAllocation"),"oaTable",i,s,!0),this.tables.push(this.oaTable))},draw:function(){var t,e,i="",s=this.data.dynamicData.brandsForSale.toLookUp("brandID"),a=this.data.dynamicData.brandsForProduction.toLookUp("brandID","teamID");t=[{title:this.tc("brand")},{title:this.tc("demand"),align:"right"},{title:this.tc("price"),align:"right"}],e=[];for(var n=0;n<this.data.decisions.brandsForSale.length;n++){var r=this.data.decisions.brandsForSale[n];e.push([s[r.brandID].name.escapeHTML(),this.com("iedit","bsdemand_"+r.brandID,r.estimatedDemand,{size:10}),this.com("iedit","bsprice_"+r.brandID,r.estimatedPrice,{size:10})])}for(n=0;n<this.data.decisions.brandsForProduction.length;n++)r=this.data.decisions.brandsForProduction[n],e.push([a[r.brandID][r.teamID].name.escapeHTML(),this.com("iedit","bpdemand_"+r.brandID+"_"+r.teamID,r.estimatedDemand,{size:10}),this.com("iedit","bpprice_"+r.brandID+"_"+r.teamID,r.estimatedPrice,{size:10})]);return this.pdTable=new DecisionTable(this.tc("projectedDemand"),"pdTable",t,e),i+=this.pdTable.draw()+"<br />",this.createTables(s,a),this.tables.forEach((function(t){i+=t.draw()})),i},observe:function(){this.pdTable.observe(),this.tables.forEach((function(t){t.observe()}))}})},56708:()=>{window.FactorySimulationRegional=Decision.extend({modifyModeButtons:["calculate","save","cancel"],style:"padding: 10px 10px 0px 10px;",read:function(){for(var t=0;t<this.data.decisions.brandsForSale.length;t++)(e=this.data.decisions.brandsForSale[t]).estimatedDemand=this.value("bsdemand_"+e.brandID),e.estimatedPrice=this.value("bsprice_"+e.brandID);for(t=0;t<this.data.decisions.brandsForProduction.length;t++){var e;(e=this.data.decisions.brandsForProduction[t]).estimatedDemand=this.value("bpdemand_"+e.brandID+"_"+e.teamID),e.estimatedPrice=this.value("bpprice_"+e.brandID+"_"+e.teamID)}},write:function(){for(var t=0;t<this.data.decisions.brandsForSale.length;t++){var e=this.data.decisions.brandsForSale[t];this.setValue("bsdemand_"+e.brandID,e.estimatedDemand),this.setValue("bsprice_"+e.brandID,e.estimatedPrice)}for(t=0;t<this.data.decisions.brandsForProduction.length;t++)e=this.data.decisions.brandsForProduction[t],this.setValue("bpdemand_"+e.brandID+"_"+e.teamID,e.estimatedDemand),this.setValue("bpprice_"+e.brandID+"_"+e.teamID,e.estimatedPrice)},writeErrors:function(){for(var t=0;t<this.data.errors.decisions.brandsForSale.length;t++){var e=this.data.errors.decisions.brandsForSale[t];this.writeError("bsdemand_"+e.brandID,e.estimatedDemand),this.writeError("bsprice_"+e.brandID,e.estimatedPrice)}for(t=0;t<this.data.decisions.brandsForProduction.length;t++);},writeCalculate:function(){var t=this.data.dynamicData.brandsForSale.toLookUp("brandID"),e=this.data.dynamicData.brandsForProduction.toLookUp("brandID","teamID");this.createTables(t,e),this.tables.forEach((function(t){t.change("replace",t.draw()),t.observe()}))},createTables:function(t,e){this.tables=[],cols=[{title:this.tc("brand")},{title:this.tc("startInventory"),align:"right"},{title:this.tc("produced"),align:"right"}],this.data.staticData.hasLogistics&&(cols=cols.concat([{title:this.tc("arrived"),align:"right"},{title:this.tc("totalInventory"),align:"right"}])),cols=cols.concat([{title:this.tc("netDemand"),align:"right"},{title:this.tc("sold"),align:"right"},{title:this.tc("lost"),align:"right"},{title:this.tc("endInventory"),align:"right"}]),this.data.staticData.hasLogistics&&(cols=cols.concat([{title:this.tc("toArrive"),align:"right"}])),dt=[];for(var i=0;i<this.data.calculate.brandsForSale.length;i++){var s=[t[(a=this.data.calculate.brandsForSale[i]).brandID].name.escapeHTML(),(Number(t[a.brandID].startingInventory)-Number(t[a.brandID].sellUnwanted)).format(),Number(a.unitsProduced).format()];this.data.staticData.hasLogistics&&(s=s.concat([Number(a.arrived).format(),(Number(a.unitsProduced)+Number(a.arrived)).format()])),s=s.concat([Number(a.netDemand).format(),Number(a.sold).format(),Number(a.stockOuts).format(),Number(a.endInventory).format()]),this.data.staticData.hasLogistics&&(s=s.concat(["TODO"])),dt.push(s)}for(i=0;i<this.data.calculate.brandsForProduction.length;i++)s=[e[(a=this.data.calculate.brandsForProduction[i]).brandID][a.teamID].name.escapeHTML(),0,a.unitsProduced],this.data.staticData.hasLogistics&&(s=s.concat([0,Number(a.unitsProduced).format()])),s=s.concat(["TODO",Number(a.sold).format(),Number(a.stockOuts).format(),Number(a.endInventory).format()]),this.data.staticData.hasLogistics&&(s=s.concat([0])),dt.push(s);for(this.ipuTable=new DecisionTable(this.tc("ipUnits"),"ipuTable",cols,dt),this.tables.push(this.ipuTable),cols=[{title:this.tc("brand")},{title:this.tc("unitsProduced"),align:"right"},{title:this.tc("material"),align:"right"},{title:this.tc("labor"),align:"right"},{title:this.tc("totOverhead"),align:"right"}],this.data.staticData.isPull&&(cols=cols.concat([{title:this.tc("changeover"),align:"right"}])),cols=cols.concat([{title:this.tc("average"),align:"right"}]),dt=[],i=0;i<this.data.calculate.brandsForSale.length;i++)s=[t[(a=this.data.calculate.brandsForSale[i]).brandID].name.escapeHTML(),Number(a.unitsProduced).format(),Number(a.material).format(),Number(a.labor).format(),Number(a.overhead).format()],this.data.staticData.isPull&&(s=s.concat([Number(a.changeover).format()])),s=s.concat([Number(a.prodCost).format()]),dt.push(s);for(i=0;i<this.data.calculate.brandsForProduction.length;i++)s=[e[(a=this.data.calculate.brandsForProduction[i]).brandID][a.teamID].name.escapeHTML(),Number(a.unitsProduced).format(),Number(a.material).format(),Number(a.labor).format(),Number(a.overhead).format()],this.data.staticData.isPull&&(s=s.concat([Number(a.changeover).format()])),s=s.concat([Number(a.prodCost).format()]),dt.push(s);for(this.pcTable=new DecisionTable(this.tc("prodCost"),"pcTable",cols,dt),this.tables.push(this.pcTable),cols=[{title:this.tc("brand")},{title:this.tc("startCost"),align:"right"},{title:this.tc("prodCost2"),align:"right"},{title:this.tc("avgCost"),align:"right"},{title:this.tc("endCost"),align:"right"}],dt=[],i=0;i<this.data.calculate.brandsForSale.length;i++)s=[t[(a=this.data.calculate.brandsForSale[i]).brandID].name.escapeHTML(),Number(t[a.brandID].startingInvCost).format(),Number(a.prodCost).format(),Number(a.avgCost).format(),Number(a.endCost).format()],dt.push(s);for(i=0;i<this.data.calculate.brandsForProduction.length;i++)s=[e[(a=this.data.calculate.brandsForProduction[i]).brandID][a.teamID].name.escapeHTML(),0,Number(a.prodCost).format(),Number(a.avgCost).format(),Number(a.endCost).format()],dt.push(s);if(this.ipcTable=new DecisionTable(this.tc("ipCost"),"ipcTable",cols,dt),this.tables.push(this.ipcTable),this.data.staticData.isPull){for(cols=[{title:this.tc("brand")},{title:this.tc("addedTime"),align:"right"},{title:this.tc("lostCapacity"),align:"right"},{title:this.tc("overhead"),align:"right"},{title:this.tc("dirLabor"),align:"right"},{title:this.tc("choverSpecCost"),align:"right"},{title:this.tc("choverUnitCost"),align:"right"}],dt=[],i=0;i<this.data.calculate.brandsForSale.length;i++)s=[t[(a=this.data.calculate.brandsForSale[i]).brandID].name.escapeHTML(),Number(a.choverAddedTime).format(1),Number(a.choverLostCapacity).format(),Number(a.choverOverhead).format(),Number(a.choverLabor).format(),Number(a.choverCost).format(),Number(a.changeover).format()],dt.push(s);for(i=0;i<this.data.calculate.brandsForProduction.length;i++){var a;s=[e[(a=this.data.calculate.brandsForProduction[i]).brandID][a.teamID].name.escapeHTML(),Number(a.choverAddedTime).format(1),Number(a.choverLostCapacity).format(),Number(a.choverOverhead).format(),Number(a.choverLabor).format(),Number(a.choverCost).format(),Number(a.changeover).format()],dt.push(s)}this.ccTable=new DecisionTable(this.tc("changeoverCosts"),"ccTable",cols,dt),this.tables.push(this.ccTable)}(this.data.staticData.isEasyPush||this.data.staticData.isJustInTime)&&(cols=[{title:""},{title:"",align:"right"}],dt=[{title:this.tc("oc")},[this.tc("scheduledOC"),'<span id="effOC">'+Number(this.data.calculate.totalOC).format()+"</span>"],[this.tc("usedOC"),'<span id="effOCUtilized">'+Number(this.data.calculate.productionOC).format()+"</span>"],[this.tc("ocUtilization2"),'<span id="effOCUtilization">'+Number(this.data.calculate.productionOCPercent).format()+"</span>%"],{title:this.tc("excessCapacity")},[this.tc("unusedOC"),'<span id="unutilizedOC">'+Number(this.data.calculate.excessOC).format()+"</span>"],[this.tc("excessOC"),'<span id="excessOC">'+Number(this.data.calculate.excessOCPercent).format()+"</span>%"],[this.tc("overheadCost"),'<span id="excessLabor">'+(Number(this.data.calculate.excessLabor)+Number(this.data.calculate.excessOverhead)).format()+"</span>"]],this.ocuTable=new DecisionTable(this.tc("ocUtilization"),"ocuTable",cols,dt,!0),this.tables.push(this.ocuTable)),this.data.staticData.isPull&&(cols=[{title:""},{title:"",align:"right"}],dt=[{title:this.tc("factoryOverhead")},[this.tc("operatingOverhead"),'<span id="operatingOverhead">'+Number(this.data.calculate.operatingOverhead).format()+"</span>"],[this.tc("ocChangeCost"),'<span id="ocChangeCost">'+Number(this.data.calculate.costToChangeOC).format()+"</span>"],[this.tc("totalOverhead"),'<span id="totalOverhead">'+Number(this.data.calculate.totalOverhead).format()+"</span>"],{title:this.tc("prodOverhead")},[this.tc("plannedOC"),'<span id="plannedOC"></span>'],[this.tc("workersProd"),'<span id="workersProd"></span>'],[this.tc("effOC"),'<span id="effOC">'+Number(this.data.calculate.totalOC).format()+"</span>"],[this.tc("effOCUtilized"),'<span id="effOCUtilized">'+Number(this.data.calculate.productionOC).format()+"</span>"],[this.tc("effOCUtilization"),'<span id="effOCUtilization">'+Number(this.data.calculate.productionOCPercent).format()+"</span>%"],[this.tc("prodOverheadCosts"),'<span id="prodOverheadCosts">'+Number(this.data.calculate.productionOverhead).format()+"</span>"],{title:this.tc("choverOverhed")},[this.tc("lostDueChover"),'<span id="lostDueChover">'+Number(this.data.calculate.choverOC).format()+"</span>"],[this.tc("choverCapUtilization"),'<span id="choverCapUtilization">'+Number(this.data.calculate.choverOCPercent).format()+"</span>%"],[this.tc("choverOverheadCosts"),'<span id="choverOverheadCosts">'+Number(this.data.calculate.choverOverhead).format()+"</span>"],[this.tc("choverLabor"),'<span id="choverLabor">'+Number(this.data.calculate.choverLabor).format()+"</span>"],{title:this.tc("excessOverhead")},[this.tc("unutilizedOC"),'<span id="unutilizedOC">'+Number(this.data.calculate.excessOC).format()+"</span>"],[this.tc("excessOC"),'<span id="excessOC">'+Number(this.data.calculate.excessOCPercent).format()+"</span>%"],[this.tc("excessOverheadCosts"),'<span id="excessOverheadCosts">'+Number(this.data.calculate.excessOverhead).format()+"</span>"],[this.tc("excessLabor"),'<span id="excessLabor">'+Number(this.data.calculate.excessLabor).format()+"</span>"]],this.oaTable=new DecisionTable(this.tc("overheadAllocation"),"oaTable",cols,dt,!0),this.tables.push(this.oaTable))},draw:function(){var t,e,i="",s=this.data.dynamicData.brandsForSale.toLookUp("brandID"),a=this.data.dynamicData.brandsForProduction.toLookUp("brandID","teamID");t=[{title:this.tc("brand")},{title:this.tc("demand"),align:"right"},{title:this.tc("price"),align:"right"}],e=[];for(var n=0;n<this.data.decisions.brandsForSale.length;n++){var r=this.data.decisions.brandsForSale[n];e.push([s[r.brandID].name.escapeHTML(),this.com("iedit","bsdemand_"+r.brandID,r.estimatedDemand,{size:10}),this.com("iedit","bsprice_"+r.brandID,r.estimatedPrice,{size:10})])}for(n=0;n<this.data.decisions.brandsForProduction.length;n++)r=this.data.decisions.brandsForProduction[n],e.push([a[r.brandID][r.teamID].name.escapeHTML(),this.com("iedit","bpdemand_"+r.brandID+"_"+r.teamID,r.estimatedDemand,{size:10}),this.com("iedit","bpprice_"+r.brandID+"_"+r.teamID,r.estimatedPrice,{size:10})]);return this.pdTable=new DecisionTable(this.tc("projectedDemand"),"pdTable",t,e),i+=this.pdTable.draw()+"<br />",this.createTables(s,a),this.tables.forEach((function(t){i+=t.draw()})),i},observe:function(){this.pdTable.observe(),this.tables.forEach((function(t){t.observe()}))}})},5290:(t,e,i)=>{"use strict";i(43256),window.FactoryWarehouseOperations=FactoryLocations.extend()},45182:()=>{window.FeatureRD=Decision.extend({style:"padding: 10px 10px 0px 10px;",prefixRdCost:"rdCost",prefixQtrToHave:"qtrToHave",prefixTotal:"featureRDtotal",read:function(){var t,e,i,s=this.data.decisions.rdFeatures;for(e=0,i=s.length;e<i;++e)1!=(t=s[e]).aquired&&(t.quarterToHave=this.value(this.prefixQtrToHave+t.featureID))},write:function(){var t,e,i,s=this.data.decisions.rdFeatures;for(e=0,i=s.length;e<i;++e)1!=(t=s[e]).aquired&&this.setValue(this.prefixQtrToHave+t.featureID,t.quarterToHave)},writeErrors:function(){var t,e,i,s=this.data.errors.decisions.rdFeatures;for(e=0,i=s.length;e<i;++e)1!=(t=s[e]).aquired&&this.writeError(this.prefixQtrToHave+t.featureID,t.quarterToHave,"center left",!0,3)},writeCalculate:function(){var t,e,i,s=this.data.calculate.rdFeatures;for(e=0,i=s.length;e<i;++e)1!=(t=s[e]).aquired&&this.setValue(this.prefixRdCost+t.featureID,Number(t.quarterlyCost).formatInt());this.setValue(this.prefixTotal,Number(this.data.calculate.total).formatInt())},draw:function(t){t=t||!1;var e,i,s,a,n,r,o,l=[],d=this.data.staticData,c=d.componentGroups,h=this.user.quarter(),p=[];for(this.luRdDecs=this.data.decisions.rdFeatures.toLookUp("featureID"),this.luRdCalc=this.data.calculate.rdFeatures.toLookUp("featureID"),e=h+1;e<=d.maxQuarterToHave;e++)p.push({value:e,label:this.tc("common:quarterShort",{QUARTER:e})});for(e=0,i=c.length;e<i;++e)if((r=c[e]).brandFeatures.length>0)for(s=0,a=(n=r.brandFeatures).length;s<a;++s)1!=(o=n[s]).aquired&&(!t||o.moneySpent>0||this.luRdDecs[o.featureID].quarterToHave>0)&&l.push([Format.rdFeatureName(r.groupName,o.featureName,o.featureTypes,d.brandTypes),o.moneySpent,'<span id="'+this.prefixRdCost+o.featureID+'">'+Number(this.luRdCalc[o.featureID].quarterlyCost).formatInt()+"</span>",this.com("combobox",this.prefixQtrToHave+o.featureID,this.luRdDecs[o.featureID].quarterToHave||0,{},p,"value","label",0,"-"),o.oneQuarterCost,2*o.twoQuarterCost,o.featurePrice]);return this.tblRd=new DecisionTable("","tblRd",[{title:this.tc("rdFeature")},{title:this.tc("alreadyInvested"),type:"number"},{title:this.tc("rdCost"),align:"right"},{title:this.tc("qtrToHave"),align:"right"},{title:this.tc("rdCost1Qtr"),type:"number"},{title:this.tc("rdCost2Qtrs"),type:"number"},{title:this.tc("materialCost"),type:"number"}],l),t&&(this.tblRd.tableCorners=""),this.labTotal=new DecisionLabel(this.service,"tblTotal",this.tc("totalExpense",{TOTAL_EXPENSE:'<span id="'+this.prefixTotal+'">'+Number(this.data.calculate.total).formatInt()+"</span>"})),t&&(this.labTotal.labelCorners=""),this.tblRd.draw()+this.labTotal.draw()},observe:function(){var t,e,i,s=this.data.decisions.rdFeatures;for(e=0,i=s.length;e<i;++e)1!=(t=s[e]).aquired&&this.bindCalculate(this.prefixQtrToHave+t.featureID,"change",!0);this.tblRd.observe(),this.labTotal.observe(),this.labTotal.change("float","left")},drawSOD:function(){var t=this.draw(!0);this.tblRd.data.length>0?(this.setValue(this.pfxSod+this.service,t),this.labTotal.change("float","left"),this.disable()):this.setValue(this.pfxSod+this.service,this.tc("noRDInvest"))}})},67191:(t,e,i)=>{"use strict";i(45182),window.FeatureRDAnim2=FeatureRD.extend({newDomDraw:!0,style:"padding: 10px;",initialize:function(t){this._super("FeatureRD")},prefixRdCost:"rdCost",prefixQtrToHave:"qtrToHave",prefixTotal:"total",getToFinishCell:function(t,e,i,s){var a,n=this.user.quarter();return a=i.quarterToHave>n?s.quarterlyCost*(i.quarterToHave-n):t.oneQuarterCost,"<div>"+Format.number(a)+"</div>"+'<div id="graphToFinish'+t.featureID+'" class="rdTableBottomHolder"></div>'},getQtrPayCell:function(t,e,i,s){var a,n,r=this.user.quarter();return i.quarterToHave>r?(n=s.quarterlyCost,a="<div>"+Format.number(n)+"</div>",a+='<div class="rdTableBottomHolder"></div>'):""},getAmountPaidCell:function(t){var e;return e=t.moneySpent,"<div>"+Format.number(e)+"</div>"+'<div id="graphPaid'+t.featureID+'" class="rdTableBottomHolder"></div>'},fillGraphs:function(t,e,i,s){var a,n,r,o,l,d,c=0,h=this.user.quarter(),p=120,u=-4;for(o=t.moneySpent,i.quarterToHave>h&&(o+=t.oneQuarterCost,c=i.quarterToHave-h),j$("#graphPaid"+t.featureID).html(""),l=[],a=1,n=h;a<n;a++)l[a]=t.moneySpentByQ[a+1]-t.moneySpentByQ[a],l[a];for(a=l.length,n=0;a>=n;a--)if(l[a]>0){var g=l[a]/o;(r=j$('<div class="rdGraphCell"></div>')).css({width:Math.max(p*g,1),right:u}),u+=p*g+2,j$("#graphPaid"+t.featureID).append(r),d=p*g>18?this.tc("common:quarterShort",{QUARTER:a}):"",r.append('<div class="rdGraphCellPaid"></div>'+d+'<div style="clear:both;"></div>')}for(u=-4,a=0;a<c;a++){var m;g=s.quarterlyCost/o,(r=j$('<div class="rdGraphCell"></div>')).css({width:Math.max(p*g,1),left:u}),u+=p*g+2,j$("#graphToFinish"+t.featureID).append(r),d=p*g>18?this.tc("common:quarterShort",{QUARTER:h+a}):"",m=a==c-1?'<div class="rdGraphCellEndLine"></div>':"",r.append('<div class="rdGraphCellToFinish">'+m+"</div>"+d+'<div style="clear:both;"></div>')}},getTableImage:function(t,e){var i,s,a,n,r,o=this.data.staticData;return this.st("includeImages")&&(a=j$('<div class="rdTableImgWrap"></div>'),1==e.aquired?s=this.st("features:fimg_"+e.featureUID):(s=this.st("rdfimg_"+e.featureUID),e.moneySpent>0&&(n=j$('<img src="'+this.st("features:fimg_"+e.featureUID)+'" class="rdTablePhantomImg" alt="" />'),a.append(n))),r=j$('<img src="'+s+'" class="rdTableImg" alt="" />'),a.append(r)),i=j$('<div style="display: table;"></div>'),this.st("includeImages")&&i.append(a),i.append('<div class="rdTableValign">'+Format.rdFeatureName("",e.featureName,e.featureTypes,o.brandTypes,!0)+'<span id="rdExp_'+e.featureUID+'"></span></div>'),i},setCosts:function(){var t,e,i,s,a,n,r,o=this.data.staticData.componentGroups,l=this.data.calculate.rdFeatures.toLookUp("featureID");for(this.luRdDecs=this.data.decisions.rdFeatures.toLookUp("featureID"),this.luRdCalc=this.data.calculate.rdFeatures.toLookUp("featureID"),t=0,e=o.length;t<e;++t)if((n=o[t]).brandFeatures.length>0)for(i=0,s=(a=n.brandFeatures).length;i<s;++i)1!=(r=a[i]).aquired&&(j$("#toFinish_"+r.featureID).html(this.getToFinishCell(r,this.luRdCalc[r.featureID],this.luRdDecs[r.featureID],l[r.featureID])),j$("#qtrPay_"+r.featureID).html(this.getQtrPayCell(r,this.luRdCalc[r.featureID],this.luRdDecs[r.featureID],l[r.featureID])),j$("#spent_"+r.featureID).html(this.getAmountPaidCell(r)),this.fillGraphs(r,this.luRdCalc[r.featureID],this.luRdDecs[r.featureID],l[r.featureID]))},writeCalculate:function(){var t,e,i,s=this.data.calculate.rdFeatures;for(e=0,i=s.length;e<i;++e)1!=(t=s[e]).aquired&&this.setValue(this.prefixRdCost+t.featureID,Number(t.quarterlyCost).formatInt());this.setValue(this.prefixTotal,Number(this.data.calculate.total).formatInt()),this.setCosts(),this.lastRowData&&this.changeSidePane(this.lastRowData)},draw:function(t){var e,i,s,a,n,r,o,l,d=[],c=[],h=this.data.staticData,p=h.componentGroups,u=this.user.quarter();for(this.luRdDecs=this.data.decisions.rdFeatures.toLookUp("featureID"),this.luRdCalc=this.data.calculate.rdFeatures.toLookUp("featureID"),this.sidePane=new SidePane(this,this.contentElement,t),this.sidePane.width=178,this.sidePane.draw(),this.sidePane.ariaHide(),e=[{title:this.tc("rdFeature"),vline:!0},{title:this.tc("readyToUse"),align:"right",cellId:"readyToUse"},{title:this.tc("amountPaid"),align:"right",vline:!0},{title:this.tc("costToFinish"),align:"left"},{title:this.tc("quarterlyPayment"),align:"right"}],i=u+1;i<=h.maxQuarterToHave;i++)c.push({value:i,label:this.tc("common:quarterShort",{QUARTER:i})});for(i=0,s=p.length;i<s;++i)if((o=p[i]).brandFeatures.length>0)for(d.push({title:o.groupName,cellId:"g"+o.groupID}),a=0,n=(r=o.brandFeatures).length;a<n;++a){l=r[a];var g=[];g.push({title:'<span id="tableImg_'+l.featureID+'"></span>',cellId:"f"+l.featureID}),l.aquired?(g.push(null),g.push(Format.number(l.moneySpent)+'<div class="rdTableBottomHolder"></div>'),g.push(null),g.push('<span style="font-style: italic; color: #444444;">'+this.tc("completed")+'</span><div class="rdTableBottomHolder"></div>')):(g.push(this.com("combobox",this.prefixQtrToHave+l.featureID,this.luRdDecs[l.featureID].quarterToHave||0,{"aria-labelledby":"f"+l.featureID+" g"+o.groupID+" readyToUse"},c,"value","label",0,"-")+'<div class="rdTableBottomHolder"></div>'),g.push('<div id="spent_'+l.featureID+'"></div>'),g.push('<span id="toFinish_'+l.featureID+'"></span>'),g.push('<span id="qtrPay_'+l.featureID+'"></span>')),d.push({values:g,rowData:{bf:l,cg:o}})}d.push({values:[this.tc("totalExpensesThisQ"),null,null,null,'<span id="'+this.prefixTotal+'">'+Number(this.data.calculate.total).formatInt()+"</span>"],type:"total"}),this.table=new DecisionTable(this.tc("rdProjects"),"tblRd",e,d),t.append(this.table.draw())},onModifyScene:function(){this.sidePane&&this.sidePane.activate()},onCancelScene:function(){this.sidePane&&this.sidePane.deactivate()},onSaveScene:function(){this.sidePane&&this.sidePane.deactivate()},resize:function(){this.sidePane&&(this.sidePane.resize(),this.tableElement&&this.tableElement.css({"max-width":this.contentElement.width()-this.sidePane.width-40+"px"}))},destroy:function(){this.sidePane&&this.sidePane.destroy(),this._super()},changeSidePane:function(t){var e,i,s,a=this.sidePane.content,n=this.data.staticData,r=this.user.quarter();(this.luRdDecs=this.data.decisions.rdFeatures.toLookUp("featureID"),this.luRdCalc=this.data.calculate.rdFeatures.toLookUp("featureID"),t)?(i=t.bf,this.st("includeImages")&&(1==i.aquired?(s=this.st("features:fimg_"+i.featureUID),this.rpImgWrap.toggleClass("completed",!0)):(s=this.st("rdfimg_"+i.featureUID),this.rpImgWrap.toggleClass("completed",!1)),this.rpImg?this.rpImg.prop("src",s):(this.rpImg=j$('<img src="'+s+'" class="rdSidePaneImg" alt="" />'),this.rpImgWrap.append(this.rpImg))),this.rpImgStrip&&this.rpImgStrip.remove(),(this.luRdDecs[i.featureID].quarterToHave>r||i.moneySpent&&0==this.luRdDecs[i.featureID].quarterToHave)&&(e=this.luRdDecs[i.featureID].quarterToHave>r?this.tc("readyInQ",{QUARTER:this.luRdDecs[i.featureID].quarterToHave}):this.tc("paused"),this.st("includeImages")?(this.rpImgStrip=j$('<div class="rdImgStrip">'+e+"</div>"),this.rpImgWrap.append(this.rpImgStrip)):(this.rpImgStrip=j$('<div class="rdImgStripSimple">'+e+"</div>"),this.rpImgPreWrap.append(this.rpImgStrip))),this.rpFeatDescWrap.html(""),this.rpFeatDescWrap.append('<div class="rdFeatDescText">'+i.featureDesc+"</div>"),this.rpCompCostVal.html(i.featurePrice),this.rpCompTypesVal.html(Format.rdFeatureTypes(i.featureTypes,n.brandTypes,", "))):(this.rpImgPreWrap=j$('<div class="rdSidePaneImgPreWrap"></div>'),this.rpImgWrap=j$('<div class="rdSidePaneImgWrap"></div>'),a.append(this.rpImgPreWrap),this.st("includeImages")&&a.append(this.rpImgWrap),this.rpFeatDescWrap=j$('<div class="rdFeatDescWrap"></div>'),this.rpFeatDescWrap.append('<img src="'+this.st("comDescDummy")+'" class="rdFeatDescDummy" alt="" />'),a.append(this.rpFeatDescWrap),this.rpCompCost=j$('<div class="rdCompInfo rdFeatDescWrap"></div>'),this.rpCompCostTitle=j$('<div class="rdSidePaneSTitle">'+this.tc("compCost")+"</div>"),this.rpCompCost.append(this.rpCompCostTitle),this.rpCompCostVal=j$('<span class="rdCompCostVal"></span>'),this.rpCompCostVal.append('<img src="'+this.st("comCostDummy")+'" class="rdCompCostDummy" alt="" />'),this.rpCompCostTitle.append(this.rpCompCostVal),a.append(this.rpCompCost),this.rpCompTypes=j$('<div class="rdCompInfo rdFeatDescWrap"></div>'),this.rpCompTypes.append('<div class="rdSidePaneSTitle">'+this.tc("compatibleTypes")+"</div>"),this.rpCompTypesVal=j$('<div class="rdCompTypesVal"></div>'),this.rpCompTypesVal.append('<img src="'+this.st("comCostDummy")+'" class="rdCompTypesDummy" alt="" />'),this.rpCompTypes.append(this.rpCompTypesVal),a.append(this.rpCompTypes))},onSelRD:function(t,e){this.lastRowData=t,this.changeSidePane(t),e=j$(e),this.sidePane&&this.sidePane.positionArrow(!0,e.position().top,e.outerHeight())},observe:function(){var t,e,i,s,a,n,r,o=this.data.staticData,l=o.componentGroups,d=0;for(this.table.doDeselect=!1,this.table.onSelectRowEvent=j$.proxy(this.onSelRD,this),this.table.observe(),this.tableElement=j$("#tblRd"),r=this.tableElement.find("tbody").find("tr"),t=0,e=l.length;t<e;++t)if((n=l[t]).brandFeatures.length>0)for(d++,i=0,s=(a=n.brandFeatures).length;i<s;++i){var c=a[i];j$("#tableImg_"+c.featureID).html(this.getTableImage(n,c));var h=new DropDownStaticExplanation("rdExp_"+c.featureUID,this.tc("featureDesc"),c.featureDesc+"<br /><br /><b> "+this.tc("compCost")+" "+c.featurePrice+"</b><br /> "+this.tc("compatibleTypes")+" "+Format.rdFeatureTypes(c.featureTypes,o.brandTypes,", "));h.useContentElement=!0,h.setVisuallyHidden(!0),c.aquired?j$(r[d]).toggleClass("greenBackground",!0):this.bindCalculate(this.prefixQtrToHave+c.featureID,"change",!0),d++}this.setCosts(),this.changeSidePane(),this.writeExplanations()}})},25224:()=>{window.Feedback=Decision.extend({sendCalculate:!1,style:"padding: 10px 10px 0px 10px",hideButtonsInLastQuarter:!1,read:function(){this.data.decisions.disagreeExplanation=this.value("disagreeExplanation");for(var t=0;t<this.data.decisions.options.length;t++)for(var e=this.data.decisions.options[t],i=1;i<=5;i++)this.value("feed_"+e.optionID+"_"+i)&&(e.value=i)},write:function(){this.setValue("disagreeExplanation",this.data.decisions.disagreeExplanation);for(var t=0;t<this.data.decisions.options.length;t++)for(var e=this.data.decisions.options[t],i=1;i<=5;i++)this.setValue("feed_"+e.optionID+"_"+i,e.value)},writeErrors:function(){this.writeError("disagreeExplanation",this.data.errors.decisions.disagreeExplanation,"center right",!0,3)},draw:function(){for(var t=[{title:""},{title:this.tc("sagree"),align:"center",cellId:"feel_1"},{title:this.tc("agree"),align:"center",cellId:"feel_2"},{title:this.tc("not_sure"),align:"center",cellId:"feel_3"},{title:this.tc("disagree"),align:"center",cellId:"feel_4"},{title:this.tc("sdisagree"),align:"center",cellId:"feel_5"}],e=[],i=this.data.decisions.options.toLookUp("optionID"),s=0;s<this.data.staticData.options.length;s++){for(var a=this.data.staticData.options[s],n=(i[a.optionID].value,[{title:'<div style="display:flex;"><span style="min-width: 25px;">'+(s+1)+".</span><span>"+a.text+"</span></div>",cellId:"option_"+a.optionID}]),r=1;r<=5;r++)n.push(this.com("radio","feed_"+a.optionID,i[a.optionID].value,{"aria-labelledby":"option_"+a.optionID+" feel_"+r},r));e.push({values:n})}this.introLabel=new DecisionLabel(this.service,"intro",this.tc("introduction")),this.fTable=new DecisionTable("","feedTable",t,e);var o=this.com("memo","disagreeExplanation",this.data.decisions.disagreeExplanation,{style:"margin-top: 5px;",cols:100,label:this.tc("disagree_explan")});return this.fLabel=new DecisionLabel(this.service,"feedLabel",o),this.introLabel.draw()+this.fTable.draw()+this.fLabel.draw()},observe:function(){this.introLabel.observe(),this.fTable.observe(),this.fLabel.observe(),j$("#disagreeExplanation").css({resize:"vertical",width:"98%"})}})},92463:()=>{window.FinalCheck=Decision.extend({viewModeButtons:[],modifyModeButtons:[],sendCalculate:!1,sendErrors:!1,style:"padding: 10px 10px 0px 10px;",getUpdatedText:function(t,e){var i,s,a,n,r,o,l,d='<div id="e_'+t.id+'">';if(t.visible=!0,(s=t.params.length)>0)for(i=0;i<s;++i){for(o=t.text,n=0,r=(a=t.params[i]).items.length;n<r;++n)o=o.replace(new RegExp("{"+a.items[n].name+"}","gi"),'<span style="font-weight:bold;">'+a.items[n].value+"</span>");1==i&&(d+=this.cf.getButton(this.moreText,"more_"+t.id,this.moreClick.bind(this,t),"","display:block; margin-bottom:6px;")),d+='<div class="e_item '+e+'" style="padding-bottom: 5px;" >'+o+"</div>"}else d+='<div class="e_item '+e+'" style="padding-bottom: 5px;" >'+t.text+"</div>";if((s=t.decisions.length)>0&&"undefined"!=typeof Engine){for(d+='<div style="color: #000000;">'+(s>1?this.tc("links"):this.tc("link")),i=0;i<s;++i)null!=(l=Engine.getResource(t.decisions[i].toLowerCase()))&&(d+="<br />"+this.cf.getLink(l.title,"action_"+t.id+"_"+i,this.runClick.bind(this,t.decisions[i]),""));d+="</div>"}else t.params.length>1&&(d+="<div>&nbsp;</div>");return d+"</div>"},draw:function(){var t,e,i,s=this.data.dynamicData.errors,a=this.data.dynamicData.warnings,n=this.data.dynamicData.notes,r="";if(this.texts=[],this.styles={},this.moreText=this.tc("more"),this.lessText=this.tc("less"),s.length>0||a.length>0||n.length>0){if(s.length>0){for(t='<h2 class="plainHeader errorHeader"><span class="errorText">'+this.tc("errors")+'</span><img src="'+this.st("errorSml")+'" class="errorTextImage" alt="" /></h2>',e=0,i=s.length;e<i;++e)t+='<hr class="error" />'+this.getUpdatedText(s[e],"errorMessage");this.texts.push(new DecisionLabel(this.service,"errors",t,"","error"))}if(a.length>0){for(t='<h2 class="plainHeader warningHeader"><span class="errorText">'+this.tc("warnings")+'</span><img src="'+this.st("warningSml")+'" class="errorTextImage" alt="" /></h2>',e=0,i=a.length;e<i;++e)t+='<hr class="warning" />'+this.getUpdatedText(a[e],"warningMessage");this.texts.push(new DecisionLabel(this.service,"warnings",t,"","warning"))}if(n.length>0){for(t='<h2 class="plainHeader noteHeader"><span class="errorText">'+this.tc("notes")+'</span><img src="'+this.st("noteSml")+'" class="errorTextImage" alt="" /></h2>',e=0,i=n.length;e<i;++e)t+='<hr class="note" />'+this.getUpdatedText(n[e],"noteMessage");this.texts.push(new DecisionLabel(this.service,"notes",t,"","note"))}}else this.texts.push(new DecisionLabel(this.service,"noErrors",this.tc("no_errors"))),this.styles["text-align"]="center",this.styles.padding="50px",this.styles["font-size"]="larger",this.styles["font-weight"]="bold";for(e=0,i=this.texts.length;e<i;++e)r+=this.texts[e].draw();return r},moreClick:function(t){var e,i,s=j$("#e_"+t.id).find("div.e_item");if(t.visible){for(e=1,i=s.length;e<i;++e)s.eq(e).hide();j$("#more_"+t.id).html(this.moreText)}else{for(e=1,i=s.length;e<i;++e)s.eq(e).show();j$("#more_"+t.id).html(this.lessText)}t.visible=!t.visible},runClick:function(t){Engine.getResource(t.toLowerCase()),Engine.startPage({parentResource:"",resource:t.toLowerCase(),tab:"workspace",params:null},Engine.focusActiveTab.bind(Engine))},observe:function(){var t,e,i=this.data.dynamicData.errors,s=this.data.dynamicData.warnings,a=this.data.dynamicData.notes;for(t=0,e=this.texts.length;t<e;++t)this.texts[t].change("css",this.styles),this.texts[t].observe();for(t=0,e=i.length;t<e;++t)i[t].params.length>1&&this.moreClick(i[t]);for(t=0,e=s.length;t<e;++t)s[t].params.length>1&&this.moreClick(s[t]);for(t=0,e=a.length;t<e;++t)a[t].params.length>1&&this.moreClick(a[t])}})},66406:(t,e,i)=>{"use strict";var s=i(93037),a=i(82626),n=i(63714);window.FinanceReport=a.Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",stmt:"",hideGraphLinks:!1,disableLinks:!1,initSettings:function(){return{voIndex:0}},draw:function(){var t,e,i,s,a,n,r,o,l,d,c,h,p,u="",g=[{title:"",header:!0}],m=[],b=[],f=this.data.staticData,v=f.quarters,y=f.sections;if(o=j$.proxy(this.colClick,this),void 0===this.vo&&(this.vo=[],t=0,v>6&&this.vo.push({id:t++,label:this.tc("6Qtrs"),start:v-6+1,length:6}),v>4&&(this.vo.push({id:t++,label:this.tc("allQtrs"),start:1,length:v}),this.vo.push({id:t++,label:this.tc("year1"),start:1,length:4}),this.vo.push({id:t++,label:this.tc("year2"),start:5,length:4})),v>8&&this.vo.push({id:t,label:this.tc("year3"),start:9,length:4})),this.vo.length>0){var w=this.com("combobox","period",this.settings.voIndex,{label:this.tc("period")},this.vo,"id","label");this.keepEnabled.push("period"),this.stLabel=new DecisionLabel("",this.stmt+"Period",w),u+=this.stLabel.draw()}else this.stLabel=null;for(this.showGraphLinks="undefined"!=typeof Engine&&null!=Engine.getResource("strategicgraphs"),r="undefined"!=typeof Engine,this.hideGraphLinks&&(this.showGraphLinks=!1),this.disableLinks&&(r=!1),l=this.tc("quarter"),t=0;t<v;++t)g.push({title:l+" "+(t+1),type:"number"});for(this.showGraphLinks&&g.push({title:'<span class="offscreen">'+this.tc("common:graph")+"</span>",align:"center"}),t=0,e=y.length;t<e;++t)for(""!=(d=y[t]).name.trim()&&m.push({title:d.name}),i=0,s=(h=d.items).length;i<s;++i){if(c=[(p=h[i]).name].concat(p.quarters),b=[null],0!=p.sign&&r)for(a=0,n=p.quarters.length;a<n;a++)b.push({type:"click",linkStyle:"underLink",call:o,data:{action:"accDetail",id:p.id,qtr:a+1}});else for(a=0,n=p.quarters.length;a<n;a++)b.push(null);this.showGraphLinks&&(void 0===p.graph.category?(c[v+1]="",b.push(null)):(c[v+1]='<img src="'+this.st("common:graphLink")+'" alt="'+this.tc("showGraph",{NAME:p.name})+'" title="'+this.tc("showGraph",{NAME:p.name})+'" />',b.push({type:"click",call:o,data:{action:"graph",graph:p.graph}}))),0==p.sign?m.push({values:c,type:"total",actions:b}):m.push({values:c,actions:b})}return this.stTable=new DecisionTable(this.tc(this.stmt),this.stmt+"Table",g,m,!1,"wooden"),u+this.stTable.draw()},observe:function(){this.stTable.observe(),this.stTable.stickHeaders(this.contentElement),this.stTable.stickFirstColumn(this.contentElement),null!=this.stLabel&&(this.stLabel.observe(),this.stLabel.change("float","left")),this.vo.length>0&&this.showQuarters(this.vo[this.settings.voIndex].start,this.vo[this.settings.voIndex].length),j$("#period").on("change",j$.proxy(this.ddChange,this))},showAccountingDetail:function(t,e,i){s.Live.accountingDetailDropDown?new n.DropDownAccountingDetail(i.target,t,e,!1,"ddac","accounting_detail",j$("body")).events.click(i):Engine.showAccountingDetail(t,e,!1)},colClick:function(t,e){var i,s,a,n,r;i=t.action,t.id&&(n=t.id),t.qtr&&(r=t.qtr),t.graph&&t.graph.category&&(s=t.graph.category),t.graph&&t.graph.graph&&(a=t.graph.graph),"accDetail"==i&&this.showAccountingDetail(n,r,e),"graph"==i&&Engine.showNewWindow("strategicgraphs","StrategicGraphs",s+";"+a)},showQuarters:function(t,e){var i,s=this.data.staticData.quarters,a=this.stTable.jelement();for(i=1;i<=s;++i)this.setColumnVisibility(a,i+1,i>=t&&i<t+e)},setColumnVisibility:function(t,e,i){i?(t.find("tr > th:nth-child("+e+")").show(),t.find("tr > td:nth-child("+e+")").show()):(t.find("tr > th:nth-child("+e+")").hide(),t.find("tr > td:nth-child("+e+")").hide())},ddChange:function(){this.settings.voIndex=this.value("period"),this.saveSettings(),this.showQuarters(this.vo[this.settings.voIndex].start,this.vo[this.settings.voIndex].length)},destroy:function(){this.dd=null,this.stTable.destroy(),this._super()}})},6843:()=>{window.FinancialPosition=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",draw:function(){var t=this.data.staticData,e=[];return e.push([this.tc("unusedFinancePQ"),Number(t.unusedFinancesPriorQtr).format()],[this.tc("profit"),Number(t.operatingProfitPriorQtr).format()],{values:[this.tc("netInvestment"),Number(t.netInvestment).format()],type:"total"},[this.tc("newInvestment"),Number(t.newInvestment).format()],{values:[this.tc("available"),Number(t.available).format()],type:"total"},{title:this.tc("expenses")},[this.tc("rdFeatures"),Number(t.rd).format()],[this.tc("soSetup"),Number(t.soOpen).format()],{values:[this.tc("unusedFinance"),Number(t.unusedFinances).format()],type:"total"}),this.fpTable=new DecisionTable(this.tc("budget"),"fpTable",[{title:"",header:!0},{title:"",align:"right"}],e,!0,"concrete"),this.fpTable.draw()},observe:function(){this.fpTable.observe()},destroy:function(){this.fpTable=null,this._super()}})},63937:()=>{window.FinancialRatios=Decision.extend({viewModeButtons:[],modifyModeButtons:[],cssExplanExt:"-wooden",style:"padding: 10px 10px 0px 10px;",draw:function(){var t,e,i,s,a,n,r,o,l,d,c,h=this.data.staticData,p="";for(this.tables=[],t=0,e=h.groups.length;t<e;++t){for(i=h.groups[t],d=[{title:this.tc("ratio"),vline:!0},{title:this.tc("lowest"),align:"right"},{title:this.tc("highest"),align:"right"}],h.group==i.group?d.push({title:this.tc("average"),align:"right",vline:!0},{title:h.companyName.escapeHTML(),align:"right"}):d.push({title:this.tc("average"),align:"right"}),c=[],s=0,a=i.categories.length;s<a;++s)for(n=i.categories[s],c.push({title:this.tc(n.categoryID)}),r=0,o=n.ratios.length;r<o;++r)l=n.ratios[r],h.group==i.group?c.push([this.extc(l.ratioID+"Calc_"+i.group,l.ratioID),l.lowestNA?this.tc("na"):Number(l.lowest).format(n.precision),l.highestNA?this.tc("na"):Number(l.highest).format(n.precision),l.averageNA?this.tc("na"):Number(l.average).format(n.precision),l.teamValueNA?this.tc("na"):Number(l.teamValue).format(n.precision)]):c.push([this.extc(l.ratioID+"Calc_"+i.group,l.ratioID),l.lowestNA?this.tc("na"):Number(l.lowest).format(n.precision),l.highestNA?this.tc("na"):Number(l.highest).format(n.precision),l.averageNA?this.tc("na"):Number(l.average).format(n.precision)]);this.tables.push(new DecisionTable(this.tc("industryRatios"+(h.groups.length>1?"_"+i.group:"")),"frTable_"+i.group,d,c,!1,"wooden")),p+=this.tables[this.tables.length-1].draw()}return p},observe:function(){for(var t=0;t<this.tables.length;t++)this.tables[t].observe()}})},18887:()=>{window.FinancialResources=Decision.extend({style:"padding: 10px 10px 0px 10px;",hideButtonsInLastQuarter:!1,read:function(){var t,e,i=this.data.staticData,s=this.data.decisions,a=i.resources.length;for(s.resources=[],t=0;t<a;++t)e=i.resources[t],s.resources.push({id:e.id,priority:this.value("res_"+e.id)})},write:function(){var t,e,i,s=this.data.staticData,a=this.data.decisions.resources.toLookUp("id"),n=s.resources.length;for(t=0;t<n;++t)i=a[(e=s.resources[t]).id],this.setValue("res_"+e.id,i.priority)},writeErrors:function(){var t,e,i,s=this.data.staticData,a=this.data.errors.decisions.resources.toLookUp("id"),n=s.resources.length;for(t=0;t<n;++t)i=a[(e=s.resources[t]).id],this.writeError("res_"+e.id,i.priority)},draw:function(){var t,e,i,s,a,n=this.data.staticData,r=this.data.decisions.resources.toLookUp("id"),o=n.resources.length,l=[];if(l.push({title:this.tc("currentEquity")}),this.user.quarter()>1&&(l.push([this.tc("investment"),n.investment]),l.push([this.tc("retainedEarnings"),n.retainedEarnings]),l.push({values:[this.tc("netEquity"),n.netEquity],type:"total"})),l.push([this.tc("newInvestment"),n.newInvestment]),l.push({values:[this.tc("totalEquity"),n.totalEquity],type:"total"}),(a=n.futureInvestments.length)>0)for(l.push({title:this.tc("projectedEquity")}),s=0;s<a;++s)l.push([this.tc("quarter",{QUARTER:n.futureInvestments[s].quarter}),n.futureInvestments[s].investment]);for(this.user.quarter()>1&&(l.push({title:this.tc("liquidResources")}),l.push([this.tc("cash"),n.cash]),l.push([this.tc("cd"),n.cd]),l.push({values:[this.tc("totalCash"),n.totalCash],type:"total"})),(n.hasShortTermLoan||n.hasLongTermLoan)&&(l.push({title:this.tc("additionalCash")}),n.hasShortTermLoan&&l.push([this.tc("unusedShort"),n.unusedShort]),n.hasLongTermLoan&&l.push([this.tc("unusedLong"),n.unusedLong])),this.frTable=new DecisionTable(this.tc("resources"),"frTable",[{title:""},{title:"",type:"number"}],l,!0),l=[],t=0;t<o;++t)i=r[(e=n.resources[t]).id],l.push([this.com("iedit","res_"+e.id,i.priority,{size:2}),e.name]);return this.oTable=new DecisionTable(this.tc("priorities"),"oTable",[{title:this.tc("priority"),align:"center"},{title:this.tc("option")}],l),this.frTable.draw()+this.oTable.draw()},observe:function(){this.frTable.observe(),this.oTable.observe()},drawSOD:function(){var t,e,i,s=this.data.staticData,a=this.data.decisions.resources.toLookUp("id"),n=s.resources.length,r="",o=[];for(t=0;t<n;++t)(i=a[(e=s.resources[t]).id]).priority>0&&o.push({priority:i.priority,name:e.name});var l=o.length;if(l>0){o.sort((function(t,e){return t.priority-e.priority})),r=this.tcLbl("priorities")+"<ol>";for(var d=0;d<l;++d)r+="<li>"+o[d].name+"</li>";r+="</ol>"}this.setValue(this.pfxSod+this.service,r)}})},83400:()=>{window.FixedCapacity=Decision.extend({style:"padding: 10px 10px 0px 10px;",getCapacityIterator:function(){return this.getIterator.apply(this,["capacityOptions","units",function(){return!0},this.data.staticData].concat(Array.from(arguments)))},mustChooseSupplier:function(){return this.data.staticData.suppliers.length>1},read:function(){var t=this;this.getCapacityIterator()((function(e){t.value("capOption_"+e)&&(t.data.decisions.increase=e)})),this.mustChooseSupplier()&&(this.data.decisions.supplier=this.value("supplier"))},write:function(){var t=this;this.getCapacityIterator()((function(e){t.setValue("capOption_"+e,t.data.decisions.increase)})),this.mustChooseSupplier()&&this.setValue("supplier",this.data.decisions.supplier)},writeErrors:function(){this.mustChooseSupplier()&&this.writeError("supplier",this.data.errors.decisions.supplier,"center right",!0,3)},writeCalculate:function(){var t=Number(this.data.decisions.increase),e=Number(this.data.staticData.fixedCapacity)+t;this.resTable.data[1].values[1]=t,this.resTable.data[1].values[2]=65*t,this.resTable.data[2].values[1]=e,this.resTable.data[2].values[2]=65*e,this.resTable.redrawTableData()},showCapacityPerUnit:function(){var t=!1,e=0;return this.getCapacityIterator()((function(i,s){if(i>0){var a=Math.round(s.cost/i);e>0&&e!==a&&(t=!0),e=a}})),t},getCapacityTable:function(){var t=this,e=this.data.staticData,i=this.data.decisions,s=this.mustChooseSupplier(),a=[],n=[],r=this.showCapacityPerUnit();return e.haveMachines&&a.push({title:this.cf.getLabel(this.tc("machines"),null,"","upm"),align:"right",vline:!0}),a.push({title:this.cf.getLabel(this.tc("unitsPerDay"),null,"","un"),align:"right",vline:!e.haveMachines},{title:this.tc("unitsPerQuarter"),type:"number"},{title:this.tc("capitalInvestment"),align:"right"}),r&&a.push({title:this.tc("capitalCostPerUnit"),align:"right"}),this.getCapacityIterator()((function(a,o){var l=[],d=o.cost;s&&0!==i.supplier&&(d=o.supplierCost.toLookUp("regionID")[i.supplier].cost),e.haveMachines?l.push(t.com("radio","capOption",i.increase,{label:Number(o.machines).format(),labelAlign:"left"},a),t.cf.getLabel(Number(a),null,"plainLabel","un_"+a)):l.push(t.com("radio","capOption",i.increase,{label:Number(a).format(),labelAlign:"left"},a)),l.push(65*a,'<span id="capOptionCost_'+a+'">'+Format.number(d)+"</span>"),r&&l.push('<span id="capOptionUnitCost_'+a+'">'+Format.number(a>0?d/a:0)+"</span>"),n.push({values:l})})),new DecisionTable(this.tc("fixedCapacityIncrease"),"fcTable",a,n,!1,"green")},updateCapacityTable:function(){var t,e=!1,i=this.showCapacityPerUnit();this.mustChooseSupplier()&&(t=Number(this.value("supplier")),e=0!==t),this.getCapacityIterator()((function(s,a){var n=a.cost;e&&(n=a.supplierCost.toLookUp("regionID")[t].cost),j$("#capOptionCost_"+s).html(Format.number(n)),i&&j$("#capOptionUnitCost_"+s).html(Format.number(s>0?n/s:0))}))},getResultsTable:function(){var t=this.data.staticData.hasFactoryProductivity,e=this.data.dynamicData,i=Number(this.data.staticData.fixedCapacity),s=Number(this.data.decisions.increase),a=i+s,n=Number(e.projectDemandNextQuarter),r=Number(e.averageProductivity),o=Number(e.minimumOperatingCapacity),l=[{title:""},{title:this.tc("unitsPerDay"),type:"number"},{title:this.tc("unitsPerQuarter"),type:"number"}],d=[{values:[this.tc("fcCurrentQtr"),i,65*i]},{values:[this.tc("fcIncrease"),s,65*s]},{values:[this.tc("fcNextQtr"),a,65*a]}];return e.hasProjectedDemandNextQuarter&&(t?d.push({values:[this.tc("projectedDemandNextQtr"),n/65,n],hrbefore:!0},{values:[this.tc("ocNeededNextQtr",{PRODUCTIVITY:r.format(1)}),o/65,o]}):d.push({values:[this.tc("ocNeededNextQtrNoProductivity"),o/65,o],hrbefore:!0})),new DecisionTable(this.tc("summary"),"resTable",l,d,!1,"green")},getSupplierLabel:function(){if(0===this.data.staticData.suppliers.length)return null;var t;return t=this.mustChooseSupplier()?this.com("combobox","supplier",this.data.decisions.supplier,{label:this.tc("supplier_region")},this.data.staticData.suppliers,"regionID","regionName",0,"---"):this.tc("supplier_region")+" "+this.data.staticData.suppliers[0].regionName,new DecisionLabel(this.service,"supplierLabel",t)},calculate:function(t){this.read(),this.mustChooseSupplier()&&this.data.decisions.increase>0&&0==this.data.decisions.supplier||this._super(t)},draw:function(){return this.supplierLabel=this.getSupplierLabel(),this.fcTable=this.getCapacityTable(),this.resTable=this.getResultsTable(),this.fcTable.draw()+(this.supplierLabel?this.supplierLabel.draw():"")+this.resTable.draw()},updateSupplierDropDown:function(t){this.value("capOption_"+t)&&(0==t?(j$("#supplier").val(0),j$("#supplier").prop("disabled",!0),this.keepDisabled=["supplier"]):(j$("#supplier").prop("disabled",!1),this.keepDisabled=[]))},observe:function(){var t=this;this.fcTable.observe(),this.resTable.observe(),this.getCapacityIterator()((function(e){t.bindCalculate("capOption_"+e,"click",!1),t.mustChooseSupplier()&&j$("#capOption_"+e).on("click",t.updateSupplierDropDown.bind(t,e))})),this.supplierLabel&&(this.supplierLabel.observe(),this.supplierLabel.change("float","left")),this.mustChooseSupplier()&&(this.bindCalculate("supplier","change",!1),j$("#supplier").on("change",this.updateCapacityTable.bind(this)),0==this.data.decisions.increase&&(this.keepDisabled=["supplier"]))},drawSOD:function(){var t=Number(this.data.staticData.fixedCapacity)+Number(this.data.decisions.increase),e=this.tc("fcCurrentQtr")+": "+Format.integer(this.data.staticData.fixedCapacity)+"<br />"+this.tc("fcIncrease")+": "+Format.integer(this.data.decisions.increase)+"<br />"+this.tc("fcNextQtr")+": "+t.format();this.setValue(this.pfxSod+this.service,e)}})},99070:(t,e,i)=>{"use strict";i(83400),window.FixedCapacityAnim=FixedCapacity.extend({backgroundImage:"",style:"overflow:hidden;",forceFullSizeAbsolute:!0,initialize:function(t){this._super("FixedCapacity")},onSaveScene:function(){var t=this.data.staticData.capacityOptions,e=(t.length,this.data.decisions.increase);this.switchToSections(),e<=t[2].units&&this.narrowBack(),j$('[id^="fcTable"]').off(),this.drawBuilt()},onCancelScene:function(){var t=this.data.staticData.capacityOptions,e=(t.length,this.data.decisions.increase);this.switchToSections(),e<=t[2].units&&this.narrowBack(),j$('[id^="fcTable"]').off(),this.drawBuilt()},onModifyScene:function(){var t,e=this.data.staticData.capacityOptions,i=e.length,s=this.data.decisions.increase;for(this.switchToGlow(),this.wideBack(),this.stopAnimateGuys(),this.stopAnimateCrane(),t=0;t<i;++t)e[t].units,j$("#fcTable_"+t).click(j$.proxy((function(t,e){j$("[id^=capOption_]").prop("checked",!1),j$("#fcTable_"+t).find("[id^=capOption_]").prop("checked",!0),this.calculate(!0),this.read()}),this,t,s)),j$("#fcTable_"+t).mouseenter((function(){j$(this).css({outline:"2px solid orange"})})).mouseenter(j$.proxy((function(t){this.glowBuild(t)}),this,t)).mouseleave((function(){j$(this).css({outline:"none"})})).mouseleave(j$.proxy((function(){this.glowBuild()}),this))},switchToSections:function(){var t,e=this.data.staticData.capacityOptions.length;for(t=0;t<e-1;++t)this.glow[t].stop(!0,!0).attr("src",Path.getDecPath("fixedCapacity","section"+(t+1),".png"))},switchToGlow:function(){var t,e=this.data.staticData.capacityOptions.length;for(t=0;t<e;++t)this.glow[t].attr("src",Path.getDecPath("fixedCapacity","glow_section"+(t+3),".png"))},writeCalculate:function(){this.data.decisions.increase,this.resTable.data[1].values[1]=this.data.decisions.increase,this.resTable.data[2].values[1]=Number(this.data.staticData.fixedCapacity)+Number(this.data.decisions.increase),this.resTable.redrawTableData(),this.glowBuild()},draw:function(){var t,e,i,s,a=this.data.staticData.capacityOptions,n=a.length,r=[],o=(this.data.decisions.increase,"");for(this.bck=[],i=0;i<n;++i)s=a[i],r.push([this.com("radio","capOption",this.data.decisions.increase,{label:Number(s.units).format(),labelAlign:"left"},s.units),65*s.units,s.cost,s.units>0?s.cost/s.units:0]);for(this.fcTable=new DecisionTable(this.tc("fixedCapacityIncrease"),"fcTable",[{title:this.cf.getLabel(this.tc("unitsPerDay"),null,"","und"),align:"right",vline:!0},{title:this.tc("unitsPerQuarter"),type:"number"},{title:this.tc("capitalInvestment"),type:"number"},{title:this.tc("capitalCostPerUnit"),type:"number"}],r,!1,"green"),this.resTable=new DecisionTable("","resTable",[{title:""},{title:"",type:"number"}],[[this.tc("fcCurrentQtr"),this.data.staticData.fixedCapacity],[this.tc("fcIncrease"),this.data.decisions.increase],[this.tc("fcNextQtr"),Number(this.data.staticData.fixedCapacity)+Number(this.data.decisions.increase)]],!0,"green"),this.fcTable.clear="none",this.resTable.clear="none",o+='<div id="workers">',i=1;i<=4;++i)for(e=1==i?7:4==i?2:8,t=1;t<e;t++)o+=this.cs.drawComp("img",Path.getDecPath("fixedCapacity","worker"+i+"_"+t,".png"),"worker_"+i+"_"+t,"100%","","a",5+i,"","","","",1,"","display:none;","");for(o+="</div>",o+='<div id="crane" style="display: none; width: 140px; height: 135px; position: absolute; z-index: 4; overflow: hidden;"><img id="craneImg" src="'+Path.getDecPath("fixedCapacity","craneSprite",".png")+'" style="position: absolute; top: 0; min-height: 100%; max-height: 100%;" alt=""/></div>',this.glow=[],i=0;i<n-1;++i)o+=this.cs.drawComp("img",Path.getDecPath("fixedCapacity","section"+(i+3),".png"),"glow_section_"+i,"100%","","a",4+i,"","","","",0,"","","");return 0!=this.data.staticData.fixedCapacity&&(o+=this.cs.drawComp("img",Path.getDecPath("fixedCapacity","cap_finished2",".png"),"build","100%","","a",3,"","","","","","","","")),o+=this.cs.drawComp("img",Path.getDecPath("fixedCapacity","city_shanghai_flip",".png"),"city","20%","","a",1,"17.5%","","","-2.57%",.5,"","",""),o+=this.cs.drawComp("img",Path.getDecPath("fixedCapacity","sky",".jpg"),"sky","100%","","a",0,"-80px","","",0,"","","",""),o+=this.cs.drawComp("img",Path.getDecPath("fixedCapacity","ground_section1",".png"),"bck_1","100%","","a",2,0,"","",0,0,"","",""),(o+=this.cs.drawComp("img",Path.getDecPath("fixedCapacity","ground_section3",".png"),"bck_3","100%","","a",2,0,"","",0,1,"","",""))+'<div style="position:absolute;bottom:3px;left:3px;display:inline;width:99%;z-index:97;">'+this.fcTable.draw()+this.resTable.draw()+"</div>"},resize:function(){var t=j$("#decision").width()/700;this.crane.css({width:140*t+"px",height:135*t+"px"})},wideBack:function(){this.data.staticData.capacityOptions.length;var t=j$("#bck_1"),e=j$("#bck_2"),i=j$("#bck_3"),s=j$("#sky"),a=j$("#city"),n=j$("#build");t.finish(),e.finish(),i.finish(),s.finish(),a.finish(),n.finish(),i.css({opacity:"1"}),t.css({opacity:"0"}),s.stop(!0,!0).animate({width:"100%",right:"0",top:"-80px"},500),"17.5%"!=a.css("top")&&(a.css({width:"20%",right:"-2.57%",top:"17.5%"}),n.attr("src",Path.getDecPath("fixedCapacity","cap_finished2",".png")))},narrowBack:function(){var t=j$("#bck_1"),e=j$("#bck_2"),i=j$("#bck_3"),s=j$("#sky"),a=j$("#city"),n=j$("#build");t.finish(),e.finish(),i.finish(),s.finish(),a.finish(),n.finish(),i.css({opacity:"0"}),t.css({opacity:"1"}),s.stop(!0,!0).animate({width:"110%",right:"0",top:"-105px"},500),"12.25%"!=a.css("top")&&(a.css({width:"42%",right:"-4.42%",top:"12.25%"}),n.attr("src",Path.getDecPath("fixedCapacity","cap_finished1",".png")))},animateGuys:function(t){var e,i=[],s=this.guys;for(this.guysWrap.css("opacity","1"),s[4][1].show(),e=0;e<3;e++)i[e]=1;this.guysAnim[0]=setInterval((function(){s[1][i[0]].hide(),i[0]++,7==i[0]&&(i[0]=1),s[1][i[0]].show()}),150),this.guysAnim[1]=setInterval((function(){s[2][i[1]].hide(),s[3][i[1]].hide(),i[1]++,8==i[1]&&(i[1]=1),s[2][i[1]].show(),s[3][i[1]].show()}),250)},animateCrane:function(t){var e,i=1,s=this.crane;s.show(),t?s.css({top:"4%",left:"41%"}):s.css({top:"0%",left:"58%"}),s.finish(),s.animate({opacity:"1"},250),this.craneAnim=setInterval(j$.proxy((function(){11==i&&(e=!1),1==i&&(e=!0),this.craneImg.css({left:100*-i+"%"}),e||i--,e&&i++}),this),150*i)},stopAnimateGuys:function(){var t,e,i=this.guys;for(t=0;t<this.guysAnim.length;t++)clearInterval(this.guysAnim[t]);this.guysWrap.css("opacity","0");for(var s=1,a=i.length;s<a;s++)for(e=i[s],t=1;t<e.length;t++)e[t].finish(),e[t].hide()},stopAnimateCrane:function(){var t=this.crane;this.crane.hide(),clearInterval(this.craneAnim),t.finish(),t.animate({opacity:"0"},250)},destroy:function(){this.stopAnimateGuys(),this.stopAnimateCrane(),this._super()},drawBuilt:function(){var t,e,i=this.data.staticData.capacityOptions,s=i.length,a=this.data.decisions.increase;for(t=0;t<2;++t)this.glow[t].stop(!0,!0).attr("src",Path.getDecPath("fixedCapacity","section"+(t+1),".png"));for(t=2;t<s;++t)this.glow[t].stop(!0,!0).attr("src",Path.getDecPath("fixedCapacity","section"+(t+3),".png"));for(t=0;t<s;++t)a==i[t].units&&(e=t),this.glow[t].css({opacity:"0"});for(1==e&&(this.animateGuys(0),this.animateCrane(!0)),2==e&&(this.animateGuys(1),this.animateCrane(!0)),e>=3&&this.animateCrane(!1),t=0;t<s+1;++t)e<3&&e>0?t==e&&this.glow[t-1].css({opacity:"1"}):e>=3&&t==e&&this.glow[t-1].css({opacity:"1"})},glowBuild:function(t){var e,i=this.data.staticData.capacityOptions,s=i.length,a=this.data.decisions.increase;if(void 0===t)for(e=0;e<s;++e)a==i[e].units&&(t=e);for(e=0;e<s+1;++e)e<t?this.glow[e].css({opacity:"1"}):this.glow[e].css({opacity:"0"})},observe:function(){var t,e,i,s=this.data.staticData.capacityOptions,a=s.length,n=this.data.decisions.increase;for(this.fcTable&&(this.fcTable.observe(),this.fcTable.change("css",{"max-width":"49%"})),this.resTable&&(this.resTable.observe(),this.resTable.change("css",{position:"absolute","max-width":"49%",bottom:0,right:0})),t=0;t<a+2;++t)this.glow[t]=j$("#glow_section_"+t);for(n<=s[2].units&&this.narrowBack(),this.guysAnim=[],this.crane=j$("#crane"),this.craneImg=j$("#craneImg"),this.guys=[],t=1;t<=4;++t)for(void 0===this.guys[t]&&(this.guys[t]=[]),i=1==t?7:4==t?2:8,e=1;e<i;e++)this.guys[t][e]=j$("#worker_"+t+"_"+e);for(this.guysWrap=j$("#workers"),this.cranes=[],t=1;t<12;++t)this.cranes[t]=j$("#crane_"+t);for(this.drawBuilt(),t=0;t<a;++t)this.bindCalculate("capOption_"+s[t].units,"click",!1)}})},88924:()=>{window.FollowUpStudy=Decision.extend({style:"padding: 10px 10px 0px 10px;",read:function(){var t,e,i=this.data.staticData,s=i.studies.length,a=this.data.decisions.studies.toLookUp("areaID");for(t=0;t<s;++t)a[e=i.studies[t].areaID].buy=!(!i.hrSurveyBought||i.studies[t].bought)&&this.value("study_"+e)},write:function(){var t,e,i=this.data.staticData,s=i.studies.length,a=this.data.decisions.studies.toLookUp("areaID");for(t=0;t<s;++t)i.hrSurveyBought&&!i.studies[t].bought&&(e=i.studies[t].areaID,this.setValue("study_"+e,a[e].buy))},writeCalculate:function(){},draw:function(t){t=t||!1;var e,i,s,a=[],n=[],r=0,o="",l=this.data.staticData,d=l.studies.length,c=this.data.decisions.studies.toLookUp("areaID");if(this.srLabel=null,this.bmrTable=null,l.hrSurveyBought){for(a=[{title:this.tc("areas"),vline:!0},{title:this.tc("cost"),type:"number"},{title:this.tc("buy"),type:"flag"}],i=0;i<d;++i)l.studies[i].bought||r++,s=l.studies[i].areaID,n.push(['<img src="'+Path.getDecPath("cc","study-"+s+"-small",".png")+'" style="vertical-align: middle; margin-right: 5px;" alt="" />'+l.studies[i].title,l.studyCost,l.studies[i].bought?this.tc("bought"):this.com("checkbox","study_"+s,c[s].buy)]);if(0==r&&(this.viewModeButtons=[],this.modifyModeButtons=[],t))return"";if(this.bmrTable=new DecisionTable(t?"":this.tc("hrSurveyRes"),"bmrTable",a,n,!1,"wooden"),t&&(this.bmrTable.tableCorners=""),o=this.bmrTable.draw(),!t){for(e=[],i=0;i<d;++i)e.push(['<img src="'+Path.getDecPath("cc","study-"+l.studies[i].areaID+"-small",".png")+'" style="vertical-align: middle; margin-right: 5px; float: left;" alt="" /><div style="padding-left: 35px;"><div style="font-weight: bold;">'+l.studies[i].title+"</div>"+l.studies[i].description+"</div>"]);this.srTable=new DecisionTable(this.tc("hrSurveyResults"),"srTable",[{title:this.tc("p1")}],e,!1,"wooden"),o+=this.drawButtons()+this.srTable.draw()}}else this.srLabel=new DecisionLabel(this.service,"srLabel",this.tc("hrSurveyNot"),"","wooden"),this.viewModeButtons=[],this.modifyModeButtons=[],o=this.srLabel.draw();return o},observe:function(){null!=this.srLabel&&(this.srLabel.observe(),this.srLabel.change("float","left")),null!=this.bmrTable&&(this.bmrTable.observe(),this.srTable.observe())},drawSOD:function(){this.data.staticData.hrSurveyBought?(this.setValue(this.pfxSod+this.service,this.draw(!0)),this.disable()):this.setValue(this.pfxSod+this.service,"")}})},49490:()=>{window.Fulfillment=Decision.extend({style:"padding: 10px 10px 0px 10px;",viewModeButtons:[],modifyModeButtons:[],draw:function(){var t,e,i="",s=this.data.staticData,a=(s.teams.length,[{title:this.tc("company")},{title:this.tc("demand"),type:"number"},{title:this.tc("contractFulfillment"),align:"right"},{title:this.tc("orderFulfillment"),align:"right"}]),n=[];for(e=0;e<s.teams.length;e++)t=s.teams[e],n.push([t.companyName.escapeHTML(),t.demand,Format.real(Number(t.contractFulfill))+"%",Format.real(Number(t.orderFulfill))+"%"]);return this.fTable=new DecisionTable(this.tc("fulfillment"),"fulfillment",a,n,!1,"green"),i+this.fTable.draw()},observe:function(){this.data.staticData,this.fTable.observe()}})},35857:()=>{window.Goals=Decision.extend({style:"padding: 10px 10px 0px 10px;",hideButtonsInLastQuarter:!1,read:function(){var t,e=this.data.decisions,i=e.goals.length;for(t=0;t<i;++t)e.goals[t].value=this.value("goal_"+e.goals[t].id)},write:function(){var t,e=this.data.decisions,i=e.goals.length;for(t=0;t<i;++t)this.setValue("goal_"+e.goals[t].id,e.goals[t].value)},writeErrors:function(){var t,e=this.data.errors.decisions,i=e.goals.length;for(t=0;t<i;++t)this.writeError("goal_"+e.goals[t].id,e.goals[t].value)},draw:function(t){var e,i,s=this.data.staticData,a=s.goals.length,n=this.data.decisions.goals.toLookUp("id"),r=[{title:this.tc("indicator")},{title:this.tc("previousQuarter"),type:"number"},{title:this.tc("toBeAchieved",{QUARTER:s.goalQuarter}),align:"right"}],o=[];for(e=0;e<a;++e)i=s.goals[e],o.push([i.title,i.value,this.com("iedit","goal_"+i.id,n[i.id].value,{size:10})]);return this.gTable=new DecisionTable(t?"":this.tc("corporateGoals"),"gTable",r,o),t&&(this.gTable.tableCorners=""),this.gTable.draw()},observe:function(){this.gTable.observe()},drawSOD:function(){this.setValue(this.pfxSod+this.service,this.draw(!0)),this.disable()}})},63960:()=>{window.GoalsDirectionThrusts=Decision.extend({style:"padding: 10px 10px 0px 10px;",topButtons:!0,read:function(){var t,e,i,s,a,n,r=this.data.staticData,o=this.data.decisions.thrustGroups.toLookUp("id"),l=r.thrustGroups.length;for(this.data.decisions.mission=this.value("mission"),this.data.decisions.targetSegments.forEach(function(t){t.priority=this.value("tm_"+t.segmentID)}.bind(this)),this.data.decisions.strategicDirections=[],this.readDirectionSection(r.corporateCulture),this.readDirectionSection(r.marketOrientation),this.readDirectionSection(r.corporateObjectives),t=0;t<l;t++)for((n=o[(s=r.thrustGroups[t]).id]).thrusts=[],e=0,i=s.thrusts.length;e<i;++e)a=s.thrusts[e],this.value("thrust_"+s.id+"_"+a.id)&&n.thrusts.push({id:a.id,text:"T"==a.type?this.value("thrust_text_"+s.id+"_"+a.id):""})},write:function(){var t,e,i,s,a,n,r,o=this.data.staticData,l=this.data.decisions.strategicDirections.toLookUp("id"),d=this.data.decisions.thrustGroups.toLookUp("id"),c=o.thrustGroups.length;for(this.setValue("mission",this.data.decisions.mission),this.data.decisions.targetSegments.forEach(function(t){this.setValue("tm_"+t.segmentID,t.priority)}.bind(this)),this.writeDirectionSection(o.corporateCulture,l),this.writeDirectionSection(o.marketOrientation,l),this.writeDirectionSection(o.corporateObjectives,l),e=0;e<c;e++)for(t=d[(a=o.thrustGroups[e]).id].thrusts.toLookUp("id"),i=0,s=a.thrusts.length;i<s;++i)r=void 0!==t[(n=a.thrusts[i]).id],a.multiSelect?this.setValue("thrust_"+a.id+"_"+n.id,r):this.setValue("thrust_"+a.id,r?n.id:0),"T"==n.type&&this.setValue("thrust_text_"+a.id+"_"+n.id,r?t[n.id].text:"")},writeErrors:function(){var t,e,i,s,a,n,r,o,l,d,c=this.data.errors.decisions.targetSegments,h=this.data.staticData,p=this.data.errors.decisions,u=p.thrustGroups.toLookUp("id"),g=h.thrustGroups.length,m=p.strategicDirections.toLookUp("id"),b=this.data.decisions.strategicDirections,f=b.length;for(this.writeError("mission",this.data.errors.decisions.mission),i=0,s=c.length;i<s;++i)this.writeError("tm_"+c[i].segmentID,c[i].priority);for(d=0;d<f;d++)o=void 0!==m[(l=b[d]).id],this.writeError("text_"+l.id,o?m[l.id].text:null);for(e=0;e<g;e++)for(r=u[(a=h.thrustGroups[e]).id],this.writeError("thrust_group_"+a.id,r.general,"center right",!0,3),t=r.thrusts.toLookUp("id"),i=0,s=a.thrusts.length;i<s;++i)o=void 0!==t[(n=a.thrusts[i]).id],this.writeError("thrust_"+a.id+"_"+n.id,o?t[n.id].general:null),"T"==n.type&&this.writeError("thrust_text_"+a.id+"_"+n.id,o?t[n.id].text:null)},readDirectionSection:function(t){var e,i,s=t.length;for(e=0;e<s;++e)i=t[e],this.value("item_"+i.id)&&this.data.decisions.strategicDirections.push({id:i.id,text:"I"==i.type?"":this.value("text_"+i.id)})},writeDirectionSection:function(t,e){var i,s,a,n=t.length;for(i=0;i<n;++i)a=void 0!==e[(s=t[i]).id],this.setValue("item_"+s.id,a),"T"==s.type&&this.setValue("text_"+s.id,a?e[s.id].text:"")},drawDirectionSection:function(t,e,i,s){var a,n,r,o,l="",d=e.length,c=1;for(l+='<ul aria-labelledby="'+t+'" style="margin-top:5px; margin-bottom:5px; '+((s=s||!1)?"":"padding-left: 5px;")+'">',n=0;n<d;++n)a=void 0!==i[(r=e[n]).id],s&&!a||("I"==r.type?(o=r.text,l+=s?"<li>":'<li class="gsdLi">'+this.com("checkbox","item_"+r.id,a,{label:o})):(o='<span id="textada_'+r.id+'" style="margin-left: 3px;">'+(s?i[r.id].text.escapeHTML():this.com("edit","text_"+r.id,a?i[r.id].text:"",{size:60,placeholder:this.tc("writeYourOwn"),"aria-label":this.tc("writeYourOwn")+" "+c}))+"</span>",l+=s?"<li>":'<li class="gsdLi" style="margin-left: 3px;">'+this.com("checkbox","item_"+r.id,a,{"aria-label":this.tc("writeYourOwn")+" "+c})+o,c++),s&&(l+=o),l+="</li>");return l+"</ul>"},draw:function(){var t,e,i,s,a,n,r,o,l,d=this.data.staticData,c=this.data.decisions,h=d.segments.toLookUp("segmentID"),p=c.strategicDirections.toLookUp("id"),u=[{p:0,v:this.tc("p_0")}],g=c.thrustGroups.toLookUp("id"),m=d.thrustGroups.length;this.data.staticData.segments.forEach((function(t,e){u.push({p:e+1,v:this.tc("p_"+(e+1))})}),this);var b='<div style="float: left;" id="tsgs"><h2 id="targetMarketsTitle" class="plainHeader bigHeader">'+this.tc("targetMarkets")+'</h2><div class="plain-table goals-table">';for(t=0,e=c.targetSegments.length;t<e;++t)i=c.targetSegments[t],b+='<div class="plain-row"><div class="plain-cell goals-cell">'+this.cf.getLabel(Format.segmentName(h[i.segmentID].name,h[i.segmentID].shortName,!0),"tm_"+i.segmentID)+'</div><div class="plain-cell goals-cell">'+this.com("combobox","tm_"+i.segmentID,i.priority,{"aria-labelledby":"tm_"+i.segmentID+" targetMarketsTitle"},u,"p","v")+"</div></div>";for(b+="</div></div>",b+='<div style="float: right; text-align:left; margin-left: 25px;"><h2 id="missionTitle" class="plainHeader bigHeader">'+this.tc("mission")+"</h2>"+this.com("memo","mission",c.mission,{rows:5,cols:50,"aria-labelledby":"missionTitle"})+'</div><div class="strategicGroup" style="clear: both; margin-top: 0px; padding-top: 10px;">'+this.tcLbl("corporateCulture",{},null,"plainHeader bigHeader","gr0")+this.drawDirectionSection("gr0",d.corporateCulture,p)+'</div><div class="strategicGroup">'+this.tcLbl("marketOrientation",{},null,"plainHeader bigHeader","gr1")+this.drawDirectionSection("gr1",d.marketOrientation,p)+'</div><div class="strategicGroup">'+this.tcLbl("corporateObjectives",{},null,"plainHeader bigHeader","gr2")+this.drawDirectionSection("gr2",d.corporateObjectives,p)+"</div>",this.lbl=new DecisionLabel(this.service,"gsd",b),b="",a=0;a<m;a++){s=g[(n=d.thrustGroups[a]).id].thrusts.toLookUp("id"),b+='<h3 id="group_header_'+n.id+'" class="plainHeader breakHeader">'+n.text+'</h3><span id="thrust_group_'+n.id+'"></span>',b+='<ul class="strThruList" aria-labelledby="group_header_'+n.id+'">',n.multiSelect||(b+="<li>"+this.com("radio","thrust_"+n.id,-1,{label:this.tc("none")},0)+"</li>");var f=1;for(t=0,e=n.thrusts.length;t<e;++t)o=void 0!==s[(r=n.thrusts[t]).id],"T"!=r.type?(l=r.text,b+="<li>",n.multiSelect?b+=this.com("checkbox","thrust_"+n.id+"_"+r.id,o,{label:l}):b+=this.com("radio","thrust_"+n.id,o?r.id:0,{label:l},r.id)):(l='<span id="thrust_textada_'+n.id+"_"+r.id+'" style="margin-left: 3px;">'+this.com("edit","thrust_text_"+n.id+"_"+r.id,o?s[r.id].text:"",{size:60,placeholder:this.tc("writeYourOwn"),"aria-label":this.tc("writeYourOwn")+" "+f})+"</span>",b+='<li style="margin-left: 3px;">',n.multiSelect?b+=this.com("checkbox","thrust_"+n.id+"_"+r.id,o,{"aria-label":this.tc("writeYourOwn")+" "+f})+l:b+=this.com("radio","thrust_"+n.id,o?r.id:0,{"aria-label":this.tc("writeYourOwn")+" "+f},r.id)+l,f++),b+="</li>";b+="</ul>"}return this.stLabel=new DecisionLabel(this.service,"strategicThrusts",b,"","","",this.tc("strategicThrusts")),this.lbl.draw()+this.stLabel.draw()},observe:function(){this.lbl.observe(),this.lbl.change("float","left"),this.lbl.change("css",{"line-height":"1.5em"}),j$("#mission").css({"max-width":"330px"}),this.stLabel.observe(),this.stLabel.change("float","left"),this.stLabel.jelement().css({padding:0})},drawSOD:function(){var t,e,i,s,a,n,r,o,l=this.data.staticData,d=this.data.decisions,c=1,h=l.segments.toLookUp("segmentID"),p=d.strategicDirections.toLookUp("id"),u="",g="",m="",b=[],f=d.thrustGroups.toLookUp("id"),v=l.thrustGroups.length;do{for(i=!1,t=0,e=d.targetSegments.length;t<e;++t)if(c==d.targetSegments[t].priority){b.push(d.targetSegments[t].segmentID),i=!0,c++;break}}while(i);for(u+=this.tcLbl("targetMarkets")+": ",t=0,e=b.length;t<e;++t)u+=(0!=t?", ":"")+(t+1)+" - "+h[b[t]].name;for(u+="<br /><br />",""!=this.data.decisions.mission&&(u+=this.tcLbl("mission")+": <span>"+d.mission.escapeHTML()+"</span><br /><br />"),""!=(g+=this.tcLbl("corporateCulture")+this.drawDirectionSection("sdir",l.corporateCulture,p,!0)+this.tcLbl("marketOrientation")+this.drawDirectionSection("sdir",l.marketOrientation,p,!0)+this.tcLbl("corporateObjectives")+this.drawDirectionSection("sdir",l.corporateObjectives,p,!0))&&(u+=this.tcLbl("strategicDirections",{},null,null,"sdir")+":<br />"+g),a=0;a<v;a++)if(0!=(o=f[(n=l.thrustGroups[a]).id]).thrusts.length){for(s=o.thrusts.toLookUp("id"),m+="<b>"+n.text+"</b><ul>",t=0,e=n.thrusts.length;t<e;++t)void 0!==s[(r=n.thrusts[t]).id]&&(m+="<li>"+("T"==r.type?s[r.id].text:r.text)+"</li>");m+="</ul>"}""!=m&&(u+=this.tcLbl("strategicThrusts")+":<br />"+m),this.setValue(this.pfxSod+this.service,u)}})},32512:()=>{window.GoalsStrategicDirection=Decision.extend({style:"padding: 10px 10px 0px 10px;",hideButtonsInLastQuarter:!1,read:function(){var t=this.data.staticData;this.data.decisions.mission=this.value("mission"),this.data.dynamicData.setTargetSegments&&this.data.decisions.targetSegments.forEach(function(t){t.priority=this.value("tm_"+t.segmentID)}.bind(this)),this.data.decisions.strategicDirections=[],this.readDirectionSection(t.marketSize),this.readDirectionSection(t.geographicMarket),this.readDirectionSection(t.competitivePosture),this.readDirectionSection(t.distinctiveCompetencies)},write:function(){var t=this.data.staticData,e=this.data.decisions.strategicDirections.toLookUp("id");this.setValue("mission",this.data.decisions.mission),this.data.dynamicData.setTargetSegments&&this.data.decisions.targetSegments.forEach(function(t){this.setValue("tm_"+t.segmentID,t.priority)}.bind(this)),this.writeDirectionSection(t.marketSize,e),this.writeDirectionSection(t.geographicMarket,e),this.writeDirectionSection(t.competitivePosture,e),this.writeDirectionSection(t.distinctiveCompetencies,e)},writeErrors:function(){var t,e,i,s,a=this.data.errors.decisions.targetSegments,n=a.length,r=this.data.errors.decisions.strategicDirections.toLookUp("id"),o=this.data.decisions.strategicDirections,l=o.length;if(this.writeError("mission",this.data.errors.decisions.mission),this.data.dynamicData.setTargetSegments)for(t=0;t<n;++t)this.writeError("tm_"+a[t].segmentID,a[t].priority,"center left",!0);for(s=0;s<l;s++)e=void 0!==r[(i=o[s]).id],this.writeError("text_"+i.id,e?r[i.id].text:null)},readDirectionSection:function(t){var e,i,s=t.length;for(e=0;e<s;++e)i=t[e],this.value("item_"+i.id)&&this.data.decisions.strategicDirections.push({id:i.id,text:"I"==i.type?"":this.value("text_"+i.id)})},writeDirectionSection:function(t,e){var i,s,a,n=t.length;for(i=0;i<n;++i)a=void 0!==e[(s=t[i]).id],this.setValue("item_"+s.id,a),"T"==s.type&&this.setValue("text_"+s.id,a?e[s.id].text:"")},drawDirectionSection:function(t,e,i,s){var a,n,r,o,l="",d=e.length;l+='<ul aria-labelledby="'+t+'" style="margin-top:5px; margin-bottom:5px; '+((s=s||!1)?"":"padding-left: 5px;")+'">';var c=1;for(n=0;n<d;++n)a=void 0!==i[(r=e[n]).id],s&&!a||("I"==r.type?(o=r.text,l+=s?"<li>":'<li class="gsdLi">'+this.com("checkbox","item_"+r.id,a,{label:o})):(o='<span id="textada_'+r.id+'" style="margin-left: 3px;">'+(s?i[r.id].text.escapeHTML():this.com("edit","text_"+r.id,a?i[r.id].text:"",{size:60,placeholder:this.tc("writeYourOwn"),"aria-label":this.tc("writeYourOwn")+" "+c}))+"</span>",l+=s?"<li>":'<li class="gsdLi" style="margin-left: 3px;">'+this.com("checkbox","item_"+r.id,a,{"aria-label":this.tc("writeYourOwn")+" "+c})+o,c++),s&&(l+=o),l+="</li>");return l+"</ul>"},draw:function(){var t,e,i,s=this.data.staticData,a=this.data.decisions,n=s.segments.toLookUp("segmentID"),r=a.strategicDirections.toLookUp("id"),o="",l=[{p:0,v:this.tc("p_0")}];if(this.data.staticData.segments.forEach((function(t,e){l.push({p:e+1,v:this.tc("p_"+(e+1))})}),this),this.data.dynamicData.setTargetSegments){for(o='<div style="float: left; " id="tsgs"><h2 id="targetMarketsTitle" class="plainHeader bigHeader">'+this.tc("targetMarkets")+'</h2><div class="plain-table goals-table">',t=0,e=a.targetSegments.length;t<e;++t)i=a.targetSegments[t],o+='<div class="plain-row"><div class="plain-cell goals-cell">'+this.cf.getLabel(Format.segmentName(n[i.segmentID].name,n[i.segmentID].shortName,!0),"tm_"+i.segmentID)+'</div><div class="plain-cell goals-cell">'+this.com("combobox","tm_"+i.segmentID,i.priority,{"aria-labelledby":"tm_"+i.segmentID+" targetMarketsTitle"},l,"p","v")+"</div></div>";o+="</div></div>"}return o+='<div style="'+(this.data.dynamicData.setTargetSegments?"float:right; ":"")+'text-align:left;"><h2 id="missionTitle" class="plainHeader bigHeader">'+this.tc("mission")+"</h2>"+this.com("memo","mission",a.mission,{rows:5,cols:50,"aria-labelledby":"missionTitle"})+'</div><div class="strategicGroup" style="clear: both; margin-top: 0px; padding-top: 10px;">'+this.lbl(s.marketSizeLabel,"marketSize","plainHeader bigHeader","gr0")+this.drawDirectionSection("gr0",s.marketSize,r)+'</div><div class="strategicGroup">'+this.lbl(s.geographicMarketLabel,"geographicMarket","plainHeader bigHeader","gr1")+this.drawDirectionSection("gr1",s.geographicMarket,r)+'</div><div class="strategicGroup">'+this.lbl(s.competitivePostureLabel,"competitivePosture","plainHeader bigHeader","gr2")+this.drawDirectionSection("gr2",s.competitivePosture,r)+'</div><div class="strategicGroup">'+this.lbl(s.distinctiveCompetenciesLabel,"distinctiveCompetencies","plainHeader bigHeader","gr3")+this.drawDirectionSection("gr3",s.distinctiveCompetencies,r)+"</div>",this.label=new DecisionLabel(this.service,"gsd",o),this.label.draw()},resize:function(){j$("#mission").css({"max-width":"330px"})},observe:function(){this.label.observe(),this.label.change("css",{"line-height":"1.5em"})},drawSOD:function(){var t,e,i,s=this.data.staticData,a=this.data.decisions,n=1,r=s.segments.toLookUp("segmentID"),o=a.strategicDirections.toLookUp("id"),l="",d="",c=[];if(this.data.dynamicData.setTargetSegments){do{for(i=!1,t=0,e=a.targetSegments.length;t<e;++t)if(n==a.targetSegments[t].priority){c.push(a.targetSegments[t].segmentID),i=!0,n++;break}}while(i);for(l+=this.tcLbl("targetMarkets")+": ",t=0,e=c.length;t<e;++t)l+=(0!=t?", ":"")+(t+1)+" - "+r[c[t]].name;l+="<br /><br />"}""!=this.data.decisions.mission&&(l+=this.tcLbl("mission")+": <span>"+a.mission.escapeHTML()+"</span><br />"),""!=(d+=this.drawDirectionSection("sdir",s.marketSize,o,!0)+this.drawDirectionSection("sdir",s.geographicMarket,o,!0)+this.drawDirectionSection("sdir",s.competitivePosture,o,!0)+this.drawDirectionSection("sdir",s.distinctiveCompetencies,o,!0))&&(l+=this.tcLbl("strategicDirections",{},null,null,"sdir")+": "+d),this.setValue(this.pfxSod+this.service,l)}})},4364:(t,e,i)=>{"use strict";i(32512),window.GoalsStrategicDirectionAnim=GoalsStrategicDirection.extend({style:"padding: 0px;",hiddenItems:[],initialize:function(t){this._super("GoalsStrategicDirection")},onModifyScene:function(){j$("#gdomi").hide()},onSaveScene:function(){j$("#gdomi").fadeIn()},onCancelScene:function(){j$("#gdomi").fadeIn()},draw:function(){var t="",e="";return e+=this.cs.drawComp("img",Path.getDecPath("goalsAndStrategy","global_domination",".png"),"gdomi","45%","","a",2,"155px","","","40px",1,"","display:none;",this.tc("globalDomination")),(t+='<div id="tsTitle" aria-hidden="true" style="text-align:center;font-family: arial,sans-serif;color: #538757;margin:0;padding:40px 45px 0;font-size: 36px;font-weight: bold;font-style: italic;"><span style="border-bottom:2px solid #538757;">'+this.tc("goalsAndStrategy")+"</span></div>")+'<div id="gsd" class="gsdAnim">'+this._super()+"</div>"+e},resize:function(){var t=j$("#decision").children().first().width()/700;j$("#tsTitle").css({"font-size":36*t+"px",padding:40*t+"px "+45*t+"px 0"}),j$('[id^="text"]').css({width:495*t+"px"}),j$("#mission").css({"max-width":280*t+"px"})},destroy:function(){j$("#decision").css("background-attachment","unset"),this._super()},observe:function(){j$("#decision").css({"background-attachment":"local"}),this._super()}})},11192:(t,e,i)=>{"use strict";i(32512),window.GoalsStrategicDirectionSupplier=GoalsStrategicDirection.extend()},44981:()=>{window.GoodNeighbor=Decision.extend({style:"padding: 10px 10px 0px 10px;",read:function(){},write:function(){},draw:function(){var t,e="",i="background-color:#E0DBC7;padding:6px;font-weight:bolder;",s="vertical-align:top;width:33%;padding:4px;background-color:#E6B8B8;",a="vertical-align:top;width:66%;padding:4px;background-color:#D8E4BE;",n="width:5px;border:0px none",r="",o="";if(this.viewModeButtons=[],this.modifyModeButtons=[],this.data.staticData.studyBought){for(e="<div style='font-size:1.2em; padding: 4px;'>"+this.tc("mGNhdtitle")+"</div>",e+="<img src='"+Path.getDecPath("cc","study-5-big",".png")+"' style='float:left; margin: 10px 10px 10px 0px; height: 100px;' alt=''/>"+this.tc("mGNhd_m"),e+="<div style='clear:both'></div>",e+="<div style='background-color:#C0C0C0;padding:6px;font-weight:bolder;'>"+this.tc("mGNiss")+"</div><br>",e+="<p style='font-weight:bolder'>"+this.tc("mGNhd_a")+"</p>",t=1;t<4;t++)e+="<div style='"+i+"'>"+this.tc("mGNhd"+t)+"</div><br>",e+="<table><tr><td style='"+s+"'>"+this.tc("mGNct"+t+"_1")+"</td><td style='"+n+"'>&nbsp;</td>",e+="<td style='"+a+"'>"+this.tc("mGNct"+t+"_2")+"</td></tr></table><br>";for(e+="<p style='font-weight:bolder'>"+this.tc("mGNhd_b")+"</p>",t=4;t<7;t++)this.data.staticData.hasFactoryPerRegion&&(r=4==t||6==t?"_icm":"",o=5==t||6==t?"_icm":""),e+="<div style='"+i+"'>"+this.tc("mGNhd"+t)+"</div><br>",e+="<table><tr><td style='"+s+"'>"+this.tc("mGNct"+r+t+"_1")+"</td><td style='"+n+"'>&nbsp;</td>",e+="<td style='"+a+"'>"+this.tc("mGNct"+o+t+"_2")+"</td></tr></table><br>"}else e=this.tc("mGNnot");return this.frLabel=new DecisionLabel(this.service,"srLabel",e,"","wooden"),this.frLabel.draw()},observe:function(){this.frLabel.observe(),this.data.staticData.studyBought||this.frLabel.change("float","left")}})},58478:()=>{window.Grades=Decision.extend({style:"padding: 10px 10px 0px 10px;",sendDynamic:!1,sendErrors:!1,sendCalculate:!1,yg:"padding-top:12%; padding-left:37.5%;",lg:"position: absolute; width: 100%; top: 10%; font-size:90px;",ng:"position: absolute; width: 100%; bottom: 8%; font-size:50px;",cg:"position:relative; padding-top:3%; margin-left: 37.3%; width: 26.6%; color:#777777; font-weight:600; text-align:center;",draw:function(){var t,e=this.data.staticData;return Live.user.isInstructor()?(this.noLabel=new DecisionLabel(this.service,"noLabel",this.tc("common:naInstructorView"),"","concrete"),t=this.noLabel.draw()):e.released?(this.noLabel=null,t='<div style="'+this.yg+'">'+this.tc("yourGrade")+'</div><div id="gradeSquare" style="'+this.cg+'"><div style="'+this.lg+'">'+e.letterGrade.escapeHTML()+'</div><div style="'+this.ng+'">'+Format.number(e.grade,1)+"%</div></div>"):(this.noLabel=new DecisionLabel(this.service,"noLabel",this.tc("notReleased"),"","concrete"),t=this.noLabel.draw()),t},resize:function(){j$("#gradeSquare").css({height:.43*j$("#decision").height()+"px"})},observe:function(){null!=this.noLabel&&(this.noLabel.observe(),this.noLabel.change("float","left"))}})},23438:()=>{window.HireSalesPeople=Decision.extend({style:"padding: 10px 10px 0px 10px;",modifyModeButtons:["save","cancel"],read:function(){var t,e,i,s,a,n,r,o,l,d=this.data.decisions.regions;for(e=0,t=d.length;e<t;++e)for(s=0,a=(i=d[e]).cities.length;s<a;++s)for(n=i.cities[s],r=i.regionID+"_"+n.cityID,n.sf=this.value("total_"+r),n.support=this.value("supp_"+r),o=0,l=n.segments.length;o<l;++o)n.segments[o].sf=this.value("train_"+r+"_"+n.segments[o].segmentID)},write:function(){var t,e,i,s,a,n,r,o,l,d=this.data.decisions.regions;for(e=0,t=d.length;e<t;++e)for(s=0,a=(i=d[e]).cities.length;s<a;++s)for(n=i.cities[s],r=i.regionID+"_"+n.cityID,this.setValue("total_"+r,n.sf),this.setValue("supp_"+r,n.support),o=0,l=n.segments.length;o<l;++o)this.setValue("train_"+r+"_"+n.segments[o].segmentID,n.segments[o].sf);null!=this.copyDD&&this.copyDD.hide()},writeErrors:function(){var t,e,i,s,a,n,r,o,l,d=this.data.errors.decisions.regions;for(e=0,t=d.length;e<t;++e)for(s=0,a=(i=d[e]).cities.length;s<a;++s)for(n=i.cities[s],r=i.regionID+"_"+n.cityID,this.writeError("total_"+r,n.sf,"center left",!0,3),null==n.sf&&this.writeError("total_"+r,n.general,"center left",!0,3),this.writeError("supp_"+r,n.support,"center left",!0,3),o=0,l=n.segments.length;o<l;++o)this.writeError("train_"+r+"_"+n.segments[o].segmentID,n.segments[o].sf,"center left",!0,3)},writeCalculate:function(){var t,e,i,s,a,n=this.data.calculate.regions,r=this.data.staticData.regions.toLookUp("regionID");for(e=0,t=n.length;e<t;++e)i=n[e],s=this.regBind[i.regionID],this.resTables[s].data[1].values[1]=i.salesPeople,this.resTables[s].data[2].values[1]=i.salesPeople-r[i.regionID].lastQuarterSalesPeople,a=0,r[i.regionID].hireCost>0&&(this.resTables[s].data[3].values[1]=i.hireCost,a++),r[i.regionID].layOffCost>0&&(this.resTables[s].data[3+a].values[1]=i.layOffCost,a++),this.resTables[s].data[3+a].values[1]=i.employCost+i.trainCost,this.resTables[s].redrawTableData();this.showTotal&&j$("#hireSalesPeopleTotal").html(this.data.calculate.total.format())},draw:function(t){t=t||!1;var e,i,s,a,n,r,o,l,d,c,h,p,u,g,m,b,f,v,y,w=this.data.staticData,D=this.data.calculate.regions.toLookUp("regionID"),_=this.data.decisions.regions.toLookUp("regionID"),I="";for(this.showTotal=w.regions.length>1,this.tables=[],this.resTables=[],this.regBind=[],this.activeRegions=[],this.activeCities={optgroups:[]},e=0,i=w.regions.length;e<i;++e)if(g=[],(s=w.regions[e]).isIn){for(f=[{align:"left",vline:!0},{align:"right",type:"number"},{align:"right",vline:!0},{align:"center"}],v=[{title:this.tc("city"),rowspan:3},{title:this.tc("salary"),rowspan:3},{title:this.tc("salesPeople"),align:"right",rowspan:3},{title:this.tc("focusedCost"),colspan:w.segments.length+1,cellId:"focusedCost_"+s.regionID}],y=[{title:Format.segmentName(this.tc("support"),this.st("service")),align:"center",cellId:"segTitle_Sup_"+s.regionID,headers:["focusedCost_"+s.regionID,"segCost_Sup"]}],a=0,n=w.segments.length;a<n;a++)f.push({align:"center"}),y.push({title:Format.segmentName(w.segments[a].name,w.segments[a].shortName),align:"center",cellId:"segTitle_"+s.regionID+"_"+w.segments[a].segmentID,headers:["focusedCost_"+s.regionID,"segCost_"+w.segments[a].segmentID]});for(f.push({align:"right"}),m=[{title:Number(s.supportTrainCost).format(),noborder:!0,cellId:"segCost_Sup_"+s.regionID,headers:["focusedCost_"+s.regionID]}],a=0,n=s.segments.length;a<n;++a)m.push({title:Number(s.segments[a].trainCost).format(),noborder:!0,cellId:"segCost_"+s.regionID+"_"+s.segments[a].segmentID,headers:["focusedCost_"+s.regionID]});for(g.push({cols:v,type:"head"}),g.push({cols:m,type:"head"}),g.push({cols:y,type:"head"}),c=_[s.regionID].cities.toLookUp("cityID"),b={label:s.regionName,options:[]},o=0,l=s.cities.length;o<l;++o)if((d=s.cities[o]).soOpened){for(p=s.regionID+"_"+d.cityID,u=[d.cityName,d.annualCompensation,this.com("iedit","total_"+p,c[d.cityID].sf,{size:4}),this.com("iedit","supp_"+p,c[d.cityID].support,{size:3})],h=c[d.cityID].segments.toLookUp("segmentID"),a=0,n=s.segments.length;a<n;++a)r=s.segments[a],u.push(this.com("iedit","train_"+p+"_"+r.segmentID,h[r.segmentID].sf,{size:3}));g.push(u),b.options.push({cityID:s.regionID+"_"+d.cityID,cityName:d.cityName})}this.activeCities.optgroups.push(b),this.activeRegions.push(s),this.regBind[s.regionID]=e,this.tables[e]=new DecisionTable(s.regionName,"hspTable_"+e,f,g,!0,"stone"),t&&(this.tables[e].tableCorners=""),g=[[this.tc("totalLQ"),s.lastQuarterSalesPeople],[this.tc("totalCQ"),D[s.regionID].salesPeople],[this.tc("change"),D[s.regionID].salesPeople-s.lastQuarterSalesPeople]],s.hireCost>0&&(g.push([this.tc("hireCost"),D[s.regionID].hireCost]),this.showTotal=!0),s.layOffCost>0&&(g.push([this.tc("fireCost"),D[s.regionID].layOffCost]),this.showTotal=!0),g.push([this.tc("employCost"),D[s.regionID].employCost+D[s.regionID].trainCost]),this.resTables[e]=new DecisionTable("","resTable_"+e,[{title:""},{title:"",type:"number"}],g,!0,"stone"),t&&(this.resTables[e].tableCorners=""),I+=this.tables[e].draw()+this.resTables[e].draw()}return this.activeRegions.length>1?(this.modifyModeButtons=["copyData","save","cancel"],this.buttonCaptions.copyData=this.tc("common:copyData")+" &#9650;"):this.modifyModeButtons=["save","cancel"],0==this.tables.length?(this.showTotal=!1,this.viewModeButtons=[],this.modifyModeButtons=[],this.closedLabel=new DecisionLabel(this.service,"closedLabel",this.tc("common:noSO"),"","stone"),this.closedLabel.draw()):(this.showTotal&&(this.totalLbl=new DecisionLabel(this.service,"totalLbl",this.tc("total")+': <span id="hireSalesPeopleTotal">'+Number(this.data.calculate.total).format()+"</span>","","stone"),t&&(this.totalLbl.labelCorners=""),I+=this.totalLbl.draw()),I)},observe:function(){var t,e,i,s,a,n,r,o,l,d=this.data.staticData,c=[],h=[];for(t=0,e=d.regions.length;t<e;++t)if((i=d.regions[t]).isIn)for(this.tables[t].observe(),this.resTables[t].observe(),c.push(this.tables[t]),h.push(this.resTables[t]),n=0,r=i.cities.length;n<r;++n)if((o=i.cities[n]).soOpened)for(l=i.regionID+"_"+o.cityID,this.bindCalculate("total_"+l,"keyup",!0),this.bindCalculate("supp_"+l,"keyup",!0),s=0,a=i.segments.length;s<a;++s)this.bindCalculate("train_"+l+"_"+i.segments[s].segmentID,"keyup",!0);DecisionTable.setMaxColWidths(c,0),DecisionTable.setMaxColWidths(h,0),0==this.tables.length&&(this.closedLabel.observe(),this.closedLabel.change("float","left")),this.createCopyDD(),this.showTotal&&(this.totalLbl.observe(),this.totalLbl.change("float","left"))},drawSOD:function(){var t=this.draw(!0);this.tables.length>0?(this.setValue(this.pfxSod+this.service,t),this.showTotal&&this.totalLbl.change("float","left"),this.disable()):this.setValue(this.pfxSod+this.service,"")},copyData:function(){},createCopyDD:function(){this.activeRegions,this.data.dynamicData,this.user.quarter(),this.activeRegions.length>1?(this.copyDD=new DropDownStaticCopy("btncopyData",this.activeCities,"cityID","cityName",this.tc("city"),this.activeRegions,"regionID","regionName",this.tc("regions")),this.copyDD.copyDecision=j$.proxy(this.copyDecision,this),!this.isCurrentQuarter()||this.isGameOverQuarter()&&this.hideButtonsInLastQuarter||OverlayMessages.triggerMessage("copyBtn",!0)):this.copyDD=null},copyDecision:function(t,e){var i,s,a,n,r,o,l,d,c,h,p=this.data.decisions.regions.toLookUp("regionID"),u=this.activeRegions.toLookUp("regionID"),g=t.split("_");if(void 0!==u[g[0]]){for(s=(i=p[g[0]]).cities.toLookUp("cityID")[g[1]],o=0,l=e.length;o<l;++o)if(void 0!==u[e[o]])for(d=0,c=(a=p[e[o]]).cities.length;d<c;++d){h=a.cities[d],n=a.regionID+"_"+h.cityID,r=i.regionID+"_"+s.cityID,this.setValue("total_"+n,this.value("total_"+r)),this.setValue("supp_"+n,this.value("supp_"+r));for(var m=0,b=h.segments.length;m<b;++m)this.setValue("train_"+n+"_"+h.segments[m].segmentID,this.value("train_"+r+"_"+h.segments[m].segmentID))}this.calculate(!0)}}})},7779:(t,e,i)=>{"use strict";i(23438),window.HireSalesPeopleAnim2=HireSalesPeople.extend({backgroundImage:"",style:"padding: 10px 10px 0px 10px;",modifyModeButtons:["save","cancel"],isSelectedCity:[],storeManIndex:[],realIndex:[],initialize:function(t){this._super("HireSalesPeople")},write:function(){var t,e,i,s,a,n,r,o,l,d=this.data.decisions.regions;for(e=0,t=d.length;e<t;++e)for(s=0,a=(i=d[e]).cities.length;s<a;++s)for(n=i.cities[s],r=i.regionID+"_"+n.cityID,this.setValue("total_"+r,n.sf),this.setValue("supp_"+r,n.support),o=0,l=n.segments.length;o<l;++o)this.setValue("train_"+r+"_"+n.segments[o].segmentID,n.segments[o].sf);null!=this.copyDD&&this.copyDD.hide()},writeCalculate:function(){var t,e,i,s,a,n,r,o=this.data.calculate.regions,l=this.data.staticData.regions.toLookUp("regionID");for(n=0,a=o.length;n<a;++n){for(r=o[n],this.regBind[r.regionID],this.setValue("cqsp_"+r.regionID,Format.number(r.salesPeople)),this.setValue("netCha_"+r.regionID,Format.number(r.salesPeople-l[r.regionID].lastQuarterSalesPeople)),l[r.regionID].hireCost>0&&this.setValue("hireCost_"+r.regionID,Format.number(r.hireCost)),l[r.regionID].layOffCost>0&&this.setValue("layOffCost_"+r.regionID,Format.number(r.layOffCost)),this.setValue("salTrainCost_"+r.regionID,Format.number(r.employCost+r.trainCost)),e=0,i=r.cities.length;e<i;++e)s=r.cities[e],t=r.regionID+"_"+s.cityID,this.setValue("none_"+t,s.salesPeople-s.focusedPeople);this.isSelectedCity[r.regionID]&&this.changeStore(r.regionID,this.isSelectedCity[r.regionID])}this.showTotal&&j$("#hireSalesPeopleTotal").html(this.data.calculate.total.format())},draw:function(t){t=t||!1;var e,i,s,a,n,r,o,l,d,c,h,p,u,g,m,b,f,v,y,w,D,_=this.data.staticData,I=this.data.calculate.regions.toLookUp("regionID"),x=this.data.decisions.regions.toLookUp("regionID"),T="";for(this.st("newStyle")&&(this.regMaps=new RegionsMaps(this,!0)),this.showTotal=_.regions.length>1,this.tables=[],this.regBind=[],this.summaries=[],this.activeRegions=[],this.activeCities={optgroups:[]},e=0,i=_.regions.length;e<i;++e)if(m=[],(s=_.regions[e]).isIn){for(y=[{align:"left",vline:!0},{align:"right",type:"number"},{align:"right"},{align:"center"}],w=[{title:this.tc("city"),rowspan:3},{title:this.tc("salary"),rowspan:3},{title:this.tc("salesPeople"),align:"right",rowspan:3},{title:this.tc("focusedCost"),colspan:_.segments.length+1,cellId:"focusedCost_"+s.regionID}],D=[{title:Format.segmentName(this.tc("support"),this.st("service")),align:"center",cellId:"segTitle_Sup_"+s.regionID,headers:["focusedCost_"+s.regionID,"segCost_Sup"]}],a=0,n=_.segments.length;a<n;a++)y.push({align:"center"}),D.push({title:Format.segmentName(_.segments[a].name,_.segments[a].shortName),align:"center",cellId:"segTitle_"+s.regionID+"_"+_.segments[a].segmentID,headers:["focusedCost_"+s.regionID,"segCost_"+_.segments[a].segmentID]});for(y.push({align:"right"}),w.push({title:this.tc("general"),rowspan:3}),b=[{title:Number(s.supportTrainCost).format(),noborder:!0,cellId:"segCost_Sup_"+s.regionID,headers:["focusedCost_"+s.regionID]}],a=0,n=s.segments.length;a<n;++a)b.push({title:Number(s.segments[a].trainCost).format(),noborder:!0,cellId:"segCost_"+s.regionID+"_"+s.segments[a].segmentID,headers:["focusedCost_"+s.regionID]});for(m.push({cols:w,type:"head"}),m.push({cols:b,type:"head"}),m.push({cols:D,type:"head"}),c=x[s.regionID].cities.toLookUp("cityID"),f={label:s.regionName,options:[]},o=0,l=s.cities.length;o<l;++o)if((d=s.cities[o]).soOpened){for(p=s.regionID+"_"+d.cityID,h=c[d.cityID].segments.toLookUp("segmentID"),v=0,a=0,n=s.segments.length;a<n;++a)v+=h[(r=s.segments[a]).segmentID].sf;for(u=[d.cityName,d.annualCompensation,this.com("iedit","total_"+p,c[d.cityID].sf,{size:4}),this.com("iedit","supp_"+p,c[d.cityID].support,{size:3})],a=0,n=s.segments.length;a<n;++a)r=s.segments[a],u.push(this.com("iedit","train_"+p+"_"+r.segmentID,h[r.segmentID].sf,{size:3}));u.push('<span id="none_'+p+'">'+(c[d.cityID].sf-c[d.cityID].support-v)+"</span>"),m.push({values:u,rowData:{regionID:s.regionID,cityID:d.cityID}}),f.options.push({cityID:s.regionID+"_"+d.cityID,cityName:d.cityName})}if(this.activeCities.optgroups.push(f),this.activeRegions.push(s),this.regBind[s.regionID]=e,g='<div class="lrSummary">',g+='<div class="leftSummary">',g+='<h2 class="plainHeader hspSummaryHeader">'+this.tc("regionalSummary")+"</h2>",g+='<table class="hspTable">',g+="<thead><caption>"+this.tc("totalNumSalSer")+"</caption></thead>",g+="<tr><th>"+this.tc("priorQ")+'</th><td class="hspTableVal">'+Format.number(s.lastQuarterSalesPeople)+"</td></tr>",g+="<tr><th>"+this.tc("currentQ")+'</th><td class="hspTableVal" id="cqsp_'+s.regionID+'">'+Format.number(I[s.regionID].salesPeople)+"</td></tr>",g+="<tr><th>"+this.tc("netChange")+'</th><td class="hspTableVal" id="netCha_'+s.regionID+'">'+Format.number(I[s.regionID].salesPeople-s.lastQuarterSalesPeople)+"</td></tr>",g+="</table>",g+='<table class="hspTable">',g+="<thead><caption>"+this.tc("costsThisQ")+"</caption></thead>",s.hireCost>0&&(g+="<tr><th>"+this.tc("hiringExp")+'</th><td class="hspTableVal" id="hireCost_'+s.regionID+'">'+Format.number(I[s.regionID].hireCost)+"</td></tr>"),s.layOffCost>0&&(g+="<tr><th>"+this.tc("layOffExp")+'</th><td class="hspTableVal" id="layOffCost_'+s.regionID+'">'+Format.number(I[s.regionID].layOffCost)+"</td></tr>"),g+="<tr><th>"+this.tc("salaryTrainingCosts")+'</th><td class="hspTableVal" id="salTrainCost_'+s.regionID+'">'+Format.number(I[s.regionID].employCost+I[s.regionID].trainCost)+"</td></tr>",g+="</table>",g+="</div>",g+='<div class="rightSummary" aria-hidden="true">',this.st("newStyle"))g+='<img src="'+this.st("insideStore")+'" class="hspStoreImage insideStore" alt="">';else for(o=0,l=s.cities.length;o<l;++o)(d=s.cities[o]).soOpened&&(g+='<img id="insideStore_'+s.regionID+"_"+d.cityID+'" alt="" src="'+this.st("insideStore_"+i+"r"+s.regionID+"c"+d.cityID)+'" style="display: none;" class="hspStoreImage insideStore">');g+='<div id="storeTitle_'+s.regionID+'" class="hspStoreTitle '+(this.st("newStyle")?"":"hspStoreTitleWide")+'"></div>',g+='<div id="storePeople_'+s.regionID+'"></div>',this.st("newStyle")?g+='<img src="'+this.st("storeCounter")+'" class="hspStoreImage storeCounter" alt="">':g+='<img src="'+this.st("storeBuilding")+'" class="storeBuilding" alt="">',g+='<img id="outsideStore_'+s.regionID+'" src="'+this.st("outsideStore_"+i+"r"+s.regionID)+'" class="hspStoreImage outsideStore" alt="">',g+="</div></div>",this.summaries[e]=g,this.tables[e]=new DecisionTable('<div id="rmTableHead_'+s.regionID+'"><div style="float:left;">'+s.regionName+"</div></div>","rmTable_"+s.regionID,y,m,!0,"stone"),t&&(this.tables[e].tableCorners=""),this.st("newStyle")&&(this.regMaps.regTables[s.regionID]=this.tables[e]),T+=this.tables[e].draw()}return this.activeRegions.length>1?(this.modifyModeButtons=["copyData","save","cancel"],this.buttonCaptions.copyData=this.tc("common:copyData")+" &#9650;"):this.modifyModeButtons=["save","cancel"],0==this.tables.length?(this.showTotal=!1,this.viewModeButtons=[],this.modifyModeButtons=[],this.closedLabel=new DecisionLabel(this.service,"closedLabel",this.tc("common:noSO"),"","stone"),this.closedLabel.draw()):(this.showTotal&&(this.totalLbl=new DecisionLabel(this.service,"totalLbl",this.tc("total")+': <span id="hireSalesPeopleTotal">'+Number(this.data.calculate.total).format()+"</span>","","stone"),t&&(this.totalLbl.labelCorners=""),T+=this.totalLbl.draw()),T)},resize:function(){j$("#decision").children().first(),this.st("newStyle")&&this.regMaps.resize()},addStoreMan:function(t,e,i,s){var a,n="left",r=(e-1)*this.data.staticData.regions.length+t;a=this.storeManIndex[t],this.realIndex[t]>=100||("r"==this.st("mans")[a].lr&&(n="right"),i.append('<img src="'+this.st("man_"+n+"_"+s)+'" alt="" class="hspStoreMan" style="left:'+this.st("mans")[a].left+"px; top:"+this.st("mans")[a].top+"px; z-index:"+(50+(void 0!==this.st("mans")[a].zindex?this.st("mans")[a].zindex:0))+';">'),this.realIndex[t]++,20==this.realIndex[t]?this.storeManIndex[t]=40:80==this.realIndex[t]?this.storeManIndex[t]=(r+20)%40:this.realIndex[t]>80?this.storeManIndex[t]=(this.storeManIndex[t]+1)%40:this.storeManIndex[t]++)},changeStore:function(t,e){var i,s,a,n,r=this.data.staticData,o=r.regions.length,l=r.segments.toLookUp("segmentID"),d=r.regions.toLookUp("regionID")[t].cities.toLookUp("cityID")[e],c=this.data.decisions.regions.toLookUp("regionID")[t].cities.toLookUp("cityID")[e],h=c.segments,p="service",u=j$("#storePeople_"+t),g=0;if(j$("#storeTitle_"+t).html(d.cityName),u.html(""),this.st("newStyle")){for(this.realIndex[t]=0,this.storeManIndex[t]=(e-1)*o+t,i=0,s=c.support;i<s;i++)g++,this.addStoreMan(t,e,u,p);for(i=0,s=h.length;i<s;i++)for(p=l[h[i].segmentID].shortName.toLowerCase(),a=0,n=h[i].sf;a<n;a++)g++,this.addStoreMan(t,e,u,p);for(p="default",i=0,s=Math.max(0,c.sf-g);i<s;i++)this.addStoreMan(t,e,u,p)}else(g=c.sf)>0&&(g>14&&(g=14),u.append('<img src="'+this.st("people"+g)+'" class="hspPeople" alt="" />'))},deselectStore:function(t,e){j$("#storeTitle_"+t).html(""),j$("#outsideStore_"+t).show(),this.st("newStyle")||(j$("#insideStore_"+t+"_"+e).hide(),j$("#storePeople_"+t).html(""))},onHovCity:function(t,e){!1===this.isSelectedCity[e.regionID]&&(1==t?(this.st("newStyle")?(void 0!==this.isSelectedCity[e.regionID]&&!1!==this.isSelectedCity[e.regionID]&&this.regMaps.toggleCityDotActive(e.regionID,this.isSelectedCity[e.regionID],!1),this.regMaps.toggleCityDotActive(e.regionID,e.cityID,!0)):j$("#insideStore_"+e.regionID+"_"+e.cityID).show(),j$("#outsideStore_"+e.regionID).hide(),this.changeStore(e.regionID,e.cityID)):!1===this.isSelectedCity[e.regionID]?(this.st("newStyle")&&this.regMaps.toggleCityDotActive(e.regionID,e.cityID,!1),this.deselectStore(e.regionID,e.cityID)):void 0!==this.isSelectedCity[e.regionID]&&!1!==this.isSelectedCity[e.regionID]&&(this.st("newStyle")?(this.regMaps.toggleCityDotActive(e.regionID,e.cityID,!1),this.regMaps.toggleCityDotActive(e.regionID,this.isSelectedCity[e.regionID],!0)):j$("#insideStore_"+e.regionID+"_"+e.cityID).show(),j$("#outsideStore_"+e.regionID).hide(),this.changeStore(e.regionID,this.isSelectedCity[e.regionID])))},onSelCity:function(t,e){1==t?(this.st("newStyle")?this.regMaps.toggleCityDotActive(e.regionID,e.cityID,!0):j$("#insideStore_"+e.regionID+"_"+e.cityID).show(),this.isSelectedCity[e.regionID]=e.cityID,j$("#outsideStore_"+e.regionID).hide(),this.changeStore(e.regionID,e.cityID)):(this.st("newStyle")&&this.regMaps.toggleCityDotActive(e.regionID,e.cityID,!1),this.isSelectedCity[e.regionID]=!1,this.deselectStore(e.regionID,e.cityID))},observe:function(){var t,e,i,s,a,n,r,o,l,d,c=this.data.staticData,h=[];for(t=0,e=c.regions.length;t<e;++t)if((i=c.regions[t]).isIn){for(this.isSelectedCity[i.regionID]=!1,this.tables[t].observe(),this.tables[t].jelementWrapper().append(this.summaries[t]),this.tables[t].onHovRowEvent=j$.proxy(this.onHovCity,this,!0),this.tables[t].onDeHovRowEvent=j$.proxy(this.onHovCity,this,!1),this.tables[t].onSelectRowEvent=j$.proxy(this.onSelCity,this,!0),this.tables[t].onDeselectRowEvent=j$.proxy(this.onSelCity,this,!1),h.push(this.tables[t]),d=!1,n=0,r=i.cities.length;n<r;++n)if((o=i.cities[n]).soOpened)for(d=!0,l=i.regionID+"_"+o.cityID,this.bindCalculate("total_"+l,"keyup",!0),this.bindCalculate("supp_"+l,"keyup",!0),s=0,a=i.segments.length;s<a;++s)this.bindCalculate("train_"+l+"_"+i.segments[s].segmentID,"keyup",!0);d&&this.st("newStyle")&&this.regMaps.drawRegion(i)}0==this.tables.length?(this.closedLabel.observe(),this.closedLabel.change("float","left")):DecisionTable.setMaxTableWidths(h),this.createCopyDD(),this.showTotal&&(this.totalLbl.observe(),this.totalLbl.change("float","left"))}})},64871:()=>{window.HireWebSalesPeople=Decision.extend({style:"padding: 10px 10px 0px 10px;",read:function(){var t,e,i,s=this.data.decisions;for(t=0,e=s.regions.length;t<e;++t)(i=s.regions[t]).sf=this.value("salesPeople"+i.regionID),i.support=this.value("supportPeople"+i.regionID)},write:function(){var t,e,i,s=this.data.decisions;for(t=0,e=s.regions.length;t<e;++t)i=s.regions[t],this.setValue("salesPeople"+i.regionID,i.sf),this.setValue("supportPeople"+i.regionID,i.support)},writeErrors:function(){var t,e,i,s=this.data.errors.decisions;for(t=0,e=s.regions.length;t<e;++t)i=s.regions[t],this.writeError("salesPeople"+i.regionID,i.sf,"center left",!0,3),this.writeError("supportPeople"+i.regionID,i.support,"center left",!0,3)},writeCalculate:function(){var t,e,i,s=this.data.staticData,a=this.data.calculate;for(t=0,e=a.regions.length;t<e;++t)i=a.regions[t],this.setValue("totalPeople"+i.regionID,Number(i.totalPeople).format());this.setValue("cqSalesPeople",Number(a.salesPeople).format()),this.setValue("changeInSalesPeople",Number(a.salesPeople-s.lastQuarterSalesPeople).format()),this.zeroToHire||this.setValue("hireCost",Number(a.hireCost).format()),this.zeroToLayOff||this.setValue("layOffCost",Number(a.layOffCost).format()),this.setValue("employCost",Number(a.employCost).format()),this.showTotal&&this.setValue("hireWebSalesPeopleTotal",Number(a.total).format())},draw:function(t){t=t||!1;var e,i,s,a=this.data.staticData,n=this.data.decisions,r=this.data.calculate,o=n.regions.toLookUp("regionID"),l=r.regions.toLookUp("regionID"),d=[],c="",h=[{title:this.tc("location")},{title:this.tc("annualCompensation"),type:"number"},{title:this.tc("salesPeople"),align:"right"},{title:Format.segmentName(this.tc("supportPeople"),this.st("service")),align:"right"},{title:this.tc("totalPeople"),align:"right"}];for(this.showTotal=a.regions.length>1,this.zeroToHire=!0,this.zeroToLayOff=!0,e=0,i=a.regions.length;e<i;++e)(s=a.regions[e]).opened&&d.push([Format.location(s.cityName,s.regionName),s.annualCompensation,this.com("iedit","salesPeople"+s.regionID,o[s.regionID].sf,{size:3}),this.com("iedit","supportPeople"+s.regionID,o[s.regionID].support,{size:3}),'<span id="totalPeople'+s.regionID+'">'+Number(l[s.regionID].totalPeople).format()+"</span>"]),s.hireCost>0&&(this.zeroToHire=!1),s.layOffCost>0&&(this.zeroToLayOff=!1);return d.length>0?(this.wscTable=new DecisionTable(this.tc("webPersonnel"),"wscTable",h,d,!1,"stone"),t&&(this.wscTable.tableCorners=""),h=[{title:""},{title:"",align:"right"}],d=[[this.tc("lqSalesPeople"),Number(a.lastQuarterSalesPeople).format()],[this.tc("cqSalesPeople"),'<span id="cqSalesPeople">'+r.salesPeople+"</span>"],[this.tc("changeInSalesPeople"),'<span id="changeInSalesPeople">'+Number(r.salesPeople-a.lastQuarterSalesPeople).format()+"</span>"]],this.zeroToHire||(d.push([this.tc("hireCost"),'<span id="hireCost">'+Number(r.hireCost).format()+"</span>"]),this.showTotal=!0),this.zeroToLayOff||(d.push([this.tc("layOffCost"),'<span id="layOffCost">'+Number(r.layOffCost).format()+"</span>"]),this.showTotal=!0),d.push([this.tc("employCost"),'<span id="employCost">'+Number(r.employCost).format()+"</span>"]),this.summaryTable=new DecisionTable(this.tc("summary"),"hireWebSalesPeopleSummaryTable",h,d,!0,"stone"),t&&(this.summaryTable.tableCorners=""),c=this.wscTable.draw()+this.summaryTable.draw(),this.showTotal&&(this.totalLbl=new DecisionLabel(this.service,"totalLbl",this.tc("total")+': <span id="hireWebSalesPeopleTotal">'+Number(r.total).format()+"</span>","","stone"),t&&(this.totalLbl.labelCorners=""),c+=this.totalLbl.draw()),c):(this.showTotal=!1,this.wscTable=null,this.viewModeButtons=[],this.modifyModeButtons=[],this.closedLabel=new DecisionLabel(this.service,"closedLabel",this.tc("common:noWeb"),"","stone"),this.closedLabel.draw())},observe:function(){if(null!=this.wscTable){var t,e,i,s=this.data.staticData;for(this.wscTable.observe(),this.summaryTable.observe(),this.showTotal&&(this.totalLbl.observe(),this.totalLbl.change("float","left")),t=0,e=s.regions.length;t<e;++t)(i=s.regions[t]).opened&&(this.bindCalculate("salesPeople"+i.regionID,"keyup",!0),this.bindCalculate("supportPeople"+i.regionID,"keyup",!0))}else this.closedLabel.observe(),this.closedLabel.change("float","left")},drawSOD:function(){var t=this.draw(!0);null!=this.wscTable?(this.setValue(this.pfxSod+this.service,t),this.disable(),this.showTotal&&this.totalLbl.change("float","left")):this.setValue(this.pfxSod+this.service,"")}})},86106:(t,e,i)=>{"use strict";i(64871),window.HireWebSalesPeopleAnim=HireWebSalesPeople.extend({style:"padding: 0px 0px 0px 0px;",initialize:function(t){this._super("HireWebSalesPeople")},resize:function(){var t=j$("#decision"),e=t.width()/700;t.children().first().css("height",400*e)},draw:function(){var t,e,i,s,a,n,r=this.data.staticData,o=this.data.decisions,l=this.data.calculate,d=o.regions.toLookUp("regionID"),c=l.regions.toLookUp("regionID"),h=this.data.dynamicData.regions.toLookUp("regionID"),p=[],u="",g=[];for(this.positions=this.loadPositions(),this.showTotal=r.regions.length>1,this.zeroToHire=!0,this.zeroToLayOff=!0,t=0,e=r.regions.length;t<e;++t){for(s=0,a=(i=r.regions[t]).cities.length;s<a;++s)(n=i.cities[s]).cityID==i.cityID&&i.opened?(g=[{title:'<span class="darkBlueLabel" style="white-space: nowrap;">'+this.tc("annualCompensation")+"</span>",styleClass:"centerAlign",style:"padding-left:5px;"},{title:'<span id="salesPeopleHeader" class="darkBlueLabel" style="white-space: nowrap;">'+this.tc("salesPeopleAnim")+"</span>",styleClass:"centerAlign inputBound",style:"padding-left:5px;padding-right:5px;"},{title:'<span id="supportPeopleHeader" class="darkBlueLabel" style="white-space: nowrap;">'+this.tc("supportPeopleAnim")+"</span>",styleClass:"centerAlign inputBound",style:"padding-left:5px;padding-right:5px;"},{title:'<span class="darkBlueLabel" style="white-space: nowrap;">'+this.tc("totalPeopleAnim")+"</span>",styleClass:"centerAlign",style:"padding-right:5px;white-space: nowrap;"}],p=[[Number(i.annualCompensation).format(),this.com("iedit","salesPeople"+i.regionID,d[i.regionID].sf,{size:3,style:"text-align:center;","aria-labelledby":"salesPeopleHeader"}),this.com("iedit","supportPeople"+i.regionID,d[i.regionID].support,{size:3,style:"text-align:center;","aria-labelledby":"supportPeopleHeader"}),'<span id="totalPeople'+i.regionID+'">'+Number(c[i.regionID].totalPeople).format()+"</span>"]],u+=this.drawCity(i.regionID,i.cityID,i.cityName,p,g,h[i.regionID].changing)):n.cityID!=i.cityID&&(u+=this.drawCity(i.regionID,n.cityID,n.cityName));i.hireCost>0&&(this.zeroToHire=!1),i.layOffCost>0&&(this.zeroToLayOff=!1)}return p.length>0?(p=[[this.tc("lqSalesPeople"),Number(r.lastQuarterSalesPeople).format()],[this.tc("cqSalesPeople"),'<span id="cqSalesPeople">'+l.salesPeople+"</span>"],[this.tc("changeInSalesPeople"),'<span id="changeInSalesPeople">'+Number(l.salesPeople-r.lastQuarterSalesPeople).format()+"</span>"]],this.zeroToHire||(p.push([this.tc("hireCost"),'<span id="hireCost">'+Number(l.hireCost).format()+"</span>"]),this.showTotal=!0),this.zeroToLayOff||(p.push([this.tc("layOffCost"),'<span id="layOffCost">'+Number(l.layOffCost).format()+"</span>"]),this.showTotal=!0),p.push([this.tc("employCost"),'<span id="employCost">'+Number(l.employCost).format()+"</span>"]),this.showTotal&&p.push([this.tc("total"),'<span id="hireWebSalesPeopleTotal">'+Number(l.total).format()+"</span>"]),this.summaryTable=new SceneTable("","hireWebSalesPeopleSummaryTable",[{styleClass:"rightAlign",style:"padding-right:5px;",isHead:!0},{styleClass:"rightAlign",style:"min-width:60px;"}],p,"yellow","right:1%;bottom:12%;position:absolute;margin-bottom:3px;padding:3px;","sTabLines"),this.summaryTable.hideHead=!0,u+=this.summaryTable.draw()):(this.showTotal=!1,this.wscTable=null,this.viewModeButtons=[],this.modifyModeButtons=[],this.closedLabel=new DecisionLabel(this.service,"closedLabel",this.tc("common:noWeb"),"","stone"),this.closedLabel.draw())},drawCity:function(t,e,i,s,a,n){var r,o,l,d="",c="",h="",p=this.positions[t][e],u=!1;if(r='<div id="cityLabel_'+t+"_"+e+'" class="cityLabel cityLabelBck" aria-hidden="true" style="position:relative;">'+i+"</div>",void 0!==s&&(u=!0),u?(d=this.drawCityInfo(s,a,i,t,e),o='<div id="cityMarker_'+t+"_"+e+'" class="cityMarker"></div>'):o='<div id="cityMarker_'+t+"_"+e+'" class="cityMarkerYellow"></div>',"right"==p.situated?c+='<div id="city_'+t+"_"+e+'" style="position:absolute;top:'+p.y+"%;left:"+p.x+'%;">'+o+'<div style="margin-left:4px;position:relative;float:right;">'+d+r+'<div id="spImg_'+t+"_"+e+'" style="position:absolute;z-index:50;top:'+p.spImgY+"px;left:"+p.spImgX+'px;"></div></div></div>':"left"==p.situated&&(c+='<div id="city_'+t+"_"+e+'" style="position:absolute;top:'+p.y+"%;right:"+(100-p.x)+'%;">'+o+'<div style="margin-right:4px;position:relative;float:left;">'+d+r+'<div id="spImg_'+t+"_"+e+'" style="position:absolute;z-index:50;top:'+p.spImgY+"px;right:"+p.spImgX+'px;"></div></div></div>'),l="left"==p.situated?"right":"left",u){h='<img id="img_'+t+'" src="'+Path.getDecPath("salesoffice","wcFinished",".png")+'" alt="" style="width:20%;position:absolute;z-index:5;top:'+p.imageOpenedY+"%;"+l+":"+p.imageOpenedX+'%;" />';for(var g=1;g<p.URDLimagey.length+1;g++)h+='<img id="arrow_'+g+'" src="'+Path.getDecPath("salesoffice","wsswsc-1234",".png")+'" alt="" style="position:absolute;width:70%;top:'+p.URDLimagey[g-1]+"%;"+l+":"+p.URDLimagex[g-1]+'%;" />'}return h+c},drawCityInfo:function(t,e,i,s,a){var n=this.positions[s][a];return this.data.staticData,this.wscTable=new SceneTable(i,"wscTable",e,t,"lastTRsimpWhiteScTab lightblue","position:absolute;margin-bottom:3px;z-index:60;border-spacing: 0;padding:1px;padding-top:5px;padding-bottom:7px;","sTabLines"),this.wscTable.hideTitle=!0,'<div style="position:absolute;bottom:'+n.infoBottom+"px;margin-left:"+n.infoMargLeft+'px;">'+this.wscTable.draw()+"</div>"},loadPositions:function(){var t,e=this.data.staticData.regions.length,i=[];for(t=0;t<e;t++)i[this.data.staticData.regions[t].regionID]=[];return 1===e&&(i[1][1]={x:"14.5",y:"26.5",situated:"right",infoBottom:"92",infoMargLeft:"-110",image:"1",imageOpenedX:"0",imageOpenedY:"30",spImgX:"-110",spImgY:"95",URDLimagex:["3"],URDLimagey:["16"]},i[1][2]={x:"33.5",y:"69.0",situated:"left",infoBottom:"92",infoMargLeft:"-102",image:"2",imageOpenedX:"62",imageOpenedY:"73",spImgX:"-64",spImgY:"55"},i[1][3]={x:"48",y:"25",situated:"right",infoBottom:"92",infoMargLeft:"-15",image:"3",imageOpenedX:"38",imageOpenedY:"28",spImgX:"-28",spImgY:"43"},i[1][4]={x:"88.0",y:"34.0",situated:"left",infoBottom:"-27",infoMargLeft:"-90",image:"4",imageOpenedX:"0",imageOpenedY:"27",spImgX:"1",spImgY:"15"}),i},writeCalculate:function(){var t,e,i,s=this.data.staticData,a=this.data.calculate;for(t=0,e=a.regions.length;t<e;++t)i=a.regions[t],this.setValue("totalPeople"+i.regionID,Number(i.totalPeople).format()),this.changeSPImg(i.regionID);this.setValue("cqSalesPeople",Number(a.salesPeople).format()),this.setValue("changeInSalesPeople",Number(a.salesPeople-s.lastQuarterSalesPeople).format()),this.zeroToHire||this.setValue("hireCost",Number(a.hireCost).format()),this.zeroToLayOff||this.setValue("layOffCost",Number(a.layOffCost).format()),this.setValue("employCost",Number(a.employCost).format()),this.showTotal&&this.setValue("hireWebSalesPeopleTotal",Number(a.total).format())},writeErrors:function(){var t,e,i,s=this.data.errors.decisions;for(t=0,e=s.regions.length;t<e;++t)i=s.regions[t],this.writeError("salesPeople"+i.regionID,i.sf,"center left",!0,3),this.writeError("supportPeople"+i.regionID,i.support,"center right",!0,3)},changeSPImg:function(t){var e=t,i=this.data.decisions.regions.toLookUp("regionID"),s=Number(i[t].sf)+Number(i[t].support);if(void 0===this.sfNum&&(this.sfNum=[]),void 0===this.sfNum[t])this.sfNum[t]=s;else{if(this.sfNum[t]==s)return!0;this.sfNum[t]=s}s>14&&(s=14);var a=j$("#spImg_"+e+"_1");!a.children().length>0&&s>0?(a.html('<img src="'+Path.getDecPath("salesoffice","hiresales_"+s,".png")+'" alt="" id="spImgIns_'+e+'" />'),this.cs.appear(a,.2)):s>0?(a.attr("alt",s+" "+this.tc("totalSalesPeople")).hide(),j$("#spImgIns_"+e).attr("src",Path.getDecPath("salesoffice","hiresales_"+s,".png")),this.cs.appear(a,.2)):0==s&&a.hide()},observe:function(){if(null!=this.wscTable){var t,e,i,s=this.data.staticData;for(t=0,e=s.regions.length;t<e;++t)(i=s.regions[t]).opened&&(this.bindCalculate("salesPeople"+i.regionID,"keyup",!0),this.bindCalculate("supportPeople"+i.regionID,"keyup",!0),this.changeSPImg(i.regionID),j$("#arrow_"+i.regionID).css({opacity:"0.7"}))}else this.closedLabel.observe(),this.closedLabel.change("float","left")}})},56020:()=>{window.HRSurvey=Decision.extend({style:"padding: 10px 10px 0px 10px;",read:function(){this.data.decisions.plan=this.value("buy_es")},write:function(){this.setValue("buy_es",this.data.decisions.plan)},writeCalculate:function(){},draw:function(t){var e=[],i=[];return this.data.staticData,t=t||!1,this.data.staticData.hrSurveyBought?(this.srLabel=new DecisionLabel(this.service,"srLabel",this.tc("hrSurveyBought"),"","wooden"),this.viewModeButtons=[],this.modifyModeButtons=[],this.srLabel.draw()):(e=[{title:this.tc("cost"),type:"number"},{title:this.tc("buy"),type:"flag"}],i.push([this.data.staticData.hrSurveyCost,this.com("checkbox","buy_es",this.data.decisions.plan)]),this.bmrTable=new DecisionTable(t?"":this.tc("hrSurvey"),"bmrTable",e,i,!1,"wooden"),t&&(this.bmrTable.tableCorners=""),this.bmrTable.draw())},observe:function(){this.bmrTable?this.bmrTable.observe():(this.srLabel.observe(),this.srLabel.change("float","left"))},drawSOD:function(){this.data.staticData.hrSurveyBought?this.setValue(this.pfxSod+this.service,""):(this.setValue(this.pfxSod+this.service,this.draw(!0)),this.disable())}})},48484:()=>{window.HRSurveyResult=Decision.extend({style:"padding: 10px 10px 0px 10px;",viewModeButtons:[],modifyModeButtons:[],draw:function(){var t,e,i="",s=this.data.staticData,a=s.studies.length;if(this.srLabel=null,this.bmrTable=null,s.hrSurveyBought){for(t=[],e=0;e<a;++e)t.push(['<img src="'+Path.getDecPath("cc","study-"+s.studies[e].areaID+"-small",".png")+'" style="vertical-align: middle; margin-right: 5px; float: left;" alt="" /><div style="padding-left: 35px;"><div style="font-weight: bold;">'+s.studies[e].title+"</div>"+s.studies[e].description+"</div>"]);this.srTable=new DecisionTable(this.tc("hrSurveyResults"),"srTable",[{title:this.tc("p1")}],t,!1,"wooden"),i=this.srTable.draw()}else this.srLabel=new DecisionLabel(this.service,"srLabel",this.tc("hrSurveyNot"),"","wooden"),i=this.srLabel.draw();return i},observe:function(){null!=this.srLabel&&(this.srLabel.observe(),this.srLabel.change("float","left")),null!=this.srTable&&this.srTable.observe()}})},52643:()=>{window.IllWill=Decision.extend({style:"padding: 10px 10px 0px 10px;",viewModeButtons:[],modifyModeButtons:[],draw:function(){var t,e,i,s=this.data.staticData,a=[],n=0,r=0,o=0;for(t=0,e=s.brands.length;t<e;++t)i=s.brands[t],a[t]=[i.name.escapeHTML(),i.potentialDemand,i.lost,i.netDemand],n+=Number(i.potentialDemand),r+=Number(i.lost),o+=Number(i.netDemand);return a[t]={values:[this.tc("total"),n,r,o],type:"total"},this.tblIll=new DecisionTable(this.tc("netAfterIllWill"),"tblIll",[{title:this.tc("brand")},{title:this.tc("potential"),type:"number"},{title:this.tc("unmetUnits"),type:"number"},{title:this.tc("net"),type:"number"}],a),this.netDemandFormula=new DecisionLabel(this.service,"netDemandFormula",this.tc("netDemandFormula",{QUARTER:Live.user.quarter()-2,PERCENT_OF_LOST_SALES:s.percentOfLostSales.formatFloat(2),ILL_WILL_PENALTY:s.illWillPenalty.formatFloat(3)})),this.tblIll.draw()+this.netDemandFormula.draw()},observe:function(){this.tblIll.observe(),this.netDemandFormula.observe(),this.netDemandFormula.change("float","left")}})},42954:()=>{window.IllWillRegional=Decision.extend({style:"padding: 10px 10px 0px 10px;",viewModeButtons:[],modifyModeButtons:[],drawRegion:function(t){for(var e=[],i=0,s=0,a=0,n=[{title:this.tc("brand")},{title:this.tc("potential"),type:"number"},{title:this.tc("unmetUnits"),type:"number"},{title:this.tc("net"),type:"number"}],r=this.tc("netDemandFormula",{QUARTER:Live.user.quarter()-2,PERCENT_OF_LOST_SALES:t.percentOfLostSales.formatFloat(2),ILL_WILL_PENALTY:t.illWillPenalty.formatFloat(3)}),o=0,l=t.brands.length;o<l;++o){var d=t.brands[o];e.push([d.name.escapeHTML(),d.potentialDemand,d.lost,d.netDemand]),i+=Number(d.potentialDemand),s+=Number(d.lost),a+=Number(d.netDemand)}return e.push({values:[this.tc("total"),i,s,a],type:"total"}),this.tblIll[t.regionID]=new DecisionTable(this.tc("netAfterIllWill",{REGION:t.regionName}),"tblIll_"+t.regionID,n,e),this.netDemandFormula[t.regionID]=new DecisionLabel(this.service,"netDemandFormula_"+t.regionID,r),this.tblIll[t.regionID].draw()+this.netDemandFormula[t.regionID].draw()},draw:function(){var t=this.data.staticData,e="";this.tblIll=[],this.netDemandFormula=[];for(var i=0,s=t.regions.length;i<s;++i){var a=t.regions[i];a.isIn&&(e+=this.drawRegion(a))}return e},observe:function(){for(var t=this.data.staticData,e=0,i=t.regions.length;e<i;++e){var s=t.regions[e];s.isIn&&(this.tblIll[s.regionID].observe(),this.netDemandFormula[s.regionID].observe(),this.netDemandFormula[s.regionID].change("float","left"))}}})},89025:()=>{window.ImproveChangeover=Decision.extend({style:"padding: 10px;",read:function(){this.data.decisions.rdChover=this.value("rdChover")},write:function(){this.setValue("rdChover",this.data.decisions.rdChover)},writeErrors:function(){this.writeError("rdChover",this.data.errors.decisions.rdChover,"center left",!1,3)},writeCalculate:function(){var t,e,i=this.data.calculate,s=this.data.dynamicData.brands.length,a=i.changeoverTime,n=i.changeoverCost;for(j$("#timeReductionPct").html(i.timeReductionPct.format(2)+"%"),j$("#costReductionPct").html(i.costReductionPct.format(2)+"%"),t=0;t<s;++t)for(e=0;e<s;++e)t!=e&&(j$("#ct_"+t+"_"+e).html(a[t][e].format(1)),j$("#cc_"+t+"_"+e).html(n[t][e].format()))},draw:function(){var t,e,i,s,a,n,r,o,l,d=this.data.calculate,c=this.data.dynamicData.brands,h=c.length,p=d.changeoverTime,u=d.changeoverCost,g="",m=this.data.staticData.teams.toLookUp("teamID");if(0==this.data.staticData.fixedCapacity&&0==this.data.decisions.rdChover)return this.viewModeButtons=[],this.modifyModeButtons=[],this.emptyLabel=new DecisionLabel(this.service,"emptyLabel",this.tc("common:noFactory"),"","green"),this.emptyLabel.draw();if(this.emptyLabel=null,a=[{values:[this.tc("rdChover"),this.com("iedit","rdChover",this.data.decisions.rdChover,{size:10})],hrafter:!0},[this.tc("timeReduction"),'<span id="timeReductionPct">'+d.timeReductionPct.format(2)+"%</span>"],[this.tc("costReduction"),'<span id="costReductionPct">'+d.costReductionPct.format(2)+"%</span>"]],this.icTable=new DecisionTable("","icTable",[{title:""},{title:"",align:"right"}],a,!0,"green"),g+=this.icTable.draw(),s=[{title:"",vhead:!0}],a=[{cols:[{title:this.tc("fromBrand"),rowspan:2},{title:this.tc("toBrand"),colspan:c.length+1}],type:"head"},{cols:[],type:"head"}],n=[{cols:[{title:this.tc("fromBrand"),rowspan:2},{title:this.tc("toBrand"),colspan:c.length+1}],type:"head"},{cols:[],type:"head"}],h>0){for(t=0;t<h;++t){for(i=c[t],l=Format.brandName(i.brandName.escapeHTML(),i.brandType),s.push({title:"",align:"right"}),a[1].cols.push({title:l}),n[1].cols.push({title:l}),r=0==i.teamID?[l]:[this.tc("brandBy",{BRAND_NAME:l,RESELLER:m[i.teamID].companyName.escapeHTML()})],o=0==i.teamID?[l]:[this.tc("brandBy",{BRAND_NAME:l,RESELLER:m[i.teamID].companyName.escapeHTML()})],e=0;e<h;++e)t==e?(r.push(null),o.push(null)):(r.push('<span id="ct_'+t+"_"+e+'">'+p[t][e].format(1)+"</span>"),o.push('<span id="cc_'+t+"_"+e+'">'+u[t][e].format(0)+"</span>"));a.push(r),n.push(o)}this.ctTable=new DecisionTable(this.tc("changeoverTime"),"ctTable",s,a,!0,"green"),this.ccTable=new DecisionTable(this.tc("changeoverCost"),"ccTable",s,n,!0,"green"),g+=this.ctTable.draw(),g+=this.ccTable.draw()}return g+'<br /><div id="chart" style="width: 550px; height: 300px; margin: auto;"></div>'},observe:function(){this.data.dynamicData.brands.length,null==this.emptyLabel?(this.icTable.observe(),this.ctTable&&this.ccTable&&(this.ctTable.observe(),this.ccTable.observe()),this.bindCalculate("rdChover","keyup",!0),this.setChartData("","chart")):(this.emptyLabel.observe(),this.emptyLabel.change("float","left"))},setChartData:function(t,e){var i,s,a=this.data.staticData.chart,n=a.investments.length;if(Live.useSvg()){for(i=this.data.staticData.chartTemplate,j$.extend(i.data,{title:this.tc("improveChover"),xAxis:this.tc("expenditure"),yAxis:"",labels:[this.tc("timeReduction")+" [%]",this.tc("costReduction")+" [%]"],x:[],y:[],minX:0,minY:0,dsX:5,saveUrl:this.st("common:saveChartURL"),saveName:"improve-changeover-q"+this.user.quarter()}),i.legend.maxWidth="150",i.chartSettings.radius=0,s=0;s<n;++s)i.data.x[s]=Number(a.investments[s]),i.data.y[s]=[Number(a.timeReduction[s]),Number(a.costReduction[s])];SvgCharts.BaseChart.setChartData(e,i)}else{for(j$("#"+e).html(""),(i=new LineChart(j$("#"+e)[0])).minX=0,i.minY=0,i.dsx=5,i.label=this.tc("improveChover"),i.legend=!0,i.labelX=this.tc("expenditure"),i.labelY="",i.labels=[this.tc("timeReduction")+" [%]",this.tc("costReduction")+" [%]"],i.data=[[],[]],i.category=[],s=0;s<n;++s)i.data[0][s]=Number(a.timeReduction[s]),i.data[1][s]=Number(a.costReduction[s]),i.category[s]=Number(a.investments[s]);i.draw()}},drawSOD:function(){0==this.data.staticData.fixedCapacity?this.setValue(this.pfxSod+this.service,""):this.setValue(this.pfxSod+this.service,this.tc("rdChover")+": "+this.data.decisions.rdChover.format())}})},46746:()=>{window.ImprovementActions=Decision.extend({style:"padding: 10px 10px 0px 10px;",read:function(){var t,e=this.data.decisions.actions,i=e.length;for(t=0;t<i;++t)e[t].operate=this.value("invest_"+e[t].actionID)},write:function(){var t,e=this.data.decisions.actions,i=e.length;for(t=0;t<i;++t)this.setValue("invest_"+e[t].actionID,e[t].operate)},writeErrors:function(){var t,e=this.data.errors.decisions.actions,i=e.length;for(t=0;t<i;++t)this.writeError("invest_"+e[t].actionID,e[t].operate,"center left",!0,3)},writeCalculate:function(){var t,e=this.data.calculate,i=e.actions,s=i.length;for(t=0;t<s;++t)j$("#calc_"+i[t].actionID).html(Number(i[t].total).format());j$("#improvementActionsTotal").html(Number(e.total).format())},draw:function(){var t,e,i,s,a,n=[],r=[],o="",l=this.data.staticData,d=l.groups.length,c=this.data.decisions.actions.toLookUp("actionID"),h=this.data.calculate.actions.toLookUp("actionID");if(this.actLabel=null,this.actTable=null,0==d)this.actLabel=new DecisionLabel(this.service,"actLabel",this.tc("hrStudyNot")),this.viewModeButtons=[],this.modifyModeButtons=[],o=this.actLabel.draw();else{for(n=[{title:this.tc("actionsHd")},{title:'<span id="moraleImpact">'+this.tc("moraleImpact")+"</span>",align:"right"}],this.data.staticData.hasCCQuality&&n.push({title:'<span id="reliabilityImpact">'+this.tc("reliabilityImpact")+"</span>",align:"right"}),n.push({title:this.tc("cost"),align:"right"},{title:this.tc("invest"),align:"center"}),t=0;t<d;++t)for(r.push({title:'<img src="'+Path.getDecPath("cc","group-"+l.groups[t].groupID+"-small",".png")+'"  style="vertical-align: middle" alt="" /> '+l.groups[t].title}),e=0,i=l.groups[t].actions.length;e<i;++e)a=[(s=l.groups[t].actions[e]).title,s.moraleWeight>0?Number(s.moraleWeight).format():""],this.data.staticData.hasCCQuality&&a.push(s.reliabilityWeight>0?Number(s.reliabilityWeight).format():""),a.push('<span id="calc_'+s.actionID+'">'+Number(h[s.actionID].total).format()+"</span>",this.com("checkbox","invest_"+s.actionID,c[s.actionID].operate,{})),r.push(a);a=[this.tc("total"),null],this.data.staticData.hasCCQuality&&a.push(null),a.push('<span id="improvementActionsTotal">'+Number(this.data.calculate.total).format()+"</span>",null),r.push({values:a,type:"total"}),this.actTable=new DecisionTable(this.tc("hrActions"),"actTable",n,r),o=this.actTable.draw()}return o},observe:function(){if(null!=this.actLabel&&(this.actLabel.observe(),this.actLabel.change("float","left")),null!=this.actTable){var t,e,i,s=this.data.staticData,a=s.groups.length;for(this.actTable.observe(),t=0;t<a;++t)for(e=0,i=s.groups[t].actions.length;e<i;++e)this.bindCalculate("invest_"+s.groups[t].actions[e].actionID,"click",!1)}}})},66700:()=>{window.ImprovementActionsCosts=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",initSettings:function(){return{hiddenGroups:[],hiddenGroupsBen:[]}},draw:function(){var t,e,i,s,a=[],n=[],r="",o=this.data.staticData,l=o.groups.length,d=1;if(this.bgroups=[],this.groups=[],this.benTable=null,this.actLabel=null,this.actTable=null,0==l)this.actLabel=new DecisionLabel(this.service,"actLabel",this.tc("hrStudyNot")),this.viewModeButtons=[],this.modifyModeButtons=[],r=this.actLabel.draw();else{for(a=[{title:this.tc("actionsHd")},{title:this.tc("benefits")}],t=0;t<l;++t)for(this.bgroups[o.groups[t].groupID]={fromRow:d+1,toRow:d+o.groups[t].actions.length},d++,n.push({title:'<button class="button-plain" style="cursor:pointer; font-size: 1em; font-weight: bold; color: #5c5c5c; text-align: left;"><img src="'+Path.getDecPath("cc","group-"+o.groups[t].groupID+"-small",".png")+'"  style="vertical-align: middle" alt=""/> '+o.groups[t].title+"</button>"}),e=0,i=o.groups[t].actions.length;e<i;++e)s=o.groups[t].actions[e],n.push([s.title,s.description]),d++;for(this.benTable=new DecisionTable(this.tc("hrActionsBen"),"benTable",a,n),r+=this.benTable.draw(),n=[],d=1,a=[{title:this.tc("actionsHd")},{title:this.tc("dependancy"),align:"left"},{title:this.tc("setupCost"),type:"number"},{title:this.tc("setupCostUnit"),type:"number"},{title:this.tc("expCostUnit"),type:"number"},{title:this.tc("operCostUnit"),type:"number"}],t=0;t<l;++t)for(this.groups[o.groups[t].groupID]={fromRow:d+1,toRow:d+o.groups[t].actions.length},d++,n.push({title:'<button class="button-plain" style="cursor:pointer; font-size: 1em; font-weight: bold; color: #5c5c5c; text-align: left;"><img src="'+Path.getDecPath("cc","group-"+o.groups[t].groupID+"-small",".png")+'"  style="vertical-align: middle" alt=""/> '+o.groups[t].title+"</button>"}),e=0,i=o.groups[t].actions.length;e<i;++e)s=o.groups[t].actions[e],n.push([s.title,s.dependancy,s.setupCost,s.setupCostUnit,s.expCostUnit,s.operCostUnit]),d++;this.actTable=new DecisionTable(this.tc("hrActionsCos"),"actTable",a,n),r+=this.actTable.draw()}return r},showGroup:function(t,e,i){var s=e[i],a=t.jelement().find("tr");a.eq(s.fromRow-1).find("td").last().css({"text-align":"left",background:'white url("'+Path.getPath(this.st("common:controlsFolder"),"arrow-down",".gif")+'") no-repeat 97% center'}),a.eq(s.fromRow-1).children().css({cursor:"pointer"}),j$(a.eq(s.fromRow-1).children()[0]).children().first().attr("aria-expanded",!0);for(var n=s.fromRow;n<=s.toRow;n++)j$(a.eq(n)).show()},hideGroup:function(t,e,i){var s=e[i],a=t.jelement().find("tr");a.eq(s.fromRow-1).find("td").last().css({cursor:"pointer","text-align":"left",background:'white url("'+Path.getPath(this.st("common:controlsFolder"),"arrow-up",".gif")+'") no-repeat 97% center'}),a.eq(s.fromRow-1).children().css({cursor:"pointer"}),j$(a.eq(s.fromRow-1).children()[0]).children().first().attr("aria-expanded",!1);for(var n=s.fromRow;n<=s.toRow;n++)j$(a.eq(n)).hide()},toggleGroup:function(t,e,i,s){var a=i.indexOf(s);a>-1?(i.splice(a,1),this.showGroup(t,e,s)):(i.push(s),this.hideGroup(t,e,s)),this.saveSettings(),"undefined"!=typeof Engine&&Engine.areas.body.resizeContent()},observe:function(){if(null!=this.actLabel&&(this.actLabel.observe(),this.actLabel.change("float","left")),null!=this.actTable){var t,e=this.data.staticData,i=e.groups.length;for(this.actTable.observe(),this.actTable.change("float","left"),this.benTable.observe(),this.benTable.change("float","left"),t=0;t<i;++t)j$(this.actTable.jelement().find("tr").eq([this.groups[e.groups[t].groupID].fromRow-1])).on("click",j$.proxy(this.toggleGroup,this,this.actTable,this.groups,this.settings.hiddenGroups,e.groups[t].groupID)),this.settings.hiddenGroups.indexOf(e.groups[t].groupID)>-1?this.hideGroup(this.actTable,this.groups,e.groups[t].groupID):this.showGroup(this.actTable,this.groups,e.groups[t].groupID),j$(this.benTable.jelement().find("tr").eq([this.groups[e.groups[t].groupID].fromRow-1])).on("click",j$.proxy(this.toggleGroup,this,this.benTable,this.bgroups,this.settings.hiddenGroupsBen,e.groups[t].groupID)),this.settings.hiddenGroupsBen.indexOf(e.groups[t].groupID)>-1?this.hideGroup(this.benTable,this.bgroups,e.groups[t].groupID):this.showGroup(this.benTable,this.bgroups,e.groups[t].groupID)}}})},20514:()=>{window.ImprovementActionsInvestments=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",draw:function(){var t,e,i,s,a,n=[{title:this.tc("areas")}],r=[],o=this.data.staticData,l=o.groups.length,d=o.teams.length,c=[];for(e=0;e<d;++e)n.push({title:o.teams[e].companyName,type:"number"}),c[e]=0;for(t=0;t<l;++t){for(i=['<img src="'+Path.getDecPath("cc","group-"+o.groups[t].groupID+"-small",".png")+'" style="vertical-align: middle; margin-right: 5px; float: left;" alt="" /><div style="padding-left: 35px;">'+o.groups[t].title+"</div>"],s=o.groups[t].teams.toLookUp("teamID"),e=0;e<d;++e)a=s[o.teams[e].teamID].value,c[e]+=a,i.push(a);r.push(i)}for(i=[this.tc("total")],e=0;e<d;++e)i.push(c[e]);return r.push({values:i,type:"total"}),this.actTable=new DecisionTable(this.tc("hrActions"),"actTable",n,r),this.actTable.draw()},observe:function(){this.actTable.element(),this.data.staticData,this.actTable.observe()}})},50418:(t,e,i)=>{"use strict";i(66406),window.IncomeStatement=FinanceReport.extend({stmt:"incomeStatement"})},80254:()=>{window.IndustryExecutiveCompensation=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",draw:function(){var t,e,i,s,a,n,r,o=this.data.staticData,l=o.healthInsuranceOptions.toLookUp("optionID"),d=o.vacationOptions.toLookUp("optionID"),c=o.teams.toLookUp("teamID"),h=[],p=[],u=[],g="",m="",b=[{title:this.tc("company"),header:!0},{title:this.tc("salary"),align:"right"},{title:this.tc("health"),align:"right"},{title:this.tc("vacation"),align:"right"},{title:this.tc("pension"),align:"right"},{title:this.tc("total"),align:"right"},{title:this.tc(o.showSatisfaction?"satisfaction":"productivity"),align:"right"}];for(this.exTables=[],t=0,e=o.regions.length;t<e;++t)if(h=[],(i=o.regions[t]).mrBought)if(0==i.teams.length)p.push(i.regionName);else{for(s=0,a=i.teams.length;s<a;++s)n=i.teams[s],h.push([c[n.teamID].companyName.escapeHTML(),Number(n.salary).format(),l[n.healthInsuranceOption].name+"<br />"+Number(n.healthInsurance).format(),d[n.vacationWeeks].name+"<br />"+Number(n.vacation).format(),n.pensionPercent+"%<br />"+Number(n.pension).format(),Number(n.total).format(),Number(n.productivity).format(1)+"%"]);h.push([this.tc("average"),Number(i.avg.salary).format(),l[i.avg.healthInsuranceOption].name+"<br />"+Number(i.avg.healthInsurance).format(),d[i.avg.vacationWeeks].name+"<br />"+Number(i.avg.vacation).format(),i.avg.pensionPercent+"%<br />"+Number(i.avg.pension).format(),Number(i.avg.total).format(),""]),h.push({values:[this.tc("importance"),i.importance.salary,i.importance.healthInsurance,i.importance.vacation,i.importance.pension,"",""],type:"dhead"}),r=new DecisionTable(i.regionName,"exTable_"+i.regionID,b,h),this.exTables.push(r),g+=r.draw()}else u.push(i.regionName);return u.length>0||p.length>0?(p.length>0&&(m+=this.tc("common:noComp",{REGIONS:"<br />&nbsp;&nbsp;"+p.join("<br />&nbsp;&nbsp;")})),u.length>0&&(m+=(""!=m?"<br /><br />":"")+this.tc("common:noMr",{REGIONS:"<br />&nbsp;&nbsp;"+u.join("<br />&nbsp;&nbsp;")})),this.noLabel=new DecisionLabel(this.service,"no",m,"","wooden"),g+=this.noLabel.draw()):this.noLabel=null,g},observe:function(){if(null!=this.noLabel)this.noLabel.observe(),this.noLabel.change("float","left");else{var t,e;for(t=0,e=this.exTables.length;t<e;t++)this.exTables[t].observe();DecisionTable.setMaxColWidths(this.exTables,0)}},resize:function(){this.exTables.length>0&&DecisionTable.setMaxColWidths(this.exTables,0)}})},71531:(t,e,i)=>{"use strict";i(80254),i(27562),window.IndustryExecutiveCompensationAnim=IndustrySalesForceCompensationAnim.extend({typeOfComp:"IndustryExecutiveCompensation"})},16862:()=>{window.IndustrySalesForceCompensation=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",draw:function(){var t,e,i,s,a,n,r,o=this.data.staticData,l=o.healthInsuranceOptions.toLookUp("optionID"),d=o.vacationOptions.toLookUp("optionID"),c=o.teams.toLookUp("teamID"),h=[],p=[],u=[],g="",m="",b=[{title:this.tc("company"),header:!0},{title:this.tc("salary"),align:"right"},{title:this.tc("health"),align:"right"},{title:this.tc("vacation"),align:"right"},{title:this.tc("pension"),align:"right"},{title:this.tc("total"),align:"right"},{title:this.tc(o.showSatisfaction?"satisfaction":"productivity"),align:"right"}];for(this.sfcTables=[],t=0,e=o.regions.length;t<e;++t)if(h=[],(i=o.regions[t]).mrBought)if(0==i.teams.length)p.push(i.regionName);else{for(s=0,a=i.teams.length;s<a;++s)n=i.teams[s],h.push([c[n.teamID].companyName.escapeHTML(),Number(n.salary).format(),l[n.healthInsuranceOption].name+"<br />"+Number(n.healthInsurance).format(),d[n.vacationWeeks].name+"<br />"+Number(n.vacation).format(),n.pensionPercent+"%<br />"+Number(n.pension).format(),Number(n.total).format(),Number(n.productivity).format(1)+"%"]);h.push([this.tc("average"),Number(i.avg.salary).format(),l[i.avg.healthInsuranceOption].name+"<br />"+Number(i.avg.healthInsurance).format(),d[i.avg.vacationWeeks].name+"<br />"+Number(i.avg.vacation).format(),i.avg.pensionPercent+"%<br />"+Number(i.avg.pension).format(),Number(i.avg.total).format(),""]),h.push({values:[this.tc("importance"),i.importance.salary,i.importance.healthInsurance,i.importance.vacation,i.importance.pension,"",""],type:"dhead"}),r=new DecisionTable(i.regionName,"sfcTable_"+i.regionID,b,h),this.sfcTables.push(r),g+=r.draw()}else u.push(i.regionName);return u.length>0||p.length>0?(p.length>0&&(m+=this.tc("common:noComp",{REGIONS:"<br />&nbsp;&nbsp;"+p.join("<br />&nbsp;&nbsp;")})),u.length>0&&(m+=(""!=m?"<br /><br />":"")+this.tc("common:noMr",{REGIONS:"<br />&nbsp;&nbsp;"+u.join("<br />&nbsp;&nbsp;")})),this.noLabel=new DecisionLabel(this.service,"no",m,"","wooden"),g+=this.noLabel.draw()):this.noLabel=null,g},observe:function(){if(null!=this.noLabel)this.noLabel.observe(),this.noLabel.change("float","left");else{var t,e;for(t=0,e=this.sfcTables.length;t<e;t++)this.sfcTables[t].observe();DecisionTable.setMaxColWidths(this.sfcTables,0)}},resize:function(){this.sfcTables.length>0&&DecisionTable.setMaxColWidths(this.sfcTables,0)}})},27562:(t,e,i)=>{"use strict";i(16862),window.IndustrySalesForceCompensationAnim=IndustrySalesForceCompensation.extend({typeOfComp:"IndustrySalesForceCompensation",viewModeButtons:[],modifyModeButtons:[],style:"padding:4px;",initialize:function(t){this._super(this.typeOfComp)},draw:function(){var t,e,i,s,a,n,r=this.data.staticData,o=r.healthInsuranceOptions.toLookUp("optionID"),l=r.vacationOptions.toLookUp("optionID"),d=r.teams.toLookUp("teamID"),c=[],h=[],p=[],u="",g="",m=[],b=[{title:'<div style="display:block;"><img src="'+Path.getDecPath("compensations","cash",".png")+'" alt="" /><div>'+this.tc("salary")+"</div></div>",styleClass:"centerAlign"},{title:'<div style="display:block;"><img src="'+Path.getDecPath("compensations","health",".png")+'" alt="" /><div>'+this.tc("health")+"</div></div>",styleClass:"centerAlign"},{title:'<div style="display:block;"><img src="'+Path.getDecPath("compensations","vacation",".png")+'" alt="" /><div>'+this.tc("vacation")+"</div></div>",styleClass:"centerAlign"},{title:'<div style="display:block;"><img src="'+Path.getDecPath("compensations","retirement",".png")+'" alt="" /><div>'+this.tc("pension")+"</div></div>",styleClass:"centerAlign"}],f=[{title:this.tc("company"),isHead:!0,headClass:"leftAlign",headStyle:"padding-left:5px;",style:"padding-left:5px;"},{title:this.tc(r.showSatisfaction?"satisfaction":"productivity"),headClass:"leftAlign",styleClass:"leftAlign"},{title:this.tc("salary"),headClass:"leftAlign",styleClass:"leftAlign"},{title:this.tc("health"),headClass:"leftAlign",styleClass:"leftAlign"},{title:this.tc("vacation"),headClass:"leftAlign",styleClass:"leftAlign"},{title:this.tc("pension"),headClass:"leftAlign",styleClass:"leftAlign"},{title:this.tc("total"),headClass:"centerAlign",styleClass:"leftAlign",headStyle:"padding-right:5px;",style:"padding-right:5px;"}],v=0,y=0,w=0,D=0,_=0,I=0;for(t=0,e=r.regions.length;t<e;++t)if((i=r.regions[t]).mrBought)if(0==i.teams.length)h.push(i.regionName);else{for(s=0,a=i.teams.length;s<a;++s)(n=i.teams[s]).salary>v&&(v=n.salary),n.healthInsurancePercent>I&&(I=n.healthInsurancePercent),n.healthInsurance>y&&(y=n.healthInsurance),n.vacation>w&&(w=n.vacation),n.pension>D&&(D=n.pension),n.total>_&&(_=n.total);for(v=Math.max(i.avg.salary,v),I=Math.max(i.avg.healthInsurancePercent,I),y=Math.max(i.avg.healthInsurance,y),w=Math.max(i.avg.vacation,w),D=Math.max(i.avg.pension,D),_=Math.max(i.avg.total,_),s=0,a=i.teams.length;s<a;++s)n=i.teams[s],c.push([d[n.teamID].companyName.escapeHTML(),'<span style="font-weight:bold;">'+Number(n.productivity).format(1)+"%</span>",Number(n.salary).format(),'<div style="white-space:nowrap;">'+o[n.healthInsuranceOption].name+"</div>",l[n.vacationWeeks].name,n.pensionPercent+"%",Number(n.total).format()]),c.push(['<div class="company offscreen">'+this.tc("inNumbers",{COMPANY:d[n.teamID].companyName.escapeHTML()})+"</div>",'<div class="product offscreen">'+Number(n.productivity).format(1)+"%</div>",'<div class="compGraph salary" style="height:42px;" ><div class="compShadow" style="height:100%;width:'+(v>0?25+n.salary/v*75:0)+'%;"><div class="compImg salImg lightBlueComp"></div><div class="smallTitles darkBlueComp"><span style="position:absolute;padding-left:4px;padding-top:2px;line-height: 20px;">'+Number(n.salary).format()+"</span></div></div>",'<div class="compGraph insurance" style="height:42px;" ><div class="compShadow" style="height:100%;width:'+(I>0?25+n.healthInsurancePercent/I*75:0)+'%;"><div class="compImg insImg lightRedComp"></div><div class="smallTitles darkRedComp"><span style="position:absolute;padding-left:4px;padding-top:2px;line-height: 20px;">'+Number(n.healthInsurance).format()+"</span></div></div>",'<div class="compGraph vacation" style="height:42px;" ><div class="compShadow" style="height:100%;width:'+(w>0?25+n.vacation/w*75:0)+'%;"><div class="compImg vacImg lightYellowComp"></div><div class="smallTitles darkYellowComp" ><span style="position:absolute;padding-left:4px;padding-top:2px;line-height: 20px;">'+Number(n.vacation).format()+"</span></div></div>",'<div class="compGraph pension" style="height:42px;" ><div class="compShadow" style="height:100%;width:'+(D>0?25+n.pension/D*75:0)+'%;"><div class="compImg penImg lightGrayComp"></div><div class="smallTitles darkGrayComp"><span style="position:absolute;padding-left:4px;padding-top:2px;line-height: 20px;">'+Number(n.pension).format()+"</span></div></div>",'<div class="compGraph total" style="height:42px;" ><div class="compShadow" style="height:100%;width:'+(_>0?25+n.total/_*75:0)+'%;"><div class="compImg totImg lightBlackComp"></div><div class="smallTitles darkBlackComp"><span style="position:absolute;padding-left:4px;padding-top:2px;line-height: 20px;">'+Number(n.total).format()+"</span></div></div>"]);c.push([this.tc("averageAnim"),"",'<div class="compGraph salary" style="height:42px;" ><div class="compShadow" style="height:100%;width:'+(v>0?25+i.avg.salary/v*75:0)+'%;"><div class="compImg salImg lightBlueComp"></div><div class="smallTitles darkBlueComp"><span style="position:absolute;padding-left:4px;padding-top:2px;line-height: 20px;">'+Number(i.avg.salary).format()+"</span></div></div></div>",'<div class="compGraph insurance" style="height:42px;" ><div class="compShadow" style="height:100%;width:'+(y>0?25+i.avg.healthInsurance/y*75:0)+'%;"><div class="compImg insImg lightRedComp"></div><div class="smallTitles darkRedComp"><span style="position:absolute;padding-left:4px;padding-top:2px;line-height: 20px;">'+Number(i.avg.healthInsurance).format()+"</span></div></div></div>",'<div class="compGraph vacation" style="height:42px;" ><div class="compShadow" style="height:100%;width:'+(w>0?25+i.avg.vacation/w*75:0)+'%;"><div class="compImg vacImg lightYellowComp"></div><div class="smallTitles darkYellowComp" ><span style="position:absolute;padding-left:4px;padding-top:2px;line-height: 20px;">'+Number(i.avg.vacation).format()+"</span></div></div></div>",'<div class="compGraph pension" style="height:42px;" ><div class="compShadow" style="height:100%;width:'+(D>0?25+i.avg.pension/D*75:0)+'%;"><div class="compImg penImg lightGrayComp"></div><div class="smallTitles darkGrayComp"><span style="position:absolute;padding-left:4px;padding-top:2px;line-height: 20px;">'+Number(i.avg.pension).format()+"</span></div></div></div>",'<div class="compGraph total" style="height:42px;" ><div class="compShadow" style="height:100%;width:'+(_>0?25+i.avg.total/_*75:0)+'%;"><div class="compImg totImg lightBlackComp"></div><div class="smallTitles darkBlackComp"><span style="position:absolute;padding-left:4px;padding-top:2px;line-height: 20px;">'+Number(i.avg.total).format()+"</span></div></div></div>"]),m.push({values:[i.importance.salary,i.importance.healthInsurance,i.importance.vacation,i.importance.pension],tdstyle:"border-top: 1px solid rgba(132,144,147,0.5); padding: 2px 5px;"})}else p.push(i.regionName);return c.length>0?(this.cTable=new SceneTable(this.tc("competitorsCompensation"),"cTable",f,c,"silver","margin-top:10px;padding-bottom:4px;padding-top:4px;position:relative;border-spacing: 0;width:100%;","sTabLines"),this.impTable=new SceneTable(this.tc("importance"),"impTable",b,m,"silver","table-layout:fixed;position:relative;margin-top:5px;margin-left:auto;margin-right:auto;z-index:97;border-spacing: 0;width:60%;","sTabLines"),u+=this.cTable.draw(),u+=this.impTable.draw()):this.cTable=null,p.length>0||h.length>0?(h.length>0&&(g+=this.tc("common:noComp",{REGIONS:"<br />&nbsp;&nbsp;"+h.join("<br />&nbsp;&nbsp;")})),p.length>0&&(g+=(""!=g?"<br /><br />":"")+this.tc("common:noMr",{REGIONS:"<br />&nbsp;&nbsp;"+p.join("<br />&nbsp;&nbsp;")})),this.noLabel=new DecisionLabel(this.service,"no",g,"","wooden"),u+=this.noLabel.draw()):this.noLabel=null,'<div id="scene" style="position:relative;width:100%;">'+u+"</div>"},resize:function(){var t=j$("#scene");j$(".company").parent().css("width",t.width()/7*1.25),j$(".product").parent().css("width",t.width()/7*.8),j$(".salary").parent().css("width",t.width()/7*.78),j$(".insurance").parent().css("width",t.width()/7*1.1),j$(".vacation").parent().css("width",t.width()/7*.78),j$(".pension").parent().css("width",t.width()/7*.78),j$(".total").parent().css("width",t.width()/7*.8)},observe:function(){j$("#cTable .title").css({"border-bottom-width":"1px","border-bottom-style":"solid","border-color":"rgba(132,144,147,0.5)"}),j$(".sTabLines").css({"padding-right":"8px"}),j$("#cTable_16 .sTabLines").css({"padding-top":"15px","padding-bottom":"6px"}),j$("#impTable_1 .sTabLines").css({padding:"4px"}),null!=this.noLabel&&(this.noLabel.observe(),this.noLabel.change("float","left"))}})},97269:()=>{window.IndustrySearchEngineMarketingResults=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",initSettings:function(){return{filter:null,filterKw:null,filterDetail:null}},draw:function(){var t,e,i,s,a,n,r=this.data.staticData,o=r.regions,l=r.teams,d=r.keywords,c=l.length,h=[],p="",u="",g=!1;for(s=0,a=o.length;s<a;++s)(t=o[s]).mrBought?g=!0:h.push(t.regionName);if(h.length>0&&!g)return h.length>0&&(p+=(""!=p?"<br /><br />":"")+this.tc("common:noMr",{REGIONS:"<br />&nbsp;&nbsp;"+h.join("<br />&nbsp;&nbsp;")})),this.noLabel=new DecisionLabel(this.service,"no",p),this.noLabel.draw();for(this.filter=new MultiLevelFilter(this.tc("by_company_by_ad"),"tm_ad_filter","blue",this.settings.filter,this.redrawTables.bind(this),l,"teamID","companyName",this.tc("company"),"ads","adID","name",this.tc("ad")),this.filter.drawSubName=function(t,e){return Format.brandName(t[e].escapeHTML(),t.brandType)},this.filterKw=new MultiLevelFilter(this.tc("by_keyword"),"kw_filter","blue",this.settings.filterKw,this.redrawTables.bind(this),d,"id","label",this.tc("keywords")),this.filterKw.drawName=function(t,e){return t.name+"<br />["+t[e]+"]"},this.filterKw.isRadio=!0,this.filterDetail=new DecisionLabel(this.service,"detailFilter",this.com("checkbox","detailFilterCheckbox",this.settings.filterDetail,{label:this.tc("detailedReport")})),cols=[{title:this.tc("company")},{title:this.tc("ad"),vline:!0},{title:this.tc("brandAdvertised")},{title:this.tc("keywords")},{title:this.tc("avg_position"),type:"number",decimals:2},{title:this.extc("exp_days_visible","days_visible"),type:"number"},{title:this.extc("exp_impression","impressions"),type:"number"},{title:this.extc("exp_clicks","clicks"),type:"number"},{title:this.extc("exp_ctr","ctr"),type:"number",decimals:2,unit:"%"}],this.settings.filterDetail&&cols.push({title:this.tc("aj"),type:"number"},{title:this.extc("exp_bid","bid"),type:"number",decimals:2},{title:this.extc("exp_cpc","cpc"),type:"number",decimals:2},{title:this.extc("exp_budget","budget"),type:"number"},{title:this.extc("exp_budget_used","budget_used"),type:"number"}),this.isemTables=[],s=0;s<a;++s)(t=o[s]).mrBought&&t.adsIn>0&&(n=new DecisionTable(t.regionName,"isemTable_"+t.regionID,cols,[]),this.isemTables.push({id:t.regionID,table:n}),u+=n.draw());for(this.kws=this.data.staticData.keywords.toLookUp("id"),this.sgs=this.data.staticData.segments.toLookUp("segmentID"),this.tl=l.toLookUp("teamID"),this.al=[],e=0;e<c;++e)i=l[e],this.al[i.teamID]=i.ads.toLookUp("adID");return cols=[{title:this.tc("company")},{title:this.extc("exp_impression","impressions"),type:"number"},{title:this.extc("exp_clicks","clicks"),type:"number"},{title:this.extc("exp_budget_used","budget_used"),type:"number"}],this.totalTable=new DecisionTable(this.tc("industrySearchEngineMR"),"totalTable",cols,[]),this.filter.draw()+this.filterKw.draw()+this.filterDetail.draw()+'<table><tr style="vertical-align:top;"><td>'+u+"</td></tr></table>"+this.totalTable.draw()+'<div id="noLabel"></div>'},redrawTables:function(t,e){if(t&&(this.settings.filter=this.filter.settings,this.settings.filterKw=this.filterKw.settings,this.settings.filterDetail=j$("#detailFilterCheckbox").is(":checked"),this.saveSettings()),e){var i,s,a,n,r,o,l,d,c,h,p=this.data.staticData,u=p.regions,g=u.length,m=[],b=[],f=p.teams,v=f.length,y="",w=this.isemTables.toLookUp("id"),D=[{title:this.tc("company")},{title:this.tc("ad"),vline:!0},{title:this.tc("brandAdvertised")},{title:this.tc("keywords")},{title:this.tc("avg_position"),type:"number",decimals:2},{title:this.extc("exp_days_visible","days_visible"),type:"number"},{title:this.extc("exp_impression","impressions"),type:"number"},{title:this.extc("exp_clicks","clicks"),type:"number"},{title:this.extc("exp_ctr","ctr"),type:"number",decimals:2,unit:"%"}];for(c=this.filter.noFilterSet(),h=this.filterKw.noFilterSet(),this.settings.filterDetail&&D.push({title:this.tc("aj"),type:"number"},{title:this.extc("exp_bid","bid"),type:"number",decimals:2},{title:this.extc("exp_cpc","cpc"),type:"number",decimals:2},{title:this.extc("exp_budget","budget"),type:"number"},{title:this.extc("exp_budget_used","budget_used"),type:"number"}),a=0;a<v;++a)(n=f[a]).cImpressions=0,n.cClicks=0,n.cBudgetUsed=0,n.cChecked=!1;for(s=0;s<g;++s)if(m=[],(i=u[s]).mrBought||b.push(i.regionName),i.adsIn>0){for(r=0,o=i.ads.length;r<o;++r)l=i.ads[r],void 0!==this.al[l.teamID][l.adID]&&(this.al[l.teamID][l.adID].checked||c)&&(n=this.tl[l.teamID],l.maxBid>0&&(this.kws[l.segmentID].checked||h)&&(ol=[],ol.push(n.companyName.escapeHTML(),this.al[l.teamID][l.adID].name.escapeHTML(),Format.brandName(this.al[l.teamID][l.adID].brandAdvertised.escapeHTML(),this.al[l.teamID][l.adID].brandType),'<div style="white-space:nowrap;">'+this.kws[l.segmentID].name+"</div>",l.avg_position,l.daysVisible,l.impressions,l.clicks,100*l.ctr),this.settings.filterDetail&&ol.push(l.aj,l.maxBid,l.cpc,l.budget,l.budget_spent),m.push(ol),n.cImpressions+=l.impressions,n.cClicks+=l.clicks,n.cBudgetUsed+=l.budget_spent,n.cChecked=!0));d=new DecisionTable(i.regionName,"isemTable_"+i.regionID,D,m),w[i.regionID].table.change("replace",d.draw()),w[i.regionID].table=d,d.observe()}for(m=[],a=0;a<v;++a)f[a].cChecked&&m.push([f[a].companyName.escapeHTML(),f[a].cImpressions,f[a].cClicks,f[a].cBudgetUsed]);D=[{title:this.tc("company")},{title:this.extc("exp_impression","impressions"),type:"number"},{title:this.extc("exp_clicks","clicks"),type:"number"},{title:this.extc("exp_budget_used","budget_used"),type:"number"}],this.totalTable=new DecisionTable(this.tc("industrySearchEngineMR"),"totalTable",D,m),this.totalTable.clear="",this.totalTable.change("replace",this.totalTable.draw()),this.totalTable.observe(),t&&this.writeExplanations(),b.length>0&&(b.length>0&&(y+=(""!=y?"<br /><br />":"")+this.tc("common:noMr",{REGIONS:"<br />&nbsp;&nbsp;"+b.join("<br />&nbsp;&nbsp;")})),this.noLabel=new DecisionLabel(this.service,"no",y),j$("#noLabel").html(this.noLabel.draw()),j$("#noLabel").css({float:"left"}),this.noLabel.observe())}this.resizeContent()},resize:function(){var t,e,i=[];if(null==this.noLabel){for(t=0,e=this.isemTables.length;t<e;t++)i.push(this.isemTables[t].table);DecisionTable.setMaxColWidths(i,0)}else null!=this.filter&&(this.filter.resize(),this.filterKw.resize())},observe:function(){null!=this.noLabel?(this.noLabel.observe(),this.noLabel.change("css",{float:"left"})):(this.filter.observe(),this.filterKw.observe(),this.filterDetail.observe(),this.filterDetail.change("css",{float:"left"}),j$("#detailFilterCheckbox").on("click",this.redrawTables.bind(this,!0,!0)),this.redrawTables(!1,!0)),this.cf.enable()}})},84398:()=>{window.IndustryWorkersCompensation=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",draw:function(){var t,e,i,s,a,n,r,o=this.data.staticData,l=o.healthInsuranceOptions.toLookUp("optionID"),d=o.vacationOptions.toLookUp("optionID"),c=o.teams.toLookUp("teamID"),h=[],p=[],u=[],g="",m="",b=[{title:this.tc("company"),header:!0},{title:this.tc("salary"),align:"right"},{title:this.tc("health"),align:"right"},{title:this.tc("vacation"),align:"right"},{title:this.tc("pension"),align:"right"},{title:this.tc("total"),align:"right"},{title:this.tc(o.showSatisfaction?"satisfaction":"productivity"),align:"right"}];for(this.wcTables=[],t=0,e=o.regions.length;t<e;++t)if(h=[],(i=o.regions[t]).mrBought)if(0==i.teams.length)p.push(i.regionName);else{for(s=0,a=i.teams.length;s<a;++s)n=i.teams[s],h.push([c[n.teamID].companyName.escapeHTML(),Number(n.salary).format(),l[n.healthInsuranceOption].name+"<br />"+Number(n.healthInsurance).format(),d[n.vacationWeeks].name+"<br />"+Number(n.vacation).format(),n.pensionPercent+"%<br />"+Number(n.pension).format(),Number(n.total).format(),Number(n.productivity).format(1)+"%"]);h.push([this.tc("average"),Number(i.avg.salary).format(),l[i.avg.healthInsuranceOption].name+"<br />"+Number(i.avg.healthInsurance).format(),d[i.avg.vacationWeeks].name+"<br />"+Number(i.avg.vacation).format(),i.avg.pensionPercent+"%<br />"+Number(i.avg.pension).format(),Number(i.avg.total).format(),""]),h.push({values:[this.tc("importance"),i.importance.salary,i.importance.healthInsurance,i.importance.vacation,i.importance.pension,"",""],type:"dhead"}),r=new DecisionTable(i.regionName,"wcTable_"+i.regionID,b,h),this.wcTables.push(r),g+=r.draw()}else u.push(i.regionName);return u.length>0||p.length>0?(p.length>0&&(m+=this.tc("common:noComp",{REGIONS:"<br />&nbsp;&nbsp;"+p.join("<br />&nbsp;&nbsp;")})),u.length>0&&(m+=(""!=m?"<br /><br />":"")+this.tc("common:noMr",{REGIONS:"<br />&nbsp;&nbsp;"+u.join("<br />&nbsp;&nbsp;")})),this.noLabel=new DecisionLabel(this.service,"no",m,"","wooden"),g+=this.noLabel.draw()):this.noLabel=null,g},observe:function(){if(null!=this.noLabel)this.noLabel.observe(),this.noLabel.change("float","left");else{var t,e;for(t=0,e=this.wcTables.length;t<e;t++)this.wcTables[t].observe();DecisionTable.setMaxColWidths(this.wcTables,0)}},resize:function(){this.wcTables.length>0&&DecisionTable.setMaxColWidths(this.wcTables,0)}})},83861:(t,e,i)=>{"use strict";i(84398),i(27562),window.IndustryWorkersCompensationAnim=IndustrySalesForceCompensationAnim.extend({typeOfComp:"IndustryWorkersCompensation"})},54392:()=>{window.InitialExecutiveCompensation=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",draw:function(){var t,e,i,s=this.data.staticData,a=s.healthInsuranceOptions.toLookUp("optionID"),n=s.vacationOptions.toLookUp("optionID"),r=s.importance,o=[],l=[{title:this.tc("region"),header:!0},{title:this.tc("salary"),align:"right"},{title:this.tc("health"),align:"right"},{title:this.tc("vacation"),align:"right"},{title:this.tc("pension"),align:"right"},{title:this.tc("total"),align:"right"}];for(t=0,e=s.regions.length;t<e;++t)i=s.regions[t],o.push([i.regionName,Number(i.salary).format(),a[i.healthInsuranceOption].name+"<br />"+Number(i.healthInsurance).format(),n[i.vacationWeeks].name+"<br />"+Number(i.vacation).format(),i.pensionPercent+"%<br />"+Number(i.pension).format(),Number(i.total).format()]);return o.push({values:[this.tc("importance"),r.salary,r.healthInsurance,r.vacation,r.pension,""],type:"dhead"}),this.sfcTable=new DecisionTable(this.tc("industryAverage"),"sfcTable",l,o,!1,"wooden"),this.sfcTable.draw()},observe:function(){this.sfcTable.observe()}})},79977:(t,e,i)=>{"use strict";i(54392),i(81926),window.InitialExecutiveCompensationAnim=InitialSalesForceCompensationAnim.extend({typeOfComp:"InitialExecutiveCompensation"})},70623:()=>{window.InitialFinancialPosition=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",serviceName:function(){return"FinancialPosition"},draw:function(){var t=this.data.staticData,e=[];return e.push([this.tc("unusedFinancePQ"),Number(t.unusedFinancesPriorQtr).format()],[this.tc("profit"),Number(t.operatingProfitPriorQtr).format()],{values:[this.tc("netInvestment"),Number(t.netInvestment).format()],type:"total"},[this.tc("newInvestment"),Number(t.newInvestment).format()],{values:[this.tc("available"),Number(t.available).format()],type:"total"}),this.fpTable=new DecisionTable(this.tc("budget"),"fpTable",[{title:"",header:!0},{title:"",align:"right"}],e,!0,"concrete"),this.fpLabel=null,t.available<t.minInvestment&&(this.fpLabel=new DecisionLabel(this.service,"fpLabel",this.tc("lowFinances",{MIN_INV:Number(t.minInvestment).format()}),"","concrete")),this.fpTable.draw()+(null!=this.fpLabel?this.fpLabel.draw():"")},observe:function(){this.fpTable.observe(),null!=this.fpLabel&&(this.fpLabel.observe(),this.fpLabel.change("css",{width:this.fpTable.jelement().width()+"px"}))},destroy:function(){this.fpTable=null,this.fpLabel=null,this._super()}})},48086:()=>{window.InitialSalesForceCompensation=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",draw:function(){var t,e,i,s=this.data.staticData,a=s.healthInsuranceOptions.toLookUp("optionID"),n=s.vacationOptions.toLookUp("optionID"),r=s.importance,o=[],l=[{title:this.tc("region"),header:!0},{title:this.tc("salary"),align:"right"},{title:this.tc("health"),align:"right"},{title:this.tc("vacation"),align:"right"},{title:this.tc("pension"),align:"right"},{title:this.tc("total"),align:"right"}];for(t=0,e=s.regions.length;t<e;++t)i=s.regions[t],o.push([i.regionName,Number(i.salary).format(),a[i.healthInsuranceOption].name+"<br />"+Number(i.healthInsurance).format(),n[i.vacationWeeks].name+"<br />"+Number(i.vacation).format(),i.pensionPercent+"%<br />"+Number(i.pension).format(),Number(i.total).format()]);return o.push({values:[this.tc("importance"),r.salary,r.healthInsurance,r.vacation,r.pension,""],type:"dhead"}),this.sfcTable=new DecisionTable(this.tc("industryAverage"),"sfcTable",l,o,!1,"wooden"),this.sfcTable.draw()},observe:function(){this.sfcTable.observe()}})},81926:(t,e,i)=>{"use strict";i(48086),window.InitialSalesForceCompensationAnim=InitialSalesForceCompensation.extend({typeOfComp:"InitialSalesForceCompensation",viewModeButtons:[],modifyModeButtons:[],style:"padding:20px 15px;",initialize:function(t){this._super(this.typeOfComp)},draw:function(){var t,e,i,s,a=this.data.staticData,n=a.healthInsuranceOptions.toLookUp("optionID"),r=a.vacationOptions.toLookUp("optionID"),o=[],l="",d=[],c=[{title:'<div style="display:block;"><img src="'+Path.getDecPath("compensations","cash",".png")+'" alt="" /><div>'+this.tc("salary")+"</div></div>",styleClass:"centerAlign"},{title:'<div style="display:block;"><img src="'+Path.getDecPath("compensations","health",".png")+'" alt=""/><div>'+this.tc("health")+"</div></div>",styleClass:"centerAlign"},{title:'<div style="display:block;"><img src="'+Path.getDecPath("compensations","vacation",".png")+'" alt=""/><div>'+this.tc("vacation")+"</div></div>",styleClass:"centerAlign"},{title:'<div style="display:block;"><img src="'+Path.getDecPath("compensations","retirement",".png")+'" alt=""/><div>'+this.tc("pension")+"</div></div>",styleClass:"centerAlign"}],h=[{title:this.tc("region"),headClass:"leftAlign",headStyle:"padding-bottom:10px;padding-left:5px;",styleClass:"whiteRow",style:"padding-left:5px;"},{title:this.tc("salary"),headClass:"leftAlign",headStyle:"padding-bottom:10px;",styleClass:"leftAlign whiteRow"},{title:this.tc("health"),headClass:"leftAlign",headStyle:"padding-bottom:10px;",styleClass:"leftAlign whiteRow"},{title:this.tc("vacation"),headClass:"leftAlign",headStyle:"padding-bottom:10px;",styleClass:"leftAlign whiteRow"},{title:this.tc("pension"),headClass:"leftAlign",headStyle:"padding-bottom:10px;",styleClass:"leftAlign whiteRow"},{title:this.tc("total"),headClass:"leftAlign",styleClass:"leftAlign whiteRow",headStyle:"padding-bottom:10px;padding-right:5px;",style:"padding-right:5px;"}];for(e=0,i=a.regions.length;e<i;++e)s=a.regions[e],o.push([s.regionName.escapeHTML(),Number(s.salary).format(),'<div style="white-space:nowrap;">'+n[s.healthInsuranceOption].name+'</div><span class="offscreen">'+s.healthInsurance.format()+"</span>",r[s.vacationWeeks].name+'<span class="offscreen">'+s.vacation.format()+"</span>",s.pensionPercent+'%<span class="offscreen">'+s.pension.format()+"</span>",Number(s.total).format()]),t=s.total,o.push({fullLine:!0,tdstyle:"padding-bottom:10px;padding-top:1px",values:'<div style="display:inline-flex;position:relative;width:84%; margin-left:15%;" ><div id="graphSalary_'+s.regionID+'" class="compShadow" style="float:left;height:100%;width:'+(t>0?9+s.salary/t*64:0)+'%;"><div id="gr_salary_'+s.regionID+'" class="compImg salImg '+(s.salary>0?"lightBlueComp":"lightBlueCompTrans")+'" style="background-position:center;"></div><div id="gr2_salary_'+s.regionID+'" class="smallTitles '+(s.salary>0?"darkBlueComp":"darkBlueCompTrans")+'" style="text-align:center;">'+s.salary.format()+'</div></div><div id="graphInsurance_'+s.regionID+'" class="compShadow" style="float:left;height:100%;width:'+(t>0?9+s.healthInsurance/t*64:0)+'%;"><div id="gr_healthInsurance_'+s.regionID+'" class="compImg insImg '+(s.healthInsurance>0?"lightRedComp":"lightRedCompTrans")+' " style="background-position:center;"></div><div id="gr2_healthInsurance_'+s.regionID+'" class="smallTitles '+(s.healthInsurance>0?"darkRedComp":"darkRedCompTrans")+'" style="text-align:center;">'+s.healthInsurance.format()+'</div></div><div id="graphVacation_'+s.regionID+'" class="compShadow" style="float:left;height:100%;width:'+(t>0?9+s.vacation/t*64:0)+'%;"><div id="gr_vacation_'+s.regionID+'" class="compImg vacImg '+(s.vacation>0?"lightYellowComp":"lightYellowCompTrans")+'" style="background-position:center;"></div><div id="gr2_vacation_'+s.regionID+'" class="smallTitles '+(s.vacation>0?"darkYellowComp":"darkYellowCompTrans")+'" style="text-align:center;">'+s.vacation.format()+'</div></div><div id="graphPension_'+s.regionID+'" class="compShadow" style="float:left;position:relative;height:100%;width:'+(t>0?9+s.pension/t*64:0)+'%;"><div id="gr_pension_'+s.regionID+'" class="compImg penImg '+(s.pension>0?"lightGrayComp":"lightGrayCompTrans")+'" style="background-position:center;"></div><div id="gr2_pension_'+s.regionID+'" class="smallTitles '+(s.pension>0?"darkGrayComp":"darkGrayCompTrans")+'" style="text-align:center;">'+s.pension.format()+"</div></div></div>"});return d.push({values:[a.importance.salary,a.importance.healthInsurance,a.importance.vacation,a.importance.pension],tdstyle:"border-top: 1px solid rgba(132,144,147,0.5); padding: 2px 5px;"}),o.length>0?(this.cTable=new SceneTable(this.tc("industryAverage"),"cTable",h,o,"silverSimple","padding-bottom:4px;padding-top:4px;position:relative;z-index:97;border-spacing: 0;width:100%;","sTabLines"),this.impTable=new SceneTable(this.tc("importance"),"impTable",c,d,"silver","table-layout:fixed;position:relative;margin-top:10px;margin-left:auto;margin-right:auto;z-index:97;border-spacing: 0;width:60%;","sTabLines"),l+=this.cTable.draw(),l+=this.impTable.draw()):this.cTable=null,'<div id="scene" style="position:relative;width:100%;">'+l+"</div>"},observe:function(){j$("#cTable .title").css({"border-bottom-width":"1px","border-bottom-style":"solid","border-color":"rgba(132,144,147,0.5)"}),j$("#cTable_1").attr("aria-hidden",!0),j$("#impTable_1 .sTabLines").css({padding:"4px"})}})},80846:()=>{window.InitialWorkersCompensation=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",draw:function(){var t,e,i,s=this.data.staticData,a=s.healthInsuranceOptions.toLookUp("optionID"),n=s.vacationOptions.toLookUp("optionID"),r=s.importance,o=[],l=[{title:this.tc("region"),header:!0},{title:this.tc("salary"),align:"right"},{title:this.tc("health"),align:"right"},{title:this.tc("vacation"),align:"right"},{title:this.tc("pension"),align:"right"},{title:this.tc("total"),align:"right"}];for(t=0,e=s.regions.length;t<e;++t)i=s.regions[t],o.push([i.regionName,Number(i.salary).format(),a[i.healthInsuranceOption].name+"<br />"+Number(i.healthInsurance).format(),n[i.vacationWeeks].name+"<br />"+Number(i.vacation).format(),i.pensionPercent+"%<br />"+Number(i.pension).format(),Number(i.total).format()]);return o.push({values:[this.tc("importance"),r.salary,r.healthInsurance,r.vacation,r.pension,""],type:"dhead"}),this.wcTable=new DecisionTable(this.tc("industryAverage"),"wcTable",l,o,!1,"wooden"),this.wcTable.draw()},observe:function(){this.wcTable.observe()}})},5465:(t,e,i)=>{"use strict";i(80846),i(81926),window.InitialWorkersCompensationAnim=InitialSalesForceCompensationAnim.extend({typeOfComp:"InitialWorkersCompensation"})},37553:()=>{window.InspectQuality=Decision.extend({style:"padding: 10px 10px 0px 10px;",read:function(){var t,e=this.data.decisions.criticalGroups,i=e.length;for(t=0;t<i;++t)e[t].inspection=this.value("insp_"+e[t].groupID)},write:function(){var t,e=this.data.decisions.criticalGroups,i=e.length;for(t=0;t<i;++t)this.setValue("insp_"+e[t].groupID,e[t].inspection)},writeCalculate:function(){j$("#inspectQualityUnits").html(Number(this.data.dynamicData.unitsProduced).format()),j$("#inspectQualityTotal").html(Number(this.data.calculate.total).format())},draw:function(){var t,e,i,s,a=this.data.staticData,n=this.data.decisions.criticalGroups.toLookUp("groupID"),r=[{title:this.tc("criticalGroup")},{title:this.tc("inspection"),type:"flag"}],o=[{title:this.tc("criticalGroup")},{title:this.tc("defectRate"),type:"number",decimals:2},{title:this.tc("defectNumber"),type:"number"},{title:this.tc("defectCosts"),type:"number"}],l=[],d=[];if(0==a.fixedCapacity&&0==this.data.calculate.total)return this.viewModeButtons=[],this.modifyModeButtons=[],this.emptyLabel=new DecisionLabel(this.service,"emptyLabel",this.tc("common:noFactory"),"","green"),this.emptyLabel.draw();for(this.emptyLabel=null,this.wasInspection=!1,t=0,e=a.criticalGroups.length;t<e;++t)i=a.criticalGroups[t],l.push([i.name,this.com("checkbox","insp_"+i.groupID,n[i.groupID].inspection)]),i.wasInspection&&(d.push([i.name,i.defectRate,i.defectNumber,i.defectCost]),this.wasInspection=!0);return s=this.tc("projectedUnits")+' <span id="inspectQualityUnits">'+Number(this.data.dynamicData.unitsProduced).format()+"</span><br />"+this.tc("total")+' <span id="inspectQualityTotal">'+Number(this.data.calculate.total).format()+"</span>",this.qiTable=new DecisionTable(this.tc("qualityInspection"),"qiTable",r,l,!1,"green"),this.qiLabel=new DecisionLabel(this.service,"qiLabel",s,"","green"),this.wasInspection&&(this.qirTable=new DecisionTable(this.tc("qualityInspectionResults"),"qirTable",o,d,!1,"green")),this.qiTable.draw()+this.qiLabel.draw()+(this.wasInspection?"<br />"+this.qirTable.draw():"")},observe:function(){if(null==this.emptyLabel){var t,e,i,s=this.data.staticData;for(t=0,e=s.criticalGroups.length;t<e;++t)i=s.criticalGroups[t],this.bindCalculate("insp_"+i.groupID,"click",!1);this.qiTable.observe(),this.qiLabel.observe(),this.qiLabel.change("float","left"),this.wasInspection&&this.qirTable.observe()}else this.emptyLabel.observe(),this.emptyLabel.change("float","left")},drawSOD:function(){var t,e,i,s=this.data.decisions,a=this.data.staticData,n=a.criticalGroups.toLookUp("groupID"),r="",o="";if(a.fixedCapacity>0){for(t=0,e=s.criticalGroups.length;t<e;++t)(i=s.criticalGroups[t]).inspection&&(o+=(""!=o?", ":"")+n[i.groupID].name);""!=o&&(r+=this.tc("qualityInspection")+": "+o+"<br /><br />"),r+=this.tc("total")+" "+Number(this.data.calculate.total).format()}this.setValue(this.pfxSod+this.service,r)}})},92424:()=>{window.InventoryControl=Decision.extend({sendCalculate:!1,style:"padding: 10px 10px 0px 10px;",redrawOnModify:!0,read:function(){var t,e,i=this.data.decisions.brands,s=i.length;for(t=0;t<s;++t)(e=i[t]).produce=this.value("produce_"+e.brandID),e.maxEndingInventory=this.data.staticData.hasZeroMaxEndingInventory?0:this.value("max_"+e.brandID)},write:function(){var t,e,i=this.data.decisions.brands,s=i.length;for(t=0;t<s;++t)e=i[t],this.setValue("produce_"+e.brandID,e.produce),this.data.staticData.hasZeroMaxEndingInventory||this.setValue("max_"+e.brandID,e.maxEndingInventory)},writeErrors:function(){var t,e,i=this.data.errors.decisions.brands,s=i.length;for(t=0;t<s;++t)e=i[t],this.writeError("produce_"+e.brandID,e.produce,"center left",!0,3),this.data.staticData.hasZeroMaxEndingInventory||this.writeError("max_"+e.brandID,e.maxEndingInventory,"center left",!0,3)},draw:function(t){t=t||!1;var e,i,s,a,n=this.data.dynamicData,r=this.data.decisions.brands.toLookUp("brandID"),o="",l=[{title:this.tc("brand")}],d=[];if(this.data.staticData.isViewOnly?(this.viewModeButtons=[],this.modifyModeButtons=[],l.push({title:this.tc("produce"),type:"flag",trueLabel:this.tc("trueLabel"),falseLabel:this.tc("falseLabel")})):(l.push({title:this.tc("produce"),type:"flag"}),this.data.staticData.hasZeroMaxEndingInventory||l.push({title:this.tc("maxEndInv"),align:"right"})),0==this.data.staticData.fixedCapacity||0==n.brands.length)return this.viewModeButtons=[],this.modifyModeButtons=[],0==this.data.staticData.fixedCapacity&&(o+=this.tc("common:noFactory")),0==n.brands.length&&(o+=(""!=o?"<br />":"")+this.tc("common:noBrands")),this.emptyLabel=new DecisionLabel(this.service,"emptyLabel",o,"","green"),this.emptyLabel.draw();for(this.emptyLabel=null,e=0,i=n.brands.length;e<i;++e)s=n.brands[e],a=[Format.brandName(s.brandName.escapeHTML(),s.brandType)],this.data.staticData.isViewOnly?a.push(r[s.brandID].produce):(a.push(this.com("checkbox","produce_"+s.brandID,r[s.brandID].produce)),this.data.staticData.hasZeroMaxEndingInventory||a.push(this.com("iedit","max_"+s.brandID,r[s.brandID].maxEndingInventory,{size:5}))),d.push(a);return this.icTable=new DecisionTable(t?"":this.tc(this.data.staticData.hasZeroMaxEndingInventory?"brandsProduction":"inventoryControl"),"icTable",l,d,!1,"green"),t&&(this.icTable.tableCorners=""),this.icTable.draw()},observe:function(){if(null==this.emptyLabel){var t,e,i,s=this.data.dynamicData;if(this.icTable.observe(),!this.data.staticData.isViewOnly&&!this.data.staticData.hasZeroMaxEndingInventory)for(t=0,e=s.brands.length;t<e;t++)i=s.brands[t],j$("#produce_"+i.brandID).on("click",this.produceChanged.bind(this,i.brandID)),this.produceChanged(i.brandID)}else this.emptyLabel.observe(),this.emptyLabel.change("float","left")},produceChanged:function(t){var e=this.value("produce_"+t);e||this.setValue("max_"+t,0),j$("#max_"+t).prop("disabled",!e)},drawSOD:function(){var t=this.draw(!0);null==this.emptyLabel?(this.setValue(this.pfxSod+this.service,t),this.disable()):this.setValue(this.pfxSod+this.service,"")}})},67340:(t,e,i)=>{"use strict";i(92424),window.InventoryControlAnim=InventoryControl.extend({sendCalculate:!1,backgroundImage:"",style:"",gameType:"2",monitorTypes:[{uid:"mon_desk_17_std",name:"15inch"},{uid:"mon_desk_19_std",name:"17inch"},{uid:"mon_desk_21_hr",name:"19inch"},{uid:"mon_desk_23_hr",name:"19inch"},{uid:"mon_desk_24_hr",name:"19inch"},{uid:"mon_desk_32_ws",name:"19inch"},{uid:"mon_lap_13_std",name:"10inch"},{uid:"mon_lap_14_std",name:"10inch"},{uid:"mon_lap_17_adv",name:"12inch"}],encasementTypes:[{uid:"case_desk_std",name:"std"},{uid:"case_desk_slim",name:"slim"},{uid:"case_desk_styl",name:"style"},{uid:"case_desk_slimstyl",name:"slim_styl"},{uid:"case_lap_std",name:"std"},{uid:"case_lap_slim",name:"slim"},{uid:"case_lap_uslim",name:"slim"},{uid:"case_lap_styl",name:"style"},{uid:"case_lap_slimstyl",name:"style"}],boxes:[2,1,3,4,5,1,5,4,2,3,1,5],boxAnim:[],initialize:function(t){this._super("InventoryControl")},getBrImgName:function(t,e){var i,s,a,n,r,o,l,d="",c=this.data.staticData.componentGroups,h=this.monitorTypes.toLookUp("uid"),p=this.encasementTypes.toLookUp("uid");switch(t){case"D":d+="desktop";break;case"L":d+="laptop"}for(a=0,n=c.length;a<n;a++)for(i=0,s=(r=c[a].brandFeatures).length;i<s;i++)-1!=e.indexOf(r[i].featureID)&&(void 0!==h[r[i].featureUID]&&(o=h[r[i].featureUID].name),void 0!==p[r[i].featureUID]&&(l=p[r[i].featureUID].name));return(d+="_"+l)+"_"+o},draw:function(t){var e,i,s,a,n=this.data.dynamicData,r=this.data.decisions.brands.toLookUp("brandID"),o="",l="",d=[],c=[{title:this.tc("brand"),isHead:!0,headClass:"leftAlign grayBlueLabel",headStyle:"padding-left:10px;",style:"padding:0px;padding-left:10px;"},{title:'<span id="produce">'+this.tc("produce")+"</span>",styleClass:"centerAlign",headClass:"grayBlueLabel",style:"padding:0px;"},{title:'<span id="maxEndInv">'+this.tc("maxEndInv")+"</span>",styleClass:"centerAlign",headClass:"grayBlueLabel",style:"padding:0px;"}],h=[];for(a=n.brands.sort((function(t,e){return 0==t.avgSalesPriority?1:0==e.avgSalesPriority?-1:t.avgSalesPriority-e.avgSalesPriority})),e=0,i=n.brands.length;e<i;++e)s=a[e],h.push(['<span id="brand_'+s.brandID+'">'+s.brandName.escapeHTML()+"</span>",this.com("checkbox","produce_"+s.brandID,r[s.brandID].produce,{"aria-labelledby":"brand_"+s.brandID+" produce"}),this.com("iedit","max_"+s.brandID,r[s.brandID].maxEndingInventory,{size:5,"aria-labelledby":"brand_"+s.brandID+" maxEndInv"})]),h.push({styleClass:"brashlf",style:"height:10px;",values:["","","","",""]}),d.push({style:"position:relative;margin-top:-25px;",value:this.cs.drawComp("img",Path.getDecPath("inventoryControl",this.getBrImgName(s.brandType,s.brandFeatures),".png"),"brand"+s.brandID,"100%","","r",10,"","","","",1,"brd","","")});l+=this.cs.drawComp("ul",d,"brands","","","a",10,"12%","3%","","",1,"clearUl");var p=this.boxes;for(l+='<div id="boxes" style="position:absolute;width:100%;height:500px;overflow:hidden;top:0;">',e=0;e<p.length;e++)l+=this.cs.drawComp("div","","box"+e,"30%","","a",50-e,"100%","23%","","",0,"box"),this.cs.drawComp("preimg",{src:Path.getDecPath("inventoryControl","box"+p[e]+"_small",".png"),parent:"#box"+e},"boxImg"+e,"100%","100%","r","","","","","","","","","");return l+=this.cs.drawComp("div","","forklift","","","a",8,"36%","50%","0","",1,"box"),this.cs.drawComp("preimg",{src:Path.getDecPath("inventoryControl","forklift_empty",".png"),parent:"#forklift"},"forkliftImg","100%","100%","","","","","","","","","",""),l+="</div>",l+=this.cs.drawComp("img",Path.getDecPath("inventoryControl","backwall",".png"),"bck","100%","","a",7,"0","","","",1,"","",""),l+=this.cs.drawComp("img",Path.getDecPath("inventoryControl","floor",".png"),"floor","100%","","a",7,"0","","","",1,"","",""),l+=this.cs.drawComp("img",Path.getDecPath("inventoryControl","assemblyline_shelf",".png"),"shelf","100%","","a",9,"0","","","",1,"","",""),0==this.data.staticData.fixedCapacity||0==h.length?(this.viewModeButtons=[],this.modifyModeButtons=[],0==this.data.staticData.fixedCapacity&&(o+=this.tc("common:noFactory")),0==h.length&&(o+=(""!=o?"<br />":"")+this.tc("common:noBrands")),this.emptyLabel=new DecisionLabel(this.service,"emptyLabel",o,"","green"),l+=this.cs.drawComp("div",this.emptyLabel.draw(),"totalLoans","54%","","a",100,"75px","20%","","20%",1,"bold","")):this.emptyLabel=null,this.icTable=new SceneTable("","icTable",c,h,"inventBodySpac  none","padding:2px;position:relative;top:10%;left:20%;z-index:97;border-spacing: 0;width:54%;","sTabLines"),'<div id="scene" style="display:inline-block;position:relative;width:100%;">'+this.icTable.draw()+l+"</div>"},resize:function(){var t=j$("#scene"),e=t.width(),i=j$("#boxes"),s=j$("#brands"),a=j$("#shelf"),n=j$("#forklift"),r=j$("#icTable");t.css("min-height",5*t.width()/7),i.css("height",5*e/7),a.css("height",5*e/7),n.css({width:4*t.width()/7*.375,height:4*t.width()/7*.45}),j$(".brd").css("width",.1071*t.width()),j$("#brands li").css("margin-top",t.width()/7*-.2),s.css("left",.01*t.width()),s.css("top",.07*t.width()),r.css("margin-top",.07*t.width()),j$(".sTabLines").css("height",t.width()/7*.34),j$(".brashlf").css("height",t.width()/7*.222)},writeCalculate:function(){this.writeBoxes(),this.writeBrands()},writeBoxes:function(t){var e,i=this.data.decisions.brands,s=0;if(void 0===t)for(e=0;e<i.length;e++)1==i[e].produce&&s++;else s=t;var a=i.length>0?s/i.length:0;this.stopMoveBoxes();var n=(new Date).getTime();for(e=0;e<this.boxpack.length;e++)this.moveBoxes(e,n,a)},writeBrands:function(t){var e,i,s,a=this.data.dynamicData,n=this.data.decisions.brands.toLookUp("brandID");if(void 0===t)for(e=0,i=a.brands.length;e<i;++e)n[(s=a.brands[e]).brandID].produce?j$("#brand"+s.brandID).css("opacity",1):j$("#brand"+s.brandID).css("opacity",.5);else j$("#produce_"+t).prop("checked")?j$("#brand"+t).css("opacity",1):j$("#brand"+t).css("opacity",.5)},moveBoxes:function(t,e,i){var s=j$("#box"+t),a=5e3+2e3*(1-i);if(0==i)return!1;s.animate({opacity:1},{queue:!1,duration:a/2}),s.animate({left:"100%",top:"44%",width:"5%"},{duration:a,start:j$.proxy((function(i){0==this.boxAdj[t]?i.startTime=e-Math.floor(2*(a-4e3)/(this.boxes.length/(t+1))):i.startTime=e-this.boxAdj[t]*a}),this),done:j$.proxy((function(n,r){if(r){var o=(new Date).getTime();this.boxAdj[t]=(o-n.startTime)/n.duration,s.css({left:"23%",top:"100%",width:"30%",opacity:1})}else s.css({left:"23%",top:"100%",width:"30%",opacity:0}),this.moveBoxes(t,e+a,i)}),this)})},animForklift:function(t){var e=j$("#forklift"),i=j$("#forkliftImg");if(0==e.length)return!1;e.animate({left:t?"100%":"50%"},{duration:8e3,easing:"easeInOutQuad",done:j$.proxy((function(t,e){i.attr("src")!=Path.getDecPath("inventoryControl","forklift_empty",".png")?(i.attr("src",Path.getDecPath("inventoryControl","forklift_empty",".png")),e||this.animForklift(!0)):(i.attr("src",Path.getDecPath("inventoryControl","forklift_full",".png")),e||this.animForklift(!1))}),this)})},stopMoveBoxes:function(){var t;for(t=0;t<this.boxes.length;t++)j$("#box"+t).finish()},stopAnimForklift:function(){j$("#forklift").finish()},destroy:function(){this.stopMoveBoxes(),this.stopAnimForklift(),this._super()},observe:function(){for(j$(".edit-class-disabled").css({border:"1px solid black","padding-right":"3px"}),j$(".brashlf").css("padding",0),this.boxpack=[],this.boxAdj=[],t=0;t<this.boxes.length;t++)this.boxpack.push(j$("#box"+t)),this.boxAdj.push(0);if(this.writeBoxes(),this.writeBrands(),this.animForklift(!0),null==this.emptyLabel){var t,e,i,s=this.data.dynamicData;for(t=0,e=s.brands.length;t<e;t++)i=s.brands[t],j$("#produce_"+i.brandID).click(j$.proxy((function(t){this.writeBrands(t),this.writeBoxes(j$('[id^="produce_"]:checked').length),this.produceChanged(t)}),this,i.brandID))}},produceChanged:function(t){this.value("produce_"+t)||this.setValue("max_"+t,0)}})},65958:()=>{window.InventoryControlRegional=Decision.extend({sendCalculate:!1,style:"padding: 10px 10px 0px 10px;",redrawOnModify:!0,modifyModeButtons:[],viewModeButtons:[],mapObject:function(t,e,i){this.objectMap.push({id:t,object:e,property:i})},readOrWriteMappedObjects:function(t){for(var e=0,i=this.objectMap.length;e<i;e++){var s=this.objectMap[e];t?s.object[s.property]=this.value(s.id):this.setValue(s.id,s.object[s.property])}},read:function(){this.readOrWriteMappedObjects(!0)},write:function(){this.readOrWriteMappedObjects(!1)},drawEmpty:function(t,e){if(0===t||0===e){this.viewModeButtons=[],this.modifyModeButtons=[];var i="";return 0===t&&(i+=this.tc("common:noFactory")),0===e&&(i+=(""!==i?"<br />":"")+this.tc("common:noBrands")),this.emptyLabel=new DecisionLabel(this.service,"emptyLabel",i,"","green"),this.emptyLabel.draw()}return this.emptyLabel=null,""},drawRegular:function(t){var e=this.data.staticData,i=this.data.dynamicData,s=this.data.decisions,a=e.regions.toLookUp("regionID"),n=i.brands.toLookUp("brandID"),r=[{title:this.tc("brand")},{title:this.tc("produce"),type:"flag"}],o="",l=0;t=t||!1,this.objectMap=[],e.hasZeroMaxEndingInventory||r.push({title:this.tc("maxEndInv"),align:"right"}),this.icTables={};for(var d=0,c=s.regions.length;d<c;++d){var h=s.regions[d],p=h.regionID;if(a[p].isIn){for(var u=[],g=0,m=h.brands.length;g<m;++g){var b=h.brands[g],f=n[b.brandID],v="_"+p+"_"+b.brandID,y=[Format.brandName(f.brandName.escapeHTML(),f.brandType),this.com("checkbox","produce"+v,b.produce)];this.mapObject("produce"+v,b,"produce"),e.hasZeroMaxEndingInventory||(y.push(this.com("iedit","max"+v,b.maxEndingInventory,{size:5})),this.mapObject("max"+v,b,"maxEndingInventory")),u.push(y)}l++;var w=new DecisionTable(a[p].regionName,"icTable_"+p,r,u,!1,"green");t&&(w.tableCorners=""),o+=w.draw(),this.icTables[p]=w}}return this.drawEmpty(l,i.brands.length)||o},drawViewOnly:function(t){var e,i,s,a,n,r,o,l,d=this.data.staticData,c=this.data.dynamicData,h=this.data.decisions,p=d.regions.toLookUp("regionID"),u=(c.brands.toLookUp("brandID"),[{title:this.tc("brand")}]),g=0,m=[];for(t=t||!1,this.viewModeButtons=[],this.modifyModeButtons=[],o=0,l=c.brands.length;o<l;++o)r=c.brands[o],m.push([Format.brandName(r.brandName.escapeHTML(),r.brandType)]);for(this.icTables=null,a=0,n=h.regions.length;a<n;++a)if(p[s=(i=h.regions[a]).regionID].isIn){for(u.push({title:p[s].regionName,type:"flag",trueLabel:this.tc("trueLabel"),falseLabel:this.tc("falseLabel")}),o=0,l=i.brands.length;o<l;++o)m[o].push(i.brands[o].produce);g++}return""===(e=this.drawEmpty(g,c.brands.length))?(this.icTables=new DecisionTable(this.tc("brandsProduction"),"icrTable",u,m,!1,"green"),t&&(this.icTables.tableCorners=""),this.icTables.draw()):e},draw:function(t){return this.data.staticData.isViewOnly?this.drawViewOnly(t):this.drawRegular(t)},observeRegular:function(){if(null==this.emptyLabel)for(var t=this.data.staticData,e=this.data.decisions,i=t.regions.toLookUp("regionID"),s=0,a=e.regions.length;s<a;++s){var n=e.regions[s],r=n.regionID;if(i[r].isIn){this.icTables[r].observe();for(var o=0,l=n.brands.length;o<l;++o){var d=n.brands[o],c="_"+r+"_"+d.brandID;t.hasZeroMaxEndingInventory||j$("#produce"+c).on("click",this.produceChanged.bind(this,r,d.brandID))}}}else this.emptyLabel.observe(),this.emptyLabel.change("float","left")},observeViewOnly:function(){null==this.emptyLabel?this.icTables.observe():(this.emptyLabel.observe(),this.emptyLabel.change("float","left"))},observe:function(){this.data.staticData.isViewOnly?this.observeViewOnly():this.observeRegular()},produceChanged:function(t,e){this.value("produce_"+t+"_"+e)||this.setValue("max_"+t+"_"+e,0)},drawSOD:function(){var t=this.draw(!0);null==this.emptyLabel?(this.setValue(this.pfxSod+this.service,t),this.disable()):this.setValue(this.pfxSod+this.service,"")}})},94743:()=>{window.InvestInActions=Decision.extend({style:"padding: 10px 10px 0px 10px;",read:function(){var t,e,i,s,a=this.data.decisions.criticalGroups,n=a.length,r=this.data.staticData.criticalGroups.toLookUp("groupID");for(t=0;t<n;++t)if(r[(s=a[t]).groupID].wasSource)for(e=0,i=s.actions.length;e<i;++e)s.actions[e].budget=this.value("abgt_"+s.groupID+"_"+s.actions[e].actionID)},write:function(){var t,e,i,s,a=this.data.decisions.criticalGroups,n=a.length,r=this.data.staticData.criticalGroups.toLookUp("groupID");for(t=0;t<n;++t)if(r[(s=a[t]).groupID].wasSource)for(e=0,i=s.actions.length;e<i;++e)this.setValue("abgt_"+s.groupID+"_"+s.actions[e].actionID,s.actions[e].budget)},writeErrors:function(){var t,e,i,s,a=this.data.errors.decisions.criticalGroups,n=a.length,r=this.data.staticData.criticalGroups.toLookUp("groupID");for(t=0;t<n;++t)if(r[(s=a[t]).groupID].wasSource)for(e=0,i=s.actions.length;e<i;++e)this.writeError("abgt_"+s.groupID+"_"+s.actions[e].actionID,s.actions[e].budget,"center left",!0,3)},writeCalculate:function(){var t,e,i=this.data.staticData.criticalGroups,s=i.length;for(j$("#investInActionsTotal").html(Number(this.data.calculate.total).format()),t=0;t<s;++t)(e=i[t]).wasSource&&this.setChartData("gc_"+e.groupID,"chart_gc_"+e.groupID)},draw:function(t){t=t||!1;var e,i,s,a,n,r,o=this.data.staticData.criticalGroups,l=o.length,d="",c=this.data.decisions.criticalGroups.toLookUp("groupID"),h=[],p=[{title:this.tc("actionToReduce")},{title:this.tc("minExp"),type:"number"},{title:this.tc("plannedInvestment"),align:"right"}],u=[];for(this.wasAction=!1,this.iaTables=[],e=0;e<l;++e)if((i=o[e]).wasSource){for(u=[],r=c[i.groupID].actions.toLookUp("actionID"),s=0,a=i.actions.length;s<a;++s)n=i.actions[s],u.push([n.name,n.minExp,this.com("iedit","abgt_"+i.groupID+"_"+n.actionID,r[n.actionID].budget,{size:6})]);h.push({title:i.name,type:"dtitle"},['<div id="chart_gc_'+i.groupID+'" style="width: 350px; height: 280px; margin: auto; position: relative;"></div>','<div id="chart_ei_'+i.groupID+'" style="width: 350px; height: 280px; margin: auto; position: relative;"></div>']),this.wasAction=!0;var g=new DecisionTable(i.name,"iaTable_"+i.groupID,p,u);t&&(g.tableCorners=""),this.iaTables.push(g),d+=g.draw()}return this.iaTables.length>0?(this.iaLabel=new DecisionLabel(this.service,"iaLabel",this.tc("total")+' <span id="investInActionsTotal">'+Number(this.data.calculate.total).format()+"</span>","","green"),t&&(this.iaLabel.labelCorners=""),d+=this.iaLabel.draw()):(this.iaLabel=null,this.viewModeButtons=[],this.modifyModeButtons=[]),t||(this.wasAction?(this.grTable=new DecisionTable("","grTable",[{title:""},{title:""}],h,!0,"green"),d+=this.grTable.draw()):(this.iaLabel=new DecisionLabel(this.service,"iaLabel",this.tc("noSource"),"","green"),d+=this.iaLabel.draw())),d},observe:function(){var t,e,i,s,a,n,r,o=this.data.staticData.criticalGroups,l=o.length,d=0;for(t=0;t<l;++t)if((e=o[t]).wasSource){for(i=0,s=e.actions.length;i<s;++i)a=e.actions[i],this.bindCalculate("abgt_"+e.groupID+"_"+a.actionID,"keyup",!0);this.setChartData("ei_"+e.groupID,"chart_ei_"+e.groupID),this.setChartData("gc_"+e.groupID,"chart_gc_"+e.groupID),d++}if(d>0){for(n=0,r=this.iaTables.length;n<r;n++)this.iaTables[n].observe();DecisionTable.setMaxColWidths(this.iaTables,0),this.grTable.observe()}(d>0||!this.wasAction)&&(this.iaLabel.observe(),this.iaLabel.change("float","left"))},resize:function(){this.iaTables.length>0&&DecisionTable.setMaxColWidths(this.iaTables,0)},drawSOD:function(){this.setValue(this.pfxSod+this.service,this.draw(!0)),null!=this.iaLabel&&this.iaLabel.change("float","left"),this.disable()},setChartData:function(t,e){var i,s,a,n,r,o,l=t.split("_"),d=this.data.staticData,c=this.data.calculate,h=d.criticalGroups.toLookUp("groupID")[l[1]],p=c.criticalGroups.toLookUp("groupID")[l[1]];if(Live.useSvg()){if((i=this.data.staticData.chartTemplate).legend.position="bottom",i.legend.align="left",i.legend.margin.bottom=10,i.chartSettings.radius=0,i.chartArea.margin.right=12,i.title.margin.bottom=3,i.title.fontStyle.size=16,i.title.margin.bottom=3,i.legend.maxWidth=270,"gc"==l[0])for(j$.extend(i.data,{title:this.tc("gaussCurves"),xAxis:"",yAxis:"",labels:[this.tc("current"),this.tc("projected")],x:[],y:[],minY:0,xLines:[-3,3],dsX:10,saveUrl:this.st("common:saveChartURL"),saveName:"gause-curve-component-"+l[1]+"-q"+this.user.quarter()}),i.chartArea.vLabels.decimals=2,r=0,o=d.distrUnits.length;r<o;++r)i.data.x[r]=Number(d.distrUnits[r]),i.data.y[r]=[Number(h.distribution[r]),Number(p.distribution[r])];else for(j$.extend(i.data,{title:this.tc("effInvestment"),xAxis:this.tc("investment"),yAxis:"",labels:[],x:[],y:[],minY:0,xLines:[],dsX:5,dsY:5,saveUrl:this.st("common:saveChartURL"),saveName:"potential-improvement-component-"+l[1]+"-q"+this.user.quarter()}),i.chartArea.vLabels.decimals=0,s=0,a=h.actions.length;s<a;++s)for(n=h.actions[s],i.data.labels[s]=n.name,r=0,o=d.effUnits.length;r<o;++r)0==s&&(i.data.x[r]=Number(d.effUnits[r]),i.data.y[r]=[]),i.data.y[r][s]=Number(n.effective[r]);SvgCharts.BaseChart.setChartData(e,i)}else if(j$("#"+e).html(""),"gc"==l[0]){for((i=new LineChart(j$("#"+e)[0])).minY=0,i.label=this.tc("gaussCurves"),i.legend=!0,i.labelX="",i.labelY="",i.labels=[this.tc("current"),this.tc("projected")],i.data=[[],[]],i.category=[],i.xLines=[-3,3],i.decY=2,i.style.labelFontSize="16px",r=0,o=d.distrUnits.length;r<o;++r)i.category[r]=Number(d.distrUnits[r]),i.data[0][r]=Number(h.distribution[r]),i.data[1][r]=Number(p.distribution[r]);i.draw()}else{for((i=new LineChart(j$("#"+e)[0])).minY=0,i.label=this.tc("effInvestment"),i.legend=!0,i.labelX="",i.labelY="",i.labels=[],i.data=[],i.category=[],i.style.labelFontSize="16px",i.legendCharLimit=15,i.dsx=4,i.dsy=5,i.margin.top=5,i.margin.bottom=5,i.margin.left=5,i.margin.right=5,s=0,a=h.actions.length;s<a;++s)for(n=h.actions[s],i.labels[s]=n.name,i.data[s]=[],r=0,o=d.effUnits.length;r<o;++r)i.category[r]=Number(d.effUnits[r]),i.data[s][r]=Number(n.effective[r]);i.draw()}}})},23995:()=>{window.InvestInActionsResults=Decision.extend({style:"padding: 10px 10px 0px 10px;",viewModeButtons:[],modifyModeButtons:[],draw:function(){var t,e,i=this.data.staticData.criticalGroups,s=i.length,a="",n=[{title:this.tc("criticalGroup")},{title:this.tc("pShift"),type:"number",decimals:2},{title:this.tc("pVariance"),type:"number",decimals:2},{title:this.tc("shift"),type:"number",decimals:2},{title:this.tc("variance"),type:"number",decimals:2}],r=[],o="";for(this.wasActions=!1,t=0;t<s;++t)(e=i[t]).wasInvested&&(r.push([e.name,e.pShift,e.pVariance,e.shift,e.variance]),a+='<div id="chart_'+e.groupID+'" style="width: 550px; height: 250px; margin: auto; position: relative;"></div><br />',this.wasActions=!0);return this.wasActions?(this.iaTable=new DecisionTable(this.tc("improvementActions"),"iaTable",n,r,!1,"green"),o+=this.iaTable.draw()+"<br />"+a):(this.iaLabel=new DecisionLabel(this.service,"iaLabel",this.tc("noActions"),"","green"),o+=this.iaLabel.draw()),o},observe:function(){var t,e,i=this.data.staticData.criticalGroups,s=i.length;for(this.wasActions?this.iaTable.observe():(this.iaLabel.change("float","left"),this.iaLabel.observe()),t=0;t<s;++t)(e=i[t]).wasInvested&&this.setChartData(e.groupID,"chart_"+e.groupID)},setChartData:function(t,e){var i,s,a,n=this.data.staticData,r=n.criticalGroups.toLookUp("groupID")[t];if(Live.useSvg()){for(i=this.data.staticData.chartTemplate,j$.extend(i.data,{title:this.tc("gaussCurves",{GROUP:r.name}),xAxis:"",yAxis:"",labels:[this.tc("previous"),this.tc("current")],x:[],y:[],minY:0,xLines:[-3,3],saveUrl:this.st("common:saveChartURL"),saveName:"gause-curve-component-"+t+"-q"+this.user.quarter()}),i.title.fontStyle.size=18,i.chartArea.vLabels.decimals=2,i.chartSettings.radius=0,s=0,a=n.distrUnits.length;s<a;++s)i.data.x[s]=Number(n.distrUnits[s]),i.data.y[s]=[Number(r.pDistribution[s]),Number(r.distribution[s])];SvgCharts.BaseChart.setChartData(e,i)}else{for(j$("#"+e).html(""),(i=new LineChart(j$("#"+e)[0])).minY=0,i.label=this.tc("gaussCurves",{GROUP:r.name}),i.legend=!0,i.labelX="",i.labelY="",i.labels=[this.tc("previous"),this.tc("current")],i.data=[[],[]],i.category=[],i.xLines=[-3,3],i.style.labelFontSize="18px",i.decY=2,s=0,a=n.distrUnits.length;s<a;++s)i.category[s]=Number(n.distrUnits[s]),i.data[0][s]=Number(r.pDistribution[s]),i.data[1][s]=Number(r.distribution[s]);i.draw()}}})},45572:()=>{window.LocalMedia=Decision.extend({style:"padding: 10px 10px 0px 10px;",modifyModeButtons:["save","cancel"],showRegionalTotals:!1,read:function(){var t,e,i,s,a,n,r,o,l=this.data.decisions.regions,d=l.length;for(t=0;t<d;++t)for(i=0,s=(e=l[t]).cities.length;i<s;++i)for(n=0,r=(a=e.cities[i]).ads.length;n<r;++n)(o=a.ads[n]).inserts=this.value("ins_"+e.regionID+"_"+a.cityID+"_"+o.adID)},write:function(){var t,e,i,s,a,n,r,o,l=this.data.decisions.regions,d=l.length;for(t=0;t<d;++t)for(i=0,s=(e=l[t]).cities.length;i<s;++i)for(n=0,r=(a=e.cities[i]).ads.length;n<r;++n)o=a.ads[n],this.setValue("ins_"+e.regionID+"_"+a.cityID+"_"+o.adID,o.inserts);null!=this.copyDD&&this.copyDD.hide()},writeErrors:function(){var t,e,i,s,a,n,r,o,l=this.data.errors.decisions.regions,d=l.length;for(t=0;t<d;++t)for(i=0,s=(e=l[t]).cities.length;i<s;++i)for(n=0,r=(a=e.cities[i]).ads.length;n<r;++n)o=a.ads[n],this.writeError("ins_"+e.regionID+"_"+a.cityID+"_"+o.adID,o.inserts)},writeCalculate:function(){var t,e,i,s,a=this.data.calculate,n=(a.adsCost.toLookUp("adID"),this.data.dynamicData),r=n.ads.length,o=a.regionCost,l=o.toLookUp("regionID");for(e=0,i=o.length;e<i;e++)for(t=0;t<r;++t)s=l[o[e].regionID].ads.toLookUp("adID"),this.showRegionalTotals&&j$("#lm_total_"+o[e].regionID+"_"+t).html(s[n.ads[t].adID].cost.format());j$("#localMediaTotalCount").html(this.data.calculate.mediaCount.format()),j$("#localMediaTotal").html(this.data.calculate.mediaCost.format())},draw:function(t){t=t||!1;var e,i,s,a,n,r,o,l,d,c,h,p,u,g,m=this.data.staticData,b=this.data.dynamicData,f=this.data.decisions.regions.toLookUp("regionID"),v=b.ads.length,y="",w=((c=this.data.calculate).adsCost,[{title:this.tc("city")},{title:this.tc("cost"),type:"number"}]),D=[],_=(y="",""),I=c.regionCost.toLookUp("regionID"),x="";for(b.ads.forEach((function(t){w.push({title:Format.brandName(t.adName.escapeHTML(),t.brandType),align:"right"})})),this.activeRegions=[],this.activeCities={optgroups:[]},this.lmTables=[],e=0,i=m.regions.length;e<i;++e)if(D=[],(s=m.regions[e]).isIn){for(g={label:s.regionName,options:[]},c=f[s.regionID].cities.toLookUp("cityID"),u=!1,a=0,n=s.cities.length;a<n;++a)if(r=s.cities[a],s.wscOpened||r.soOpened){d=c[r.cityID].ads.toLookUp("adID"),D.push([r.cityName,r.mediaCost]),u=!0;var T=!0;for(o=0;o<v;++o)l=b.ads[o],t?D[D.length-1].push(d[l.adID].inserts):D[D.length-1].push(this.com("iedit","ins_"+s.regionID+"_"+r.cityID+"_"+l.adID,d[l.adID].inserts,{size:4})),Number(d[l.adID].inserts)>0&&(T=!1);t&&T&&D.pop(),g.options.push({cityID:s.regionID+"_"+r.cityID,cityName:r.cityName})}if(u&&this.showRegionalTotals){for(h=[this.tc("total_simple"),null],o=0;o<v;++o)h.push('<span id="lm_total_'+s.regionID+"_"+o+'">'+I[s.regionID].ads[o].cost.format()+"</span>");D.push({values:h,type:"total"})}p=new DecisionTable(s.regionName,"lmTable_"+s.regionID,w,D),t&&(p.tableCorners=""),this.lmTables.push(p),_+=p.draw(),this.activeCities.optgroups.push(g),this.activeRegions.push(s)}return this.activeRegions.length>1?(this.modifyModeButtons=["copyData","save","cancel"],this.buttonCaptions.copyData=this.tc("common:copyData")+" &#9650;"):this.modifyModeButtons=["save","cancel"],0==this.activeRegions.length||0==b.ads.length?(this.viewModeButtons=[],this.modifyModeButtons=[],0==this.activeRegions.length&&(y+=this.tc("common:noOutlet")),0==b.ads.length&&(y+=(""!=y?"<br />":"")+this.tc("common:noAds")),this.emptyLabel=new DecisionLabel(this.service,"emptyLabel",y,"","blue"),this.emptyLabel.draw()):(this.emptyLabel=null,x+="<div>"+this.tc("totalMedia",{TOTAL:'<span id="localMediaTotalCount">'+this.data.calculate.mediaCount.format()+"</span>"})+"</div>",x+="<div>"+this.tc("total",{TOTAL:'<span id="localMediaTotal">'+this.data.calculate.mediaCost.format()+"</span>"})+"</div>",this.rmLabel=new DecisionLabel(this.service,"rmLabel",x),t&&(this.rmLabel.labelCorners=""),_+this.rmLabel.draw())},observe:function(){if(null==this.emptyLabel){var t,e,i,s,a,n,r,o,l,d,c,h=this.data.staticData,p=this.data.dynamicData;for(t=0,e=h.regions.length;t<e;t++)if((i=h.regions[t]).isIn)for(s=0,a=i.cities.length;s<a;++s)if(n=i.cities[s],i.wscOpened||n.soOpened)for(r=0,o=p.ads.length;r<o;++r)l=p.ads[r],this.bindCalculate("ins_"+i.regionID+"_"+n.cityID+"_"+l.adID,"keyup",!0);for(d=0,c=this.lmTables.length;d<c;d++)this.lmTables[d].observe();DecisionTable.setMaxColWidths(this.lmTables,0),this.rmLabel.observe(),this.rmLabel.change("float","left"),this.createCopyDD()}else this.emptyLabel.observe(),this.emptyLabel.change("float","left")},resize:function(){var t=this.data.dynamicData;this.lmTables.length>0&&0!=this.activeRegions.length&&0!=t.ads.length&&DecisionTable.setMaxColWidths(this.lmTables,0)},drawSOD:function(){var t=this.draw(!0);null==this.emptyLabel?(this.setValue(this.pfxSod+this.service,t),this.rmLabel.change("float","left")):this.setValue(this.pfxSod+this.service,"")},copyData:function(){},createCopyDD:function(){var t=this.data.dynamicData,e=this.user.quarter();this.activeRegions.length>1?(this.copyDD=new DropDownStaticCopy("btncopyData",this.activeCities,"cityID","cityName",this.tc("city"),this.activeRegions,"regionID","regionName",this.tc("regions"),t.ads,"adID","adName",this.tc("ads")),this.copyDD.copyDecision=j$.proxy(this.copyDecision,this),this.copyDD.getFromName=function(t){return this.fromItems[t][this.fromItemName].escapeHTML()},this.copyDD.fromItemPreselected=function(t){return t.quarterDesigned==e},!this.isCurrentQuarter()||this.isGameOverQuarter()&&this.hideButtonsInLastQuarter||OverlayMessages.triggerMessage("copyBtn",!0)):this.copyDD=null},copyDecision:function(t,e,i){var s,a,n,r,o,l,d,c,h,p,u,g=this.data.decisions.regions.toLookUp("regionID"),m=this.activeRegions.toLookUp("regionID"),b=t.split("_");if(void 0!==m[b[0]]){for(a=(s=g[b[0]]).cities.toLookUp("cityID")[b[1]],d=0,c=e.length;d<c;++d)if(void 0!==m[e[d]])for(h=0,p=(n=g[e[d]]).cities.length;h<p;++h)for(r=0,o=(u=n.cities[h]).ads.length;r<o;++r)l=u.ads[r],-1!=i.indexOf(l.adID)&&this.setValue("ins_"+n.regionID+"_"+u.cityID+"_"+l.adID,this.value("ins_"+s.regionID+"_"+a.cityID+"_"+l.adID));this.calculate(!0)}}})},38239:(t,e,i)=>{"use strict";i(45572),window.LocalMediaAnim=LocalMedia.extend({showRegionalTotals:!1,initialize:function(t){this._super("LocalMedia")},writeCalculate:function(){var t,e,i,s,a,n,r,o,l,d,c=this.data.staticData,h=this.data.calculate.regionCost.toLookUp("regionID"),p=this.data.dynamicData,u=p.ads.length;for(i=0,s=c.regions.length;i<s;++i)if((a=c.regions[i]).isIn){for(e=h[a.regionID].ads.toLookUp("adID"),t=h[a.regionID].cities.toLookUp("cityID"),o=0,l=a.cities.length;o<l;++o)d=a.cities[o],(a.wscOpened||d.soOpened)&&this.regMaps.setCityDotStatus(!1,a,d,t[d.cityID].cost);for(r=0;r<u;++r)n=p.ads[r],this.showRegionalTotals&&j$("#lm_total_"+a.regionID+"_"+n.adID).html(e[n.adID].cost.format())}j$("#localMediaTotalCount").html(this.data.calculate.mediaCount.format()),j$("#localMediaTotal").html(this.data.calculate.mediaCost.format())},draw:function(t){t=t||!1;var e,i,s,a,n,r,o,l,d,c,h,p,u,g,m,b,f=this.data.staticData,v=this.data.dynamicData,y=this.data.decisions.regions.toLookUp("regionID"),w=v.ads.length,D="",_=this.data.calculate,I=[{title:this.tc("city")},{title:this.tc("cost"),type:"number"}],x=[],T="",C="";for(this.regMaps=new RegionsMaps(this,!1),this.regMaps.regionHoverInfo=!0,this.regMaps.cityHoverInfo=!0,this.rmTables=[],this.activeRegions=[],this.activeCities={optgroups:[]},v.ads.forEach((function(t){I.push({title:Format.brandName(t.adName.escapeHTML(),t.brandType),align:"right"})})),e=0,i=f.regions.length;e<i;++e)if((s=f.regions[e]).isIn){for(p=_.regionCost.toLookUp("regionID"),x=[],b={label:s.regionName,options:[]},d=y[s.regionID].cities.toLookUp("cityID"),a=0,n=s.cities.length;a<n;++a)if(r=s.cities[a],s.wscOpened||r.soOpened){for(c=d[r.cityID].ads.toLookUp("adID"),x.push({values:[r.cityName,r.mediaCost],rowData:{region:s,city:r}}),m=!0,o=0;o<w;++o)l=v.ads[o],t?x[x.length-1].values.push(c[l.adID].inserts):x[x.length-1].values.push(this.com("iedit","ins_"+s.regionID+"_"+r.cityID+"_"+l.adID,c[l.adID].inserts,{size:4})),Number(c[l.adID].inserts)>0&&(m=!1);t&&m&&x.values.pop(),b.options.push({cityID:s.regionID+"_"+r.cityID,cityName:r.cityName})}if(h=p[s.regionID].ads.toLookUp("adID"),this.showRegionalTotals){for(u=[this.tc("total_reg_exp"),null],o=0;o<w;++o)l=v.ads[o],u.push('<span id="lm_total_'+s.regionID+"_"+l.adID+'">'+h[l.adID].cost.format()+"</span>");x.push({values:u,type:"total"})}this.activeCities.optgroups.push(b),this.activeRegions.push(s),g=new DecisionTable('<div id="rmTableHead_'+s.regionID+'"><div style="float:left;">'+s.regionName+"</div></div>","rmTable_"+s.regionID,I,x),this.regMaps.regTables[s.regionID]=g,this.rmTables.push(g)}return this.activeRegions.length>1?(this.modifyModeButtons=["copyData","save","cancel"],this.buttonCaptions.copyData=this.tc("common:copyData")+" &#9650;"):this.modifyModeButtons=["save","cancel"],0==x.length||0==v.ads.length?(this.viewModeButtons=[],this.modifyModeButtons=[],0==x.length&&(D+=this.tc("common:noOutlet")),0==v.ads.length&&(D+=(""!=D?"<br />":"")+this.tc("common:noAds")),this.emptyLabel=new DecisionLabel(this.service,"emptyLabel",D,"","blue"),this.emptyLabel.draw()):(this.emptyLabel=null,C+="<div>"+this.tc("totalMedia",{TOTAL:'<span id="localMediaTotalCount">'+this.data.calculate.mediaCount.format()+"</span>"})+"</div>",C+="<div>"+this.tc("total",{TOTAL:'<span id="localMediaTotal">'+this.data.calculate.mediaCost.format()+"</span>"})+"</div>",this.rmLabel=new DecisionLabel(this.service,"rmLabel",C),t&&(this.rmLabel.labelCorners=""),t&&this.rmTables.forEach((function(t){t.tableCorners=""})),this.rmTables.forEach((function(t){T+=t.draw()})),T+this.rmLabel.draw())},resize:function(){j$("#decision").children().first(),this.regMaps.resize()},observe:function(){var t,e,i,s,a,n,r,o,l,d,c=this.data.staticData,h=this.data.dynamicData;if(null==this.emptyLabel){for(this.rmTables.forEach((function(t){t.observe()})),DecisionTable.setMaxColWidths(this.rmTables,0),t=0,e=c.regions.length;t<e;t++)if(d=!1,(i=c.regions[t]).isIn){for(s=0,a=i.cities.length;s<a;++s)if(n=i.cities[s],i.wscOpened||n.soOpened)for(r=0,o=h.ads.length;r<o;++r)l=h.ads[r],d=!0,this.bindCalculate("ins_"+i.regionID+"_"+n.cityID+"_"+l.adID,"keyup",!0);d&&this.regMaps.drawRegion(i)}this.rmLabel.observe(),this.rmLabel.change("float","left"),this.createCopyDD()}else this.emptyLabel.observe(),this.emptyLabel.change("float","left")}})},70211:()=>{window.LongTermLoan=Decision.extend({style:"padding: 10px 10px 0px 10px;",read:function(){this.data.decisions.borrow=this.value("lt_borrow")},write:function(){this.setValue("lt_borrow",this.data.decisions.borrow)},writeErrors:function(){this.writeError("lt_borrow",this.data.errors.decisions.borrow,"center left",!0,3)},writeCalculate:function(){var t=this.data.calculate,e=this.tblRec.element().rows[1+this.data.staticData.ltRecords.length];t.ltRecord?(e.cells[0].innerHTML=t.ltRecord.quarter.format(),e.cells[1].innerHTML=t.ltRecord.quarterMature.format(),e.cells[2].innerHTML=t.ltRecord.sizeOfBond.format(),e.cells[3].innerHTML=t.ltRecord.annualRate.format(2),e.cells[4].innerHTML=t.ltRecord.interest.format(),e.cells[5].innerHTML=t.ltRecord.sinkingFund.format()):(e.cells[0].innerHTML="",e.cells[1].innerHTML="",e.cells[2].innerHTML="",e.cells[3].innerHTML="",e.cells[4].innerHTML="",e.cells[5].innerHTML="")},draw:function(t){t=t||!1;var e,i,s,a=this.data.staticData,n=this.data.dynamicData,r=this.data.decisions,o=this.data.calculate,l=[],d=[{title:this.tc("quarterRec"),align:"right",vline:!1},{title:this.tc("quarterMat"),align:"right"},{title:this.tc("bond"),align:"right"},{title:this.tc("interest"),align:"right"},{title:this.tc("quarterlyInterest"),align:"right"},{title:this.tc("sinkingFund"),align:"right"}],c=[];for(t||(l.push([this.tc("debtCapacity"),Number(n.debtCapacity).formatInt()]),l.push([this.tc("debtToDate"),Number(n.debtToDate).formatInt()]),l.push({values:[this.tc("freeToBorrow"),Number(n.freeToBorrow).formatInt()],hrafter:!0}),l.push([this.tc("toBorrow"),this.com("iedit","lt_borrow",r.borrow,{size:8})]),this.tblLoan=new DecisionTable(t?"":this.tc("longLoan"),"tblLoan",[{title:""},{title:"",align:"right"}],l,!0,"concrete")),e=0,i=a.ltRecords.length;e<i;++e)s=a.ltRecords[e],c.push([s.quarter.format(),s.quarterMature.format(),s.sizeOfBond.format(),s.annualRate.format(2),s.interest.format(),s.sinkingFund.format()]);return o.ltRecord?c.push([o.ltRecord.quarter.format(),o.ltRecord.quarterMature.format(),o.ltRecord.sizeOfBond.format(),o.ltRecord.annualRate.format(2),o.ltRecord.interest.format(),o.ltRecord.sinkingFund.format()]):c.push(["","","","","",""]),this.tblRec=new DecisionTable(t?"":this.tc("ltRecord"),"tblRec",d,c,!1,"concrete"),t&&(this.tblRec.tableCorners=""),t?this.tblRec.draw():this.tblLoan.draw()+this.tblRec.draw()},observe:function(){this.bindCalculate("lt_borrow","keyup",!0),this.tblLoan.observe(),this.tblRec.observe()},drawSOD:function(){Number(this.data.calculate.longTermLoan)>0?this.setValue(this.pfxSod+this.service,this.draw(!0)):this.setValue(this.pfxSod+this.service,this.tc("noLongTermLoans"))}})},3624:(t,e,i)=>{"use strict";i(97817),window.LQFactoryPayroll=FactoryPayroll.extend({setSdDd:function(){this.sd=this.data.staticData,this.dd=this.data.staticData}})},27197:(t,e,i)=>{"use strict";i(77036),window.LQFactoryPayrollRegional=FactoryPayrollRegional.extend({getRegionIterator:function(){return this.getIterator.apply(this,["regions","regionID",function(t,e,i){return e.isIn},this.data.staticData,this.data.staticData].concat(Array.from(arguments)))}})},9650:()=>{window.ManufacturingResults=Decision.extend({style:"padding: 10px 10px 0px 10px;",cssExplanExt:"-green",viewModeButtons:[],modifyModeButtons:[],createTables:function(){var t,e,i,s,a,n,r,o,l,d=this.data.staticData,c=d.overhead;for(this.tables=[],s=[{title:this.tc("brand")}],n=[this.tc("total")],d.hasZeroMaxEndingInventory||(s.push({title:this.tc("startInventory"),type:"number"}),n.push(0)),d.producing&&(s.push({title:this.tc("produced"),type:"number"}),n.push(0)),d.inSupplyChain&&(s.push({title:this.tc("arrived"),type:"number"}),n.push(0)),d.hasZeroMaxEndingInventory||(s.push({title:this.tc("totalInventory"),type:"number"}),n.push(0)),s.push({title:this.tc("netDemand"),type:"number"}),d.hasZeroMaxEndingInventory||s.push({title:this.tc("sold"),type:"number"}),s.push({title:this.tc("lost"),type:"number"}),d.hasZeroMaxEndingInventory?n.push(0,0):(s.push({title:this.tc("endInventory"),type:"number"}),n.push(0,0,0,0)),d.inSupplyChain&&(s.push({title:this.tc("toArrive"),type:"number"}),n.push(0)),a=[],e=0;e<d.brandsForSale.length;e++)l=[],(t=d.brandsForSale[e]).active&&(i=Format.brandName(t.name.escapeHTML(),t.brandType),t.contractID>0?"undefined"!=typeof Engine&&l.push({type:"click",linkStyle:"blueLink",call:j$.proxy(Engine.showNewWindow,Engine,"outsourcedbrandresults","OutsourcedBrandResults",t.teamID+","+t.brandID,null,null)}):l.push(null),o=[i],r=1,d.hasZeroMaxEndingInventory||(o.push(Number(t.startInventory)),l.push(null),n[r++]+=Number(t.startInventory)),d.producing&&(o.push(Number(t.unitsProduced)),l.push(null),n[r++]+=Number(t.unitsProduced)),d.inSupplyChain&&(o.push(Number(t.arrived)),l.push(null),n[r++]+=Number(t.arrived)),d.hasZeroMaxEndingInventory||(o.push(Number(t.startInventory)+Number(t.unitsProduced)+Number(t.arrived)),l.push(null),n[r++]+=Number(t.startInventory)+Number(t.unitsProduced)+Number(t.arrived)),o.push(Number(t.netDemand)),d.hasZeroMaxEndingInventory||o.push(Number(t.sold)),o.push(Number(t.stockOuts)),n[r++]+=Number(t.netDemand),d.hasZeroMaxEndingInventory||(n[r++]+=Number(t.sold)),n[r++]+=Number(t.stockOuts),d.hasZeroMaxEndingInventory?l.push(null,null):(o.push(Number(t.endInventory)),l.push(null,null,null,null),n[r++]+=Number(t.endInventory)),d.inSupplyChain&&(o.push(Number(t.inTransfer)),l.push(null),n[r++]+=Number(t.inTransfer)),a.push({values:o,actions:l}));for(d.selling&&a.length>0?(a.push({values:n,type:"total"}),this.ipuTable=new DecisionTable(d.hasZeroMaxEndingInventory?this.tc("ipUnitsZeroInventory"):this.tc("ipUnits"),"ipuTable",s,a,!1,"green"),this.tables.push(this.ipuTable)):this.ipuTable=null,s=[{title:this.tc("brand")},{title:this.tc("produced"),type:"number"},{title:this.tc("quantityOrdered"),type:"number"},{title:this.tc("contractFulfillment"),align:"right"},{title:this.tc("orderFulfillment"),align:"right"}],n=[this.tc("total"),0,0,0,0],a=[],e=0;e<d.brandsForProduction.length;e++)t=d.brandsForProduction[e],l=[],i=Format.brandName(t.name.escapeHTML(),t.brandType),"undefined"!=typeof Engine&&l.push({type:"click",linkStyle:"blueLink",call:j$.proxy(Engine.showNewWindow,Engine,"outsourcedbrandresults","OutsourcedBrandResults",t.teamID+","+t.brandID,null,null)}),o=[i,Number(t.unitsProduced),Number(t.netDemand),Number(t.contractFulfill).formatFloat()+"%",Number(t.orderFulfill).formatFloat()+"%"],l.push(null,null,null,null),n[1]+=Number(t.unitsProduced),n[2]+=Number(t.netDemand),n[4]+=Number(t.netDemand)*Number(t.orderFulfill),a.push({values:o,actions:l});if(a.length>0?(n[2]>0&&(n[3]=Format.real(n[1]/n[2]*100)+"%",n[4]=Format.real(n[4]/n[2])+"%"),a.push({values:n,type:"total"}),this.ipuTableSupplier=new DecisionTable(this.tc("ipUnitsSupplier"),"ipuTableSupplier",s,a,!1,"green"),this.tables.push(this.ipuTableSupplier)):this.ipuTableSupplier=null,s=[{title:this.tc("brand")},{title:this.tc("unitsProduced"),align:"right"},{title:this.tc("material"),align:"right"},{title:this.tc("labor"),align:"right"},{title:this.tc("totOverhead"),align:"right"}],d.isPull&&s.push({title:this.tc("changeover"),align:"right"}),s.push({title:this.tc("average"),align:"right"}),a=[],d.selling)for(e=0;e<d.brandsForSale.length;e++)(t=d.brandsForSale[e]).active&&(t.contractID>0||(o=[Format.brandName(t.name.escapeHTML(),t.brandType),Number(t.unitsProduced).format(),Number(t.material).format(),Number(t.labor).format(),Number(t.overhead).format()],d.isPull&&o.push(Number(t.changeover).format()),o.push(Number(t.prodCost).format()),a.push(o)));for(e=0;e<d.brandsForProduction.length;e++)t=d.brandsForProduction[e],o=[Format.brandName(t.name.escapeHTML(),t.brandType),Number(t.unitsProduced).format(),Number(t.material).format(),Number(t.labor).format(),Number(t.overhead).format()],d.isPull&&o.push(Number(t.changeover).format()),o.push(Number(t.prodCost).format()),a.push(o);for(d.producing&&a.length>0?(this.pcTable=new DecisionTable(this.tc("prodCost"),"pcTable",s,a,!1,"green"),this.tables.push(this.pcTable)):this.pcTable=null,s=[{title:this.tc("brand")},{title:this.tc("startCost"),align:"right"},{title:this.tc("prodCost2"),align:"right"},{title:this.tc("avgCost"),align:"right"},{title:this.tc("endCost"),align:"right"}],a=[],e=0;e<d.brandsForSale.length;e++)(t=d.brandsForSale[e]).active&&a.push([Format.brandName(t.name.escapeHTML(),t.brandType),Number(t.startCost).format(),Number(t.prodCost).format(),Number(t.avgCost).format(),Number(t.endCost).format()]);if(d.selling&&!d.hasZeroMaxEndingInventory&&a.length>0?(this.ipcTable=new DecisionTable(this.tc("ipCost"),"ipcTable",s,a,!1,"green"),this.tables.push(this.ipcTable)):this.ipcTable=null,d.isPull){if(s=[{title:this.tc("brand")},{title:this.tc("addedTime"),align:"right"},{title:this.tc("lostCapacity"),align:"right"},{title:this.tc("overhead"),align:"right"},{title:this.tc("dirLabor"),align:"right"},{title:this.tc("choverSpecCost"),align:"right"},{title:this.tc("choverUnitCost"),align:"right"}],a=[],d.selling)for(e=0;e<d.brandsForSale.length;e++)(t=d.brandsForSale[e]).active&&(0==t.contractID&&a.push([Format.brandName(t.name.escapeHTML(),t.brandType),Number(t.choverAddedTime).format(1),Number(t.choverLostCapacity).format(),Number(t.choverOverhead).format(),Number(t.choverLabor).format(),Number(t.choverCost).format(),Number(t.changeover).format()]),this.charts+='<div id="bschart_'+t.brandID+'" style="width: 600px; height: 300px; position: relative"></div><br />');for(e=0;e<d.brandsForProduction.length;e++)t=d.brandsForProduction[e],a.push([Format.brandName(t.name.escapeHTML(),t.brandType),Number(t.choverAddedTime).format(1),Number(t.choverLostCapacity).format(),Number(t.choverOverhead).format(),Number(t.choverLabor).format(),Number(t.choverCost).format(),Number(t.changeover).format()]),this.charts+='<div id="bpchart_'+t.teamID+"_"+t.brandID+'" style="width: 600px; height: 300px; position: relative"></div><br />';d.producing&&a.length>0?(this.ccTable=new DecisionTable(this.tc("changeoverCosts"),"ccTable",s,a,!1,"green"),this.tables.push(this.ccTable)):this.ccTable=null}(d.isEasyPush||d.isEasyPull||d.isJustInTime)&&(a=[],d.hasOvertime&&d.isJustInTime&&(a.push({title:this.tc("overtime")}),a.push([this.extc("overtimeHoursExp","overtimeHours"),'<span id="overtimeHours">'+Number(c.overtimeHours).format(2)+"</span>h"]),a.push([this.extc("overtimeOCExp","overtimeOC"),'<span id="overtimeOC">'+Number(c.overtimeOC).format()+"</span>"]),d.hasWorkersCompensations&&(a.push([this.extc("workersProdBeforeOtExp","workersProdBeforeOt"),"<span>"+Number(c.workersProductivity).format(1)+"</span>%"]),a.push([this.extc("workersProdAfterOtExp","workersProdAfterOt"),'<span id="workersProdOt">'+(0==c.overtimeOC?this.tc("common:na"):Number(c.overtimeAdjProductivity).format(1)+"%")+"</span>"])),a.push([this.extc("otUnitCostIncExp","otUnitCostInc"),'<span id="otUnitCost">'+Number(c.directLaborCPUOtInc).format(2)+"</span>"])),a.push({title:this.tc("oc")}),d.hasWorkersCompensations?(a.push([this.extc("plannedOCNoChoverExp","plannedOC"),'<span id="plannedEffOC">'+Number(c.plannedOC).format()+"</span>"]),d.hasOvertime&&d.isJustInTime&&a.push([this.extc("plannedOCwithOtExp","plannedOCwithOt"),'<span id="plannedOCwithOt">'+Number(c.plannedOCwithOt).format()+"</span>"]),a.push([this.extc(d.hasOvertime?"workersProdOtExp":"workersProdExp",d.hasFactoryProductivity?"factoryProd":"workersProd"),"<span>"+Number(c.overtimeAdjProductivity).format(1)+"</span>%"]),a.push([this.extc(d.hasOvertime?"effOCOtExp":"effOCExp","effOC"),'<span id="effOC">'+Number(c.totalOC).format()+"</span>"]),a.push([this.extc("effOCUtilizedNoChoverExp","effOCUtilized"),'<span id="effOCUtilized">'+Number(c.productionOC).format()+"</span>"]),a.push([this.extc("effOCUtilizationExp","effOCUtilization"),'<span id="effOCUtilization">'+Number(c.productionOCPercent).format()+"</span>%"])):(d.hasOvertime&&d.isJustInTime?(a.push([this.tc("plannedOC"),'<span id="plannedEffOC">'+Number(c.plannedOC).format()+"</span>"]),a.push([this.tc("plannedOCwithOt"),'<span id="plannedOCwithOt">'+Number(c.plannedOCwithOt).format()+"</span>"])):a.push([this.tc("scheduledOC"),'<span id="effOC">'+Number(c.totalOC).format()+"</span>"]),a.push([this.tc("usedOC"),'<span id="effOCUtilized">'+Number(c.productionOC).format()+"</span>"]),a.push([this.tc("ocUtilization2"),'<span id="effOCUtilization">'+Number(c.productionOCPercent).format()+"</span>%"])),a.push({title:this.tc("excessCapacity")}),a.push([this.extc("unutilizedOCExp","unusedOC"),'<span id="unutilizedOC">'+Number(c.excessOC).format()+"</span>"]),a.push([this.extc("excessOCExp","excessOC"),'<span id="excessOC">'+Number(c.excessOCPercent).format()+"</span>%"]),a.push([this.extc("overheadCostExp","overheadCost"),'<span id="excessLabor">'+(Number(c.excessLabor)+Number(c.excessOverhead)).format()+"</span>"]),this.ocuTable=new DecisionTable(this.tc("ocUtilization"),"ocuTable",[{title:""},{title:"",align:"right"}],a,!0,"green"),this.tables.push(this.ocuTable)),d.isPull&&Number(c.totalOverhead)>0&&(a=[{title:this.tc("factoryOverhead")},[this.extc("operatingOverheadExp","operatingOverhead"),'<span id="operatingOverhead">'+Number(c.operatingOverhead).format()+"</span>"],[this.extc("ocChangeCostExp","ocChangeCost"),'<span id="ocChangeCost">'+Number(c.costToChangeOC).format()+"</span>"],[this.extc("totalOverheadExp","totalOverhead"),'<span id="totalOverhead">'+Number(c.totalOverhead).format()+"</span>"],{title:this.tc("prodOverhead")}],d.hasWorkersCompensations&&a.push([this.extc("plannedOCExp","plannedOC"),'<span id="plannedOC">'+Number(c.plannedOC).format()+"</span>"],[this.extc("workersProdExp",d.hasFactoryProductivity?"factoryProd":"workersProd"),"<span>"+Number(c.workersProductivity).format(1)+"</span>%"]),a.push([this.extc("effOCExp","effOC"),'<span id="effOC">'+Number(c.totalOC).format()+"</span>"],[this.extc("effOCUtilizedExp","effOCUtilized"),'<span id="effOCUtilized">'+Number(c.productionOC).format()+"</span>"],[this.extc("effOCUtilizationExp","effOCUtilization"),'<span id="effOCUtilization">'+Number(c.productionOCPercent).format()+"</span>%"],[this.extc("prodOverheadCostsExp","prodOverheadCosts"),'<span id="prodOverheadCosts">'+Number(c.productionOverhead).format()+"</span>"],{title:this.tc("choverOverhed")},[this.extc("lostDueChoverExp","lostDueChover"),'<span id="lostDueChover">'+Number(c.choverOC).format()+"</span>"],[this.extc("choverCapUtilizationExp","choverCapUtilization"),'<span id="choverCapUtilization">'+Number(c.choverOCPercent).format()+"</span>%"],[this.extc("choverOverheadCostsExp","choverOverheadCosts"),'<span id="choverOverheadCosts">'+Number(c.choverOverhead).format()+"</span>"],[this.extc("choverLaborExp","choverLabor"),'<span id="choverLabor">'+Number(c.choverLabor).format()+"</span>"],{title:this.tc("excessOverhead")},[this.extc("unutilizedOCExp","unutilizedOC"),'<span id="unutilizedOC">'+Number(c.excessOC).format()+"</span>"],[this.extc("excessOCExp","excessOC"),'<span id="excessOC">'+Number(c.excessOCPercent).format()+"</span>%"],[this.extc("excessOverheadCostsExp","excessOverheadCosts"),'<span id="excessOverheadCosts">'+Number(c.excessOverhead).format()+"</span>"],[this.extc("excessLaborExp","excessLabor"),'<span id="excessLabor">'+Number(c.excessLabor).format()+"</span>"]),this.oaTable=new DecisionTable(this.tc("overheadAllocation"),"oaTable",[{title:""},{title:"",align:"right"}],a,!0,"green"),this.tables.push(this.oaTable))},draw:function(){var t="";return this.charts="",this.noLabel=null,this.createTables(),0==this.tables.length?(this.noLabel=new DecisionLabel(this.service,"noLabel",this.tc("noProduction"),null,"green"),t+=this.noLabel.draw()):this.tables.forEach((function(e){t+=e.draw()})),t+"<br />"+this.charts},observe:function(){this.data.staticData,this.tables.forEach((function(t){t.observe()})),null!=this.noLabel&&(this.noLabel.observe(),this.noLabel.change("float","left")),this.placeCharts()},placeCharts:function(){var t,e,i=this.data.staticData,s="bschart_";if(i.isPull||i.isEasyPull){for(e=0;e<i.brandsForSale.length;e++)(t=i.brandsForSale[e]).active&&this.setChartData(t.brandID+"",s+t.brandID);for(s="bpchart_",e=0;e<i.brandsForProduction.length;e++)t=i.brandsForProduction[e],this.setChartData(t.teamID+"_"+t.brandID,s+t.teamID+"_"+t.brandID)}},setChartData:function(t,e){var i,s,a,n,r=t.split("_"),o=r.length>1,l=this.data.staticData,d=[this.tc("demand1"),this.tc("lostSales"),this.tc("production"),this.tc("inventory")];if(n=o?l.brandsForProduction.toLookUp("teamID","brandID")[r[0]][r[1]]:l.brandsForSale.toLookUp("brandID")[t],l.hasLogistics&&(o?(d[0]=this.tc("shipment"),d[1]=this.tc("unfilledShipment")):0!=n.contractID&&(d[2]=this.tc("delivery"))),Live.useSvg()){for(i=this.data.staticData.chartTemplate,j$.extend(i.data,{title:n.name.escapeHTML(),xAxis:this.tc("days"),yAxis:this.tc("units"),labels:d,x:[0],y:[[0,0,0,Number(n.startInventory)]],minX:0,minY:0,yLines:[Number(n.replenishmentPoint),Number(n.targetPoint)],saveUrl:this.st("common:saveChartURL"),saveName:"production-brand-"+t+"-q"+this.user.quarter()}),i.chartSettings.radius=0,a=0;a<n.days.length;a++)s=n.days[a],i.data.x[a+1]=Number(s.dayID),i.data.y[a+1]=[Number(s.demand),Number(s.lost),Number(s.produced),Number(s.inventory)];SvgCharts.BaseChart.setChartData(e,i)}else{for(j$("#"+e).html(""),(i=new LineChart(j$("#"+e)[0])).minX=0,i.minY=0,i.label=n.name.escapeHTML(),i.legend=!0,i.labelX=this.tc("days"),i.labelY=this.tc("units"),i.labels=[this.tc("demand1"),this.tc("lostSales"),this.tc("production"),this.tc("inventory")],i.data=[[0],[0],[0],[Number(n.startInventory)]],i.category=[0],a=0;a<n.days.length;a++)s=n.days[a],i.category[a+1]=Number(s.dayID),i.data[0][a+1]=Number(s.demand),i.data[1][a+1]=Number(s.lost),i.data[2][a+1]=Number(s.produced),i.data[3][a+1]=Number(s.inventory);i.yLines=[Number(n.replenishmentPoint),Number(n.targetPoint)],i.draw()}}})},10255:()=>{window.ManufacturingResultsRegional=Decision.extend({style:"padding: 10px 10px 0px 10px;",cssExplanExt:"-green",viewModeButtons:[],modifyModeButtons:[],initializeRegionsAvailable:function(){this.regionsAvailable=[]},addRegionAvailable:function(t){if(t){var e=this.data.staticData.regions.toLookUp("regionID");-1===this.regionsAvailable.indexOf(e[t])&&this.regionsAvailable.push(e[t])}},initSettings:function(){return{detailFilter:{regionID:0}}},createPcTable:function(t,e){var i=this.data.staticData,s=[{title:this.tc("brand")},{title:this.tc("unitsProduced"),align:"right"},{title:this.tc("material"),align:"right"},{title:this.tc("labor"),align:"right"},{title:this.tc("totOverhead"),align:"right"}];s.push({title:this.tc("average"),align:"right"});var a=[];if(i.selling)for(var n=0;n<e.length;n++){var r=e[n];if(r.active){var o=[Format.brandName(r.name.escapeHTML(),r.brandType),Number(r.unitsProduced).format(),Number(r.material).format(),Number(r.labor).format(),Number(r.overhead).format()];o.push(Number(r.prodCost).format()),a.push(o)}}i.producing&&a.length>0?(this.addRegionAvailable(t),this.pcTable=new DecisionTable(this.tc("prodCost"),"pcTable_"+t,s,a,!1,"green"),this.tables.push(this.pcTable)):this.pcTable=null},createIpuTable:function(t,e){var i=this.data.staticData,s=[{title:this.tc("brand")}],a=[this.tc("total")];i.hasZeroMaxEndingInventory||(s.push({title:this.tc("startInventory"),type:"number"}),a.push(0)),i.producing&&(s.push({title:this.tc("produced"),type:"number"}),a.push(0)),i.hasZeroMaxEndingInventory||(s.push({title:this.tc("totalInventory"),type:"number"}),a.push(0)),s.push({title:this.tc("netDemand"),type:"number"}),i.hasZeroMaxEndingInventory||s.push({title:this.tc("sold"),type:"number"}),s.push({title:this.tc("lost"),type:"number"}),i.hasZeroMaxEndingInventory?a.push(0,0):(s.push({title:this.tc("endInventory"),type:"number"}),a.push(0,0,0,0));for(var n=[],r=0;r<e.length;r++){var o=[],l=e[r];if(l.active){var d=Format.brandName(l.name.escapeHTML(),l.brandType);o.push(null);var c=[d],h=1;i.hasZeroMaxEndingInventory||(c.push(Number(l.startInventory)),o.push(null),a[h++]+=Number(l.startInventory)),i.producing&&(c.push(Number(l.unitsProduced)),o.push(null),a[h++]+=Number(l.unitsProduced)),i.hasZeroMaxEndingInventory||(c.push(Number(l.startInventory)+Number(l.unitsProduced)+Number(l.arrived)),o.push(null),a[h++]+=Number(l.startInventory)+Number(l.unitsProduced)+Number(l.arrived)),c.push(Number(l.netDemand)),i.hasZeroMaxEndingInventory||c.push(Number(l.sold)),c.push(Number(l.stockOuts)),a[h++]+=Number(l.netDemand),i.hasZeroMaxEndingInventory||(a[h++]+=Number(l.sold)),a[h++]+=Number(l.stockOuts),i.hasZeroMaxEndingInventory?o.push(null,null):(c.push(Number(l.endInventory)),o.push(null,null,null,null),a[h++]+=Number(l.endInventory)),n.push({values:c,actions:o})}}i.selling&&n.length>0?(n.push({values:a,type:"total"}),this.addRegionAvailable(t),this.ipuTable=new DecisionTable(i.hasZeroMaxEndingInventory?this.tc("ipUnitsZeroInventory"):this.tc("ipUnits"),"ipuTable_"+t,s,n,!1,"green"),this.tables.push(this.ipuTable)):this.ipuTable=null},createOcuTable:function(){for(var t=this.data.staticData,e=[],i=[{title:""}],s=0,a=this.regionsAvailable.length;s<a;++s){var n=this.regionsAvailable[s];n.overhead.regionID=n.regionID,e.push(n.overhead),i.push({title:n.regionName,align:"right"})}var r=[];return t.hasOvertime&&t.isJustInTime&&(r.push({title:this.tc("overtime")}),r.push(this.getOcuRow(this.extc("overtimeHoursExp","overtimeHours"),"overtimeHours",e,"regionID","overtimeHours",2,"h")),r.push(this.getOcuRow(this.extc("overtimeOCExp","overtimeOC"),"overtimeOC",e,"regionID","overtimeOC")),t.hasWorkersCompensations&&(r.push(this.getOcuRow(this.extc("workersProdBeforeOtExp","workersProdBeforeOt"),"workersProductivity",e,"regionID","workersProductivity",1,"%")),r.push(this.getOcuRow(this.extc("workersProdAfterOtExp","workersProdAfterOt"),"overtimeAdjProductivity",e,"regionID","overtimeAdjProductivity",1,"%",0,this.tc("common:na")))),r.push(this.getOcuRow(this.extc("otUnitCostIncExp","otUnitCostInc"),"otUnitCost",e,"regionID","directLaborCPUOtInc",2))),r.push({title:this.tc("oc")}),t.hasWorkersCompensations?(r.push(this.getOcuRow(this.extc("plannedOCNoChoverExp","plannedOC"),"plannedOC",e,"regionID","plannedOC")),t.hasOvertime&&t.isJustInTime&&r.push(this.getOcuRow(this.extc("plannedOCwithOtExp","plannedOCwithOt"),"plannedOCwithOt",e,"regionID","plannedOCwithOt")),r.push(this.getOcuRow(this.extc(t.hasOvertime?"workersProdOtExp":"workersProdExp","workersProd"),"workersProd",e,"regionID","overtimeAdjProductivity",1,"%")),r.push(this.getOcuRow(this.extc(t.hasOvertime?"effOCOtExp":"effOCExp","effOC"),"totalOC",e,"regionID","totalOC")),r.push(this.getOcuRow(this.extc("effOCUtilizedNoChoverExp","effOCUtilized"),"effOCUtilized",e,"regionID","productionOC")),r.push(this.getOcuRow(this.extc("effOCUtilizationExp","effOCUtilization"),"effOCUtilization",e,"regionID","productionOCPercent"))):(t.hasOvertime&&t.isJustInTime?(r.push(this.getOcuRow(this.extc("plannedOCNoChoverExp","plannedOC"),"plannedOC",e,"regionID","plannedOC")),r.push(this.getOcuRow(this.extc("plannedOCwithOtExp","plannedOCwithOt"),"plannedOCwithOt",e,"regionID","plannedOCwithOt"))):r.push(this.getOcuRow(this.tc("scheduledOC"),"totalOC",e,"regionID","totalOC")),r.push(this.getOcuRow(this.tc("usedOC"),"effOCUtilized",e,"regionID","productionOC")),r.push(this.getOcuRow(this.tc("ocUtilization2"),"effOCUtilization",e,"regionID","productionOCPercent",0,"%"))),r.push({title:this.tc("excessCapacity")}),r.push(this.getOcuRow(this.extc("unutilizedOCExp","unusedOC"),"unutilizedOC",e,"regionID","excessOC")),r.push(this.getOcuRow(this.extc("excessOCExp","excessOC"),"excessOC",e,"regionID","excessOCPercent",0,"%")),r.push(this.getOcuRow(this.extc("overheadCostExp","overheadCost"),"excessLabor",e,"regionID","excessCost")),this.ocuTable=new DecisionTable(this.tc("ocUtilization"),"ocuTable",i,r,!1,"green"),this.ocuTable.draw()},getOcuRow:function(t,e,i,s,a,n,r,o,l){n=n||0,r=r||"",o=o||null,l=l||null;for(var d,c,h=[t],p=0,u=i.length;p<u;++p)d=i[p][s],c=i[p][a],c=null!==o&&null!==l&&o==c?l:Number(c).format(n)+r,h.push('<span id="'+e+"_"+d+'">'+c+"</span>");return h},createCumulativeTables:function(t){this.createIpuTable(0,t.brandsForSale),this.createPcTable(0,t.brandsForSale)},createRegionalTables:function(t){for(var e=0;e<t.regions.length;e++){var i=t.regions[e];this.createIpuTable(i.regionID,i.brandsForSale),this.createPcTable(i.regionID,i.brandsForSale)}},createTables:function(){var t=this.data.staticData;this.tables=[],this.createCumulativeTables(t),this.createRegionalTables(t)},draw:function(){var t=this.data.staticData,e="";return this.charts="",this.noLabel=null,this.initializeRegionsAvailable(),this.createTables(),0==this.tables.length?(this.noLabel=new DecisionLabel(this.service,"noLabel",this.tc("noProduction"),null,"green"),e+=this.noLabel.draw()):(e+=this.createRegionSelector(t),this.tables.forEach((function(t){e+=t.draw()})),e+="<hr />",(t.isEasyPush||t.isJustInTime)&&(e+=this.createOcuTable())),e+"<br />"+this.charts},createRegionSelector:function(){var t='<h2 style="font-size: 120%; font-weight: bold"> '+this.tc("regionalDetail")+" </h2>"+this.com("combobox","regionFilter",this.settings.detailFilter.regionID,{label:this.tc("common:region")},this.regionsAvailable,"regionID","regionName",0,this.tc("allRegions"));return this.keepEnabled.push("regionFilter"),this.regionSelectorLabel=new DecisionLabel(this.service,"regionSelectorLabel",t),this.regionSelectorLabel.draw()},observeRegionSelector:function(){var t=j$("#regionFilter");t.on("change",function(t){this.settings.detailFilter.regionID=j$(t).val(),this.toggleFilteredTables()}.bind(this,t))},showRegionalTables:function(t){j$("#ipuTable_"+t).parent().show(),j$("#pcTable_"+t).parent().show()},hideRegionalTables:function(t){j$("#ipuTable_"+t).parent().hide(),j$("#pcTable_"+t).parent().hide()},toggleFilteredTables:function(){for(var t=this.settings.detailFilter.regionID,e=0;e<this.regionsAvailable.length;e++){var i=this.regionsAvailable[e];i.regionID==t?this.showRegionalTables(i.regionID):this.hideRegionalTables(i.regionID)}0==t?this.showRegionalTables(0):this.hideRegionalTables(0)},observe:function(){this.data.staticData,null!=this.noLabel?(this.noLabel.observe(),this.noLabel.change("float","left")):(this.toggleFilteredTables(),this.regionSelectorLabel.observe(),this.regionSelectorLabel.change("float","left"),this.observeRegionSelector(),this.tables.forEach((function(t){t.observe()})))}})},85907:()=>{window.MarketShare=Decision.extend({viewModeButtons:[],modifyModeButtons:[],groupConnectors:[],style:"padding: 10px 10px 0px 10px;",draw:function(){var t,e,i,s,a,n,r,o,l=this.data.staticData,d="",c=l.teams.length*(l.segments.length+1)*11+90,h=[{title:this.tc("company"),header:!0}],p=[{title:this.tc("company"),header:!0}],u=[];for(this.td=0,this.maxseg=0,this.tds=[],this.tables=[],d+='<div style="width: 350px; float: left; margin: 2px;">',d+='<div id="graphDemandTotal" style="width: 100%; height: 200px;margin-bottom: 2px;"></div>',d+='<div id="graphDemand" style="width: 100%; height: '+c+'px;"></div></div>',d+='<div style="width: 350px; float: left; margin: 2px;">',t=0,e=l.segments.length;t<e;++t)i=l.segments[t],d+='<div id="graphDemandBySeg_'+t+'" style="width: 100%; height: 200px; margin-bottom: 2px;"></div>',p.push({title:Format.segmentName(i.name,i.shortName),align:"right",type:"number"}),h.push({title:Format.segmentName(i.name,i.shortName),align:"right",type:"number",decimals:"2",unit:"%"}),this.tds.push(0);for(d+="</div>",p.push({title:this.tc("totalDemand"),align:"right",type:"number",dataClass:"total"}),h.push({title:this.tc("totalMarketShare"),align:"right",type:"number",decimals:"2",unit:"%",dataClass:"total"}),d+='<div style="clear:both"><br /></div>',s=0,a=l.teams.length;s<a;++s){for(r=[(n=l.teams[s]).companyName.escapeHTML()],o=0,t=0,e=n.segments.length;t<e;++t)i=n.segments[t],r.push(i.demand),o+=Number(i.demand),this.tds[t]+=Number(i.demand);this.td+=o,r.push(o),u.push(r)}for(r=[this.tc("total")],t=0,e=l.segments.length;t<e;++t)this.maxseg<this.tds[t]&&(this.maxseg=this.tds[t]),r.push(this.tds[t]);for(r.push(this.td),u.push({values:r,type:"total"}),this.dTable=new DecisionTable(this.tc("marketDemand"),"mdemand",p,u),this.tables.push(this.dTable),d+='<div id="tables">'+this.dTable.draw(),u=[],s=0,a=l.teams.length;s<a;++s){for(r=[(n=l.teams[s]).companyName.escapeHTML()],o=0,t=0,e=n.segments.length;t<e;++t)i=n.segments[t],r.push((0!=this.tds[t]?100*i.demand/this.tds[t]:0).format(2)),o+=Number(i.demand);r.push((0!=this.td?100*o/this.td:0).format(2)),u.push(r)}return this.sTable=new DecisionTable(this.tc("marketShare"),"mshare",h,u),this.tables.push(this.sTable),d+(this.sTable.draw()+"</div>")},observe:function(){var t,e=this.data.staticData;for(this.sTable.element(),this.dTable.element(),this.data.staticData.segments.length,this.sTable.observe(),this.dTable.observe(),DecisionTable.setMaxColWidths(this.tables,0),this.setChartData("d","graphDemand"),this.setChartData("t","graphDemandTotal"),t=e.segments.length-1;t>=0;t--)this.setChartData(t,"graphDemandBySeg_"+t);this.sTable.makeTableSortable(),this.dTable.makeTableSortable()},setChartData:function(t,e){var i,s,a,n,r,o,l,d,c,h,p=this.data.staticData,u=[];if(Live.useSvg())switch(t){case"t":for(d=p.pieTemplate,j$.extend(d.data,{title:this.tc("grTotalMarketShare"),xAxis:"",yAxis:"",labels:[],x:[0],y:[[]],saveUrl:this.st("common:saveChartURL"),saveName:"market-share-q"+this.user.quarter(),image:{url:"",hAlign:"center",vAlign:"center",margin:0,scale:1}}),d.chartSettings.radius=100,i=0,s=p.teams.length;i<s;++i){for(l=0,a=0,n=(o=p.teams[i]).segments.length;a<n;++a)l+=Number(o.segments[a].demand);d.data.labels[i]=o.companyName.escapeHTML(),d.data.y[0][i]=l}c=this.groupConnectors.shareDemand,h=SvgCharts.BaseChart.setChartData(e,d,c),this.groupConnectors.shareDemand=h.connector;break;case"d":for(d=p.barTemplate,j$.extend(d.data,{title:this.tc("marketDemand"),xAxis:"",yAxis:"",labels:[],x:[],y:[],minY:0,saveUrl:this.st("common:saveChartURL"),saveName:"market-demand-q"+this.user.quarter()}),d.data.x.push(this.tc("total")),d.data.y.push([]),a=p.segments.length-1;a>=0;--a)d.data.x.push(p.segments[a].name),d.data.y.push([]),u[a]=0;for(i=0,s=p.teams.length;i<s;++i){for(o=p.teams[i],d.data.labels[i]=o.companyName.escapeHTML(),l=0,a=(n=p.segments.length)-1;a>=0;--a)d.data.y[n-a][i]=Number(o.segments[a].demand),l+=d.data.y[n-a][i];d.data.y[0][i]=l}d.data.dsY=4,c=this.groupConnectors.shareDemand,h=SvgCharts.BaseChart.setChartData(e,d,c),this.groupConnectors.shareDemand=h.connector;break;default:for(r=p.segments[t],d=p.pieTemplate,j$.extend(d.data,{title:r.name,xAxis:"",yAxis:"",labels:[],x:[0],y:[[]],saveUrl:this.st("common:saveChartURL"),saveName:"market-share-"+r.shortName.toLowerCase()+"-q"+this.user.quarter(),image:{url:Path.getPath(this.st("common:chartsFolder"),r.shortName.toLowerCase(),".svg"),scale:1.3,hAlign:"center",vAlign:"center",margin:0,width:35,height:35}}),d.chartSettings.radius=Math.max(this.maxseg>0?this.tds[t]/this.maxseg*100:0,30),i=0,s=p.teams.length;i<s;++i)o=p.teams[i],d.data.labels[i]=o.companyName.escapeHTML(),d.data.y[0][i]=Number(o.segments[t].demand);SvgCharts.BaseChart.setChartData(e,d)}else switch(j$("#"+e).css({opacity:Live.opacity}),t){case"t":for((d=new PieChart(e)).label=this.tc("grTotalMarketShare"),d.labels=[],d.data=[],d.highlight=[],d.legendCharLimit=15,i=0,s=p.teams.length;i<s;++i){for(l=0,a=0,n=(o=p.teams[i]).segments.length;a<n;++a)l+=Number(o.segments[a].demand);d.labels[i]=o.companyName.escapeHTML(),d.data[i]=l,this.isMyTeam(o.teamID)&&d.highlight.push(i)}d.showValues=!0,d.height3d=20,d.angle3d=Math.PI/4,d.radius=70,d.draw();break;case"d":for((d=new VerticalBarChart(e)).label=this.tc("marketDemand"),d.showLabels=!1,d.showValues=!1,d.legend=!1,d.margin.right=4,d.legendCharLimit=15,d.minY=0,d.labelX="",d.labelY="",d.labels=[],d.data=[],d.category=[],d.category.push(this.tc("total")),a=p.segments.length-1;a>=0;--a)d.category.push(p.segments[a].name),u[a]=0;for(i=0,s=p.teams.length;i<s;++i){for(o=p.teams[i],d.labels[i]=o.companyName.escapeHTML(),d.data[i]=[],l=0,a=(n=p.segments.length)-1;a>=0;--a)d.data[i][n-a]=Number(o.segments[a].demand),l+=d.data[i][n-a],u[a]+=d.data[i][n-a];d.data[i][0]=l}d.dsy=4,d.draw();break;default:for(r=p.segments[t],(d=new PieChart(e,Format.segmentName(!1,r.shortName),{label:{top:0,left:0,width:30,height:30}})).label={text:r.name,spriteID:"label"},d.labels=[],d.data=[],d.highlight=[],d.showValues=!0,d.legendCharLimit=15,i=0,s=p.teams.length;i<s;++i)o=p.teams[i],d.labels[i]=o.companyName.escapeHTML(),d.data[i]=Number(o.segments[t].demand),this.isMyTeam(o.teamID)&&d.highlight.push(i);d.height3d=20,d.angle3d=Math.PI/4,d.radius=Math.max(this.maxseg>0?this.tds[t]/this.maxseg*70:0,15)}}})},50606:(t,e,i)=>{"use strict";i(85907),window.MarketShareReseller=MarketShare.extend({})},14829:()=>{window.MarketShareSupplier=Decision.extend({viewModeButtons:[],modifyModeButtons:[],groupConnectors:[],style:"padding: 10px 10px 0px 10px;",draw:function(){var t,e,i=this.data.staticData,s=11*i.teams.length+90,a=[{title:this.tc("company")},{title:this.tc("marketDemand"),align:"right"},{title:this.tc("marketShare"),align:"right"}],n=[],r='<div style="width: 330px; float: left; margin: 2px;">';for(r+='<div id="graphDemand" style="width:330px; height:'+s+'px; margin-bottom:2px;"></div>',r+='</div><div style="width: 330px; float: left; margin: 2px;">',r+='<div id="graphShare" style="width:330px; height:200px;"></div></div><div style="clear:both"><br /></div>',e=0;e<i.teams.length;e++)t=i.teams[e],n.push([t.companyName.escapeHTML(),Format.integer(t.demand),Format.real(i.totalDemand>0?t.demand/i.totalDemand*100:0)+"%"]);return n.push({values:[this.tc("total"),Format.integer(i.totalDemand),null],type:"total"}),this.dTable=new DecisionTable(this.tc("marketDemandAndShare"),"mdemand",a,n),r+'<div id="tables">'+this.dTable.draw()+"</div>"},observe:function(){this.data.staticData,this.dTable.observe(),this.setChartData("d","graphDemand"),this.setChartData("s","graphShare")},setChartData:function(t,e){var i,s,a,n,r,o=this.data.staticData;if(Live.useSvg())switch(t){case"s":for(a=o.pieTemplate,j$.extend(a.data,{title:this.tc("marketShare"),xAxis:"",yAxis:"",labels:[],x:[0],y:[[]],saveUrl:this.st("common:saveChartURL"),saveName:"supplier-market-share-q"+this.user.quarter(),image:{url:"",hAlign:"center",vAlign:"center",margin:0,scale:1}}),a.chartSettings.radius=100,s=0;s<o.teams.length;s++)i=o.teams[s],a.data.labels[s]=i.companyName,a.data.y[0][s]=Number(i.demand);n=this.groupConnectors.shareDemand,r=SvgCharts.BaseChart.setChartData(e,a,n),this.groupConnectors.shareDemand=r.connector;break;case"d":for(a=o.barTemplate,j$.extend(a.data,{title:this.tc("marketDemand"),xAxis:"",yAxis:"",labels:[],x:[0],y:[[]],minY:0,saveUrl:this.st("common:saveChartURL"),saveName:"supplier-market-demand-q"+this.user.quarter()}),s=0;s<o.teams.length;s++)i=o.teams[s],a.data.labels[s]=i.companyName,a.data.y[0][s]=Number(i.demand);a.data.dsY=4,n=this.groupConnectors.shareDemand,r=SvgCharts.BaseChart.setChartData(e,a,n),this.groupConnectors.shareDemand=r.connector}else switch(j$("#"+e).css({opacity:Live.opacity}),t){case"s":for((a=new PieChart(e)).label=this.tc("marketShare"),a.labels=[],a.data=[],a.highlight=[],a.legendCharLimit=15,s=0;s<o.teams.length;s++)i=o.teams[s],a.labels[s]=i.companyName,a.data[s]=Number(i.demand),this.isMyTeam(i.teamID)&&a.highlight.push(s);a.showValues=!0,a.height3d=20,a.angle3d=Math.PI/4,a.radius=70,a.draw();break;case"d":for((a=new VerticalBarChart(e)).label=this.tc("marketDemand"),a.showLabels=!1,a.showValues=!1,a.minY=0,a.labelX="",a.labelY="",a.labels=[],a.data=[],a.category=[""],s=0;s<o.teams.length;s++)i=o.teams[s],a.labels[s]=i.companyName,a.data[s]=[Number(i.demand)];a.dsy=4,a.draw()}}})},26116:(t,e,i)=>{"use strict";i(72187),window.MarketSize=CustomerNeeds.extend({topItems:8,saveName:"market-potential",chartRelativeToMax:!0,getFilter:function(){var t=this.data.staticData;return 1==t.regions.length?"":(this.filter=new MultiLevelFilter(this.tc("by_region"),"reg_filter","blue",this.settings.filter,this.redrawTables.bind(this),t.regions,"regionID","name",this.tc("region")),this.filter.draw())},checkFilter:function(t){return this.data.staticData.regions.toLookUp("regionID")[t.regionID].checked}})},73533:(t,e,i)=>{"use strict";i(72187),window.MediaPreference=CustomerNeeds.extend({topItems:8,saveName:"media-preference"})},42342:()=>{window.Mission=Decision.extend({style:"padding: 10px 10px 0px 10px",hideButtonsInLastQuarter:!1,sendCalculate:!1,read:function(){this.data.decisions.mission=this.value("mission")},write:function(){this.setValue("mission",this.data.decisions.mission)},writeErrors:function(){this.writeError("mission",this.data.errors.decisions.mission,"center right",!0,3)},draw:function(){return this.lbl=new DecisionLabel(this.service,"mission",this.tcLbl("mission")+"<br />"+this.com("memo","mission",this.data.decisions.mission,{rows:15,cols:100})),this.lbl.draw()},observe:function(){this.lbl.observe(),this.lbl.change("float","left")},drawSOD:function(){this.setValue(this.pfxSod+this.service,this.data.decisions.mission.escapeHTML())}})},97196:()=>{window.ModifyAd=Decision.extend({viewModeButtons:["restoreBrand","deleteAd","modify","goBack"],modifyModeButtons:["save","cancel"],groupOrder:[[1,2,3,4],[5,6,7,8,9,10,11,12,13,14]],viewedAdID:-1,defaultFeatures:[],defaultRanks:[],style:"padding: 0px;",sendErrors:!1,sendCalculate:!1,features:[],ranks:[],rankSlots:[],deleting:!1,copying:!1,restoring:!1,showListOnSuccess:!1,load:function(){this.viewedAdID=-1;var t=ServiceFactory.callService("ModifyAd","view",[this.user,!0,!0,!1,!1],!1);if(this.handleErrors(t)){this.setData(t.result);var e=0,i=0,s=0,a=[];this.groupOrder=[[],[]];for(var n=0,r=this.data.staticData.adGroups.length;n<r;++n)0==this.data.staticData.adGroups[n].multiSelect?a[n]=this.data.staticData.adGroups[n].adFeatures.length+1:a[n]=this.data.staticData.adGroups[n].adFeatures.length,e+=a[n];for(n=0,r=this.data.staticData.adGroups.length;n<r;++n)s=(i+=a[n]/2)<e/2?0:1,i+=a[n]/2,this.groupOrder[s].push(this.data.staticData.adGroups[n].groupID);if(t=ServiceFactory.callService("DesignAd","view",[this.user,!1,!1,!1,!1],!1),this.handleErrors(t)){for(var o=0;o<t.result.decisions.adFeatures.length;o++)t.result.decisions.adFeatures[o].selected&&(this.defaultFeatures.push(t.result.decisions.adFeatures[o].featureID),this.defaultRanks[t.result.decisions.adFeatures[o].priority]=t.result.decisions.adFeatures[o].featureID);return!0}}return!1},serviceName:function(){return 0==this.viewedAdID||this.viewedAdID>0&&this.copying?"DesignAd":this.viewedAdID>0&&this.deleting?"DeleteAd":this.viewedAdID>0&&this.restoring?"RestoreAd":"ModifyAd"},view:function(){var t=ServiceFactory.callService("ModifyAd","view",[this.user,!1,!0,!1,!1],!1);return!!this.handleErrors(t)&&(this.data.dynamicData=t.result.dynamicData,this.data.errors=null,this.showListOnSuccess&&(this.viewedAdID=-1,this.deleting=!1,this.copying=!1,this.showListOnSuccess=!1),this.write(),this.writeAllErrors(),this.writeCalculate(),!0)},deleteAd:function(){this.decisions={adID:this.viewedAdID};var t=this.save();return t&&(this.deleting=!1),t},goBack:function(){var t;if(this.inModifyMode)return this.showMessages=!1,(t=this.cancel())&&(this.deleting=!1),this.showMessages=!0,t;this.switchAd(-1,!1)},restoreAd:function(){this.decisions={adID:this.viewedAdID};var t=this.save();return t&&(this.restoring=!1),t},read:function(){if(this.viewedAdID>=0){for(var t=[],e=0;e<this.data.staticData.adGroups.length;e++){var i=this.data.staticData.adGroups[e];if(0!=i.adFeatures.length)for(var s=0;s<i.adFeatures.length;s++){var a=i.adFeatures[s],n=this.ranks.indexOf(a.featureID)+1;i.multiSelect?t.push({featureID:a.featureID,priority:n,selected:this.value("af_"+a.featureID)}):a.featureID==this.data.staticData.mentionBrandNameID?t.push({featureID:a.featureID,priority:n,selected:this.value("brandID")>0}):t.push({featureID:a.featureID,priority:n,selected:this.value("ag_"+i.groupID+"_"+a.featureID)})}}this.data.decisions={adName:this.value("daName"),brandID:this.value("brandID"),adFeatures:t},this.viewedAdID>0&&(this.data.decisions.adID=this.viewedAdID)}},write:function(){var t,e,i,s,a=null;if(this.viewedAdID>=0){if(0==this.viewedAdID)t="",e=0,i=this.defaultFeatures,s=this.defaultRanks,this.showButtons(["save","cancel"]),this.hideButtons(["deleteAd","modify","goBack"]);else{for(var n=0;n<this.data.dynamicData.allAds.length;n++)if(this.data.dynamicData.allAds[n].adID==this.viewedAdID){a=this.data.dynamicData.allAds[n];break}null==a?this.viewedAdID=-1:(t=a.adName,e=a.brandID,i=[],s=[],a.adFeatures.forEach((function(t){i.push(t.featureID),s[t.priority-1]=t.featureID})),this.deleting?(this.showButtons(["deleteAd","goBack"]),this.hideButtons(["modify","save","cancel"])):this.copying?(this.viewedAdID=0,this.showButtons(["save","cancel"]),this.hideButtons(["deleteAd","goBack","modify"])):(this.showButtons(["modify","goBack","save","cancel"]),this.hideButtons(["deleteAd"]),this.inModifyMode?this.disableButtons(["modify","goBack"]):this.isCurrentQuarter()&&"undefined"!=typeof Engine?this.disableButtons(["save","cancel"]):this.hideButtons(["modify","save","cancel"])))}if(this.viewedAdID>=0){this.copying?this.setValue("daName",this.tc("copyOf",{NAME:t})):this.setValue("daName",t),this.setValue("brandID",e),this.features=i;for(var r=[],o=0;o<this.data.staticData.adGroups.length;o++){var l=this.data.staticData.adGroups[o];if(0!=l.adFeatures.length){for(var d=!1,c=0;c<l.adFeatures.length;c++){var h=l.adFeatures[c],p=i.indexOf(h.featureID)>-1;p&&(d=!0,r[h.featureID]=h.featureName),l.multiSelect?this.setValue("af_"+h.featureID,p):h.featureID==this.data.staticData.mentionBrandNameID?d=!0:this.setValue("ag_"+l.groupID+"_"+h.featureID,p?h.featureID:0)}l.multiSelect||d||this.setValue("ag_"+l.groupID+"_0",0)}}this.ranks=[],this.resetRankSlots();for(var u=0;u<s.length;u++)this.addFeature(r[s[u]],s[u]);for(u=s.length;u<this.data.staticData.maxAdFeatures;u++)this.setRankSlotInactive(u,!0);j$("#list").hide(),j$("#one").show(),this.inModifyMode&&!this.deleting&&j$("#daName").focus()}}else{j$("#eList > *").off();var g="";for(n=0;n<this.data.dynamicData.allAds.length;n++)g+=this.drawListItem(this.data.dynamicData.allAds[n].adID,this.data.dynamicData.allAds[n].adName);for(j$("#eList").html(""!=g?g:this.tc("noAds")),n=0;n<this.data.dynamicData.allAds.length;n++)a=this.data.dynamicData.allAds[n],j$("#view_"+a.adID).on("click",this.switchAd.bind(this,a.adID,!1)),this.isCurrentQuarter()&&"undefined"!=typeof Engine?(j$("#delete_"+a.adID).on("click",this.switchAd.bind(this,a.adID,!0)),this.data.dynamicData.newDesignAllowed?j$("#copy_"+a.adID).css({opacity:Live.opacity,cursor:"pointer"}).on("click",this.switchAd.bind(this,a.adID,!1,!0)):j$("#copy_"+a.adID).css({opacity:Live.opacity/2,cursor:"default"}).off()):(j$("#delete_"+a.adID).css({opacity:Live.opacity/2,cursor:"default"}),j$("#copy_"+a.adID).css({opacity:Live.opacity/2,cursor:"default"}));this.hideButtons(),j$("#one").hide(),j$("#list").show(),this.isCurrentQuarter()&&"undefined"!=typeof Engine&&this.data.dynamicData.newDesignAllowed?j$("#da_new").off().css({opacity:Live.opacity,cursor:"pointer"}).on("click",this.switchAd.bind(this,0,!1)):j$("#da_new").css({opacity:Live.opacity/2,cursor:"default"}).off()}},modify:function(){var t=this._super();return t&&this.viewedAdID<0&&(this.cancel(),new AlertOverlay("daDeleted",this.tc("deletedAd"),[{id:"daDeletedOK",label:this.tc("ok"),click:j$.proxy(this.endOverlay,this)}],"absolute","60",j$("#decision")).show()),t},writeErrors:function(){null!=this.data.errors?this.writeError("daName",this.data.errors.decisions.adName,"center right"):this.writeError("daName",null)},switchAd:function(t,e,i){if(this.setErrors(null),this.viewedAdID=t,this.deleting=!1,this.copying=!1,0==t){if(!this.modify())return this.viewedAdID=-1,!1;this.showListOnSuccess=!0}else if(e){if(this.deleting=!0,!this.modify())return this.viewedAdID=-1,this.deleting=!1,!1;this.disable(),this.showListOnSuccess=!0}else if("boolean"==typeof i&&i){if(this.copying=!0,!this.modify())return this.viewedAdID=-1,this.copying=!1,!1;this.showListOnSuccess=!0}else this.write();this.writeAllErrors(),this.resizeContent()},drawListItem:function(t,e){return'<div style="width:525px; margin-top:3px; padding:10px 5px 10px 5px; border:1px solid #FEE585; background:#FFFFFF; font-weight:bold;" id="da_'+t+'"><div style="float:left; width:295px;"><div style="float:right; background:#ffffff; cursor:pointer;" id="view_'+t+'">'+(this.isCurrentQuarter()&&"undefined"!=typeof Engine?this.tc("viewModify"):this.tc("view"))+' <img src="'+Path.getPath(this.st("common:decisionsFolder"),"arrow",".png")+'" alt="" style="border: 0px;" /></div>'+e.escapeHTML()+'</div><div style="float:left; margin-left:35px; background:#ffffff; cursor:pointer;" id="delete_'+t+'">'+this.tc("delete")+' <img src="'+Path.getPath(this.st("common:decisionsFolder"),"arrow",".png")+'" alt="" style="border: 0px;" /></div><div style="float:right; background:#ffffff; cursor:pointer;" id="copy_'+t+'">'+this.tc("copyToCreateNew")+' <img src="'+Path.getPath(this.st("common:decisionsFolder"),"arrow",".png")+'" alt="" style="border: 0px;" /></div><div style="clear:both;"></div></div>'},drawList:function(){return'<div style="padding:15px 0px 0px 10px; width:300px; border:0px solid red;"><div style="float:left; font-weight:bold;">'+this.tc("yourAds")+'</div><div style="float:right; background:#ffffff; font-weight:bold; cursor:pointer;" id="da_new">'+this.tc("createNew")+' <img src="'+Path.getPath(this.st("common:decisionsFolder"),"arrow",".png")+'" alt="" style="border:0px;" /></div><div style="clear:both;"></div></div><div style="margin: 5px 0px 0px 10px;" id="eList"></div>'},drawAd:function(){for(var t,e=this.data.staticData.adGroups.toLookUp("groupID"),i='<div id="modifyABtopBar" class="modifyABtopBar">'+this.tcLbl("adName")+" "+this.com("edit","daName","",{maxlength:this.data.staticData.maxNameLength,style:"padding:0px 2px 0px 2px;"})+"</div>",s='<div id="adDesignSlots"><div style="font-weight:bold;">'+this.tc("priorities")+'</div><ul id="daPriorities" class="clearUl" style="overflow:auto;padding:0px;margin:0;">',a=0;a<this.data.staticData.maxAdFeatures;a++)(h=14-a)<7&&(h=7),s+='<li class="slot" id="slotcont_'+a+'" style="height: '+(o=35-3*a)+"px; font-weight: bold; font-size:"+h+'px; padding: 1px 3px 1px 3px; margin: 2px 0px 2px 0px; border: 1px solid #da8172; background: #f7eeec; cursor: pointer; width: 96%;">'+(a+1)+'. <span id="slot_'+a+'"></span></li>';s+="</ul></div>",this.lPri=new DecisionLabel(this.service,"priorities",s,"","wooden",""),i+='<div id="prioritiesTab" style="float:left; width:35%;">'+this.lPri.draw()+"</div>";for(var n="",r=0;r<this.groupOrder.length;r++){n+='<div style="'+(r<this.groupOrder.length?"float:left; ":"")+'width:50%;">';for(var o=0;o<this.groupOrder[r].length;o++)if(void 0!==e[this.groupOrder[r][o]]){var l=e[this.groupOrder[r][o]];if(0!=l.adFeatures.length){n+='<div class="modifyABBox" style="margin:2px 0px 2px '+(r>0?2:0)+'px;">',""!=l.groupName&&(n+='<div class="modifyABBoxTitle">'+l.groupName+"</div>");for(var d="",c=!1,h=0;h<l.adFeatures.length;h++){var p=l.adFeatures[h];l.multiSelect?t=this.com("checkbox","af_"+p.featureID,!1)+'<span style="margin-left:2px;">'+p.featureName+"</span>":p.featureID==this.data.staticData.mentionBrandNameID?(c=!0,t=p.featureName+'<div style="width:5px;"></div>'+this.com("combobox","brandID",0,{},this.data.dynamicData.allBrands,"brandID","brandName",0,this.tc("none"))):t=this.com("radio","ag_"+l.groupID,0,{},p.featureID)+'<span style="margin-left:2px;">'+p.featureName+"</span>",d+='<div id="comps_'+p.featureID+'" style="margin-top:2px;">'+t+"</div>"}l.multiSelect||c||(n+="<div>"+this.com("radio","ag_"+l.groupID,0,{},0)+'<span style="margin-left:2px;">'+this.tc("none")+"</span></div>"),n+=d,n+="</div>"}}n+="</div>"}return n+='<div style="clear:both;"></div>',this.lBox=new DecisionLabel(this.service,"box",n,"","blue",""),i+'<div id="box_0" style="float:left; width:64.5%;">'+this.lBox.draw()+"</div>"},draw:function(){return this.buttonCaptions.deleteAd=this.tc("delete"),this.buttonCaptions.goBack=this.tc("back"),'<div id="list" style="display: none;">'+this.drawList()+'</div><div id="one" style="display: none;">'+this.drawAd()+"</div>"},issetFeature:function(t){return this.ranks.indexOf(t)>-1},resetRankSlots:function(){j$("#daPriorities").sortable("disable"),j$('[id^="slot_"]').html(""),j$('[id^="slotcont_"]').css({opacity:.4,cursor:""}),this.rankSlots=[]},setRankSlotActive:function(t){this.rankSlots[t]=j$("#slotcont_"+t),this.inModifyMode&&!this.deleting&&(j$("#daPriorities").sortable("enable"),this.rankSlots[t].css({cursor:"move"})),this.rankSlots[t].removeClass("unsortable").css({opacity:Live.opacity})},setRankSlotInactive:function(t,e){j$("#slot_"+t).html(""),j$("#slotcont_"+t).addClass("unsortable").css({opacity:.4}),this.inModifyMode&&!this.deleting&&j$("#slotcont_"+t).css({cursor:"not-allowed"})},changeFeature:function(t,e,i){for(var s,a=-1,n=0;n<this.data.staticData.adGroups.length;n++)if(this.data.staticData.adGroups[n].groupID==i){s=this.data.staticData.adGroups[n].adFeatures;for(var r=0;r<s.length;r++)if(-1!=this.ranks.indexOf(s[r].featureID)){a=this.ranks.indexOf(s[r].featureID);break}}return-1!=a?(j$("#slot_"+a).html(t),this.ranks[a]=e,!0):this.addFeature(t,e)},addFeature:function(t,e){if(this.ranks.length<this.data.staticData.maxAdFeatures){var i=this.ranks.length;return j$("#slot_"+i).html(t),this.setRankSlotActive(i),this.ranks.push(e),!0}return!1},removeFeature:function(t){var e=this.ranks.indexOf(t);if(e>-1){for(var i=e;i<this.ranks.length-1;i++){this.ranks[i]=this.ranks[i+1];var s=i+1;j$("#slot_"+i).html(j$("#slot_"+s).html())}this.ranks.pop(),this.setRankSlotInactive(this.ranks.length)}},removeGroup:function(t){for(var e=0;e<this.data.staticData.adGroups.length;e++)if(this.data.staticData.adGroups[e].groupID==t){for(var i=this.data.staticData.adGroups[e].adFeatures,s=0;s<i.length;s++)this.removeFeature(i[s].featureID);break}},componentClick:function(t,e,i,s){switch(t){case 1:this.value("af_"+i)?this.addFeature(e,i)||this.setValue("af_"+i,!1):this.removeFeature(i);break;case 2:0!=i?this.changeFeature(e,i,s)||(this.setValue("ag_"+s+"_"+i,0),this.setValue("ag_"+s+"_0",0)):this.removeGroup(s);break;case 3:this.value("brandID")>0?this.issetFeature(i)||this.addFeature(e,i)||this.setValue("brandID",0):this.removeFeature(i)}},updateList:function(){if(this.inModifyMode){for(var t,e=[],i=[],s=[],a=j$("#daPriorities").children(),n=0,r=this.ranks.length;n<r;n++)i=a[n].id.split("_"),s=(t=j$(a[n])).children(),e.push(this.ranks[Number(i[1])]),a[n].id=i[0]+"_"+n,i=s[0].id.split("_"),s[0].id=i[0]+"_"+n,t.html(s[0]),t.prepend(n+1+". "),t.css({height:35-3*n,"font-size":14-n});this.ranks=e}},priorScrollEvt:function(){var t;(t=Math.min(j$("#decision").scrollTop()-j$("#modifyABtopBar").outerHeight(),Math.max(j$("#box_0").height(),j$("#box_1").height())-j$("#prioritiesTab").height()))>0?j$("#prioritiesTab").css({"margin-top":t+"px"}):j$("#prioritiesTab").css({"margin-top":"0px"})},observe:function(){j$("#decision").on("scroll",this.priorScrollEvt),j$("#daPriorities").sortable({cursorAt:{top:11},cancel:".unsortable",items:"li:not(.unsortable)",forceHelperSize:!0,appendTo:"parent",disabled:!0,axis:"y",containment:"parent",opacity:.5,scrollSpeed:8,tolerance:"pointer",update:j$.proxy((function(t,e){this.updateList()}),this)}),this.write();for(var t=0;t<this.data.staticData.adGroups.length;t++){var e=this.data.staticData.adGroups[t];if(0!=e.adFeatures.length){for(var i=!1,s=0;s<e.adFeatures.length;s++){var a=e.adFeatures[s];e.multiSelect?j$("#af_"+a.featureID).on("click",this.componentClick.bind(this,1,a.featureName,a.featureID,e.groupID)):a.featureID==this.data.staticData.mentionBrandNameID?j$("#brandID").on("change",this.componentClick.bind(this,3,a.featureName,a.featureID,e.groupID)):(j$("#ag_"+e.groupID+"_"+a.featureID).on("click",this.componentClick.bind(this,2,a.featureName,a.featureID,e.groupID)),i=!0)}i&&j$("#ag_"+e.groupID+"_0").on("click",this.componentClick.bind(this,2,"",0,e.groupID))}}},destroy:function(){j$("#decision").off("scroll",this.priorScrollEvt),this._super()},drawSOD:function(){var t,e,i,s,a,n,r,o,l,d,c=this.data.staticData.adGroups,h=this.data.dynamicData.allAds,p=[],u=h.toLookUp("adID"),g=this.data.dynamicData.allBrands.toLookUp("brandID"),m=[{title:""}],b=[];for(i=0;i<h.length;i++)(r=h[i]).quarterDesigned!=Live.user.quarter()&&r.quarterModified!=Live.user.quarter()||(p.push(r.adID),e=r.brandID>0?"<br /><span>["+Format.brandName(g[r.brandID].brandName.escapeHTML(),g[r.brandID].brandType)+"]</span>":"",t=r.quarterDesigned==Live.user.quarter()?this.tc("new"):this.tc("modified"),m.push({title:r.adName.escapeHTML()+e+'<br /><span style="font-size:smaller; font-weight:normal;">'+t+"</span>",align:"center"}));if(p.length>0)for(i=0;i<c.length;i++)for(s=0;s<c[i].adFeatures.length;s++){d=!1;var f=[(o=c[i].adFeatures[s]).featureName];for(a=0;a<p.length;a++){for(l=!1,n=0;n<u[p[a]].adFeatures.length;n++)if(u[p[a]].adFeatures[n].featureID==o.featureID){d=!0,l=!0;break}l?f.push(u[p[a]].adFeatures[n].priority):f.push("")}d&&b.push(f)}if(p.length>0){var v=new DecisionTable("","resModAds",m,b);v.vertical=!0,v.tableCorners="",this.setValue(this.pfxSod+this.service,v.draw())}else this.setValue(this.pfxSod+this.service,this.tc("noNewOrModified"))}})},78136:(t,e,i)=>{"use strict";i(97196),window.ModifyAdAnim2=ModifyAd.extend({viewModeButtons:["restoreAd","deleteAd","modify","goBack"],modifyModeButtons:["revertChanges","save","cancel"],groupOrder:[[1,2,3,4],[5,6,7,8,9,10,11,12,13,14]],gameType:2,monitorTypes:[{uid:"mon_desk_17_std",name:"_15inch"},{uid:"mon_desk_19_std",name:"_17inch"},{uid:"mon_desk_21_hr",name:"_19inch"},{uid:"mon_desk_23_hr",name:"_19inch"},{uid:"mon_desk_24_hr",name:"_19inch"},{uid:"mon_desk_32_ws",name:"_wide"},{uid:"mon_lap_13_std",name:"_monit_small"},{uid:"mon_lap_14_std",name:"_monit_small"},{uid:"mon_lap_17_adv",name:"_monit_large"},{uid:"case_desk_slimstyl_integdisp",name:"_integrated"}],encasementTypes:[{uid:"case_desk_std",name:"_std"},{uid:"case_desk_slim",name:"_slim"},{uid:"case_desk_styl",name:"_style"},{uid:"case_desk_slimstyl",name:"_slim_styl"},{uid:"case_lap_std",name:"_std"},{uid:"case_lap_slim",name:"_slim"},{uid:"case_lap_uslim",name:"_slim"},{uid:"case_lap_styl",name:"_style"},{uid:"case_lap_slimstyl",name:"_style"},{uid:"case_laptab_std",name:"_std"},{uid:"case_laptab_slim",name:"_slim"},{uid:"case_laptab_slimstyl",name:"_style"}],miniImages:["noimg","officeimg","travimg","scienceimg","busimg","manufimg","tabletimg"],journBacks:["default","office","traveller","scientists","businesspeople","manufacturing","tablet"],circles:["default","cost","trav","inno","work","merc","tabl"],segmentShortNames:["Work","Trav","Merc","Cost","Inno","Tabl"],segmentShortNamesBikes:["Default","Youth","Workb","Recre","Mount","Speed"],previousQtrAd:null,viewedAd:null,viewedAdID:-1,defaultFeatures:[],defaultRanks:[],style:"padding: 0px;",priorFontSizes:[12,11.5,11.5,11,10.5,10,9.5,9,8],priorLineHeights:[13,13,13,12,11,11,10,9,8],priorHeights:[42,39,37,34,31,29,26,22,20],sendErrors:!1,sendCalculate:!1,allFeatures:[],allFeaturesGroups:[],featureSegments:[],features:[],ranks:[],rankSlots:[],viewing:!1,deleting:!1,copying:!1,restoring:!1,showListOnSuccess:!1,initialize:function(t){this._super("ModifyAd"),this.isReturningToList=!1},getPicSIDToShort:function(t){return 101==(t=Number(t))?"Tabl":102==t?"Pack":"bikes"===this.data.commonData.scenario?this.segmentShortNamesBikes[t]:this.segmentShortNames[t]},getPicToShort:function(t){var e,i=this.allFeatures.toLookUp("featureID");return void 0!==i[t]&&0!=Number(i[t].pictureSegmentID)&&(e=101==Number(i[t].pictureSegmentID)?"Tabl":102==Number(i[t].pictureSegmentID)?"Pack":this.segmentShortNames[Number(i[t].pictureSegmentID)-1]),e},getLitemSeg:function(t){return this.getPicToShort(t.featureID)},getSegmentAlias:function(t){return(3==this.data.staticData.segments.length?[4,3,2]:[1,3,5,4,2,6])[this.segmentShortNames.indexOf(t)]},getBrImgName:function(t,e){var i,s,a,n,r,o,l,d="",c=this.data.staticData.componentGroups,h=this.monitorTypes.toLookUp("uid"),p=this.encasementTypes.toLookUp("uid");switch(t){case"D":d+="desktop";break;case"L":d+="lap";break;case"T":return d+"tablet"}for(a=0,n=c.length;a<n;a++)for(i=0,s=(r=c[a].brandFeatures).length;i<s;i++)-1!=e.indexOf(r[i].featureID)&&(void 0!==h[r[i].featureUID]&&(o=h[r[i].featureUID].name),void 0!==p[r[i].featureUID]&&(l=p[r[i].featureUID].name));return(d+=l)+o},load:function(){this.viewedAdID=-1;var t=ServiceFactory.callService("ModifyAd","view",[this.user,!0,!0,!1,!1],!1);if(this.handleErrors(t)){this.setData(t.result);var e,i,s,a=0,n=0,r=0,o=999;this.groupOrder=[[],[]];for(var l=0,d=this.data.staticData.adGroups.length;l<d;++l)for(0==this.data.staticData.adGroups[l].multiSelect?a+=59:a+=39,c=0,e=this.data.staticData.adGroups[l].adFeatures.length;c<e;c++)this.data.staticData.adGroups[l].adFeatures[c].featureName.length>30?a+=43:a+=23;for(l=0,d=this.data.staticData.adGroups.length;l<d;++l){for(0==this.data.staticData.adGroups[l].multiSelect?n+=59:n+=39,c=0,e=this.data.staticData.adGroups[l].adFeatures.length;c<e;c++)this.data.staticData.adGroups[l].adFeatures[c].featureName.length>30?n+=43:n+=23;i=a/2-n,Math.abs(i)<o&&(o=i,s=l+1)}for(l=0,d=this.data.staticData.adGroups.length;l<d;++l)for(l==s&&(r=1),this.groupOrder[r].push(this.data.staticData.adGroups[l].groupID),c=0;c<this.data.staticData.adGroups[l].adFeatures.length;c++)this.allFeatures.push(this.data.staticData.adGroups[l].adFeatures[c]),this.allFeaturesGroups[this.data.staticData.adGroups[l].adFeatures[c].featureID]=this.data.staticData.adGroups[l].groupID,0!=this.data.staticData.adGroups[l].adFeatures[c].pictureSegmentID&&(this.featureSegments[this.data.staticData.adGroups[l].adFeatures[c].featureID]=this.data.staticData.adGroups[l].adFeatures[c].pictureSegmentID,this.picGroup=this.data.staticData.adGroups[l].groupID);if(t=ServiceFactory.callService("DesignAd","view",[this.user,!1,!1,!1,!1],!1),this.handleErrors(t)){for(var c=0;c<t.result.decisions.adFeatures.length;c++)t.result.decisions.adFeatures[c].selected&&(this.defaultFeatures.push(t.result.decisions.adFeatures[c].featureID),this.defaultRanks[t.result.decisions.adFeatures[c].priority]=t.result.decisions.adFeatures[c].featureID);return!0}}return!1},serviceName:function(){return 0==this.viewedAdID||this.viewedAdID>0&&this.copying?"DesignAd":this.viewedAdID>0&&this.deleting?"DeleteAd":this.viewedAdID>0&&this.restoring?"RestoreAd":"ModifyAd"},view:function(){var t=ServiceFactory.callService("ModifyAd","view",[this.user,!1,!0,!1,!1],!1);return!!this.handleErrors(t)&&(this.data.dynamicData=t.result.dynamicData,this.data.errors=null,this.showListOnSuccess&&(this.viewedAdID=-1,this.restoring=!1,this.deleting=!1,this.copying=!1,this.showListOnSuccess=!1),this.write(),this.writeAllErrors(),this.writeCalculate(),!0)},deleteAd:function(){this.decisions={adID:this.viewedAdID};var t=this.save();return t&&(this.deleting=!1),t},goBack:function(){var t;if(this.inModifyMode)return this.showMessages=!1,(t=this.cancel())&&(this.restoring=!1,this.deleting=!1),this.showMessages=!0,t;this.switchAd(-1,!1)},restoreAd:function(){this.decisions={adID:this.viewedAdID};var t=this.save();return t&&(this.restoring=!1),t},revertChanges:function(){this.setValue("daName",this.previousQtrAd.adName),this.setValue("brandID",this.previousQtrAd.brandID);var t=[],e=[];this.previousQtrAd.adFeatures.forEach((function(i){t.push(i.featureID),e[i.priority-1]=i.featureID})),this.changeFeatures(t,e)},read:function(){if(this.viewedAdID>=0){for(var t=[],e=0;e<this.data.staticData.adGroups.length;e++){var i=this.data.staticData.adGroups[e];if(0!=i.adFeatures.length)for(var s=0;s<i.adFeatures.length;s++){var a=i.adFeatures[s],n=this.ranks.indexOf(a.featureID)+1;i.multiSelect?t.push({featureID:a.featureID,pictureSegmentID:a.pictureSegmentID,priority:n,selected:this.value("af_"+a.featureID)}):a.featureID==this.data.staticData.mentionBrandNameID?t.push({featureID:a.featureID,pictureSegmentID:a.pictureSegmentID,priority:n,selected:this.value("brandID")>0}):t.push({featureID:a.featureID,pictureSegmentID:a.pictureSegmentID,priority:n,selected:this.value("ag_"+i.groupID+"_"+a.featureID)})}}this.data.decisions={adName:this.value("daName"),brandID:this.value("brandID"),adFeatures:t},this.viewedAdID>0&&(this.data.decisions.adID=this.viewedAdID)}},changeFeatures:function(t,e){for(var i=[],s=0;s<this.data.staticData.adGroups.length;s++){var a=this.data.staticData.adGroups[s];if(0!=a.adFeatures.length){for(var n=!1,r=0;r<a.adFeatures.length;r++){var o=a.adFeatures[r],l=t.indexOf(o.featureID)>-1;l&&(n=!0,i[o.featureID]=o.featureName),a.multiSelect?(l?this.selectFeature(o.featureID):this.deselectFeature(o.featureID),this.setValue("af_"+o.featureID,l)):o.featureID==this.data.staticData.mentionBrandNameID?n=!0:(l?this.selectFeature(o.featureID):this.deselectFeature(o.featureID),this.setValue("ag_"+a.groupID+"_"+o.featureID,l?o.featureID:0))}a.multiSelect||n||this.setValue("ag_"+a.groupID+"_0",0)}}this.ranks=[],this.resetRankSlots(),this.setPrioritNote();for(var d=0;d<e.length;d++)this.addFeature(i[e[d]],e[d]);for(d=e.length;d<this.data.staticData.maxAdFeatures;d++)this.setRankSlotInactive(d,!0)},write:function(){var t,e,i,s,a,n,r=this.data.staticData,o="default",l=(this.data.dynamicData.allAds.toLookUp("adID"),null);if(r.segments.toLookUp("segmentID"),j$("#revert_exp").html(""),this.viewedAdID>=0){if(0==this.viewedAdID)t="",e=0,i=this.defaultFeatures,s=this.defaultRanks,this.showButtons(["save","cancel"]),this.hideButtons(["revertChanges","restoreAd","deleteAd","modify","goBack"]);else{for(var d=0;d<this.data.dynamicData.allAds.length;d++)if(this.data.dynamicData.allAds[d].adID==this.viewedAdID){l=this.data.dynamicData.allAds[d];break}for(n=this.data.dynamicData.deletedAds.length,a=0;a<n;++a)if(this.data.dynamicData.deletedAds[a].adID==this.viewedAdID){l=this.data.dynamicData.deletedAds[a];break}if(null==l)this.viewedAdID=-1;else{for(t=l.adName,e=l.brandID,i=[],s=[],l.adFeatures.forEach((function(t){i.push(t.featureID),s[t.priority-1]=t.featureID})),n=r.previousQuarterAds.length,a=0;a<n;++a)r.previousQuarterAds[a].adID==this.viewedAdID&&(this.previousQtrAd=r.previousQuarterAds[a]);if(this.deleting)this.showButtons(["deleteAd","goBack"]),this.hideButtons(["revertChanges","restoreAd","modify","save","cancel"]);else if(this.restoring)this.showButtons(["restoreAd","goBack"]),this.hideButtons(["revertChanges","deleteAd","modify","save","cancel"]);else if(this.copying)this.viewedAdID=0,this.showButtons(["save","cancel"]),this.hideButtons(["revertChanges","restoreAd","deleteAd","goBack","modify"]);else{if(this.showButtons(["modify","goBack","save","cancel"]),this.hideButtons(["revertChanges","restoreAd","deleteAd"]),this.canRevertAd(l,this.previousQtrAd)&&(this.showButtons(["revertChanges"]),0!==this.previousQtrAd.brandID&&this.checkBrandMentionedDeleted(this.previousQtrAd.brandID))){var c=this.getDeletedBrand(this.previousQtrAd.brandID);c&&new DropDownStaticExplanation("revert_exp",this.tc("cannotRevert"),this.tc("reasonLastQtrBrand",{BRAND:c.brandName.escapeHTML()}),"","explanation-white",j$("#decision")),this.disableButtons(["revertChanges"])}this.inModifyMode?this.disableButtons(["modify","goBack"]):this.isCurrentQuarter()&&"undefined"!=typeof Engine?this.disableButtons(["revertChanges","save","cancel"]):this.hideButtons(["revertChanges","modify","save","cancel"])}}}this.viewedAdID>=0&&(this.copying?this.setValue("daName",this.tc("copyOf",{NAME:t})):this.setValue("daName",t),this.setValue("brandID",e),this.features=i,this.changeFeatures(i,s),this.isReturningToList=!0,j$("#list").hide(),j$("#one").show(),j$("#prioritiesTab").show(),j$("#daName").focus(),this.priorScrollEvt())}else{this.fillRestoreListItems(),j$("#eList > *").off();var h="";for(o="",d=0;d<this.data.dynamicData.allAds.length;d++){if(o="",void 0!==this.data.dynamicData.allAds[d].adFeatures)for(var p=0;p<this.data.dynamicData.allAds[d].adFeatures.length;p++)void 0!==this.getLitemSeg(this.data.dynamicData.allAds[d].adFeatures[p])&&(o=this.getLitemSeg(this.data.dynamicData.allAds[d].adFeatures[p]));h+=this.drawListItem(this.data.dynamicData.allAds[d].adID,this.data.dynamicData.allAds[d].adName,o)}for(0==this.data.dynamicData.allAds.length?j$(".listHeadTab").hide():j$(".listHeadTab").show(),j$("#eList").html(""!=h?h:this.tc("noAds")),d=0;d<this.data.dynamicData.allAds.length;d++)l=this.data.dynamicData.allAds[d],j$("#view_"+l.adID).on("click",this.switchAd.bind(this,l.adID,!1)),j$("#view_"+l.adID).attr("aria-label",this.tc("viewModify")),this.isCurrentQuarter()&&"undefined"!=typeof Engine?(j$("#view_"+l.adID).attr("aria-label",this.tc("viewModify")),j$("#view_img_"+l.adID).attr("src",this.st("daEdit"))):(j$("#view_"+l.adID).attr("aria-label",this.tc("view")),j$("#view_img_"+l.adID).attr("src",this.st("daView"))),j$("#delete_"+l.adID).attr("aria-label",this.tc("delete")),j$("#copy_"+l.adID).attr("aria-label",this.tc("copyToCreateNew")),j$("#view_"+l.adID).attr("aria-describedby","daListItem_"+l.adID),j$("#delete_"+l.adID).attr("aria-describedby","daListItem_"+l.adID),j$("#copy_"+l.adID).attr("aria-describedby","daListItem_"+l.adID),this.isCurrentQuarter()&&"undefined"!=typeof Engine?(j$("#delete_"+l.adID).on("click",this.switchAd.bind(this,l.adID,!0)),this.data.dynamicData.newDesignAllowed?j$("#copy_"+l.adID).css({opacity:Live.opacity,cursor:"pointer"}).on("click",this.switchAd.bind(this,l.adID,!1,!0)):j$("#copy_"+l.adID).css({opacity:Live.opacity/2,cursor:"default"}).off()):(j$("#delete_"+l.adID).css({opacity:Live.opacity/2,cursor:"default"}).attr("disabled",!0),j$("#copy_"+l.adID).css({opacity:Live.opacity/2,cursor:"default"}).attr("disabled",!0));this.hideButtons(),j$("#one").hide(),j$("#list").show(),j$("#da_new").css({opacity:Live.opacity/2,cursor:"default"}).attr("disabled",!0).off(),this.isCurrentQuarter()&&"undefined"!=typeof Engine&&this.data.dynamicData.newDesignAllowed&&j$("#da_new").css({opacity:Live.opacity,cursor:"pointer"}).on("click",this.switchAd.bind(this,0,!1)).removeAttr("disabled"),this.isReturningToList&&j$("#da_new").focus()}},destroy:function(){j$("#decision").off("scroll",this.priorScrollEvt),this._super()},writeErrors:function(){null!=this.data.errors?this.writeError("daName",this.data.errors.decisions.adName,"center right"):this.writeError("daName",null)},switchAd:function(t,e,i,s,a,n){if(this.setErrors(null),this.viewedAdID=t,this.restoring=!1,this.deleting=!1,this.copying=!1,this.viewing=!1,0==t){if(!this.modify())return this.viewedAdID=-1,!1;this.showListOnSuccess=!0}else if(e){if(this.deleting=!0,!this.modify())return this.viewedAdID=-1,this.deleting=!1,!1;this.disable(),this.showListOnSuccess=!0}else if("boolean"==typeof n&&n){if(this.restoring=!0,!this.modify())return this.viewedAdID=-1,this.restoring=!1,!1;this.disable(),this.showListOnSuccess=!0}else if("boolean"==typeof i&&i){if(this.copying=!0,!this.modify())return this.viewedAdID=-1,this.copying=!1,!1;this.showListOnSuccess=!0}else if("boolean"==typeof s&&s){if(this.viewing=!0,!this.modify())return this.viewing=!1,!1;this.showListOnSuccess=!1}else if("boolean"==typeof a&&a){if(!this.modify())return!1;this.showListOnSuccess=!1}else this.write();this.writeAllErrors(),this.resizeContent()},getSegMiniImg:function(t){var e='<img src="';return(e+=void 0===t?this.st("daBasic"):this.st("da"+t.brandType))+'" class="listItemImage" alt />'},drawListItem:function(t,e,i){var s=this.data.staticData,a="",n=this.data.dynamicData.allBrands.toLookUp("brandID"),r=this.data.dynamicData.allAds.toLookUp("adID");return void 0!==r[t]&&r[t].quarterModified==Live.user.quarter()&&(a='<span class="offscreen">'+this.tc("costThisQtr")+"</span>"+s.designCost.format()),'<div class="listItemBorderWhite listItemWhite" id="da_'+t+'" role="listitem" aria-labbeledby="daListItem_'+t+'"><div style="float:left;">'+this.getSegMiniImg(n[r[t].brandID])+'<div id="daListItem_'+t+'"  class="listItemName">'+e.escapeHTML()+'</div></div><div style="display: inline-block; float: left; margin-left:27px;">'+this.cf.getButton('<img src="'+this.st("daEdit")+'" id="view_img_'+t+'" class="blueButtonImage" alt />',"view_"+t,null,"blueButton")+'<div id="view_exp_'+t+'" class="blueButtonExpl"></div></div><div style="display: inline-block; float: left;">'+(this.data.staticData.simpleMarketing?"":this.cf.getButton('<img src="'+this.st("daCopy")+'" class="blueButtonImage" alt />',"copy_"+t,null,"blueButton","margin-left: 55px;"))+'</div><div style="display: inline-block; float: left;">'+this.cf.getButton('<img src="'+this.st("daDelete")+'" class="blueButtonImage" alt />',"delete_"+t,null,"blueButton","margin-left: 55px;")+'<div id="delete_exp_'+t+'" class="blueButtonExpl"></div></div><div class="listItemCost" id="cost_'+t+'">'+a+'</div><div style="clear:both;"></div></div>'},initRestoreExpand:function(){j$("#restoreListHeader").on("click",this.toggleRestoreExpand.bind(this,j$("#restoreListWrap"))),j$("#restoreListWrap").is(":visible")?(j$("#restoreListHeader").attr("aria-expanded",!0),j$(".plusSign").html("−")):(j$("#restoreListHeader").attr("aria-expanded",!1),j$(".plusSign").html("+"))},toggleRestoreExpand:function(t){t.is(":visible")?(t.hide(),j$("#restoreListHeader").attr("aria-expanded",!1),j$(".plusSign").html("+")):(t.show(),j$("#restoreListHeader").attr("aria-expanded",!0),j$(".plusSign").html("−"),t[0].scrollIntoView(!1))},drawRestoreList:function(){return""+this.drawRestoreHead()},drawRestoreHead:function(){var t="";return t+='<button class="button-plain matHeader" id="restoreListHeader" style="margin:15px 0px 8px 10px; width:605px;" aria-controls="restoreListWrap"><span class="plusSign"></span>'+this.tc("adsForRestore")+"</button>",t+='<div id="restoreListWrap" style="display: none;">',(t+=this.drawRestoreListItems())+"</div>"},drawRestoreListItems:function(){return'<div class="listItem" style="margin: 5px 0px 8px 10px;width:595px;" id="restoreList" role="list" aria-labelledby="restoreListHeader"></div>'},fillRestoreListItems:function(){var t,e,i,s=this.data.dynamicData.deletedAds;for(this.clearRestoreList(),e=0,i=s.length;e<i;e++)t=s[e],this.addRestoreAdToList(t);this.hideRestoreButton(s.length)},hideRestoreButton:function(t){0===t?j$("#restoreListHeader").hide():j$("#restoreListHeader").show()},clearRestoreList:function(){j$("#restoreList").html("")},addRestoreAdToList:function(t){var e=t.adID,i=t.adName,s="";s+='<div class="listItemBorderWhite listItemWhite ad" id="da_'+e+'" role="listitem" aria-labelledby="daListItem_'+e+'"><div style="float:left;">'+this.getSegMiniImg(this.getBrand(t.brandID))+'<div id="daListItem_'+e+'" class="listItemName">'+i.escapeHTML()+"</div></div>",this.isCurrentQuarter()&&(s+='<div style="display: inline-block; float: left; margin-left:27px;">'+this.cf.getButton(this.tc("restore"),"restore_"+e,null,"blueButton","display: inline-block;padding: 5px 8px; margin-top: 4px;clear:both;")+'<div id="restore_exp_'+e+'" class="blueButtonExpl"></div></div>'),s+='<div style="clear:both;"></div></div>',j$("#restoreList").append(s),j$("#restore_"+e).attr("aria-describedby","daListItem_"+e).on("click",this.switchAd.bind(this,e,!1,!1,!1,!1,!0)),this.changeRestoreButtonStatus(t)},haveSameAdFeatures:function(t,e){var i,s,a,n=!0,r=e.adFeatures.toLookUp("priority");if(t.adFeatures.length!==e.adFeatures.length)return!1;for(i=0,s=t.adFeatures.length;i<s;i++)r[(a=t.adFeatures[i]).priority]?a.featureID!==r[a.priority].featureID&&(n=!1):n=!1;return n},haveSameAdName:function(t,e){return t.adName===e.adName},haveSameBrandMentioned:function(t,e){return t.brandID===e.brandID},canRevertAd:function(t,e){var i=!1;return null!==e&&t.adID===e.adID&&(i=!0,this.haveSameAdName(t,e)&&this.haveSameAdFeatures(t,e)&&this.haveSameBrandMentioned(t,e)||(i=!1),!i)},checkBrandMentionedDeleted:function(t){return!this.data.dynamicData.allBrands.toLookUp("brandID")[t]},getDeletedBrand:function(t){return this.data.dynamicData.deletedBrands.toLookUp("brandID")[t]},getNotDeletedBrand:function(t){return this.data.dynamicData.allBrands.toLookUp("brandID")[t]},getBrand:function(t){return this.checkBrandMentionedDeleted(t)?this.getDeletedBrand(t):this.getNotDeletedBrand(t)},changeRestoreButtonStatus:function(t){var e,i=j$("#restore_"+t.adID);this.checkBrandMentionedDeleted(t.brandID)&&0!=t.brandID?(i.css({opacity:Live.opacity/2,cursor:"default"}).attr("disabled",!0),e=this.getDeletedBrand(t.brandID),new DropDownStaticExplanation("restore_exp_"+t.adID,this.tc("cannotRestore"),this.tc("reasonBrand",{BRAND:e.brandName.escapeHTML()}),"","explanation-white",j$("#decision"))):(i.css({opacity:1,cursor:"pointer"}).attr("disabled",!1),j$("#restore_exp_"+t.adID).remove())},drawListHead:function(){var t="";return t+='<div class="listHeadTab" style="padding:15px 0px 0px 10px; width:615px;">',t+='<div class="listHeadTitle" style="min-width:225px; max-width:225px;">'+this.tc("yourAds")+"</div>",t+='<div class="listHeadTitle" style="min-width:85px; max-width:85px; text-align:center;" aria-hidden="true">'+(this.isCurrentQuarter()?this.tc("viewModify"):this.tc("view"))+"</div>",t+='<div class="listHeadTitle" style="min-width:85px; max-width:85px; text-align:center;" aria-hidden="true">'+this.tc("copyToCreateNew")+"</div>",t+='<div class="listHeadTitle" style="min-width:85px; max-width:85px; text-align:center;" aria-hidden="true">'+this.tc("delete")+"</div>",(t+='<div class="listHeadTitle" style="min-width:135px; max-width:135px; text-align:right;"><div style="padding-right:10px;" aria-hidden="true">'+this.tc("costThisQtr")+"</div></div>")+"</div>"},drawList:function(){return'<div class="listHead" style="padding:15px 0px 0px 10px; width:595px;"><div class="listItemWhite"><img src="'+this.st("daNew")+'" class="listHeadImage" alt/>'+this.cf.getButton(this.tc("createNew"),"da_new",null,"blueButton listItemBorderWhite","display: inline-block;padding: 5px 8px;clear:both;")+'</div><div style="clear:both;"></div></div>'+this.drawListHead()+'<div class="listItem" style="margin: 5px 0px 0px 10px;width:595px;" id="eList"></div>'},resize:function(){j$("#prioritiesTab").css({height:j$("#decision").height()-2-j$("#modifyABtopBar").outerHeight()+Math.min(j$("#decision").scrollTop(),j$("#modifyABtopBar").outerHeight())+"px"})},drawPreviewBtnHoverIn:function(t,e){this.lastElement&&e==this.lastElement||(e.find("img").attr("src",t.activeImgSrc),e.css({"background-image":'url("'+t.hoverBck+'")'}).toggleClass("border",!0))},drawPreviewBtnHoverOut:function(t,e){this.lastElement&&e==this.lastElement||(e.find("img").attr("src",t.imgSrc),e.css({"background-image":"none"}).toggleClass("border",!1))},switchOverlayTab:function(t){var e=this.buttons[t],i=this.btnElements[t];this.lastElement&&this.lastBtn&&(this.lastElement.toggleClass("active",!1),this.lastElement.find("img").attr("src",this.lastBtn.imgSrc),this.lastElement.css({"background-image":"none"}).toggleClass("border",!1)),0==t?j$("#daPreviewLeftArrowBtn").hide():j$("#daPreviewLeftArrowBtn").show(),t==this.buttons.length-1?j$("#daPreviewRightArrowBtn").hide():j$("#daPreviewRightArrowBtn").show(),i.toggleClass("active",!0),i.find("img").attr("src",e.activeImgSrc),i.css({"background-image":"none"}).toggleClass("border",!0),this.switchOverlayMain(t),this.lastBtn=e,this.lastElement=i,this.observeControls()},switchOverlayMain:function(t){var e,i,s,a,n=this.ctx.data.dynamicData,r=this.ctx.ranks,o=this.ctx.allFeatures.toLookUp("featureID"),l=n.allBrands.toLookUp("brandID"),d="Default",c=0,h=[],p="",u=-1,g=this.buttons[t],m=j$("#daPreviewMain");m.html("");var b="www."+n.companyName.escapeHTML()+".com";for(e=0,i=r.length;e<i;e++)1!=(s=o[r[e]]).featureID&&0==s.pictureSegmentID?(c++,h.push(s.featureName)):1==s.featureID?(c++,b="www."+n.companyName.escapeHTML()+".com/"+l[this.ctx.value("brandID")].brandName.escapeHTML(),h.push(l[this.ctx.value("brandID")].brandName.escapeHTML()),d=l[this.ctx.value("brandID")].brandType):0!=s.pictureSegmentID&&(p=this.ctx.getPicSIDToShort(s.pictureSegmentID),u=e);switch(g.id){case"btnLocal":var f=j$('<div class="localPreviewTitle">'+this.ctx.tc("localTitle",{NAME:this.ctx.value("daName").escapeHTML()})+"</div>"),v=j$('<div class="localPreviewLeft"></div>'),y=j$('<div class="localPreviewRight"></div>'),w=j$('<div class="localPreviewText">'+this.ctx.tc("localText")+"</div>");v.append(w);var D=j$('<div class="localBilPost" style="background:url('+this.ctx.st("billboardsPosters")+');" role="img" aria-label="'+this.ctx.tc("billboardsPostersDesc")+'"></div>'),_=j$('<div class="localBilPostTitle">'+this.ctx.tc("billboardsPosters")+"</div>");if(D.append(_),c+(-1!=u?1:0)>0){var I=j$('<div class="localBilClaims" style="background:url('+this.ctx.st("billboardClaims"+(c+(-1!=u?1:0)))+');"></div>'),x=j$('<img class="localBilBike" src="'+this.ctx.st("billboardBike"+d)+'" alt />');if(0==u){var T=j$('<img class="localBilSP" src="'+this.ctx.st("localSP"+p+"1")+'" alt />');I.append(T)}else{var C=j$('<div class="localBilText">'+h[0]+"</div>");I.append(C)}I.append(x),D.append(I)}v.append(D);var L=j$('<div class="localRadio" style="background:url('+this.ctx.st("localRadio")+');" role="img" aria-label="'+this.ctx.tc("radAndTvDesc")+'"></div>'),S=j$('<div class="localRadioTitle">'+this.ctx.tc("radAndTv")+"</div>");if(L.append(S),c>0){var k=j$('<div class="localRadioText">'+h[0]+"</div>");L.append(k),L.append('<div class="localRadioArrow"></div>')}v.append(L);var P=j$('<div style="background-image:url('+this.ctx.st("localPaper")+');" class="localPreviewPaper" role="img" aria-label="'+this.ctx.tc("newsMagsDesc")+'"></div>'),N=j$('<div class="paperTitle">'+this.ctx.tc("newsMags")+"</div>"),E=j$('<div style="background-image:url('+this.ctx.st("localPaperArticle")+');" class="localPaperArticle"></div>');for(e=0;e<h.length;e++)a=j$('<div class="localPaperArticleClaim'+e+'">'+h[e]+"</div>"),E.append(a);var M=j$('<img class="localPaperArticleOval" src="'+this.ctx.st("localPaperArticleOval")+'" alt />'),j=j$('<img class="localPaperArticleBike" src="'+this.ctx.st("localPaperArticleBike"+d)+'" alt />');if(-1!=u){var B=j$('<img class="localArticleSP localArticleSP'+u+'" src="'+this.ctx.st("localSP"+p+u)+'" alt />');E.append(B)}else{var A=j$('<img class="localPaperArticleSkid" src="'+this.ctx.st("localPaperArticleSkid")+'" alt />');E.append(A)}E.append(M),E.append(j),P.append(N),P.append(E),P.append('<img class="localPreviewFuzz" src="'+this.ctx.st("localPaperFuzz")+'" alt />'),y.append(P),m.append(f),m.append(v),m.append(y);break;case"btnRegional":f=j$('<div class="regionalPreviewTitle">'+this.ctx.tc("regionalTitle",{NAME:this.ctx.value("daName").escapeHTML()})+"</div>");var O=j$('<div class="regionalPreviewText">'+this.ctx.tc("regionalText")+"</div>"),R=(y=j$('<div class="regionalPreviewRight"></div>'),j$('<div style="background-image:url('+this.ctx.st("regionalMagazine")+');" class="regionalMagazine"></div>')),F=j$('<div style="background-image:url('+this.ctx.st("regionalMagazineArticle")+');" class="regionalMagazineArticle" role="img" aria-label="'+this.ctx.tc("regMagazineDesc")+'"></div>'),$=j$('<img class="regionalMagazineArticleBike" src="'+this.ctx.st("regionalMagazineArticleBike"+d)+'" alt />');for(F.append($),F.append('<img class="regionalMagazineFuzz" src="'+this.ctx.st("regionalMagazineFuzz")+'" alt />'),e=0;e<h.length;e++)a=j$('<div class="regionalArticleClaim'+e+'">'+h[e]+"</div>"),F.append(a);if(-1!=u){var U=j$('<img class="regionalSP regionalSP'+u+'" src="'+this.ctx.st("regionalSP"+p+u)+'" alt />');F.append(U)}else{var q=j$('<img class="regionalMagazineSkid" src="'+this.ctx.st("regionalMagazineSkid")+'" alt />');F.append(q)}R.append(f),R.append(O),R.append(F),m.append(R);break;case"btnWebpage":f=j$('<div class="webpagePreviewTitle">'+this.ctx.tc("webpageTitle",{NAME:this.ctx.value("daName").escapeHTML()})+"</div>"),O=j$('<div class="webpagePreviewText">'+this.ctx.tc("webpageText")+"</div>");var W=j$('<div style="background-image:url('+this.ctx.st("webpageFrame")+');" class="webpageFrame" role="img" aria-label="'+this.ctx.tc("webpageDesc")+'"></div>'),z=j$('<div style="background-image:url('+this.ctx.st("webpageBck")+');" class="webpageCnt"></div>'),H=j$('<div style="background-image:url('+this.ctx.st("webpagePageTop")+');" class="webpagePageTop"></div>'),V=j$('<img class="webpageOval" src="'+this.ctx.st("webpageOval")+'" alt />'),G=j$('<img class="webpageBike" src="'+this.ctx.st("webpageBike"+d)+'" alt />');z.append('<div style="background-image:url('+this.ctx.st("webpageFuzz")+');" class="webpageFuzz"></div>'),z.append(H),z.append(V),z.append(G);var Q=0;for(e=0;e<h.length+(u>-1?1:0);e++)e==u?(Q=1,a=j$('<img class="webpageSP webpageSP'+u+'" src="'+this.ctx.st("webpageSP"+p+u)+'" alt />'),z.append(a)):(a=j$('<div class="webPageClaim'+e+'">'+h[e-Q]+"</div>"),z.append(a));h.length+(u>-1?1:0)>5&&(z.append(j$('<img class="webpageImg" src="'+this.ctx.st("webpageImg1")+'" alt />')),z.append(j$('<img class="webpageTxtB" src="'+this.ctx.st("webpageTxtB")+'" alt />')),z.append(j$('<img class="webpageTxtB" src="'+this.ctx.st("webpageTxtB")+'" alt />'))),h.length+(u>-1?1:0)>7&&(z.append(j$('<img class="webpageImg" src="'+this.ctx.st("webpageImg2")+'" alt />')),z.append(j$('<img class="webpageTxtC" src="'+this.ctx.st("webpageTxtC")+'" alt />')),z.append(j$('<img class="webpageTxtC" src="'+this.ctx.st("webpageTxtC")+'" alt />')));var J=j$('<img class="webpagePageFoot" src="'+this.ctx.st("webpagePageFoot")+'" alt />');z.append('<div style="clear:both;"></div>'),z.append(J),W.append(z),m.append(f),m.append(O),m.append(W);break;case"btnPaid":f=j$('<div class="paidTitle">'+this.ctx.tc("paidTitle",{NAME:this.ctx.value("daName").escapeHTML()})+"</div>"),O=j$('<div class="paidText">'+this.ctx.tc("paidText")+"</div>");var K=j$('<div style="background-image:url('+this.ctx.st("paidFrame")+');" class="paidFrame" role="img" aria-label="'+this.ctx.tc("paidDesc")+'"></div>'),Y=j$('<div style="background-image:url('+this.ctx.st("paidSite")+');" class="paidSite"></div>');for(e=0;e<Math.min(h.length,3);e++)a=j$('<div class="paidClaim'+e+'">'+h[e]+"</div>"),Y.append(a);a=j$('<div class="paidClaim3">'+b+"</div>"),Y.append(a),K.append(Y),m.append(f),m.append(O),m.append(K)}},drawPreviewButtons:function(){var t,e,i;for(this.buttonsText=j$(this.drawButtonsText()),this.buttonsBox.append(this.buttonsText),t=0,e=this.buttons.length;t<e;t++)i=this.buttons[t],this.btnElements[t]=j$('<button type="button" id="'+i.id+'" class="button-plain '+this.btncls+'"><img class="daPreviewTileImg" src="'+i.imgSrc+'" title="'+this.ctx.tc(i.tc)+'" alt="'+this.ctx.tc(i.tc)+'" /></button>'),this.btnElements[t].on("click",j$.proxy(this.ctx.switchOverlayTab,this,t)),this.btnElements[t].on("focusin",j$.proxy(this.ctx.drawPreviewBtnHoverIn,this,i,this.btnElements[t])),this.btnElements[t].on("focusout",j$.proxy(this.ctx.drawPreviewBtnHoverOut,this,i,this.btnElements[t])),this.btnElements[t].hover(j$.proxy(this.ctx.drawPreviewBtnHoverIn,this,i,this.btnElements[t]),j$.proxy(this.ctx.drawPreviewBtnHoverOut,this,i,this.btnElements[t])),this.buttonsBox.append(this.btnElements[t])},onDrawPreviewContent:function(){var t="",e='<button id="daPreviewLeftArrowBtn" class="button-plain daPreviewLeftArrowWrap"><img id="daPreviewLeftArrow" src="'+this.ctx.st("arrowLeft")+'" alt="'+this.ctx.tc("common:previous")+'" class="daPreviewLeftArrow"/></button>',i='<button id="daPreviewRightArrowBtn" class="button-plain daPreviewRightArrowWrap"><img id="daPreviewRightArrow" src="'+this.ctx.st("arrowRight")+'" alt="'+this.ctx.tc("common:next")+'" class="daPreviewRightArrow"/></button>';return this.overlayBox.css({position:"relative"}).append(e).append(i),'<div class="daPreviewCnt">'+t+'<div id="daPreviewMain"></div></div>'},getSegJournBackImg:function(t){var e="";void 0===t&&(t=""),-1!=this.segmentShortNames.indexOf(t)?(e+=this.journBacks[this.getSegmentAlias(t)],j$('[id^="journbck_"]').hide(),j$("#journbck_"+e).show()):(e+=this.journBacks[0],j$('[id^="journbck_"]').hide(),j$("#journbck_noImg").show());var i='<img src="'+Path.getDecPath("modifyAd","da_design_"+e,".png")+'" id="segPicture" style="width:100%;position:absolute;top:0;left:0;z-index:2;opacity: 0.4;" alt="" />';return'<img src="'+Path.getDecPath("modifyAd","da_design_"+e+"_lines",".png")+'" style="width:100%;position:absolute;top:0;left:0;z-index:2;" alt="" />'+i},onDrawOldPreviewContent:function(){for(var t,e="",i=this.ctx.ranks,s=null,a=this.ctx.st("circles"),n=this.ctx.value("brandID"),r=this.ctx.data.dynamicData.allBrands.toLookUp("brandID"),o=0;o<i.length;o++){var l=this.ctx.getPicToShort(i[o]);void 0!==l&&(s=l)}return void 0!==s&&null!=s||(s="default"),e+=this.ctx.cs.drawComp("div",this.ctx.cs.drawComp("img",this.ctx.st("oldPreviewBackgr"),"previewBackImg","100%","100%","a",1,"","","","",1),"previewBack","100%","100%","a",1,"","","","",1,"","",""),e+=this.ctx.cs.drawComp("label","","journal_0","210px","","a",3,"34px","35%","","",1,"journal previewHeader"),e+=this.ctx.cs.drawComp("label","","journal_1","","","a",3,"82px","35%","","",1,"journal previewCol previewCol_"+s+" previewHeader2"),e+=this.ctx.cs.drawComp("label","","journal_2","","","a",3,"108px","35%","","",1,"journal previewCol previewCol_"+s+" previewHeader3"),e+=this.ctx.cs.drawComp("label","","journal_3","","","a",3,"122px","35%","","",1,"journal previewCol previewCol_"+s+" previewHeader3"),e+=this.ctx.cs.drawComp("label","","journal_4","","","a",3,"136px","35%","","",1,"journal previewCol previewCol_"+s+" previewHeader3"),e+=this.ctx.cs.drawComp("label","","journal_5","","","a",3,"312px","35%","","",1,"journal previewHeader4"),e+=this.ctx.cs.drawComp("label","","journal_6","","","a",3,"324px","35%","","",1,"journal previewHeader4"),e+=this.ctx.cs.drawComp("label","","journal_7","","","a",3,"336px","35%","","",1,"journal previewHeader4"),e+=this.ctx.cs.drawComp("label","","journal_8","","","a",3,"348px","35%","","",1,"journal previewHeader4"),e+=this.ctx.cs.drawComp("label",this.ctx.data.dynamicData.companyName.escapeHTML(),"prev_cname","","","a",3,"364px","","","33.5%",1,"previewHeaderCname"),t=j$.proxy(this.ctx.getBrImgName,this.ctx),void 0!==r[n]?(e+=this.ctx.cs.drawComp("div",this.ctx.cs.drawComp("img",Path.getDecPath("modifyAd",t(r[n].brandType,r[n].brandFeatures),".png"),"previewBrImgIn","75px","","a",10,"","","","",1,"","",""),"previewBrImg","","","a",10,"160px","252px","","",1),e+=this.ctx.cs.drawComp("div",this.ctx.cs.drawComp("img",Path.getDecPath("modifyAd","circle-"+("default"!=s?a[this.ctx.getSegmentAlias(s)]:a[0]),".png"),"previewBrCircIn","83px","","a",9,"","","","",1,"","",""),"previewBrCirc","","","a",9,"165px","250px","","",1)):(e+=this.ctx.cs.drawComp("div","","previewBrImg","","","a",10,"160px","252px","","",0),e+=this.ctx.cs.drawComp("div","","previewBrCirc","","","a",9,"165px","250px","","",0)),'<div class="daPreviewCnt"><div id="oldPreview" style="position:relative;">'+(e+=this.ctx.getSegJournBackImg(s))+'</div><div id="daPreviewMain"></div></div>'},onObserveOldPreviewContent:function(){var t,e,i=this.ctx.ranks,s=[],a=this.ctx.allFeatures.toLookUp("featureID"),n=this.ctx.data.dynamicData.allBrands.toLookUp("brandID");for(t=0;t<i.length;t++)this.ctx.allFeaturesGroups[i[t]]==this.ctx.picGroup&&(j$("#segPicture").css({opacity:1-t/10}),j$("#picDesign").css({opacity:1-t/10}),j$("#journal_"+t).before('<label class="offscreen">'+a[i[t]].featureName+"</label>")),void 0!==a[i[t]]&&"0"==a[i[t]].pictureSegmentID&&(1==a[i[t]].featureID?(e=this.ctx.value("brandID"),s.push(n[e].brandName.escapeHTML())):s.push(a[i[t]].featureName));for(t=0;t<s.length;t++)j$("#journal_"+t).html(s[t]);j$(".overlayXWrap").css({"background-color":"#ffffff"}),j$(".daPreviewCnt").css({padding:"5px"}),j$("#previewBackImg").attr("alt",this.ctx.tc("journalClaims"))},onResizeOldPreviewContent:function(){var t;j$(".daPreviewCnt").css({"min-width":"700px"}),t=j$(".daPreviewCnt").width()/700,j$("#oldPreview").css({width:700*t+"px",height:400*t+"px"})},getLeft:function(){var t=this.buttons,e=this.lastBtn;return!(t.indexOf(e)-1<0)&&t.indexOf(e)-1},onLAIn:function(t){t.attr("src",this.ctx.st("arrowLeftHov"))},onLAOut:function(t){t.attr("src",this.ctx.st("arrowLeft"))},onLAClick:function(){var t=this.getLeft();!1!==t&&this.switchOverlayTab(t)},getRight:function(){var t=this.buttons,e=this.lastBtn,i=t.length;return t.indexOf(e)+1!=i&&t.indexOf(e)+1},onRAIn:function(t){t.attr("src",this.ctx.st("arrowRightHov"))},onRAOut:function(t){t.attr("src",this.ctx.st("arrowRight"))},onRAClick:function(){var t=this.getRight();!1!==t&&this.switchOverlayTab(t)},onObservePreviewContent:function(){var t,e,i,s;i=j$("#daPreviewLeftArrowBtn"),t=j$("#daPreviewLeftArrow"),i.on("focusin",j$.proxy(this.ctx.onLAIn,this,t)),i.on("focusout",j$.proxy(this.ctx.onLAOut,this,t)),i.hover(j$.proxy(this.ctx.onLAIn,this,t),j$.proxy(this.ctx.onLAOut,this,t)),i.on("click",j$.proxy(this.ctx.onLAClick,this)),s=j$("#daPreviewRightArrowBtn"),e=j$("#daPreviewRightArrow"),s.on("focusin",j$.proxy(this.ctx.onRAIn,this,e)),s.on("focusout",j$.proxy(this.ctx.onRAOut,this,e)),s.hover(j$.proxy(this.ctx.onRAIn,this,e),j$.proxy(this.ctx.onRAOut,this,e)),s.on("click",j$.proxy(this.ctx.onRAClick,this))},drawPreviewAdNew:function(){this.ovr=new Overlay("","daPreviewOvr","daPreviewOvr","","","100","85","center","middle","daPreviewTile","auto","auto"),this.ovr.ctx=this,this.ovr.hasCloseX=!0,this.st("useNewPreview")?(this.ovr.onDrawContent=this.onDrawPreviewContent,this.ovr.onObserveContent=this.onObservePreviewContent,this.ovr.getLeft=this.getLeft,this.ovr.getRight=this.getRight,this.ovr.switchOverlayTab=this.switchOverlayTab,this.ovr.switchOverlayMain=this.switchOverlayMain,this.ovr.drawButtons=this.drawPreviewButtons,this.ovr.buttons=[],this.data.staticData.hasLocalMedia&&this.ovr.buttons.push({id:"btnLocal",tc:"localAd",hoverBck:this.st("btnHover"),activeImgSrc:this.st("btnActLocal"),imgSrc:this.st("btnLocal")}),this.data.staticData.hasMajorMedia&&this.ovr.buttons.push({id:"btnRegional",tc:"regionalAd",hoverBck:this.st("btnHover"),activeImgSrc:this.st("btnActRegional"),imgSrc:this.st("btnRegional")}),this.data.staticData.hasOrganicMedia&&this.ovr.buttons.push({id:"btnWebpage",tc:"webpageAd",hoverBck:this.st("btnHover"),activeImgSrc:this.st("btnActWebpage"),imgSrc:this.st("btnWebpage")}),this.data.staticData.hasPaidMedia&&this.ovr.buttons.push({id:"btnPaid",tc:"paidAd",hoverBck:this.st("btnHover"),activeImgSrc:this.st("btnActPaid"),imgSrc:this.st("btnPaid")}),this.ovr.buttonsHeight=88,this.ovr.draw(),this.ovr.switchOverlayTab(0),this.ovr.show()):(this.ovr.onDrawContent=this.onDrawOldPreviewContent,this.ovr.onObserveContent=this.onObserveOldPreviewContent,this.ovr.onResize=this.onResizeOldPreviewContent,this.ovr.draw(),this.ovr.show(),this.ovr.resize())},drawAd:function(){var t,e,i,s="",a=this.data.staticData,n=this.data.staticData.adGroups.toLookUp("groupID");this.data.dynamicData.allBrands.toLookUp("brandID"),this.data.dynamicData.allAds.toLookUp("adID"),s+='<div id="modifyABtopBar" class="modifyABtopBar"><div style="float:left;display:inline-block;margin-left:5px;"><span style="margin-right:2px;font-size: 110%;">'+this.tcLbl("adName",{},"daName","plainLabel")+"</span> "+this.com("edit","daName","",{maxlength:this.data.staticData.maxNameLength,style:"position:relative;padding:0px 2px 0px 2px;"})+"</div>",s+='<div style="float:right;display:inline-block;margin-right:20px;"><div style="padding-left: 5px;margin-right: 3px;display:inline-block;float:right;font-size: 110%;">'+this.tc("costToDesignWCost",{COST:a.designCost.format()})+'</div></div><div style="clear:both;"></div></div>',s+='<div style="clear:both;"></div>',e='<div id="daDesignSlots" class="prioritiesLabel"><div id="prioritiesTitleBar" class="prioritiesTitleBar"><div style="float:left;font-weight:bold;">'+this.tc("priorities")+'</div><div style="float:right;">'+this.tc("maxPrior",{MAXPRIOR:9})+'</div><div style="clear:both;"></div></div><div id="prioritiesNote" class="sidePaneNote prioritiesDragNote"></div><ul id="daPriorities" class="clearUl prioritiesContent">';for(var r=0;r<this.data.staticData.maxAdFeatures;r++){var o=this.priorFontSizes[r],l=this.priorHeights[r],d=this.priorLineHeights[r];t=r+1,e+='<li class="prioritiesSlot" id="slotcont_'+r+'" style="height: '+l+"px; font-size:"+o+"px; line-height:"+d+'px"><div class="dragHandleWrap"><img class="dragHandle" src="'+this.st("dragHandle")+'" style="margin-top:'+(l/2-7)+"px; line-height:"+l/2+';"  alt=""/></div><div class="prioritiesCont" style="padding-top:'+(l-2*d)/2+"px; padding-bottom:"+(l-2*d)/2+'px;"><input type="text" id="slotNum_'+r+'" class="slotNum" value="'+t+'" data-initial-value="'+t+'"><label for="slotNum_'+r+'" id="slot_'+r+'">'+this.tc("priorityNumber",{PRIORITY:t})+'</label></div><div class="prioritiesCloseWrap"><img class="prioritiesClose" src="'+this.st("priorClose")+'" alt=""/></div></li>'}e+="</ul>",e+='<div id="previewBtnWrap" style="position:absolute; top: 340px; text-align:center; width: 100%; z-index:99; border-bottom: 1px solid #d1d3d4;">'+this.com("button","previewBtn",this.tc("preview"))+"</div>",e+="</div>",this.lPri=e,s+='<div id="prioritiesTab" style="float:left; width:35%;">'+this.lPri+'</div><div class="modifyABBoxes" id="boxes">';for(var c="",h=0;h<this.groupOrder.length;h++){for(c="",c+='<div style="'+(h<this.groupOrder.length?"float:left; ":"")+'width:100%;">',l=0;l<this.groupOrder[h].length;l++)if(void 0!==n[this.groupOrder[h][l]]){var p=n[this.groupOrder[h][l]];if(0!=p.adFeatures.length){c+='<div class="fBoxWhite">',void 0!==p.groupName&&""!=p.groupName&&(c+='<div class="daDesignTitle">'+p.groupName+"</div>");var u="",g=!1,m="";for(o=0;o<p.adFeatures.length;o++){var b=p.adFeatures[o];p.multiSelect?(m="af_"+b.featureID,i=this.com("checkbox",m,!1)+'<span style="margin-left:2px;">'+b.featureName+"</span>"):b.featureID==this.data.staticData.mentionBrandNameID?(g=!0,m="brandID",i='<div style="display:inline-block; padding-right:5px;">'+b.featureName+"</div>"+this.com("combobox",m,0,{},this.data.dynamicData.allBrands,"brandID","brandName",0,this.tc("none"))):(m="ag_"+p.groupID+"_"+b.featureID,i=this.com("radio","ag_"+p.groupID,0,{},b.featureID)+'<span style="margin-left:2px;">'+b.featureName+"</span>"),u+='<label for="'+m+'" id="comps_'+b.featureID+'" class="daDesignLabel" style="'+(g?"":"cursor: pointer;")+'"><div class="daDesignLabelTable">'+i+"</div></label>"}p.multiSelect||g||(c+='<label for="ag_'+p.groupID+'_0" class="daDesignLabel" style="cursor: pointer;"><div class="daDesignLabelTable">'+this.com("radio","ag_"+p.groupID,0,{},0)+'<span style="margin-left:2px;">'+this.tc("none")+"</span></div></label>"),c+=u,c+="</div>"}}c+="</div>",s+=this.cs.drawComp("div",c,"box_"+h,"50%","","r","","","","","",1,"","float:left;white-space: normal;")}return s+'<div style="clear:both;"></div>'},initSorting:function(){var t=j$("#daPriorities .slotNum"),e=j$("#daPriorities .prioritiesSlot").not(".unsortable").length;t.spinner({min:1,max:e,stop:j$.proxy((function(t,i,s){var a=j$(i.target),n=parseInt(a.val());isNaN(n)||(a.val()<1?a.val(1):a.val()>e&&a.val(e),n=parseInt(a.val()),a.val()!=n&&a.val(n),this.updateAllNumbers(n,a,t))}),this,t)}),j$("#daPriorities .slotNum").parent().on("mousedown",(function(t){t.stopPropagation()})),j$("#daPriorities .slotNum").on("drop",(function(t){t.preventDefault()})).on("blur",(function(t){j$(this).val(j$(this).attr("data-initial-value"))}))},arrayMove:function(t,e,i){var s=t[e];t.splice(e,1),t.splice(i,0,s)},updateAllNumbers:function(t,e,i){var s=t-e.attr("data-initial-value"),a=t,n=parseInt(e.attr("data-initial-value"),10),r=this.ranks.length;this.arrayMove(this.ranks,n-1,a-1),a>r?e.val(r):a<1&&e.val(1),j$(i).not(j$(e)).each((function(){if(!j$(this).closest("li").hasClass("unsortable")){var t=parseInt(j$(this).val(),10);t>=a&&t<n&&s<0?j$(this).val(t+1):t<=a&&t>n&&s>0&&j$(this).val(t-1)}})),j$(i).each((function(t){if(""!==j$(this).val()&&!j$(this).closest("li").hasClass("unsortable")){j$(this).attr("data-initial-value",j$(this).val());var e=j$(this).closest("li"),i=j$(this).val()-1,s=e[0].id.split("_");j$(this)[0].id="slotNum_"+i,e[0].id=s[0]+"_"+i;var a=e.find('[id^="slot_"]');s=a[0].id.split("_"),a[0].id=s[0]+"_"+i,a.attr("for","slotNum_"+i)}}))},enableSorting:function(){j$("#daPriorities .slotNum").spinner("enable")},disableSorting:function(){j$("#daPriorities .slotNum").spinner("disable")},setButtonCaptions:function(){this.buttonCaptions.restoreAd=this.tc("restore"),this.buttonCaptions.deleteAd=this.tc("delete"),this.buttonCaptions.revertChanges=this.tc("revert"),this.buttonCaptions.goBack=this.tc("back")},draw:function(){return this.setButtonCaptions(),'<div id="list" style="display: none;">'+this.drawList()+this.drawRestoreList()+'</div><div id="one" style="display: none;z-index:50;">'+this.drawAd()+"</div>"},issetFeature:function(t){return this.ranks.indexOf(t)>-1},resetPriorities:function(){this.reOrderList();for(var t=j$("#daPriorities").children().not(".ui-sortable-placeholder"),e=0;e<9;e++){var i=j$(t[e]);this.updateListHeight(i,e)}},resetRankSlots:function(){j$("#prioritiesNote").show(),j$("#daPriorities").sortable("disable"),this.disableSorting(),j$('[id^="slot_"]').html(""),j$('[id^="slotcont_"]').css({cursor:""}),this.rankSlots=[],this.resetPriorities()},setPrioritNote:function(){this.ranks.length>0?j$("#prioritiesNote").html(this.tc("dragToReord")):j$("#prioritiesNote").html(this.tc("noClaims"))},setRankSlotActive:function(t){var e,i;(e=(i=this.rankSlots[t]=j$("#slotcont_"+t)).find(".prioritiesCloseWrap")).off(),i.off(),i.show(),4==t&&j$("#prioritiesNote").hide(),!this.inModifyMode||this.deleting||this.restoring||(j$("#daPriorities").sortable("enable"),i.css({cursor:"auto"}),this.enableSorting(),i.removeClass("unsortable").hover(j$.proxy((function(t,e){this.inModifyMode&&t.toggleClass("hover",!0)}),this,i),j$.proxy((function(t){t.toggleClass("hover",!1)}),this,i)),e.hover(j$.proxy((function(t){this.inModifyMode&&t.find(".prioritiesClose").attr("src",this.st("priorCloseHover"))}),this,e),j$.proxy((function(t){t.find(".prioritiesClose").attr("src",this.st("priorClose"))}),this,e)),e.on("click",j$.proxy((function(t){this.inModifyMode&&this.unCheckFeature(this.ranks[t.parent()[0].id.split("_")[1]])}),this,e))),j$("#daPriorities .slotNum").spinner("option","max",j$("#daPriorities .slotNum:visible").length),this.resetPriorities(),this.initSorting()},setRankSlotInactive:function(t,e){4==t&&j$("#prioritiesNote").show(),j$("#slot_"+t).html(this.tc("priorityNumber",{PRIORITY:t+1})),j$("#slotcont_"+t).addClass("unsortable").hide(),!this.inModifyMode||this.deleting||this.restoring||j$("#slotcont_"+t).css({cursor:"not-allowed"}),j$("#daPriorities .slotNum").spinner("option","max",j$("#daPriorities .slotNum:visible").length),this.resetPriorities(),this.initSorting()},changeFeature:function(t,e,i){for(var s,a=-1,n=0;n<this.data.staticData.adGroups.length;n++)if(this.data.staticData.adGroups[n].groupID==i){s=this.data.staticData.adGroups[n].adFeatures;for(var r=0;r<s.length;r++)if(-1!=this.ranks.indexOf(s[r].featureID)){a=this.ranks.indexOf(s[r].featureID);break}}return-1!=a?(this.deselectFeature(this.ranks[a]),this.selectFeature(e),j$("#slot_"+a).html(t),this.ranks[a]=e,!0):this.addFeature(t,e)},addFeature:function(t,e){if(this.ranks.length<this.data.staticData.maxAdFeatures){var i=this.ranks.length;return j$("#slot_"+i).html(t),this.setRankSlotActive(i),this.selectFeature(e),this.ranks.push(e),this.setPrioritNote(),!0}return!1},removeFeature:function(t){var e=this.ranks.indexOf(t);if(this.deselectFeature(t),e>-1){for(var i=e;i<this.ranks.length-1;i++){this.ranks[i]=this.ranks[i+1];var s=i+1;j$("#slot_"+i).html(j$("#slot_"+s).html())}this.ranks.pop(),this.setPrioritNote(),this.setRankSlotInactive(this.ranks.length)}},removeGroup:function(t){for(var e=0;e<this.data.staticData.adGroups.length;e++)if(this.data.staticData.adGroups[e].groupID==t){for(var i=this.data.staticData.adGroups[e].adFeatures,s=0;s<i.length;s++)this.removeFeature(i[s].featureID);break}},unCheckFeature:function(t){var e,i=j$("#af_"+t),s=j$('[id^="ag_"][id$="_'+t+'"]');0!=i.length?(this.setValue("af_"+t,!1),this.removeFeature(t)):0!=s.length?(e=s[0].id.split("_")[1],this.setValue("ag_"+e+"_"+t,0),this.setValue("ag_"+e+"_0",1),j$("#ag_"+e+"_0").prop("checked",!0),this.removeFeature(t)):(this.setValue("brandID",0),this.removeFeature(t))},componentClick:function(t,e,i,s){switch(t){case 1:this.value("af_"+i)?this.addFeature(e,i)||this.setValue("af_"+i,!1):this.removeFeature(i);break;case 2:0!=i?this.changeFeature(e,i,s)||(this.setValue("ag_"+s+"_"+i,0),this.setValue("ag_"+s+"_0",0)):this.removeGroup(s);break;case 3:this.value("brandID")>0?this.issetFeature(i)||this.addFeature(e,i)||this.setValue("brandID",0):this.removeFeature(i)}},updateListItem:function(t,e,i){var s,a,n;s=t[0].id.split("_"),void 0!==i&&i.push(this.ranks[Number(s[1])]),t[0].id=s[0]+"_"+e,s=(a=t.find('[id^="slot_"]'))[0].id.split("_"),a[0].id=s[0]+"_"+e,a.attr("for","slotNum_"+e),(n=t.find(".slotNum")).val(e+1),n.attr("data-initial-value",e+1),n[0].id="slotNum_"+e},reOrderList:function(){var t=j$("#daPriorities").children().not(".ui-sortable-placeholder"),e=j$("#daPriorities").find(".ui-sortable-placeholder"),i=e.index();t.sort((function(t,e){var i=t.id.split("_"),s=e.id.split("_");return parseInt(i[1])<parseInt(s[1])?-1:1})).each((function(){j$(this).detach().appendTo("#daPriorities")})),e.detach(),t.eq(i).before(e)},updateListHeight:function(t,e){var i,s,a;a=this.priorHeights[e],s=this.priorFontSizes[e],i=this.priorLineHeights[e],t.css({height:a+"px","font-size":s+"px","line-height":i+"px"}),t.find(".prioritiesCont").css({"padding-top":(a-2*i)/2+"px","padding-bottom":(a-2*i)/2+"px"}),t.find(".dragHandle").css({"margin-top":a/2-7+"px","line-height":0})},updateList:function(t){if(this.inModifyMode){var e,i,s=[];t&&this.reOrderList(),i=j$("#daPriorities").children().not(".ui-sortable-placeholder");for(var a=0,n=this.ranks.length;a<n;a++)e=j$(i[a]),this.updateListItem(e,a,s),this.updateListHeight(e,a);this.ranks=s}},priorScrollEvt:function(){var t;(t=Math.min(j$("#decision").scrollTop()-j$("#modifyABtopBar").outerHeight(),Math.max(j$("#box_0").outerHeight(),j$("#box_1").outerHeight())-j$("#prioritiesTab").outerHeight()))>0?j$("#prioritiesTab").css({"margin-top":t+"px"}):j$("#prioritiesTab").css({"margin-top":"0px"}),j$("#prioritiesTab").css({height:j$("#decision").height()-2-j$("#modifyABtopBar").outerHeight()+Math.min(j$("#decision").scrollTop(),j$("#modifyABtopBar").outerHeight())+"px"})},toggleFeature:function(t,e){var i=j$("#af_"+t).parents("label").first(),s=j$('[id^="ag_"][id$="_'+t+'"]').parents("label").first();i.length>0&&i.toggleClass("selected",e),s.length>0&&s.toggleClass("selected",e)},selectFeature:function(t){this.toggleFeature(t,!0)},deselectFeature:function(t){this.toggleFeature(t,!1)},hoverFeature:function(t){this.inModifyMode&&t.toggleClass("hover",!0)},dehoverFeature:function(t){t.toggleClass("hover",!1)},observe:function(){var t,e,i,s,a,n,r,o,l=j$(".daDesignLabel");for(this.initRestoreExpand(),j$("#decision").on("scroll",this.priorScrollEvt),j$("#da_new").html('<span id="des_new">'+this.tc("createNew")+"</span>"),j$("#daPriorities").sortable({cancel:".unsortable",handle:".prioritiesCont, .dragHandleWrap",items:"li:not(.unsortable)",cursorAt:{bottom:5},forceHelperSize:!0,appendTo:this,disabled:!0,axis:"y",containment:"parent",opacity:.5,scrollSpeed:8,tolerance:"pointer",start:j$.proxy((function(t,e){this.updateList(!0)}),this),stop:j$.proxy((function(t,e){this.updateList()}),this)}),this.initSorting(),j$("#previewBtn").on("click",j$.proxy(this.drawPreviewAdNew,this)),j$("#btnrevertChanges").after('<div id="revert_exp" class="bottomBarButtonExp"></div>'),this.write(),n=0,r=l.length;n<r;n++)(o=j$(l[n])).hover(j$.proxy(this.hoverFeature,this,o),j$.proxy(this.dehoverFeature,this,o));for(t=0;t<this.data.staticData.adGroups.length;t++)if(0!=(e=this.data.staticData.adGroups[t]).adFeatures.length){for(i=!1,s=0;s<e.adFeatures.length;s++)a=e.adFeatures[s],e.multiSelect?j$("#af_"+a.featureID).on("click",j$.proxy((function(t,e,i){i.stopPropagation(),this.componentClick(1,t.featureName,t.featureID,e.groupID)}),this,a,e)):a.featureID==this.data.staticData.mentionBrandNameID?j$("#brandID").on("change",j$.proxy((function(t,e){this.componentClick(3,t.featureName,t.featureID,e.groupID)}),this,a,e)):(j$("#ag_"+e.groupID+"_"+a.featureID).on("click",j$.proxy((function(t,e,i){i.stopPropagation(),this.componentClick(2,t.featureName,t.featureID,e.groupID)}),this,a,e)),i=!0);i&&j$("#ag_"+e.groupID+"_0").on("click",j$.proxy((function(t,e,i){i.stopPropagation(),this.componentClick(2,"",0,e.groupID)}),this,a,e))}}})},99216:()=>{window.ModifyBrand=Decision.extend({viewModeButtons:["deleteBrand","modify","goBack"],modifyModeButtons:["save","cancel"],groupOrder:[[1,4,7,5],[6,8,9],[2,3,10,11,12,13,14,15]],style:"padding: 0px;",viewedBrandID:-1,btComps:[],nonBtComps:[],defaultFeatures:[],sendErrors:!1,sendCalculate:!1,deleting:!1,copying:!1,showListOnSucces:!1,load:function(){this.viewedBrandID=-1;var t=ServiceFactory.callService("ModifyBrand","view",modify[(this.user,!1)],!1);if(this.handleErrors(t)&&(this.setData(t.result),t=ServiceFactory.callService("DevelopBrand","view",[this.user,!1,!1,!1,!1],!1),this.handleErrors(t))){var e,i=t.result.decisions.brandFeatures,s=i.length;for(e=0;e<s;++e)i[e].selected&&this.defaultFeatures.push(i[e].featureID);return!0}return!1},serviceName:function(){return 0==this.viewedBrandID||this.viewedBrandID>0&&this.copying?"DevelopBrand":this.viewedBrandID>0&&this.deleting?"DeleteBrand":this.viewedBrandID>0&&this.restoring?"RestoreBrand":"ModifyBrand"},view:function(){var t=ServiceFactory.callService("ModifyBrand","view",[this.user,!1,!0,!1,!1],!1);return!!this.handleErrors(t)&&(this.data.dynamicData=t.result.dynamicData,this.data.errors=null,this.showListOnSuccess&&(this.viewedBrandID=-1,this.deleting=!1,this.copying=!1,this.showListOnSuccess=!1),this.write(),this.writeAllErrors(),this.writeCalculate(),!0)},deleteBrand:function(){this.decisions={brandID:this.viewedBrandID};var t=this.save();return t&&(this.deleting=!1),t},goBack:function(){var t;if(this.inModifyMode)return this.showMessages=!1,(t=this.cancel())&&(this.deleting=!1),this.showMessages=!0,t;this.switchBrand(-1,!1)},getBrandType:function(){var t,e=this.data.staticData.brandTypes,i=e.length;for(t=0;t<i;++t)if(this.value("brandType_"+e[t].brandType))return e[t];return null},read:function(){if(this.viewedBrandID>=0){var t,e,i,s,a,n,r,o,l=[],d=this.data.staticData,c=d.componentGroups.length;if(d.simpleMarketing){for(o=0,n=0,r=d.implicitBrands.length;n<r;++n)this.value("implicitBrandID_"+d.implicitBrands[n].brandID)&&(o=d.implicitBrands[n].brandID);this.data.decisions={brandName:this.value("implicitBrandName"),brandType:"",brandFeatures:[],implicitBrandID:o},this.viewedBrandID>0&&(this.data.decisions.brandID=this.viewedBrandID)}else{for(t=0;t<c;++t)for(i=0,s=(e=d.componentGroups[t]).brandFeatures.length;i<s;++i)a=e.brandFeatures[i],e.multiSelect?l.push({featureID:a.featureID,selected:this.value("bf_"+a.featureID)}):l.push({featureID:a.featureID,selected:this.value("cg_"+e.groupID+"_"+a.featureID)});for(this.data.decisions={brandName:this.value("brandName"),brandType:"",brandFeatures:l,implicitBrandID:0},n=0,r=d.brandTypes.length;n<r;++n)this.value("brandType_"+d.brandTypes[n].brandType)&&(this.data.decisions.brandType=d.brandTypes[n].brandType);this.viewedBrandID>0&&(this.data.decisions.brandID=this.viewedBrandID)}}},write:function(){var t,e,i,s,a,n,r,o,l,d,c,h,p=this.data.dynamicData,u=p.allBrands.length,g=this.data.staticData,m=g.componentGroups.length,b="",f="",v=this.defaultFeatures,y=[];for(e=null,t=0;t<u;++t)p.allBrands[t].brandID==this.viewedBrandID&&(e=p.allBrands[t]),p.allBrands[t].implicitBrandID>0&&(y[p.allBrands[t].implicitBrandID]=p.allBrands[t]);if(this.viewedBrandID>0&&(null!=e?(b=e.brandName,f=e.brandType,v=e.brandFeatures):this.viewedBrandID=-1),this.viewedBrandID>=0){if(0==this.viewedBrandID||this.copying?(this.showButtons(["save","cancel"]),this.hideButtons(["deleteBrand","modify","goBack"])):e.canModify&&!this.deleting?(this.showButtons(["modify","goBack","save","cancel"]),this.hideButtons(["deleteBrand"]),this.inModifyMode?this.disableButtons(["modify","goBack"]):this.isCurrentQuarter()&&"undefined"!=typeof Engine?this.disableButtons(["save","cancel"]):this.hideButtons(["modify","save","cancel"])):e.canDelete&&this.deleting?(this.showButtons(["deleteBrand","goBack"]),this.hideButtons(["modify","save","cancel"])):(this.showButtons(["goBack"]),this.hideButtons(["deleteBrand","modify","save","cancel"])),g.simpleMarketing&&0==this.viewedBrandID)for(this.setValue("implicitBrandName",b),i=0,s=g.implicitBrands.length;i<s;++i)a=g.implicitBrands[i],this.setValue("implicitBrandID_"+a.brandID,0),void 0!==y[a.brandID]?(j$("#implBrandName_"+a.brandID).html(y[a.brandID].brandName),j$("#implicitBrandID_"+a.brandID).hide()):(j$("#implBrandName_"+a.brandID).html(""),j$("#implicitBrandID_"+a.brandID).show());else if(this.viewedBrandID>=0){for(this.copying?this.setValue("brandName",this.tc("copyOf",{NAME:b})):this.setValue("brandName",b),t=0,u=g.brandTypes.length;t<u;++t)""==f&&(f=g.brandTypes[t].brandType),this.setValue("brandType_"+g.brandTypes[t].brandType,f);for(this.hideComponents(),this.getBrandType(),n=0;n<m;++n){for(c=!1,o=0,l=(r=g.componentGroups[n]).brandFeatures.length;o<l;++o)d=r.brandFeatures[o],(h=v.indexOf(d.featureID)>-1)&&(c=!0),r.multiSelect?this.setValue("bf_"+d.featureID,h):this.setValue("cg_"+r.groupID+"_"+d.featureID,h?d.featureID:0);r.multiSelect||r.required||c||this.setValue("cg_"+r.groupID+"_0",0)}this.recalculateComponentCost()}j$("#brandList").hide(),g.simpleMarketing?0==this.viewedBrandID?(j$("#oneBrand").hide(),j$("#implicitBrand").show()):(j$("#implicitBrand").hide(),j$("#oneBrand").show()):j$("#oneBrand").show(),this.inModifyMode&&!this.deleting?(g.simpleMarketing?j$("#implicitBrandName").focus():j$("#brandName").focus(),this.lDesc.change("show"),this.lDesc.jelement().find("#feature_desc").first().html('<span style="font-weight:bold;">'+this.tc("tip")+" </span>"+this.tc("defaultDesc"))):this.lDesc.change("hide")}else{j$("#eBrandList").children().length;var w="",D=this.data.dynamicData.notEditableBrands.toLookUp("brandID");for(j$("#eBrandList > *").off(),t=0;t<u;++t)w+=this.drawListItem(p.allBrands[t].brandID,p.allBrands[t].brandName,p.allBrands[t].brandType,p.allBrands[t].canModify);for(j$("#eBrandList").html(""!=w?w:this.tc("noBrands")),t=0;t<u;++t)e=p.allBrands[t],j$("#view_"+e.brandID).on("click",this.switchBrand.bind(this,e.brandID,!1)),j$("#view_"+e.brandID).attr("aria-describedby","brandListItem_"+e.brandID),j$("#delete_"+e.brandID).attr("aria-describedby","brandListItem_"+e.brandID),j$("#copy_"+e.brandID).attr("aria-describedby","brandListItem_"+e.brandID),this.isCurrentQuarter()&&"undefined"!=typeof Engine&&!e.canModify&&D[e.brandID]&&!this.data.staticData.simpleMarketing&&new DropDownStaticExplanation("view_exp_"+e.brandID,this.tc("cannotModify"),this.shortDescEdi(D[e.brandID]),"","explanation-white",j$("#decision")),this.isCurrentQuarter()&&"undefined"!=typeof Engine&&e.canDelete?j$("#delete_"+e.brandID).on("click",this.switchBrand.bind(this,e.brandID,!0)):(this.isCurrentQuarter()&&D[e.brandID]&&new DropDownStaticExplanation("delete_exp_"+e.brandID,this.tc("cannotDelete"),this.shortDescDel(D[e.brandID]),"","explanation-white",j$("#decision")),j$("#delete_"+e.brandID).css({opacity:Live.opacity/2,cursor:"default"}).attr("disabled",!0)),this.data.staticData.simpleMarketing||(this.isCurrentQuarter()&&"undefined"!=typeof Engine&&this.data.dynamicData.newDesignAllowed?j$("#copy_"+e.brandID).on("click",this.switchBrand.bind(this,e.brandID,!1,!0)):j$("#copy_"+e.brandID).css({opacity:Live.opacity/2,cursor:"default"}).attr("disabled",!0));this.hideButtons(),j$("#oneBrand").hide(),g.simpleMarketing&&j$("#implicitBrand").hide(),j$("#brandList").show(),j$("#brand_new").off().css({opacity:Live.opacity/2,cursor:"default"}).attr("disabled",!0),this.isCurrentQuarter()&&"undefined"!=typeof Engine&&p.newDesignAllowed&&j$("#brand_new").css({opacity:Live.opacity,cursor:"pointer"}).on("click",this.switchBrand.bind(this,0)).removeAttr("disabled")}},shortDescEdi:function(t){var e=[];return t.startingInventory>0&&e.push(this.tc("reasonInInventory")),t.contractsCount>0&&e.push(this.tc("reasonOutsourced")),t.unitsInChannel>0&&e.push(this.tc("reasonOnWay")),"- "+e.join("<br />- ")+"<br /><br />"+this.tc("youCanDesignNewOrImproved")},shortDescDel:function(t){var e=[];return t.startingInventory>0&&e.push(this.tc("reasonInInventory")),t.contractsCount>0&&e.push(this.tc("reasonOutsourced")),t.unitsInChannel>0&&e.push(this.tc("reasonOnWay")),t.inProduction&&e.push(this.tc("reasonProduced")),t.inSelling&&e.push(this.tc("reasonForSale")),t.inAds&&e.push(this.tc("reasonAdvertised")),t.oldImplicitBrand&&e.push(this.tc("reasonOldImplicit")),"- "+e.join("<br />- ")},modify:function(){var t=this._super();return t&&this.viewedBrandID<0&&(this.cancel(),new AlertOverlay("brandDeleted",this.tc("deletedBrand"),[{id:"brandDeletedOK",label:this.tc("ok"),click:j$.proxy(this.endOverlay,this)}],"absolute","60",j$("#decision")).show()),t},writeErrors:function(){null!=this.data.errors?this.data.staticData.simpleMarketing?this.writeError("implicitBrandName",this.data.errors.decisions.brandName,"center right"):this.writeError("brandName",this.data.errors.decisions.brandName,"center right"):this.data.staticData.simpleMarketing?this.writeError("implicitBrandName",null):this.writeError("brandName",null)},switchBrand:function(t,e,i){if(this.setErrors(null),this.viewedBrandID=t,this.deleting=!1,this.copying=!1,0==t){if(!this.modify())return this.viewedBrandID=-1,!1;this.showListOnSuccess=!0}else if("boolean"==typeof e&&e){if(this.deleting=!0,!this.modify())return this.viewedBrandID=-1,this.deleting=!1,!1;this.disable(),this.showListOnSuccess=!0}else if("boolean"==typeof i&&i){if(this.copying=!0,!this.modify())return this.viewedBrandID=-1,this.copying=!1,!1;this.showListOnSuccess=!0}else this.write();this.writeAllErrors(),this.resizeContent()},regroupOrder:function(t){var e,i=0,s=0,a=t.length,n=0;for(this.groupOrder=[],s=0;s<a;s++)n++,0==t[s].required&&n++,n+=t[s].brandFeatures.length;for(e=n/3,n=0,s=0;s<a;s++)n++,0==t[s].required&&n++,(n+=t[s].brandFeatures.length)>e&&i<3&&(i++,n=0),void 0===this.groupOrder[i]&&(this.groupOrder[i]=[]),this.groupOrder[i].push(t[s].groupID)},drawListItem:function(t,e,i,s){return'<div style="width:525px; margin-top:3px; padding:10px 5px 10px 5px; border:1px solid #FEE585; background:#FFFFFF; font-weight:bold;" id="brand_'+t+'" role="listitem" aria-labbeledby="brandListItem_'+t+'"><div style="float:left;"><img src="'+Path.getPath(this.st("common:btFolder"),i+"-big",".png")+'" style="border:0;" alt="" /><div id="brandListItem_'+t+'" style="float:right;padding-left:10px;max-width: 110px;text-overflow: ellipsis;overflow: hidden;">'+e.escapeHTML()+'</div></div><div style="float:right;">'+this.cf.getButton(this.isCurrentQuarter()&&s&&"undefined"!=typeof Engine?this.tc("viewModify"):this.tc("view"),"view_"+t,null,"button-plain bdLink","margin-right: 20px;")+'<div id="view_exp_'+t+'" style="position: absolute; display: inline-block; text-align: right; margin-top: 23px; margin-left: -32px;"></div>'+this.cf.getButton(this.tc("delete"),"delete_"+t,null,"button-plain bdLink","margin-right: 20px;")+'<div id="delete_exp_'+t+'" style="position: absolute; display: inline-block; text-align: right; margin-top: 23px; margin-left: -32px;"></div>'+(this.data.staticData.simpleMarketing?"":this.cf.getButton(this.tc("copyToCreateNew"),"copy_"+t,null,"button-plain bdLink"))+'</div><div style="clear:both;"></div></div>'},drawList:function(){return'<div style="padding:15px 0px 0px 10px; width:300px; border:0px solid red;"><div id="yourBrands" style="float:left; background:#ffffff; font-weight:bold; font-size: 15px;">'+this.tc("yourBrands")+"</div>"+this.cf.getButton(this.tc("createNew"),"brand_new",null,"button-class","float:right; margin-top: -5px;")+'<div style="clear:both;"></div></div><div style="margin: 5px 0px 0px 10px;" id="eBrandList" role="list" aria-labelledby="yourBrands"></div>'},drawBrand:function(){var t,e,i,s,a,n,r,o,l,d,c,h,p,u,g,m,b=this.data.staticData,f=b.componentGroups.toLookUp("groupID");for(this.btComps=[],this.nonBtComps=[],e='<div id="modifyABtopBar" class="modifyABtopBar"><div style="float:left;padding:1px;">'+this.tcLbl("brandName")+" "+this.com("edit","brandName","",{maxlength:b.maxNameLength,style:"padding:0px 2px 0px 2px;"})+'</div><div style="float:left;padding:1px; font-weight:bold;">&nbsp;|&nbsp;</div><div>'+this.tcLbl("brandType",{},null,null,"btLbl"),h=0,p=b.brandTypes.length;h<p;++h)m=b.brandTypes[h],e+=" "+this.com("radio","brandType",m.brandType,{"aria-labelledby":"btLbl btLbl_"+m.brandType,style:"margin-left:4px;margin-right:2px;"},m.brandType)+this.lbl(Format.brandName(m.name,m.brandType),null,"plainLabel","btLbl_"+m.brandType),this.btComps[m.brandType]=[],this.nonBtComps[m.brandType]=[];for(e+="</div></div>",i='<div style="font-weight:bold;">'+this.tcLbl("componentCost")+'<span id="compsCost" style="float:right;"></span></div>',this.lCost=new DecisionLabel(this.service,"cost",i,"","wooden",""),s='<div><div style="font-weight:bold;">'+this.tc("brandFeatureDesc")+'</div><div style="margin-top:3px; min-height:125px; border:1px solid #dddddd; background:#ffffff; padding:4px;" id="feature_desc"><span style="font-weight:bold;">'+this.tc("tip")+" </span>"+this.tc("defaultDesc")+"</div></div>",this.lDesc=new DecisionLabel(this.service,"desc",s,"","concrete",""),e+='<div id="rightPanel" style="float:right; width:30%;"><div>'+this.lCost.draw()+'<div style="height:4px;"></div>'+this.lDesc.draw()+"</div></div>",this.regroupOrder(b.componentGroups),a="",n=0,r=this.groupOrder.length;n<r;++n){for(a+='<div style="'+(n<this.groupOrder.length?"float:left; ":"")+'width:33.3%;">',o=0,l=this.groupOrder[n].length;o<l;++o)if(void 0!==f[this.groupOrder[n][o]]){for(a+='<div id="groupCell_'+(g=f[this.groupOrder[n][o]]).groupID+'" class="modifyABBox" style="margin: 2px 0px 2px 0px; width: 94%;">'+this.lbl(g.groupName)+"<br />",g.multiSelect||g.required||(a+='<div style="float: right;"></div><div>'+this.com("radio","cg_"+g.groupID,0,{},0)+'<span style="margin-left:2px;">'+this.tc("none")+"</span></div>"),d=0,c=g.brandFeatures.length;d<c;++d){for(u=g.brandFeatures[d],t=g.multiSelect?this.com("checkbox","bf_"+u.featureID,!1):this.com("radio","cg_"+g.groupID,0,{},u.featureID),h=0,p=b.brandTypes.length;h<p;++h)m=b.brandTypes[h],(u.featureTypes&m.featureType)>0?this.btComps[m.brandType].push({groupID:g.groupID,featureID:u.featureID}):this.nonBtComps[m.brandType].push({groupID:g.groupID,featureID:u.featureID});a+='<div style="margin-top: 2px;" id="comps_'+u.featureID+'"><div class="price" style="text-align: right; float: right;">'+u.featurePrice+"</div><div>"+t+'<span style="margin-left:2px;">'+u.featureName+"</span></div></div>"}a+="</div>"}a+="</div>"}return a+='<div style="clear:both;"></div>',this.lBox=new DecisionLabel(this.service,"lBox",a,"","blue",""),e+'<div style="float:left; width:69.5%;">'+this.lBox.draw()+"</div>"},drawImplicitBrand:function(){var t,e,i=this.data.staticData,s=i.implicitBrands.length,a=[{title:this.tc("brandSelectionFeatures"),type:"head"}],n=[{title:""},{title:this.tc("brandName")},{title:this.tc("brand")},{title:this.tc("designCost"),type:"number"},{title:this.tc("materialCost"),type:"number"},{title:this.tc("segment")},{title:this.tc("description")}];for(a.push({cols:n,type:"head"}),t=0;t<s;++t)e=i.implicitBrands[t],a.push([this.com("radio","implicitBrandID",0,{},e.brandID),'<span id="implBrandName_'+e.brandID+'"></span>',Format.brandName(e.brandName.escapeHTML(),e.brandType),e.projectCost,e.materialCost,e.segmentName,e.brandDesc]);return this.ibTable=new DecisionTable(this.tc("brandSelection"),"ibTable",n,a,!0),'<div id="modifyABtopBar" class="modifyABtopBar"><div>'+this.tcLbl("brandName")+" "+this.com("edit","implicitBrandName","",{maxlength:i.maxNameLength,style:"padding:0px 2px 0px 2px;"})+'</div></div><div style="margin: 5px 0px 0px 10px;" id="eImplicitBrand">'+this.ibTable.draw()+"</div>"},draw:function(){return this.buttonCaptions.deleteBrand=this.tc("delete"),this.buttonCaptions.goBack=this.tc("back"),'<div id="brandList" style="display: none;">'+this.drawList()+'</div><div id="oneBrand" style="display: none;">'+this.drawBrand()+"</div>"+(this.data.staticData.simpleMarketing?'<div id="implicitBrand" style="display: none;">'+this.drawImplicitBrand()+"</div>":"")},switchToCompGroup:function(t){var e,i,s,a,n,r,o=this.data.staticData.componentGroups,l=this.data.staticData.brandTypes.toLookUp("brandType");for(o.toLookUp("shortName"),e=0,i=o.length;e<i;e++){for(n=!0,s=0,a=(r=o[e].brandFeatures).length;s<a;s++)(r[s].featureTypes&l[t].featureType)>0&&(n=!1);n?j$("#groupCell_"+o[e].groupID).hide():j$("#groupCell_"+o[e].groupID).show()}},hideComponents:function(){var t,e,i,s,a,n,r={},o=this.data.staticData,l=o.componentGroups.toLookUp("groupID"),d=o.brandTypes,c=d.length,h=null;for(n=0;n<c;++n)this.value("brandType_"+d[n].brandType)?(h=d[n],j$("#brandType_"+d[n].brandType).parents("div").first().css({"background-color":"#fa5c4d","font-weight":"normal",color:"#FFFFFF"})):j$("#brandType_"+d[n].brandType).parents("div").first().css({"background-color":"transparent","font-weight":"normal",color:"#000000"});for(t=this.btComps[h.brandType],e=this.nonBtComps[h.brandType],this.switchToCompGroup(h.brandType),i=0,s=e.length;i<s;++i)(a=j$("#comps_"+e[i].featureID)).find("input").first().prop("checked",!1),a.hide();for(i=0,s=t.length;i<s;++i)(a=j$("#comps_"+t[i].featureID)).show(),l[t[i].groupID].multiSelect||(a.find("input").first().is(":checked")?r[t[i].groupID]=0:void 0===r[t[i].groupID]&&(r[t[i].groupID]=t[i].featureID));for(var p in r)r[p]>0&&(l[p].required?j$("#cg_"+p+"_"+r[p]).prop("checked",!0):j$("#cg_"+p+"_0").prop("checked",!0))},recalculateComponentCost:function(){var t,e,i,s,a,n=0,r=this.data.staticData,o=r.componentGroups.length,l=this.getBrandType();for(t=0;t<o;++t)for(i=0,s=(e=r.componentGroups[t]).brandFeatures.length;i<s;++i)a=e.brandFeatures[i],e.multiSelect?this.value("bf_"+a.featureID)&&(n+=Number(a.featurePrice)*l.costAdj):this.value("cg_"+e.groupID+"_"+a.featureID)&&(n+=Number(a.featurePrice)*l.costAdj),j$("#comps_"+a.featureID).find("div.price").first().html((Number(a.featurePrice)*l.costAdj).format());this.setValue("compsCost",n.format())},rightScrollEvt:function(){var t=j$("#decision").scrollTop()-j$("#modifyABtopBar").outerHeight();t>0?j$("#rightPanel").css({"margin-top":t+"px"}):j$("#rightPanel").css({"margin-top":"0px"})},observe:function(){var t,e,i,s,a,n,r,o,l=this.data.staticData,d=l.componentGroups.length;for(j$("#decision").on("scroll",this.rightScrollEvt),r=0,o=l.brandTypes.length;r<o;++r)j$("#brandType_"+l.brandTypes[r].brandType).on("click",j$.proxy((function(){this.hideComponents(),this.recalculateComponentCost()}),this));for(l.simpleMarketing&&j$("#implicitBrand").css({opacity:Live.opacity}),void 0!==this.ibTable&&this.ibTable.observe(),e=0;e<d;++e)for((i=l.componentGroups[e]).multiSelect||i.required||j$("#cg_"+i.groupID+"_0").on("click",this.recalculateComponentCost.bind(this)),s=0,a=i.brandFeatures.length;s<a;++s)n=i.brandFeatures[s],(t=j$("#comps_"+n.featureID)).on("mouseover",function(t,e){this.inModifyMode&&!this.deleting&&(t.css({background:"#FFFFFF"}),j$("#feature_desc").html(e))}.bind(this,t,n.featureDesc)),t.on("mouseout",function(t){this.inModifyMode&&!this.deleting&&(t.css({background:"transparent"}),j$("#feature_desc").html(""))}.bind(this,t)),t.find("input").first().on("click",this.recalculateComponentCost.bind(this));this.write()},destroy:function(){j$("#decision").off("scroll",this.rightScrollEvt),this._super()},drawSOD:function(){var t,e,i,s,a,n,r,o,l=this.data.staticData,d=l.componentGroups,c=this.data.dynamicData.allBrands,h=[],p=c.toLookUp("brandID"),u=[{title:""}],g=[];for(e=0;e<c.length;e++)(a=c[e]).quarterDesigned!=Live.user.quarter()&&a.quarterModified!=Live.user.quarter()||(h.push(a.brandID),t=a.quarterDesigned==Live.user.quarter()?this.tc("new"):this.tc("modified"),u.push({title:Format.brandName(a.brandName.escapeHTML(),a.brandType)+'<br /><span style="font-size:smaller; font-weight:normal;">'+t+"</span>",type:"flag"}));if(h.length>0)for(e=0;e<d.length;e++)for(r=!1,i=0;i<d[e].brandFeatures.length;i++){n=d[e].brandFeatures[i],o=!1;var m=[Format.rdFeatureName("",n.featureName,n.featureTypes,l.brandTypes,!0)];for(s=0;s<h.length;s++)-1!=p[h[s]].brandFeatures.indexOf(n.featureID)?(m.push(!0),o=!0):m.push(!1);o&&(r||(g.push({title:d[e].groupName}),r=!0),g.push(m))}if(h.length>0){var b=new DecisionTable("","resModBrands",u,g);b.vertical=!0,b.tableCorners="",this.setValue(this.pfxSod+this.service,b.draw())}else this.setValue(this.pfxSod+this.service,this.tc("noNewOrModified"))}})},46718:(t,e,i)=>{"use strict";i(99216),window.ModifyBrandAnim2=ModifyBrand.extend({viewModeButtons:["restoreBrand","deleteBrand","modify","goBack"],modifyModeButtons:["revertChanges","save","cancel"],showPreview:!0,groupOrder:[[],[]],allFeatures:[],allFeaturesGroups:[],style:"padding: 0px;",selectedBrandType:"",previousQtrBrand:null,viewedBrand:null,viewedBrandID:-1,btComps:[],nonBtComps:[],dependtComps:[],btPreviews:{},defaultFeatures:[],chosenGroupsFeatures:[],componentCost:0,sendErrors:!1,sendCalculate:!1,deleting:!1,copying:!1,restoring:!1,showListOnSuccess:!1,initialize:function(t){this._super("ModifyBrand"),this.isReturningToList=!1},load:function(){this.viewedBrandID=-1;var t=ServiceFactory.callService("ModifyBrand","view",[this.user,!0,!0,!1,!1],!1);if(this.handleErrors(t)&&(this.setData(t.result),t=ServiceFactory.callService("DevelopBrand","view",[this.user,!1,!1,!1,!1],!1),this.handleErrors(t))){var e,i=t.result.decisions.brandFeatures,s=i.length;for(e=0;e<s;++e)i[e].selected&&this.defaultFeatures.push(i[e].featureID);return!0}return!1},view:function(){var t=ServiceFactory.callService("ModifyBrand","view",[this.user,!1,!0,!1,!1],!1);return!!this.handleErrors(t)&&(this.data.dynamicData=t.result.dynamicData,this.data.errors=null,this.showListOnSuccess&&(this.viewedBrandID=-1,this.restoring=!1,this.deleting=!1,this.copying=!1,this.showListOnSuccess=!1),this.write(),this.writeAllErrors(),this.writeCalculate(),!0)},deleteBrand:function(){this.decisions={brandID:this.viewedBrandID};var t=this.save();return t&&(this.deleting=!1),t},restoreBrand:function(){this.decisions={brandID:this.viewedBrandID};var t=this.save();return t&&(this.restoring=!1),t},revertChanges:function(){this.setValue("brandName",this.previousQtrBrand.brandName),this.setBrandType(this.previousQtrBrand.brandType),this.hideComponents(),this.changeFeatures(this.previousQtrBrand.brandFeatures),this.recalculateComponentCost()},goBack:function(){var t;if(this.inModifyMode)return this.showMessages=!1,(t=this.cancel())&&(this.restoring=!1,this.deleting=!1),this.showMessages=!0,t;this.switchBrand(-1,!1)},getBrandType:function(){var t,e=this.data.staticData.brandTypes,i=e.length;for(t=0;t<i;++t)if(this.value("brandType_"+e[t].brandType))return e[t];return null},getTypeMiniImg:function(t,e){var i='<img src="';return(i+=void 0===e?this.st("modifybrand:brandBasic"):this.st("modifybrand:brand"+e.brandType))+'" class="listItemImage" alt />'},read:function(){if(this.viewedBrandID>=0){var t,e,i,s,a,n,r,o,l=[],d=this.data.staticData,c=d.componentGroups.length;if(d.simpleMarketing){for(o=0,n=0,r=d.implicitBrands.length;n<r;++n)this.value("implicitBrandID_"+d.implicitBrands[n].brandID)&&(o=d.implicitBrands[n].brandID);this.data.decisions={brandName:this.value("implicitBrandName"),brandType:"",brandFeatures:[],implicitBrandID:o},this.viewedBrandID>0&&(this.data.decisions.brandID=this.viewedBrandID)}else{for(t=0;t<c;++t)for(i=0,s=(e=d.componentGroups[t]).brandFeatures.length;i<s;++i)a=e.brandFeatures[i],e.multiSelect?l.push({featureID:a.featureID,selected:this.value("bf_"+a.featureID)}):l.push({featureID:a.featureID,selected:this.value("cg_"+e.groupID+"_"+a.featureID)});for(this.data.decisions={brandName:this.value("brandName"),brandType:"",brandFeatures:l,implicitBrandID:0},n=0,r=d.brandTypes.length;n<r;++n)this.value("brandType_"+d.brandTypes[n].brandType)&&(this.data.decisions.brandType=d.brandTypes[n].brandType);this.viewedBrandID>0&&(this.data.decisions.brandID=this.viewedBrandID)}}},getChangedFeaturesOfBrand:function(t,e){return t.brandFeatures.diffArray(e.brandFeatures)},haveSameBrandFeatures:function(t,e){return 0===this.getChangedFeaturesOfBrand(t,e).length},haveSameBrandName:function(t,e){return t.brandName===e.brandName},canRevertBrand:function(t,e){var i=!1;return null!==e&&t.brandID===e.brandID&&(i=!0,this.haveSameBrandName(t,e)&&this.haveSameBrandFeatures(t,e)||(i=!1),!i)},changeFeatures:function(t){var e,i,s,a,n,r,o,l=this.data.staticData,d=l.componentGroups.length,c=this.getBrandType();for(e=0;e<d;++e){for(s=!1,a=0,n=(i=l.componentGroups[e]).brandFeatures.length;a<n;++a)r=i.brandFeatures[a],(o=t.indexOf(r.featureID)>-1)?(s=!0,this.selectFeature(r.featureID)):this.deselectFeature(r.featureID),i.multiSelect?(this.setValue("bf_"+r.featureID,o),o&&this.changeFeature(i,r,!0,c)):(this.setValue("cg_"+i.groupID+"_"+r.featureID,o?r.featureID:0),o&&this.changeFeature(i,r,!0,c));i.multiSelect||i.required||s||(this.setValue("cg_"+i.groupID+"_0",0),this.changeFeature(i,0,!0,c))}},setBrandType:function(t){var e,i,s=this.data.staticData;for(e=0,i=s.brandTypes.length;e<i;++e)this.setValue("brandType_"+s.brandTypes[e].brandType,t)},write:function(){var t,e,i,s,a,n,r,o,l=this.data.dynamicData,d=l.allBrands.length,c=this.data.staticData,h="",p="",u=this.defaultFeatures,g=[];for(e=null,t=0;t<d;++t)l.allBrands[t].brandID==this.viewedBrandID&&(e=l.allBrands[t]),l.allBrands[t].implicitBrandID>0&&(g[l.allBrands[t].implicitBrandID]=l.allBrands[t]);for(r=l.deletedBrands.length,n=0;n<r;++n)l.deletedBrands[n].brandID==this.viewedBrandID&&(e=l.deletedBrands[n]);if(this.viewedBrandID>0)if(null!=e){for(h=e.brandName,p=e.brandType,u=e.brandFeatures,r=c.previousQuarterBrands.length,n=0;n<r;++n)c.previousQuarterBrands[n].brandID==this.viewedBrandID&&(this.previousQtrBrand=c.previousQuarterBrands[n]);this.viewedBrand=e}else this.viewedBrandID=-1,this.viewedBrand=null;else p=null;if(this.viewedBrandID>=0){if(0==this.viewedBrandID||this.copying?(this.showButtons(["save","cancel"]),this.hideButtons(["revertChanges","restoreBrand","deleteBrand","modify","goBack"])):!e.canModify||this.deleting||this.restoring?e.canDelete&&this.deleting?(this.showButtons(["deleteBrand","goBack"]),this.hideButtons(["revertChanges","restoreBrand","modify","save","cancel"])):this.restoring?(this.showButtons(["restoreBrand","goBack"]),this.hideButtons(["revertChanges","deleteBrand","modify","save","cancel"])):(this.showButtons(["goBack"]),this.hideButtons(["revertChanges","restoreBrand","deleteBrand","modify","save","cancel"])):(this.showButtons(["modify","goBack","save","cancel"]),this.hideButtons(["revertChanges","restoreBrand","deleteBrand"]),this.canRevertBrand(e,this.previousQtrBrand)&&this.showButtons(["revertChanges"]),this.inModifyMode?this.disableButtons(["modify","goBack"]):this.isCurrentQuarter()&&"undefined"!=typeof Engine?this.disableButtons(["revertChanges","save","cancel"]):this.hideButtons(["revertChanges","modify","save","cancel"])),c.simpleMarketing&&0==this.viewedBrandID)for(this.setValue("implicitBrandName",h),i=0,s=c.implicitBrands.length;i<s;++i)a=c.implicitBrands[i],this.setValue("implicitBrandID_"+a.brandID,0),void 0!==g[a.brandID]?(j$("#implBrandName_"+a.brandID).html(g[a.brandID].brandName.escapeHTML()),j$("#implicitBrandID_"+a.brandID).attr("disabled",!0).hide()):(j$("#implBrandName_"+a.brandID).html(""),j$("#implicitBrandID_"+a.brandID).attr("disabled",!1).show());else this.viewedBrandID>=0&&(this.copying?this.setValue("brandName",this.tc("copyOf",{NAME:h})):this.setValue("brandName",h),this.setBrandType(p),o=this.hideComponents(),this.changeFeatures(u),o&&this.recalculateComponentCost());j$("#brandList").hide(),this.isReturningToList=!0,c.simpleMarketing?0==this.viewedBrandID?(j$("#oneBrand").hide(),j$("#implicitBrand").show()):(j$("#implicitBrand").hide(),j$("#oneBrand").show()):j$("#oneBrand").show(),this.inModifyMode&&!this.deleting&&(j$("#feature_desc").html(this.getDefaultDesc()),j$("#feature_img").html("")),c.simpleMarketing?j$("#implicitBrandName").focus():j$("#brandName").focus(),this.rightScrollEvt()}else{this.fillRestoreListItems(),j$("#eBrandList").children().length;var m="",b=this.data.dynamicData.notEditableBrands.toLookUp("brandID");for(j$("#eBrandList > *").off(),t=0;t<d;++t)m+=this.drawListItem(l.allBrands[t].brandID,l.allBrands[t].brandName,l.allBrands[t].brandType,l.allBrands[t].canModify);for(""!=m?(j$("#eBrandList").html(m),j$("#listHeadTab").show()):(j$("#eBrandList").html(this.tc("noBrands")),j$("#listHeadTab").hide()),t=0;t<d;++t)e=l.allBrands[t],j$("#view_"+e.brandID).on("click",this.switchBrand.bind(this,e.brandID,!1)),!this.data.staticData.simpleMarketing&&this.isCurrentQuarter()&&e.canModify&&"undefined"!=typeof Engine?(j$("#view_"+e.brandID).attr("aria-label",this.tc("viewModify")),j$("#view_img_"+e.brandID).attr("src",this.st("modifybrand:daEdit"))):(j$("#view_"+e.brandID).attr("aria-label",this.tc("view")),j$("#view_img_"+e.brandID).attr("src",this.st("modifybrand:daView"))),j$("#delete_"+e.brandID).attr("aria-label",this.tc("delete")),this.data.staticData.simpleMarketing||j$("#copy_"+e.brandID).attr("aria-label",this.tc("copyToCreateNew")),j$("#view_"+e.brandID).attr("aria-describedby","brandListItem_"+e.brandID),j$("#delete_"+e.brandID).attr("aria-describedby","brandListItem_"+e.brandID),this.data.staticData.simpleMarketing||j$("#copy_"+e.brandID).attr("aria-describedby","brandListItem_"+e.brandID),this.isCurrentQuarter()&&"undefined"!=typeof Engine&&!e.canModify&&b[e.brandID]&&!this.data.staticData.simpleMarketing&&new DropDownStaticExplanation("view_exp_"+e.brandID,this.tc("cannotModify"),this.shortDescEdi(b[e.brandID]),"","explanation-white",j$("#decision")),this.isCurrentQuarter()&&"undefined"!=typeof Engine&&e.canDelete?j$("#delete_"+e.brandID).on("click",this.switchBrand.bind(this,e.brandID,!0)):(this.isCurrentQuarter()&&b[e.brandID]&&new DropDownStaticExplanation("delete_exp_"+e.brandID,this.tc("cannotDelete"),this.shortDescDel(b[e.brandID]),"","explanation-white",j$("#decision")),j$("#delete_"+e.brandID).css({opacity:Live.opacity/2,cursor:"default"}).attr("disabled",!0)),this.data.staticData.simpleMarketing||(this.isCurrentQuarter()&&"undefined"!=typeof Engine&&this.data.dynamicData.newDesignAllowed?j$("#copy_"+e.brandID).on("click",this.switchBrand.bind(this,e.brandID,!1,!0)):j$("#copy_"+e.brandID).css({opacity:Live.opacity/2,cursor:"default"}).attr("disabled",!0));this.hideButtons(),j$("#oneBrand").hide(),c.simpleMarketing&&j$("#implicitBrand").hide(),j$("#brandList").show(),j$("#brand_new").css({opacity:Live.opacity/2,cursor:"default"}).attr("disabled",!0).off(),this.isCurrentQuarter()&&"undefined"!=typeof Engine&&l.newDesignAllowed&&j$("#brand_new").css({opacity:Live.opacity,cursor:"pointer"}).on("click",this.switchBrand.bind(this,0)).removeAttr("disabled"),this.isReturningToList&&j$("#brand_new").focus()}},shortDescEdi:function(t){var e=[];return t.startingInventory>0&&e.push(this.tc("reasonInInventory")),t.contractsCount>0&&e.push(this.tc("reasonOutsourced")),t.unitsInChannel>0&&e.push(this.tc("reasonOnWay")),"- "+e.join("<br />- ")+"<br /><br />"+this.tc("youCanDesignNewOrImproved")},shortDescDel:function(t){var e=[];return t.startingInventory>0&&e.push(this.tc("reasonInInventory")),t.contractsCount>0&&e.push(this.tc("reasonOutsourced")),t.unitsInChannel>0&&e.push(this.tc("reasonOnWay")),t.inProduction&&e.push(this.tc("reasonProduced")),t.inSelling&&e.push(this.tc("reasonForSale")),t.inAds&&e.push(this.tc("reasonAdvertised")),t.oldImplicitBrand&&e.push(this.tc("reasonOldImplicit")),"- "+e.join("<br />- ")},modify:function(){var t=this._super();return t&&this.viewedBrandID<0&&(this.cancel(),new AlertOverlay("brandDeleted",this.tc("deletedBrand"),[{id:"brandDeletedOK",label:this.tc("ok"),click:j$.proxy(this.endOverlay,this)}],"absolute","60",j$("#decision")).show()),t},writeErrors:function(){null!=this.data.errors?(this.data.staticData.simpleMarketing?this.writeError("implicitBrandName",this.data.errors.decisions.brandName,"center right"):this.writeError("brandName",this.data.errors.decisions.brandName,"center right",!0),this.writeError("btitle",this.data.errors.decisions.brandType,"center right",!0)):(this.data.staticData.simpleMarketing?this.writeError("implicitBrandName",null):this.writeError("brandName",null),this.writeError("btitle",null))},switchBrand:function(t,e,i,s){if(this.setErrors(null),this.selectedBrandType="",this.viewedBrandID=t,this.restoring=!1,this.deleting=!1,this.copying=!1,0==t){if(!this.modify())return this.viewedBrandID=-1,!1;this.showListOnSuccess=!0}else if("boolean"==typeof e&&e){if(this.deleting=!0,!this.modify())return this.viewedBrandID=-1,this.deleting=!1,!1;this.disable(),this.showListOnSuccess=!0}else if("boolean"==typeof i&&i){if(this.copying=!0,!this.modify())return this.viewedBrandID=-1,this.copying=!1,!1;this.showListOnSuccess=!0}else if("boolean"==typeof s&&s){if(this.restoring=!0,!this.modify())return this.viewedBrandID=-1,this.restoring=!1,!1;this.disable(),this.showListOnSuccess=!0}else this.write();this.writeAllErrors(),this.contentElement[0].scrollTop=0,this.resizeContent()},regroupOrder:function(t){var e,i,s,a,n,r,o,l,d=this.data.staticData.componentGroups,c=0,h=0,p=0,u=999;this.groupOrder=[[],[]];for(var g=0,m=d.length;g<m;++g)for(0==d[g].multiSelect&&0==d[g].required?c+=59:c+=39,e=0,i=d[g].brandFeatures.length;e<i;e++){if(n=d[g].brandFeatures[e],l=!0,t)for(s=0,a=this.btComps[t].length;s<a;s++)this.btComps[t][s].featureID==n.featureID&&(l=!1);l||(n.featureName.trim().length>30?c+=31:c+=20)}for(g=0,m=d.length;g<m;++g){for(0==d[g].multiSelect&&0==d[g].required?h+=31:h+=39,e=0,i=d[g].brandFeatures.length;e<i;e++){if(n=d[g].brandFeatures[e],l=!0,t)for(s=0,a=this.btComps[t].length;s<a;s++)this.btComps[t][s].featureID==n.featureID&&(l=!1);l||(n.featureName.trim().length>30?h+=40:h+=20)}r=c/2-h,Math.abs(r)<u&&(u=r,o=g+1)}for(g=0,m=d.length;g<m;++g)for(g==o&&(p=1),this.groupOrder[p].push(d[g].groupID),e=0;e<d[g].brandFeatures.length;e++)this.allFeatures.push(d[g].brandFeatures[e]),this.allFeaturesGroups[d[g].brandFeatures[e].featureID]=d[g].groupID},drawListItem:function(t,e,i,s){var a=this.data.staticData,n="",r=this.data.dynamicData.allBrands.toLookUp("brandID"),o=a.implicitBrands.toLookUp("brandID");return void 0!==r[t]&&r[t].quarterModified==Live.user.quarter()&&(n='<span class="offscreen">'+(this.data.staticData.simpleMarketing?this.tc("costThisQtrSimple"):this.tc("costThisQtr"))+"</span>",this.data.staticData.simpleMarketing?n+=o[r[t].implicitBrandID].projectCost.format():n+=a.designCost.format()),'<div class="listItemBorderWhite listItemWhite brand" id="brand_'+t+'" role="listitem" aria-labelledby="brandListItem_'+t+'"><div style="float:left;">'+this.getTypeMiniImg(i,r[t])+'<div  id="brandListItem_'+t+'" class="listItemName">'+e.escapeHTML()+'</div></div><div style="display: inline-block; float: left; margin-left:27px;">'+this.cf.getButton('<img src="'+this.st("modifybrand:daEdit")+'" id="view_img_'+t+'" class="blueButtonImage" alt />',"view_"+t,null,"blueButton")+'<div id="view_exp_'+t+'" class="blueButtonExpl"></div></div><div style="display: inline-block; float: left;">'+(this.data.staticData.simpleMarketing?"":this.cf.getButton('<img src="'+this.st("modifybrand:daCopy")+'" class="blueButtonImage" alt />',"copy_"+t,null,"blueButton","margin-left: 55px;"))+'</div><div style="display: inline-block; float: left;">'+this.cf.getButton('<img src="'+this.st("modifybrand:daDelete")+'" class="blueButtonImage" alt />',"delete_"+t,null,"blueButton","margin-left: 55px;")+'<div id="delete_exp_'+t+'" class="blueButtonExpl"></div></div><div class="listItemCost" id="cost_'+t+'">'+n+'</div><div style="clear:both;"></div></div>'},initRestoreExpand:function(){j$("#restoreListHeader").on("click",this.toggleRestoreExpand.bind(this,j$("#restoreListWrap"))),j$("#restoreListWrap").is(":visible")?(j$("#restoreListHeader").attr("aria-expanded",!0),j$(".plusSign").html("−")):(j$("#restoreListHeader").attr("aria-expanded",!1),j$(".plusSign").html("+"))},toggleRestoreExpand:function(t){t.is(":visible")?(t.hide(),j$("#restoreListHeader").attr("aria-expanded",!1),j$(".plusSign").html("+")):(t.show(),j$("#restoreListHeader").attr("aria-expanded",!0),j$(".plusSign").html("−"),t[0].scrollIntoView(!1))},drawRestoreList:function(){return""+this.drawRestoreHead()},drawRestoreHead:function(){var t="";return t+='<button class="button-plain matHeader" id="restoreListHeader" style="margin:15px 0px 8px 10px; width:605px;" aria-controls="restoreListWrap"><span class="plusSign"></span>'+this.tc("brandsForRestore")+"</button>",t+='<div id="restoreListWrap" style="display: none;">',(t+=this.drawRestoreListItems())+"</div>"},drawRestoreListItems:function(){return'<div class="listItem" style="margin: 5px 0px 8px 10px;width:595px;" id="restoreList" role="list" aria-labelledby="restoreListHeader"></div>'},fillRestoreListItems:function(){var t,e,i,s=this.data.dynamicData.deletedBrands;for(this.clearRestoreList(),e=0,i=s.length;e<i;e++)t=s[e],this.addRestoreBrandToList(t);this.hideRestoreButton(s.length)},hideRestoreButton:function(t){0===t?j$("#restoreListHeader").hide():j$("#restoreListHeader").show()},clearRestoreList:function(){j$("#restoreList").html("")},addRestoreBrandToList:function(t){var e=t.brandID,i=t.brandName,s="";s+='<div class="listItemBorderWhite listItemWhite brand" id="brand_'+e+'" role="listitem" aria-labelledby="brandListItem_'+e+'"><div style="float:left;">'+this.getTypeMiniImg(t.brandType,t)+'<div  id="brandListItem_'+e+'" class="listItemName">'+i.escapeHTML()+"</div></div>",this.isCurrentQuarter()&&(s+='<div style="display: inline-block; float: left; margin-left:27px;">'+this.cf.getButton(this.tc("restore"),"restore_"+e,null,"blueButton","display: inline-block;padding: 5px 8px; margin-top: 4px;clear:both;")+"</div>"),s+='<div style="clear:both;"></div></div>',j$("#restoreList").append(s),j$("#restore_"+e).attr("aria-describedby","brandListItem_"+e).on("click",this.switchBrand.bind(this,e,!1,!1,!0))},drawList:function(){return'<div class="listHead" style="padding:15px 0px 0px 10px; width:595px;"><div class="listItemWhite">'+(this.st("modifybrand:useSvgPreview")?'<img src="'+this.st("modifybrand:brandNew")+'" class="listHeadImage brandNew" alt/>':"")+this.cf.getButton(this.tc("createNew"),"brand_new",null,"blueButton listItemBorderWhite","display: inline-block;padding: 5px 8px;clear:both;")+'</div><div style="clear:both;"></div></div>'+this.drawListHead()+'<div class="listItem" style="margin: 5px 0px 0px 10px;width:595px;" id="eBrandList" role="list" aria-labelledby="yourBrands"></div>'},drawListHead:function(){var t="";return t+='<div id="listHeadTab" class="listHeadTab" style="padding:15px 0px 0px 10px; width:615px;">',t+='<div id="yourBrands" class="listHeadTitle" style="min-width:225px; max-width:225px;">'+this.tc("yourBrands")+"</div>",t+='<div class="listHeadTitle" style="min-width:85px; max-width:85px; text-align:center;" aria-hidden="true">'+(!this.data.staticData.simpleMarketing&&this.isCurrentQuarter()?this.tc("viewModify"):this.tc("view"))+"</div>",t+='<div class="listHeadTitle" style="min-width:85px; max-width:85px; text-align:center;" aria-hidden="true">'+(this.data.staticData.simpleMarketing?this.tc("delete"):this.tc("copyToCreateNew"))+"</div>",t+='<div class="listHeadTitle" style="min-width:85px; max-width:85px; text-align:center;" aria-hidden="true">'+(this.data.staticData.simpleMarketing?"":this.tc("delete"))+"</div>",(t+='<div class="listHeadTitle" style="min-width:135px; max-width:135px; text-align:right;"><div style="padding-right:10px;" aria-hidden="true">'+(this.data.staticData.simpleMarketing?this.tc("costThisQtrSimple"):this.tc("costThisQtr"))+"</div></div>")+"</div>"},drawBrand:function(){var t,e,i,s,a,n,r,o,l,d,c,h,p,u,g,m,b=this.data.staticData,f=b.componentGroups.toLookUp("groupID");for(this.btComps=[],this.nonBtComps=[],e='<div id="brandTopBar" class="modifyABtopBar brandTopBar"><div style="float:left;padding:1px;">'+this.tcLbl("brandName")+" "+this.com("edit","brandName","",{maxlength:b.maxNameLength,style:"padding:0px 2px 0px 2px;"})+"</div>",this.data.staticData.simpleMarketing||(e+='<div style="float:right;display:inline-block;margin-right:20px;"><div style="padding-left: 5px;margin-right: 3px;display:inline-block;float:right;font-size: 110%;">'+this.tc("costToDesignWCost",{COST:b.designCost.format()})+"</div></div>"),e+='<div style="clear:both;"></div></div><div id="brandTypesBar" class="brandTypesBar"><div class="btitle">'+this.tc("brandType")+"</div>",h=0,p=b.brandTypes.length;h<p;++h)e+='<label for="brandType_'+(m=b.brandTypes[h]).brandType+'" id="brandTypeSw_'+m.brandType+'" class="brandTypeSwitch">'+this.com("radio","brandType",!1,{style:"float:left; margin-top: 5px; margin-left:4px;margin-right:2px;"},m.brandType)+'<span id="brandTypeImg_'+m.brandType+'" style="float:left;">'+Format.brandName(m.name,m.brandType)+'</span><img id="brandTypeLImg_'+m.brandType+'" src="'+this.st("modifybrand:brandBig"+m.brandType)+'" class="brandTypeSelectLImg" style="display: none;" alt /></label>',h==p-1&&(e+='<span id="btitle"><br /></span>'),this.btComps[m.brandType]=[],this.nonBtComps[m.brandType]=[];for(e+='<div style="clear:both;"></div></div>',i=this.showPreview?'<div id="brandPreview" class="brandPreview'+(this.st("modifybrand:useSvgPreview")?"":" brandPreviewOld")+'"><div class="brandPreviewCost">'+this.tc("totalComponentCost")+'<span id="compsCost" style="margin-left:5px;"></span></div></div>':'<div class="brandPreviewCost" aria-live="polite" aria-atomic="true">'+this.tc("totalComponentCost")+'<span id="compsCost" style="margin-left:5px;"></span></div>',this.lCost=i,s='<div class="comDesc" aria-hidden="true"><img src="'+this.st("modifybrand:rdFlag")+'" id="newRdFlag" class="newRdFlag" style="display:none;" alt /><div id="newRdMessage" class="newRdMessage" style="display:none;"><span id="newRdB" class="newRdB">'+this.tc("newRD")+"</span> "+this.tc("rdFeature")+'</div><div class="comDescTitle">'+this.tc("brandFeatureDesc")+'</div><div id="feature_img" class="comDescImgWrap"></div><div class="comDescText" id="feature_desc">'+this.getDefaultDesc()+'</div><div class="comDescLine"></div></div>',s+='<span class="offscreen" id="feature_desc_ada" aria-live="polite" aria-atomic="true"></span>',this.lDesc=s,e+='<div id="rightPanel" class="modifyBrandLbar"><div>'+this.lCost+this.lDesc+"</div></div>",this.regroupOrder(),e+='<div class="modifyABBoxes" id="boxes">',n=0,r=this.groupOrder.length;n<r;++n){for(a="",a+='<div style="'+(n<this.groupOrder.length?"float:left; ":"")+'width:100%;">',o=0,l=this.groupOrder[n].length;o<l;++o)if(void 0!==f[this.groupOrder[n][o]]&&0!=(g=f[this.groupOrder[n][o]]).brandFeatures.length){a+='<div id="groupCell_'+g.groupID+'" class="fBoxWhite" role="group" aria-labelledby="grTitle_'+g.groupID+'">',""!=g.groupName&&(a+='<div id="grTitle_'+g.groupID+'" class="brandDesignTitle">'+g.groupName+"</div>");var v="",y="";for(d=0,c=g.brandFeatures.length;d<c;++d){for(u=g.brandFeatures[d],g.multiSelect?(y="bf_"+u.featureID,t=this.com("checkbox",y,!1)+'<span style="margin-left:2px; width:100%;">'+u.featureName+"</span>"):(y="cg_"+g.groupID+"_"+u.featureID,t=this.com("radio","cg_"+g.groupID,0,{},u.featureID)+'<span style="margin-left:2px; width:100%;">'+u.featureName+"</span>"),h=0,p=b.brandTypes.length;h<p;++h)m=b.brandTypes[h],(u.featureTypes&m.featureType)>0?this.btComps[m.brandType].push({groupID:g.groupID,featureID:u.featureID}):this.nonBtComps[m.brandType].push({groupID:g.groupID,featureID:u.featureID});v+='<label for="'+y+'" id="comps_'+u.featureID+'" class="daDesignLabel" style="cursor: pointer;"><div class="daDesignLabelTable" style="float:left;">'+t+'<span id="compso_'+u.featureID+'" class="offscreen">'+this.tc("price")+'</span><div class="price" style="text-align: right; line-height: 17px; padding-left: 4px;">'+u.featurePrice+'</div></div><div style="clear:both;"></div></label>'}g.multiSelect||g.required||(a+='<label for="cg_'+g.groupID+'_0" class="daDesignLabel" style="cursor: pointer;"><div class="daDesignLabelTable">'+this.com("radio","cg_"+g.groupID,0,{},0)+'<span style="margin-left:2px; width:100%;">'+this.tc("none")+"</span></div></label>"),a+=v,a+="</div>"}a+="</div>",e+=this.cs.drawComp("div",a,"box_"+n,"50%","","r",10,"","","","",1,"","float:left;white-space: normal;")}return e+"</div>"},getBrType:function(){var t,e,i,s,a=j$("[id^=brandType_]");for(t=0,e=a.length;t<e;t++)i=a[t].id.split("_")[1],j$("#brandType_"+i).is(":checked")&&(s=i);return s},getComp:function(t){var e,i,s=this.st("modifybrand:compUids").toLookUp("uid")[t],a=s.comp.toLookUp("brandType");return i=s.comp[0],void 0!==a.ALL&&(i=a.ALL),void 0!==a[e=this.getBrType()]&&(i=a[e],void 0!==a[e].assoc&&this.changeDep(a[e].assoc)),i},drawOnePreviewCmp:function(t,e,i){var s,a,n="";if(n+='<div id="svgbfp_'+e+"_"+i+'">',void 0===t.variant)void 0!==t.img&&(n+=this.cs.drawComp("img",Path.getDecPath("modifyBrand",t.img),"comp_"+i+" "+e,"100%","","a",t.index,(void 0!==t.top?t.top/4:0)+"%",(void 0!==t.left?t.left/7:0)+"%","","",1,"","","")),void 0!==t.refl&&(n+=this.cs.drawComp("img",Path.getDecPath("modifyBrand",t.refl),"refl_"+i+" "+e,"100%","","a",t.index-11,(void 0!==t.top?t.top/4:0)+"%",(void 0!==t.left?t.left/7:0)+"%","","",.1,"","","")),void 0!==t.open&&(n+=this.cs.drawComp("img",Path.getDecPath("modifyBrand",t.open),"open_"+i+" "+e,"100%","","a",t.index-10,(void 0!==t.top?t.top/4:0)+"%",(void 0!==t.left?t.left/7:0)+"%","","",1,"","",""));else for(s=0,a=t.variant.length;s<a;s++)void 0!==t.variant[s].img&&(n+=this.cs.drawComp("img",Path.getDecPath("modifyBrand",t.variant[s].img),"comp_"+i+"_"+t.variant[s].id+" "+e,"100%","","a",t.index,(void 0!==t.top?t.top/4:0)+"%",(void 0!==t.left?t.left/7:0)+"%","","",1,"","","")),void 0!==t.variant[s].refl&&(n+=this.cs.drawComp("img",Path.getDecPath("modifyBrand",t.variant[s].refl),"refl_"+i+"_"+t.variant[s].id+" "+e,"100%","","a",t.index-11,(void 0!==t.top?t.top/4:0)+"%",(void 0!==t.left?t.left/7:0)+"%","","",.1,"","","")),void 0!==t.variant[s].open&&(n+=this.cs.drawComp("img",Path.getDecPath("modifyBrand",t.variant[s].open),"open_"+i+"_"+t.variant[s].id+" "+e,"100%","","a",t.index-10,(void 0!==t.top?t.top/4:0)+"%",(void 0!==t.left?t.left/7:0)+"%","","",1,"","",""));return n+"</div>"},drawAllPreviewCmp:function(t,e){var i,s,a,n,r,o,l,d,c,h,p,u,g=this.data.staticData.componentGroups,m=this.st("modifybrand:compUids").toLookUp("uid"),b=this.st("modifybrand:allBrandTypes");for(i=0,s=g.length;i<s;i++)for(r=0,o=(l=g[i].brandFeatures).length;r<o;r++)for(h=0,p=(d=m[u=l[r].featureUID].comp).length;h<p;h++)if("ALL"==(c=d[h]).brandType)for(a=0,n=b.length;a<n;a++)t[b[a]].append(this.drawOnePreviewCmp(c,u,b[a]));else t[c.brandType].append(this.drawOnePreviewCmp(c,u,c.brandType));return e.append(this.cs.drawComp("img",Path.getDecPath("modifyBrand","background",".jpg"),"background","100%","","a",-80,"","","","","","","","")),""},drawPreview:function(){var t,e,i,s,a,n=j$('<div id="brandPreviewImg" class="brandPreviewImg"></div>'),r=[];if(this.st("modifybrand:useSvgPreview"))n.append('<div class="brandPreviewSpinner"><div id="floatingCirclesG"><div class="f_circleG" id="frotateG_01"></div><div class="f_circleG" id="frotateG_02"></div><div class="f_circleG" id="frotateG_03"></div><div class="f_circleG" id="frotateG_04"></div><div class="f_circleG" id="frotateG_05"></div><div class="f_circleG" id="frotateG_06"></div><div class="f_circleG" id="frotateG_07"></div><div class="f_circleG" id="frotateG_08"></div></div></div>'),j$("#brandPreview").append(n),n.load(this.st("modifybrand:brandPreview"),j$.proxy(this.initPreview,this));else{for(j$("#brandPreview").append(n),a=j$('<div role="img" aria-label="'+this.tc("brandPreview")+'" style="position:relative; z-index: 10; height: 190px; width:100%;"></div>'),t=0,e=(i=this.st("modifybrand:allBrandTypes")).length;t<e;t++)s=j$('<div id="svgbfp_'+i[t]+'"></div>'),r[i[t]]=s,a.append(s);this.drawAllPreviewCmp(r,a),n.append(a),n.toggleClass("smallBP",!0),this.initPreview()}},initPreview:function(){var t,e,i,s,a;if(this.data.staticData,0!=j$("#brandPreview").length){for(t=0,e=(a=this.st("modifybrand:allBrandTypes")).length;t<e;t++)this.btPreviews[a[t]]=j$("#svgbfp_"+a[t]).detach();s=j$('<div class="brandPreviewZoomIn"></div>'),(i=j$('<img src="'+this.st("modifybrand:zoomIn")+'" id="zoomPreviewImg" class="brandPreviewZoomInImg" alt="'+this.tc("zoomIn")+'" />')).appendTo(s),s.hover(j$.proxy((function(){i.attr("src",this.st("modifybrand:zoomInHover"))}),this,i),j$.proxy((function(){i.attr("src",this.st("modifybrand:zoomIn"))}),this,i)),s.on("click",j$.proxy(this.zoomPreview,this)),j$("#brandPreview").append(s),this.hideComponents(),this.recalculateComponentCost()}},zoomPreview:function(){var t=this.getBrandType();this.ovr=new Overlay("","grBrandPreviewZoomOvr","","","","","center","middle","","auto","auto"),this.ovr.ctx=this,this.ovr.hasCloseX=!0,this.ovr.onDrawContent=j$.proxy(this.drawZoomedImg,this.ovr,t),this.ovr.onOverlayDestroy=j$.proxy(this.destroyZoomedImg,this,this.ovr),this.ovr.onObserveContent=function(){j$(".overlayBoxContent").css({overflow:"hidden"})},this.ovr.draw(!0)},drawZoomedImg:function(t){var e=j$("#brandPreviewImg").children().first(),i=e.width(),s=e.height();return this.img=e.detach(),this.img.css({width:2*i,height:2*s}),this.img},destroyZoomedImg:function(t){var e=t.img.width(),i=t.img.height();t.img.css({width:e/2,height:i/2}),j$("#brandPreviewImg").append(t.img)},changePreviewBt:function(){var t,e,i,s=this.data.staticData,a=this.getBrandType();for(j$("#brandPreviewImg").children().first().append(this.btPreviews[a.brandType]),t=0,e=s.brandTypes.length;t<e;t++)a.brandType!=s.brandTypes[t].brandType&&(i=j$("#svgbfp_"+s.brandTypes[t].brandType)).length>0&&(this.btPreviews[s.brandTypes[t].brandType]=i.detach())},resetFeatPreview:function(){this.data.staticData;var t=this.getBrandType();j$('[id^="svgbfp_b_"]').hide(),this.toggleDefaults(),j$("#svgbfp_"+t.brandType).show()},toggleDefaults:function(){var t=this.getBrandType(),e=!1;this.chosenGroupsFeatures.forEach((function(t,i){"fimg_b_pedals_flat_std"!=t.featureUID&&"fimg_b_pedals_flat_grip"!=t.featureUID&&"fimg_b_pedals_clip_std"!=t.featureUID&&"fimg_b_pedals_clipless_std"!=t.featureUID&&"fimg_b_pedals_clipless_quick"!=t.featureUID||(e=!0)})),e||j$('[id^="svgbfp_b_pedals_flat_std_'+t.brandType+'"]').show()},onShowChange:function(t,e){this.st("modifybrand:compUids").toLookUp("uid");var i,s,a,n,r,o,l,d,c,h=this.dependtComps.toLookUp("depID");for(i=0;i<t.length;i++)switch(t[i].type){case"move":j$("[id~="+t[i].id+"]").css({top:this.topZero+t[i].top+"px",left:this.leftZero+t[i].left+"px"}),j$("[id~="+t[i].id+"]").css({top:this.topZero+t[i].top+"px",left:this.leftZero+t[i].left+"px"}),j$("[id~="+t[i].id+"]").css({top:this.topZero+t[i].top+"px",left:this.leftZero+t[i].left+"px"});break;case"switch":for(s=0;s<t[i].changes.length;s++)for(a=0,n=(d=this.getComp(t[i].changes[s])).variant.length;a<n;a++){for(l=!1,r=0,o=(c=d.variant[a]).dep.length;r<o;r++)void 0!==h[c.dep[r].depID]&&h[c.dep[r].depID].value==c.dep[r].value&&(l=!0);l&&j$("[id~="+t[i].changes[s]+"]").is(":visible")&&(j$("[id~="+t[i].changes[s]+"]").hide(),j$("[id~=comp_"+d.brandType+"_"+c.id+"][id~="+t[i].changes[s]+"]").show(),j$("[id~=comp_"+d.brandType+"_"+c.id+"][id~="+t[i].changes[s]+"]").css({opacity:e}),j$("[id~=refl_"+d.brandType+"_"+c.id+"][id~="+t[i].changes[s]+"]").show(),j$("[id~=open_"+d.brandType+"_"+c.id+"][id~="+t[i].changes[s]+"]").show())}break;case"show":void 0!==(d=this.getComp(t[i].id)).onShow&&this.onShowChange(d.onShow,e),this.compDraw(t[i].id,d,e);break;case"hide":j$("[id$="+t[i].id+"]").hide()}},changeDep:function(t){var e,i;for(e=0,i=t.length;e<i;e++)this.dependtComps[e]={depID:t[e].depID,value:t[e].value}},compDraw:function(t,e,i){var s,a,n,r,o,l=this.dependtComps.toLookUp("depID");if(void 0===e.variant)j$("[id~=comp_"+e.brandType+"][id~="+t+"]").show(),j$("[id~=comp_"+e.brandType+"][id~="+t+"]").css({opacity:i}),j$("[id~=refl_"+e.brandType+"][id~="+t+"]").show(),j$("[id~=open_"+e.brandType+"][id~="+t+"]").show();else for(a=0,n=e.variant.length;a<n;a++){for(s=!1,r=0,o=e.variant[a].dep.length;r<o;r++)void 0!==l[e.variant[a].dep[r].depID]&&l[e.variant[a].dep[r].depID].value==e.variant[a].dep[r].value&&(s=!0);s&&(j$("[id~=comp_"+e.brandType+"_"+e.variant[a].id+"][id~="+t+"]").show(),j$("[id~=comp_"+e.brandType+"_"+e.variant[a].id+"][id~="+t+"]").css({opacity:i}),j$("[id~=refl_"+e.brandType+"_"+e.variant[a].id+"][id~="+t+"]").show(),j$("[id~=open_"+e.brandType+"_"+e.variant[a].id+"][id~="+t+"]").show())}},highlightComponent:function(t,e){var i,s,a,n,r,o,l=this.data.staticData.componentGroups;for(r=this.getComp(t),i=0,s=l.length;i<s;i++)if(0==l[i].multiSelect&&void 0!==(o=l[i].brandFeatures).toLookUp("featureUID")[t])for(a=0,n=o.length;a<n;a++)j$("[id$="+o[a].featureUID+"]").hide();void 0!==r&&(void 0!==r.onShow&&this.onShowChange(r.onShow,.6),this.compDraw(t,r,.6))},toggleFeatPreview:function(t,e,i){this.data.staticData,null!=t&&(i?j$('[id^="svgbfp_'+e.featureUID+"_"+t.brandType+'"]').not('[id*="_hover_"]').show():j$('[id^="svgbfp_'+e.featureUID+"_"+t.brandType+'"]').not('[id*="_hover_"]').hide(),this.toggleSpecialFeatures(e,i,!1,t))},toggleSpecialFeatures:function(t,e,i,s){var a,n,r,o,l,d,c,h=[],p=[],u=[],g=(s=s||this.getBrandType(),this.st("modifybrand:compUids").toLookUp("uid"));if(null!=s&&null!=t){var m,b,f,v=!1,y=!1,w=!1,D=!1,_=!1,I=!1;if(this.chosenGroupsFeatures.forEach((function(t,e){if("b_util_derail"==t.featureUID&&(y=!0),"b_speed_1"==t.featureUID&&(v=!0),"b_susp_front"!=t.featureUID&&"b_susp_full"!=t.featureUID&&"b_susp_auto"!=t.featureUID||(w=!0),"case_lap_std"==t.featureUID&&(D=!0,_=!1,I=!1),"case_lap_slim"!=t.featureUID&&"case_lap_uslim"!=t.featureUID||(D=!1,_=!0,I=!1),"case_lap_styl"!=t.featureUID&&"case_lap_slimstyl"!=t.featureUID||(D=!1,_=!1,I=!0),g[t.featureUID])for(c=g[t.featureUID].comp,r=0,o=c.length;r<o;r++)if(("ALL"==c[r].brandType||c[r].brandType==s.brandType)&&c[r].onShow)for(a=0,n=c[r].onShow.length;a<n;a++)l=c[r].onShow[a],u[l.id]={type:l.type,top:l.top,left:l.left}})),i&&e&&("case_lap_std"==t.featureUID&&(D=!0,_=!1,I=!1),"case_lap_slim"!=t.featureUID&&"case_lap_uslim"!=t.featureUID||(D=!1,_=!0,I=!1),"case_lap_styl"!=t.featureUID&&"case_lap_slimstyl"!=t.featureUID||(D=!1,_=!1,I=!0),g[t.featureUID]))for(c=g[t.featureUID].comp,r=0,o=c.length;r<o;r++)if(("ALL"==c[r].brandType||c[r].brandType==s.brandType)&&c[r].onShow)for(a=0,n=c[r].onShow.length;a<n;a++)l=c[r].onShow[a],u[l.id]={type:l.type,top:l.top,left:l.left};if(g[t.featureUID])for(c=g[t.featureUID].comp,r=0,o=c.length;r<o;r++)if(("ALL"==c[r].brandType||c[r].brandType==s.brandType)&&c[r].groupsToHide)for(a=0,n=c[r].groupsToHide.length;a<n;a++)i&&e&&p.push(c[r].groupsToHide[a]),i&&!e&&h.push(c[r].groupsToHide[a]);for(m=j$('[id^="comp_L_std"],[id^="refl_L_std"]'),b=j$('[id^="comp_L_slim"],[id^="refl_L_slim"]'),f=j$('[id^="comp_L_styl"],[id^="refl_L_styl"]'),a=0,n=p.length;a<n;a++)"case"==p[a]&&j$('[id^="svgbfp_case"]').find('[id^="comp_"]').hide(),"keyb_L"==p[a]&&(D&&j$('[id^="svgbfp_keyb"]').find(m).hide(),_&&j$('[id^="svgbfp_keyb"]').find(b).hide(),I&&j$('[id^="svgbfp_keyb"]').find(f).hide()),"util_oncase_D"==p[a]&&j$('[id^="svgbfp_util_expslot"],[id^="svgbfp_util_backup"],[id^="svgbfp_util_gps"],[id^="svgbfp_util_finger"]').find('[id^="comp_"]').hide(),"util_oncase_L"==p[a]&&j$('[id^="svgbfp_util_expslot"],[id^="svgbfp_util_gps"],[id^="svgbfp_util_finger"]').find('[id^="comp_"]').hide();for(a=0,n=h.length;a<n;a++)"case"==h[a]&&j$('[id^="svgbfp_case"]').find('[id^="comp_"]').show(),"keyb_L"==h[a]&&(D&&j$('[id^="svgbfp_keyb"]').find(m).show(),_&&j$('[id^="svgbfp_keyb"]').find(b).show(),I&&j$('[id^="svgbfp_keyb"]').find(f).show()),"util_oncase_D"==h[a]&&j$('[id^="svgbfp_util_expslot"],[id^="svgbfp_util_backup"],[id^="svgbfp_util_gps"],[id^="svgbfp_util_finger"]').find('[id^="comp_"]').show(),"util_oncase_L"==h[a]&&j$('[id^="svgbfp_util_expslot"],[id^="svgbfp_util_gps"],[id^="svgbfp_util_finger"]').find('[id^="comp_"]').show();for(d in u)u.hasOwnProperty(d)&&"move"==(l=u[d]).type&&j$("#svgbfp_"+d+"_"+s.brandType).children().css({top:l.top/4+"%",left:l.left/7+"%"});switch(t.featureUID){case"case_lap_std":case"case_lap_slim":case"case_lap_uslim":case"case_lap_styl":case"case_lap_slimstyl":D?m.show():m.hide(),_?b.show():b.hide(),I?f.show():f.hide()}switch(t.featureUID){case"b_susp_front":case"b_susp_full":case"b_susp_auto":i?w||e?j$('[id^="svgbfp_frame_cutout_'+s.brandType+'"]').hide():j$('[id^="svgbfp_frame_cutout_'+s.brandType+'"]').show():w&&e?j$('[id^="svgbfp_frame_cutout_'+s.brandType+'"]').hide():j$('[id^="svgbfp_frame_cutout_'+s.brandType+'"]').show();break;case"b_util_derail":v?(j$('[id^="svgbfp_derailleur_basic_'+s.brandType+'"]').hide(),j$('[id^="svgbfp_b_util_derail_'+s.brandType+'"]').hide()):e?j$('[id^="svgbfp_derailleur_basic_'+s.brandType+'"]').hide():y||j$('[id^="svgbfp_derailleur_basic_'+s.brandType+'"]').show();break;case"b_speed_1":e?(j$('[id^="svgbfp_derailleur_basic_'+s.brandType+'"]').hide(),j$('[id^="svgbfp_b_util_derail_'+s.brandType+'"]').hide()):v||(y?j$('[id^="svgbfp_b_util_derail_'+s.brandType+'"]').show():j$('[id^="svgbfp_derailleur_basic_'+s.brandType+'"]').show());break;case"b_speed_7":case"b_speed_14":case"b_speed_24":case"b_speed_11":e?y?j$('[id^="svgbfp_b_util_derail_'+s.brandType+'"]').show():j$('[id^="svgbfp_derailleur_basic_'+s.brandType+'"]').show():v&&(j$('[id^="svgbfp_derailleur_basic_'+s.brandType+'"]').hide(),j$('[id^="svgbfp_b_util_derail_'+s.brandType+'"]').hide())}}},hlFeatPreview:function(t,e,i){var s,a,n,r,o,l,d,c=this.getBrandType();if(null!=e)if(d=j$('[id^="svgbfp_'+e.featureUID+"_"+c.brandType+'"]'),i){if(!t.multiSelect)for(s=0,a=t.brandFeatures.length;s<a;++s)n=t.brandFeatures[s],(r=j$('[id^="svgbfp_'+n.featureUID+"_"+c.brandType+'"]')).hide();if(d.show(),d.length>0)for(o=0,l=d.length;o<l;o++)d[o].setAttribute("class","svgbfp-hilit")}else{if(t.multiSelect)j$("#bf_"+e.featureID).is(":checked")?d.show():d.hide();else for(s=0,a=t.brandFeatures.length;s<a;++s)n=t.brandFeatures[s],r=j$('[id^="svgbfp_'+n.featureUID+"_"+c.brandType+'"]'),j$("#cg_"+t.groupID+"_"+n.featureID).is(":checked")?r.show():r.hide();if(j$('[id*="'+c.brandType+'_hover_"]').hide(),d.length>0)for(o=0,l=d.length;o<l;o++)d[o].setAttribute("class","")}else for(s=0,a=t.brandFeatures.length;s<a;++s)n=t.brandFeatures[s],(r=j$('[id^="svgbfp_'+n.featureUID+"_"+c.brandType+'"]')).hide()},showBrandTypes:function(){var t,e,i,s=this.data.staticData;for(t=0,e=s.brandTypes.length;t<e;++t)i=s.brandTypes[t],j$("#brandTypeLImg_"+i.brandType).show(),j$("#brandTypeImg_"+i.brandType).find("img").hide(),j$("#brandTypeSw_"+i.brandType).css({height:"81px"});j$("#brandTypesBar").css({height:"81px"}),j$("#brandTopBar").css({"min-height":"55px","line-height":"55px"}),j$("#rightPanel").hide(),j$("#boxes").hide()},hideBrandTypes:function(){var t,e,i,s=this.data.staticData;for(t=0,e=s.brandTypes.length;t<e;++t)i=s.brandTypes[t],j$("#brandTypeLImg_"+i.brandType).delay(500).hide(),j$("#brandTypeImg_"+i.brandType).find("img").delay(500).show(),j$("#brandTypeSw_"+i.brandType).animate({height:"24px"},500);j$("#brandTypesBar").animate({height:"24px"},500),j$("#brandTopBar").animate({"min-height":"30px","line-height":"30px"},500),j$("#rightPanel").show(),j$("#boxes").show(),this.clearErrors(),this.resize(),j$("#rightPanel").animate({height:j$("#decision").height()-59+"px"},500)},resetBrandTypes:function(){var t,e,i,s=this.data.staticData;for(t=0,e=s.brandTypes.length;t<e;++t)i=s.brandTypes[t],j$("#brandTypeLImg_"+i.brandType).hide(),j$("#brandTypeImg_"+i.brandType).find("img").show(),j$("#brandTypeSw_"+i.brandType).css({height:"24px"});j$("#brandTypesBar").css({height:"24px"}),j$("#brandTopBar").css({"min-height":"30px","line-height":"30px"}),j$("#rightPanel").show(),j$("#boxes").show(),this.clearErrors(),this.resize()},drawImplicitBrand:function(){var t,e,i,s,a=this.data.staticData,n=a.implicitBrands.length,r=[],o=[{title:this.tc("brand")},{title:this.tc("brandName")},{title:this.tc("designCost"),type:"number"},{title:this.tc("materialCost"),type:"number"},{title:this.tc("segment")},{title:this.tc("description")}];for(r.push({cols:o,type:"head"}),e=0;e<n;++e)s=[],i=a.implicitBrands[e],s.push(this.com("radio","implicitBrandID",0,{label:Format.brandName(i.brandName.escapeHTML(),i.brandType)},i.brandID)),s.push('<span id="implBrandName_'+i.brandID+'"></span>'),s.push(i.projectCost,i.materialCost,i.segmentName,i.brandDesc),r.push({values:s});return this.ibTable=new DecisionTable(this.tc("brandSelection"),"ibTable",o,r,!0),t='<div id="implicitBrandTopBar" class="modifyABtopBar brandTopBar"><div style="float:left;padding:1px;">'+this.tcLbl("brandName",{},"implicitBrandName")+" "+this.com("edit","implicitBrandName","",{maxlength:a.maxNameLength,style:"padding:0px 2px 0px 2px;"})+"</div>",this.data.staticData.simpleMarketing||(t+='<div style="float:right;display:inline-block;margin-right:20px;"><div style="padding-left: 5px;margin-right: 3px;display:inline-block;float:right;font-size: 110%;">'+this.tc("costToDesignWCost",{COST:a.designCost.format()})+"</div></div>"),t+'<div style="clear:both;"></div></div><div style="margin: 5px 0px 0px 10px;" id="eImplicitBrand">'+this.ibTable.draw()+"</div>"},setButtonCaptions:function(){this.buttonCaptions.restoreBrand=this.tc("restore"),this.buttonCaptions.deleteBrand=this.tc("delete"),this.buttonCaptions.revertChanges=this.tc("revert"),this.buttonCaptions.goBack=this.tc("back")},draw:function(){return this.setButtonCaptions(),'<div id="brandList" style="display: none;">'+this.drawList()+this.drawRestoreList()+'</div><div id="oneBrand" style="display: none;">'+this.drawBrand()+"</div>"+(this.data.staticData.simpleMarketing?'<div id="implicitBrand" style="display: none;">'+this.drawImplicitBrand()+"</div>":"")},switchToCompGroup:function(t){var e,i,s,a,n,r,o=this.data.staticData.componentGroups,l=this.data.staticData.brandTypes.toLookUp("brandType");for(o.toLookUp("shortName"),e=0,i=o.length;e<i;e++){for(n=!0,s=0,a=(r=o[e].brandFeatures).length;s<a;s++)(r[s].featureTypes&l[t].featureType)>0&&(n=!1);n?j$("#groupCell_"+o[e].groupID).hide():j$("#groupCell_"+o[e].groupID).show()}this.regroupOrder(t),this.fixBoxes()},fixBoxes:function(){var t,e,i,s,a,n=this.data.staticData.componentGroups.toLookUp("groupID");for(t=0,e=this.groupOrder.length;t<e;t++)for(s=0,a=this.groupOrder[t].length;s<a;s++)void 0!==n[this.groupOrder[t][s]]&&(i=n[this.groupOrder[t][s]],j$("#groupCell_"+i.groupID).parents("div").parents("div").attr("id").split("_")[1],j$("#groupCell_"+i.groupID).appendTo("#box_"+t))},hideComponents:function(){var t,e,i,s,a,n,r,o,l={},d=this.data.staticData,c=d.componentGroups.toLookUp("groupID"),h=d.brandTypes,p=h.length;if(null===(o=this.getBrandType())){for(r=0;r<p;++r)j$("#brandTypeSw_"+h[r].brandType).toggleClass("active",!1);return this.showBrandTypes(),!1}for(0==this.viewedBrandID?this.hideBrandTypes():this.resetBrandTypes(),this.changePreviewBt(),r=0;r<p;++r)o.brandType==h[r].brandType?j$("#brandTypeSw_"+h[r].brandType).toggleClass("active",!0):j$("#brandTypeSw_"+h[r].brandType).toggleClass("active",!1);for(t=this.btComps[o.brandType],i=this.nonBtComps[o.brandType],this.switchToCompGroup(o.brandType),s=0,a=i.length;s<a;++s)(n=j$("#comps_"+i[s].featureID)).find("input").prop("checked",!1),n.attr("disabled",!0).hide();for(s=0,a=t.length;s<a;++s)(n=j$("#comps_"+t[s].featureID)).attr("disabled",!1).show(),c[t[s].groupID].multiSelect||(n.find("input").is(":checked")?l[t[s].groupID]=0:void 0===l[t[s].groupID]&&(l[t[s].groupID]=t[s].featureID));for(var u in l)l[u]>0&&(c[u].required?(j$("#cg_"+u+"_"+l[u]).prop("checked",!0),e=c[u].brandFeatures.toLookUp("featureID"),this.changeFeature(c[u],e[l[u]],!0,o)):(j$("#cg_"+u+"_0").prop("checked",!0),this.changeFeature(c[u],0,!0,o)));return!0},recalculateComponentCost:function(){var t,e,i,s,a,n=0,r=this.data.staticData,o=r.componentGroups.length,l=this.getBrandType();if(null!=l){for(this.resetFeatPreview(),t=0;t<o;++t)for(i=0,s=(e=r.componentGroups[t]).brandFeatures.length;i<s;++i)a=e.brandFeatures[i],e.multiSelect?this.value("bf_"+a.featureID)?(this.toggleFeature(a.featureID,!0),this.toggleFeatPreview(l,a,!0),n+=Number(a.featurePrice)*l.costAdj):(this.toggleFeature(a.featureID,!1),this.toggleFeatPreview(l,a,!1)):this.value("cg_"+e.groupID+"_"+a.featureID)?(this.toggleFeature(a.featureID,!0),this.toggleFeatPreview(l,a,!0),n+=Number(a.featurePrice)*l.costAdj):(this.toggleFeature(a.featureID,!1),this.toggleFeatPreview(l,a,!1)),j$("#comps_"+a.featureID).find("div.price").first().html((Number(a.featurePrice)*l.costAdj).format());this.setValue("compsCost",n.format()),this.componentCost=n}},changeFeature:function(t,e,i,s){var a=!0;s=s||this.getBrandType(),i.length>0?a=i.is(":checked"):void 0!==i&&(a=i),e=e||!1,t.multiSelect?a?(this.chosenGroupsFeatures[t.groupID+e.featureID+200]=e,this.componentCost+=e.featurePrice,this.toggleFeature(e.featureID,!0),this.toggleFeatPreview(s,e,!0)):(this.chosenGroupsFeatures[t.groupID+e.featureID+200]=0,this.componentCost-=e.featurePrice,this.toggleFeature(e.featureID,!1),this.toggleFeatPreview(s,e,!1)):(this.chosenGroupsFeatures[t.groupID]&&this.chosenGroupsFeatures[t.groupID].featureID&&(this.componentCost-=this.chosenGroupsFeatures[t.groupID].featurePrice,this.toggleFeature(this.chosenGroupsFeatures[t.groupID].featureID,!1),this.toggleFeatPreview(s,this.chosenGroupsFeatures[t.groupID],!1)),a?(this.chosenGroupsFeatures[t.groupID]=e,e&&(this.componentCost+=e.featurePrice,this.toggleFeature(e.featureID,!0),this.toggleFeatPreview(s,e,!0))):this.chosenGroupsFeatures[t.groupID]=0),this.componentCostEle.html(this.componentCost.format())},resize:function(){j$("#rightPanel").css({height:j$("#decision").height()-2-j$("#brandTypesBar").outerHeight()-j$("#modifyABtopBar").outerHeight()+Math.min(j$("#decision").scrollTop(),j$("#modifyABtopBar").outerHeight()+j$("#brandTypesBar").outerHeight())+"px"})},rightScrollEvt:function(){var t=Math.min(j$("#decision").scrollTop()-j$("#brandTopBar").outerHeight()-j$("#brandTypesBar").outerHeight(),j$("#boxes").outerHeight()-j$("#decision").height());t>0?j$("#rightPanel").css({"margin-top":t+"px"}):j$("#rightPanel").css({"margin-top":"0px"}),j$("#rightPanel").css({height:j$("#decision").height()-2-j$("#brandTypesBar").outerHeight()-j$(".modifyABtopBar").outerHeight()+Math.min(j$("#decision").scrollTop(),j$(".modifyABtopBar").outerHeight()+j$("#brandTypesBar").outerHeight())+"px"})},toggleFeature:function(t,e){var i=j$("#bf_"+t).parents("label").first(),s=j$('[id^="cg_"][id$="_'+t+'"]').parents("label").first();i.length>0&&i.toggleClass("selected",e),s.length>0&&s.toggleClass("selected",e)},selectFeature:function(t){this.toggleFeature(t,!0)},deselectFeature:function(t){this.toggleFeature(t,!1)},hoverFeature:function(t,e,i){this.inModifyMode&&(t.toggleClass("hover",!0),this.hlFeatPreview(e,i,!0),this.toggleSpecialFeatures(i,!0,!0))},dehoverFeature:function(t,e,i){t.toggleClass("hover",!1),this.hlFeatPreview(e,i,!1),this.toggleSpecialFeatures(i,!1,!0)},updateRdFeatureStatus:function(t){var e=this.data.staticData;-1!=e.newFeatures.indexOf(t.featureID)&&(j$("#comps_"+t.featureID).prepend('<img src="'+this.st("modifybrand:rdFlag")+'" class="newRdFlag" alt />'),j$("#compso_"+t.featureID).prepend(this.tc("newRdFeature"))),-1!=e.developedFeatures.indexOf(t.featureID)&&j$("#compso_"+t.featureID).prepend(this.tc("rdFeature")),-1==e.newFeatures.indexOf(t.featureID)&&-1==e.developedFeatures.indexOf(t.featureID)||j$("#comps_"+t.featureID).toggleClass("developedRD",!0)},updateRdComDescStatus:function(t){var e=this.data.staticData;-1!=e.newFeatures.indexOf(t.featureID)?(j$("#newRdB").show(),j$("#newRdFlag").show()):(j$("#newRdB").hide(),j$("#newRdFlag").hide()),-1!=e.newFeatures.indexOf(t.featureID)||-1!=e.developedFeatures.indexOf(t.featureID)?j$("#newRdMessage").show():j$("#newRdMessage").hide()},hoverFeatureAction:function(t,e,i,s){var a,n;if(this.inModifyMode&&!this.deleting){if(null!=s){var r;for(a=0,n=t.brandTypes.length;a<n;++a)this.value("brandType_"+t.brandTypes[a].brandType)&&(r=this.st("features:fimg_"+s.featureUID+"_"+t.brandTypes[a].brandType));null===r&&(r=this.st("features:fimg_"+s.featureUID)),this.fillFeatDesc(s,r)}else this.emptyFeatDesc(!0);this.hoverFeature(e,i,s)}},dehoverFeatureAction:function(t,e,i){var s;this.inModifyMode&&!this.deleting&&(null!=i?(this.emptyFeatDesc(),this.dehoverFeature(t,e,i)):(s=this.getBrandType(),this.emptyFeatDesc(!0),this.dehoverFeature(t,e,i),this.toggleFeatPreview(s,this.chosenGroupsFeatures[e.groupID],!0)))},observe:function(){var t,e,i,s,a,n,r,o,l=this.data.staticData,d=l.componentGroups.length;for(this.initRestoreExpand(),this.componentCostEle=j$("#compsCost"),j$("#decision").on("scroll",this.rightScrollEvt.bind(this)),j$("#brand_new").html('<span id="des_new">'+this.tc("createNew")+"</span>"),r=0,o=l.brandTypes.length;r<o;++r)j$("#brandType_"+l.brandTypes[r].brandType).on("click",j$.proxy((function(){this.hideComponents(),this.recalculateComponentCost()}),this));for(this.showPreview&&this.drawPreview(),l.simpleMarketing&&j$("#implicitBrand").css({opacity:Live.opacity}),void 0!==this.ibTable&&this.ibTable.observe(),e=0;e<d;++e)for((i=l.componentGroups[e]).multiSelect||i.required||((t=j$("#cg_"+i.groupID+"_0").closest("label")).hover(j$.proxy(this.hoverFeatureAction,this,l,t,i,null),j$.proxy(this.dehoverFeatureAction,this,t,i,null)),t.on("click",j$.proxy(this.changeFeature,this,i,0,t,null)),t.on("focusin",j$.proxy(this.emptyFeatDesc,this,!0))),s=0,a=i.brandFeatures.length;s<a;++s)n=i.brandFeatures[s],this.updateRdFeatureStatus(n),(t=j$("#comps_"+n.featureID)).hover(j$.proxy(this.hoverFeatureAction,this,l,t,i,n),j$.proxy(this.dehoverFeatureAction,this,t,i,n)),t.on("focusin",j$.proxy(this.hoverFeatureAction,this,l,t,i,n)),t.on("focusout",j$.proxy(this.dehoverFeatureAction,this,t,i,n)),(t=j$("#comps_"+n.featureID+" input")).on("click",j$.proxy(this.changeFeature,this,i,n,t,null));this.write()},getDefaultDesc:function(){return'<div class="sidePaneNote brandPreviewDefaultDesc">'+(this.isCurrentQuarter()?this.tc("defaultDescNew"):this.tc("defaultDescOld"))+"</div>"},fillFeatDesc:function(t,e){this.fillTimeout&&clearTimeout(this.fillTimeout),this.fillTimeout=setTimeout(j$.proxy((function(t){j$("#feature_desc_ada").html(t.featureDesc)}),this,t),500),this.emptyTimeout&&clearTimeout(this.emptyTimeout),this.descShowing=!0,null!==e&&this.st("modifybrand:useSvgPreview")&&j$("#feature_img").html('<img src="'+e+'" class="comDescImg" alt/>'),j$("#feature_desc").html(t.featureDesc),this.updateRdComDescStatus(t),j$("#feature_desc").stop(!0,!0).show(),j$("#feature_img").stop(!0,!0).show()},emptyDesc:function(t){t?(j$("#feature_desc").html(this.getDefaultDesc()).show(),j$("#feature_img").html("").show()):(j$("#feature_desc").fadeOut("slow",j$.proxy((function(){this.descShowing||j$("#feature_desc").html(this.getDefaultDesc()).show()}),this)),j$("#feature_img").fadeOut("slow",j$.proxy((function(){this.descShowing||j$("#feature_img").html("").show()}),this))),j$("#newRdFlag").hide(),j$("#newRdMessage").hide()},emptyFeatDesc:function(t){this.emptyTimeout&&clearTimeout(this.emptyTimeout),this.descShowing=!1,t?this.emptyDesc(t):this.emptyTimeout=setTimeout(j$.proxy(this.emptyDesc,this),1e3)},destroy:function(){j$("#decision").off("scroll",this.rightScrollEvt),this.emptyTimeout&&clearTimeout(this.emptyTimeout),this._super()},drawSOD:function(){var t,e,i,s,a,n,r,o,l=this.data.staticData,d=l.componentGroups,c=this.data.dynamicData.allBrands,h=[],p=c.toLookUp("brandID"),u=[{title:""}],g=[];for(e=0;e<c.length;e++)(a=c[e]).quarterDesigned!=Live.user.quarter()&&a.quarterModified!=Live.user.quarter()||(h.push(a.brandID),t=a.quarterDesigned==Live.user.quarter()?this.tc("new"):this.tc("modified"),u.push({title:Format.brandName(a.brandName.escapeHTML(),a.brandType)+'<br /><span style="font-size:smaller; font-weight:normal;">'+t+"</span>",type:"flag"}));if(h.length>0)for(e=0;e<d.length;e++)for(r=!1,i=0;i<d[e].brandFeatures.length;i++){n=d[e].brandFeatures[i],o=!1;var m=[Format.rdFeatureName("",n.featureName,n.featureTypes,l.brandTypes,!0)];for(s=0;s<h.length;s++)-1!=p[h[s]].brandFeatures.indexOf(n.featureID)?(m.push(!0),o=!0):m.push(!1);o&&(r||(g.push({title:d[e].groupName}),r=!0),g.push(m))}if(h.length>0){var b=new DecisionTable("","resModBrands",u,g);b.vertical=!0,b.tableCorners="",this.setValue(this.pfxSod+this.service,b.draw())}else this.setValue(this.pfxSod+this.service,this.tc("noNewOrModified"))}})},19584:(t,e,i)=>{"use strict";i(46718),window.ModifyBrandSimple=ModifyBrandAnim2.extend({showPreview:!1})},37697:()=>{window.Morale=Decision.extend({style:"padding: 10px 10px 0px 10px;",viewModeButtons:[],modifyModeButtons:[],draw:function(){var t,e,i,s,a=this.data.staticData,n=a.startQuarter,r=a.teams,o=this.user.quarter(),l=r.length,d=[],c=[{title:this.tc("company")}];for(t=n;t<=o;++t)c.push({title:this.tc("qtr",{QTR:t}),type:"number"});for(e=0;e<l;++e){for(i=[r[e].companyName.escapeHTML()],s=r[e].morale.toLookUp("quarter"),t=n;t<=o;++t)i.push(s[t].morale);d.push(i)}return this.mTable=new DecisionTable(this.tc("morale"),"mTable",c,d,!1,"wooden"),this.mTable.draw()},observe:function(){this.mTable.observe()}})},72607:()=>{window.Newsletter=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",draw:function(){var t,e=this.data.staticData.messages,i=e.length,s=[];for(t=0;t<i;++t)s.push({title:e[t].subject,type:"dtitle"},['<div class="industry-newsletter">'+e[t].message+"</div>"]);return this.iTable=new DecisionTable("","inTable",[{title:""}],s,!0),this.iTable.doHlRows=!1,this.iTable.draw()},observe:function(){var t,e=this.data.staticData.messages,i=e.length,s={width:"550px",height:"300px",margin:"10px auto"};for(j$(".industry-newsletter").find("img").css({float:"none","max-width":"570px"}),this.iTable.observe(),this.iTable.change("css",{float:"none","max-width":"610px",margin:"auto","line-height":"1.5em"}),t=0;t<i;++t)j$("#seasonality_"+t).length>0&&(j$("#seasonality_"+t).css(s),this.seasonalityChart(e[t],"seasonality_"+t)),j$("#economic-trend_"+t).length>0&&(j$("#economic-trend_"+t).css(s),this.economicTrendChart(e[t],"economic-trend_"+t))},seasonalityChart:function(t,e){if(Live.useSvg()){chart=this.data.staticData.chartTemplate,chart.legend.margin.bottom=10,chart.chartArea.margin.right=12,chart.legend.position="bottom",chart.legend.align="center",chart.legend.columns=t.seasonality.length,j$.extend(chart.data,{title:this.tc("seasonality"),xAxis:this.tc("quarter"),yAxis:this.tc("yaxis"),labels:[],x:[],y:[],minY:t.chartMin,maxY:t.chartMax,intersectionX:1,intersectionY:t.chartMin,maxX:t.maxQuarters,xLines:[this.user.quarter()],saveUrl:this.st("common:saveChartURL"),saveName:"seasonality-chart"}),chart.chartArea.vLabels.decimals=0;for(var i=0,s=0,a=t.seasonality.length;s<a;++s){var n=t.seasonality[s];chart.data.labels[i]=n.regionName;for(var r=0,o=n.quarters.length;r<o;++r)0===i&&(chart.data.x[r]=n.quarters[r].quarter,chart.data.y[r]=[]),chart.data.y[r][i]=n.quarters[r].value;i++}SvgCharts.BaseChart.setChartData(e,chart)}},economicTrendChart:function(t,e){if(Live.useSvg()){chart=this.data.staticData.chartTemplate,chart.legend.margin.bottom=10,chart.chartArea.margin.right=12,chart.legend.position="bottom",chart.legend.align="center",chart.legend.columns=t.economicTrend.length,j$.extend(chart.data,{title:this.tc("economicTrend"),xAxis:this.tc("quarter"),yAxis:this.tc("yaxis"),labels:[],x:[],y:[],minY:t.chartMin,maxY:t.chartMax,intersectionX:1,intersectionY:t.chartMin,maxX:t.maxQuarters,xLines:[this.user.quarter()],saveUrl:this.st("common:saveChartURL"),saveName:"economic-trend-chart"}),chart.chartArea.vLabels.decimals=0;for(var i=0,s=0,a=t.economicTrend.length;s<a;++s){var n=t.economicTrend[s];chart.data.labels[i]=n.regionName;for(var r=0,o=n.quarters.length;r<o;++r)0===i&&(chart.data.x[r]=n.quarters[r].quarter,chart.data.y[r]=[]),chart.data.y[r][i]=Number(n.quarters[r].value);i++}SvgCharts.BaseChart.setChartData(e,chart)}}})},77447:()=>{window.NewsSources=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",draw:function(){var t,e,i=this.data.staticData.links,s=[];for(t=0,e=i.length;t<e;t++)s.push([this.cf.getLink(i[t].label,i[t].id,"undefined"!=typeof Engine?this.runClick.bind(this,i[t]):null,i[t].url)]);return this.linksTable=new DecisionTable(this.tc("linksToNews"),"linksTable",[{}],s,!0,"concrete"),this.linksTable.draw()},runClick:function(t){Engine.openWindow(t.url,"NewsWindow","simple",900,700)},observe:function(){this.linksTable.observe()}})},50779:()=>{window.NumberOfSearches=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",draw:function(){var t,e,i,s,a,n,r,o=this.data.staticData,l=[],d=[],c=[],h=!0,p="";for(l.push({title:"",type:"left",vhead:!0}),d.push({title:this.tc("region"),align:"left"}),e=0,i=o.keywords.length;e<i;e++)l.push({title:"",type:"number"}),d.push({title:o.keywords[e].label,type:"number"});for(c.push({cols:[{title:""},{title:this.tc("kwTerms"),colspan:o.keywords.length+1}],type:"head"}),c.push({cols:d,type:"head"}),a=0,n=o.regions.length;a<n;a++){for(s=o.regions[a],(r=[]).push(s.regionName),e=0,i=s.keywords.length;e<i;e++)t=s.keywords[e],h=!1,r.push([t.searches]);c.push(r)}return h?(this.emptyLabel=new DecisionLabel(this.service,"emptyLabel",this.tc("empty"),"","blue"),this.emptyLabel.draw()):(this.nosTable=new DecisionTable("","nos",l,c,!0),p+='<div id="gr_nos" style="margin:auto; margin-bottom:10px; height:300px; width:600px;"></div>',p+=this.nosTable.draw())},observe:function(){var t=this.data.staticData;null!=this.emptyLabel?(this.emptyLabel.observe(),this.emptyLabel.change("float","left")):(this.nosTable.observe(),this.setChartData(t.graph,"gr_nos"))},setChartData:function(t,e){var i,s,a;if(this.data.staticData.regions.toLookUp("regionID"),Live.useSvg()){for(a=this.data.staticData.chartTemplate,j$.extend(a.data,{title:this.tc("numberOfSearches"),xAxis:this.tc("quarter"),yAxis:"",xLines:10,labels:[],x:[],y:[],dsX:5,dsY:8,saveUrl:this.st("common:saveChartURL"),saveName:"number-of-searches-"+t.id+this.user.quarter()}),a.legend.position="right",i=0,s=t.series.length;i<s;++i)for(data=t.data[t.series[i].id],a.data.labels[i]=t.series[i].label,a.data[i]=[],x=0,xl=data.length;x<xl;++x)0==i&&(a.data.x[x]=Number(x),a.data.y[x]=[]),a.data.y[x][i]=Number(data[x]);SvgCharts.BaseChart.setChartData(e,a)}}})},27539:()=>{window.OpenSalesOffice=Decision.extend({style:"padding: 10px 10px 0px 10px;",getRegionIterator:function(){return this.getIterator.apply(this,["regions","regionID",function(t,e){return!0},this.data.staticData].concat(Array.from(arguments)))},getCityIterator:function(){return this.getIterator.apply(this,["cities","cityID",function(){return!0}].concat(Array.from(arguments)))},read:function(){var t=this;this.getRegionIterator(this.data.decisions)((function(e,i,s){t.getCityIterator(s)((function(i,s){s.change=t.value("change_"+e+"_"+i)}))}))},write:function(){var t=this;this.getRegionIterator(this.data.decisions)((function(e,i,s){t.getCityIterator(s)((function(i,s){t.setValue("change_"+e+"_"+i,s.change)}))}))},writeErrors:function(){var t=this;this.getRegionIterator(this.data.errors.decisions)((function(e,i,s){t.getCityIterator(s)((function(i,s){t.writeError("change_"+e+"_"+i,s.change,"center left",!0)}))}))},writeCalculate:function(){j$("#openSalesOfficeTotal").html(Number(this.data.calculate.total).format()),null!==this.data.calculate.totalFactorySetup&&j$("#factorySetupTotal").html(Number(this.data.calculate.totalFactorySetup).format())},getRegionTable:function(t,e,i){var s=this,a=e.cities[0].setupCost>0,n=[{title:this.tc("city"),header:!0,vline:!0},{title:this.tc("open"),type:"flag"},{title:this.tc("close"),type:"flag",vline:!0},{title:this.tc("status"),type:"flag"}],r=[];return a&&n.push({title:this.tc("setup"),type:"number"}),n.push({title:this.tc("lease"),type:"number"}),this.getCityIterator(e,i)((function(e,i,n){var o=s.com("checkbox","change_"+t+"_"+e,n.change),l=[i.cityName,i.opened?"":o,i.opened?o:"",i.opened?s.tc("opened"):s.tc("closed")];a&&l.push(i.setupCost),l.push(i.leaseCost),r.push({values:l})})),new DecisionTable(e.regionName,"soTable_"+t,n,r)},getTotalLabel:function(){var t=this.tc("totalCost")+' <span id="openSalesOfficeTotal">'+Number(this.data.calculate.total).format()+"</span>";return null!==this.data.calculate.totalFactorySetup&&(t+="<br />"+this.tc("totalFactorySetupCost")+' <span id="factorySetupTotal">'+Number(this.data.calculate.totalFactorySetup).format()+"</span>"),new DecisionLabel(this.service,"soLabel",t,"","stone")},getProductionFacilitySetupTable:function(){var t=[{title:this.tc("region")},{title:this.tc("city"),vline:!0},{title:this.tc("constructionCost"),type:"number"}],e=[];return this.getRegionIterator()((function(t,i){null!==i.factory&&e.push([i.regionName,i.factory.cityName,i.factory.constructionCost])})),e.length>0?new DecisionTable(this.tc("productionFacilitySetup"),"productionFacilityTable",t,e):null},draw:function(){var t=this;return this.soTables=[],this.getRegionIterator(this.data.decisions)((function(e,i,s){t.soTables.push(t.getRegionTable(e,i,s))})),this.soLabel=this.getTotalLabel(),this.productionFacilitySetupTable=this.getProductionFacilitySetupTable(),this.soTables.reduce((function(t,e){return t+e.draw()}),"")+this.soLabel.draw()+(null!==this.productionFacilitySetupTable?this.productionFacilitySetupTable.draw():"")},observe:function(){var t=this;this.soTables.forEach((function(t){return t.observe()})),DecisionTable.setMaxColWidths(this.soTables,0),this.getRegionIterator()((function(e,i){t.getCityIterator(i)((function(i){t.bindCalculate("change_"+e+"_"+i,"click",!1)}))})),this.soLabel.observe(),this.soLabel.change("float","left"),null!==this.productionFacilitySetupTable&&this.productionFacilitySetupTable.observe()},resize:function(){DecisionTable.setMaxColWidths(this.soTables,0)},drawSOD:function(){var t=this,e="";this.getRegionIterator(this.data.decisions)((function(i,s,a){var n=[],r=[],o=[];t.getCityIterator(s,a)((function(t,e,i){e.opened?i.change?o.push(e.cityName):n.push(e.cityName):i.change&&r.push(e.cityName)})),(n.length>0||r.length>0||o.length>0)&&(e+='<div style="font-weight:bold;">'+s.regionName+'<div style="margin-left:10px; margin-bottom:5px; font-weight:normal;">'+(n.length>0?t.tc("operational")+" "+n.join(", ")+"<br />":"")+(r.length>0?t.tc("opening")+" "+r.join(", ")+"<br />":"")+(o.length>0?t.tc("closing")+" "+o.join(", ")+"<br />":"")+"</div></div>")})),e+=this.tc("totalCost")+" "+Number(this.data.calculate.total).format(),this.setValue(this.pfxSod+this.service,e)}})},10993:(t,e,i)=>{"use strict";i(27539),window.OpenSalesOfficeAnim=OpenSalesOffice.extend({style:"height: 100%; overflow:hidden;",forceFullSizeAbsolute:!0,initialize:function(t){this._super("OpenSalesOffice")},draw:function(){var t,e,i,s,a,n,r,o,l,d=this.data.staticData,c=this.data.decisions.regions.toLookUp("regionID"),h=d.regions[0].cities[0].setupCost>0,p=d.regions.toLookUp("regionID"),u=this.loadPositions(),g="";for(this.maxMr=0,this.positions=u,this.effect=[],this.cityEffect=[],t=0,e=d.regions.length;t<e;++t)for(o=p[(i=d.regions[t]).regionID].cities.toLookUp("cityID"),s=0,a=i.cities.length;s<a;++s){l=o[(n=i.cities[s]).cityID].mr;for(var m=0;m<l.length;m++)l[m].size>this.maxMr&&(this.maxMr=l[m].size)}for(t=0,e=d.regions.length;t<e;++t)for(r=c[(i=d.regions[t]).regionID].cities.toLookUp("cityID"),this.effect[i.regionID]=[],this.cityEffect[i.regionID]=[],s=0,a=i.cities.length;s<a;++s)n=i.cities[s],g+=h?this.drawCity(i,n.cityID,n.cityName,n.opened,r[n.cityID].change,n.leaseCost,n.setupCost):this.drawCity(i,n.cityID,n.cityName,n.opened,r[n.cityID].change,n.leaseCost);return this.markSizeDec='<div id="markSizeDec" class="greenScTab labelScTab"><label class="darkBlueLabel" style="position:relative;top:-2px;"><input type="checkbox" name="showMarketSize" id="showMarketSize" value="1"/>'+this.tc("showMarketSize")+"</label></div>",this.soCostDec='<div id="soCostDec" class="woodenScTab labelScTab"><label class="darkBlueLabel" style="position:relative;top:-2px;"><input type="checkbox" name="showSoCost" id="showSoCost" value="1" />'+this.tc("showSOCost")+"</label></div>",this.soLabel='<span id="totalLabel" style="position:absolute;top:82%;left:62.5%;color:white;background:#122689;" style="z-index:50;">'+this.tc("totalCost")+'&nbsp;&nbsp;<span id="openSalesOfficeTotal">'+Number(this.data.calculate.total).format()+"</span></span>",'<span id="additionalInfo" style="position:absolute;top:83%;left:-7px;font-weight:bold;z-index:50;">'+this.markSizeDec+this.soCostDec+"</span>"+g+this.soLabel},onModifyScene:function(){j$(".cancelCity").toggleClass("modifyCity",!0).toggleClass("cancelCity",!1)},onSaveScene:function(){j$(".modifyCity").toggleClass("modifyCity",!1).toggleClass("cancelCity",!0)},onCancelScene:function(){j$(".modifyCity").toggleClass("modifyCity",!1).toggleClass("cancelCity",!0),this.refreshCities()},drawCityInfo:function(t,e,i,s,a){var n,r,o,l,d=t.regionID,c=this.positions[d][e],h=this.data.staticData,p=h.segments.toLookUp("segmentID"),u=h.regions.toLookUp("regionID")[d].cities.toLookUp("cityID")[e].mr,g=[],m=[],b="",f=[{title:"",isHead:!0,styleClass:"rightAlign",style:"padding-right:3px;"},{title:""}];for(void 0!==a?((m=[]).push(this.tc("setup")),m.push(Number(a).format()),g.push(m),(m=[]).push(this.tc("lease")),m.push(Number(s).format()),g.push(m)):(b="margin-bottom:2px;padding-top:6px;padding-bottom:6px;",(m=[]).push(this.tc("lease")),m.push(Number(s).format()),g.push(m)),(n=new SceneTable(this.tc("setupLeaseCost",{REGCITY:i}),"opCost_"+d+"_"+e,f,g,"wooden","padding-left:4px;padding-right:4px;white-space: nowrap;"+b,"sTabLines")).hideTitle=!0,n.hideHead=!0,f=[{title:"",isHead:!0,styleClass:"redText",style:""},{title:"",style:"min-width:60px;padding-right:4px;"}],g=[],o=0;o<u.length;o++)(m=[]).push(p[u[o].segmentID].name),r=void 0!==this.maxMr||this.maxMr>0?u[o].size/this.maxMr*100:100,m.push('<div id="marketSegmentSize_'+d+"_"+e+"_"+u[o].segmentID+'" style="width:'+r+'%;white-space: nowrap;padding:1px;border-radius:2px;color:black;background-repeat:repeat-x;background:#E23128;)">'+Number(u[o].size).format()+"</div>"),g.push(m);return(l=new SceneTable(this.tc("marketSize",{REGCITY:i}),"marketSize_"+d+"_"+e,f,g,"green","width:100%;bottom:100%;position:absolute;margin-bottom:3px;z-index:50;","sTabLines")).hideTitle=!0,l.hideHead=!0,'<div style="position:absolute;bottom:185%;margin-left:'+c.infoMargLeft+'px;">'+l.draw()+'</div><div style="position:absolute;bottom:100%;margin-left:'+c.infoMargLeft+'px;">'+n.draw()+"</div>"},resize:function(){var t,e,i,s,a,n,r,o=this.data.staticData,l=j$("#decision"),d=l.width()/700;for(j$("#additionalInfo").css("top",332*d),t=0,e=o.regions.length;t<e;++t)for(a=0,n=(i=o.regions[t]).cities.length;a<n;++a)s=i.cities[a],j$("#city_"+i.regionID+"_"+s.cityID).css("top",4*l.width()/7*this.positions[i.regionID][s.cityID].y/100),(r=j$("#img_"+i.regionID+"_"+s.cityID)).hasClass("open")?r.css("top",4*l.width()/7*this.positions[i.regionID][s.cityID].imageOpenedY/100):r.css("top",4*l.width()/7*this.positions[i.regionID][s.cityID].imagey/100)},drawCity:function(t,e,i,s,a,n,r){var o,l,d,c,h,p=t.regionID,u="",g=this.positions[p][e];return l='<div id="openLabel_'+p+"_"+e+'" class="openLabel" style="position:relative;float:'+("right"==g.situated?"right":"left")+';    z-index: 50;padding:2px;margin-top:2px;min-width:100px;">'+this.cf.getComponent("checkbox","change_"+p+"_"+e,a,{label:'<span id="cityStatus_'+p+"_"+e+'" class="cancelCity" style="position:relative;margin-left:1px;">'+(s?this.tc("close"):this.tc("open"))+'</span><span class="offscreen">'+i+"</span>"})+"</div>",o='<div id="cityLabel_'+p+"_"+e+'" aria-hidden="true" class="cityLabel  cityLabelBck" style="z-index: 30;position:relative;">'+i+"</div>",d=this.drawCityInfo(t,e,i,n,r),c='<div id="cityMarker_'+p+"_"+e+'" class="cityMarker" style="z-index: 25;"></div>',"right"==g.situated?u+='<div id="city_'+p+"_"+e+'" style="position:absolute;top:'+g.y+"%;left:"+g.x+'%;">'+c+'<div style="margin-left:4px;position:relative;float:right;">'+d+o+l+"</div></div>":"left"==g.situated&&(u+='<div id="city_'+p+"_"+e+'" style="position:absolute;top:'+g.y+"%;right:"+(100-g.x)+'%;">'+c+'<div style="margin-right:4px;position:relative;float:left;">'+d+o+l+"</div></div>"),h="left"==g.situated?"right":"left",(s?'<img id="img_'+p+"_"+e+'" class="open" src="'+Path.getDecPath("salesoffice","SOOpen"+g.image,".png")+'" alt="" style="position:absolute;z-index:1;top:'+g.imageOpenedY+"%;"+h+":"+g.imageOpenedX+'%;" />':'<img id="img_'+p+"_"+e+'" class="notopen" src="'+Path.getDecPath("salesoffice","SOConstr"+g.image,".png")+'" alt="" style="position:absolute;z-index:1;top:'+g.imagey+"%;"+h+":"+g.imagex+'%;" />')+u},changeImageStatus:function(t,e){var i=this.data.staticData.regions.toLookUp("regionID")[t].cities.toLookUp("cityID");this.data.decisions.regions.toLookUp("regionID")[t].cities.toLookUp("cityID"),void 0!==this.cityEffect&&void 0!==this.cityEffect[t]&&void 0!==this.cityEffect[t][e]&&this.cityEffect[t][e].stop(!0,!0),i[e].opened?j$("#change_"+t+"_"+e).is(":checked")?this.cityEffect[t][e]=this.cs.fade("img_"+t+"_"+e,.2):this.cityEffect[t][e]=this.cs.appear("img_"+t+"_"+e,.2):j$("#change_"+t+"_"+e).is(":checked")?this.cityEffect[t][e]=this.cs.appear("img_"+t+"_"+e,.2):this.cityEffect[t][e]=this.cs.fade("img_"+t+"_"+e,.2)},changeTextStatus:function(t){var e,i,s,a,n,r,o=this.data.staticData,l=o.regions.toLookUp("regionID");for(this.data.decisions.regions.toLookUp("regionID"),e=0,i=o.regions.length;e<i;e++)for(a=0,n=(s=l[o.regions[e].regionID]).cities.length;a<n;a++)r=s.cities[a],1==t&&(r.opened?j$("#change_"+s.regionID+"_"+r.cityID).is(":checked")?j$("#cityStatus_"+s.regionID+"_"+r.cityID).html(this.tc("closingAnim")):j$("#cityStatus_"+s.regionID+"_"+r.cityID).html(this.tc("openedAnim")):j$("#change_"+s.regionID+"_"+r.cityID).is(":checked")?j$("#cityStatus_"+s.regionID+"_"+r.cityID).html(this.tc("openingAnim")):j$("#cityStatus_"+s.regionID+"_"+r.cityID).html(this.tc("closedAnim")))},refreshCities:function(){var t,e,i,s,a,n,r=this.data.staticData,o=this.data.decisions.regions.toLookUp("regionID");for(t=0,e=r.regions.length;t<e;++t)for(o[(i=r.regions[t]).regionID].cities.toLookUp("cityID"),s=0,a=i.cities.length;s<a;++s)n=i.cities[s],this.changeImageStatus(i.regionID,n.cityID)},changeInfoVis:function(){var t,e,i,s,a,n,r=this.data.staticData,o=this.data.decisions.regions.toLookUp("regionID");for(t=0,e=r.regions.length;t<e;++t)for(o[(i=r.regions[t]).regionID].cities.toLookUp("cityID"),s=0,a=i.cities.length;s<a;++s)n=i.cities[s],void 0!==this.effect[i.regionID][n.cityID]&&this.effect[i.regionID][n.cityID].stop(!0,!0),j$("#showMarketSize").is(":checked")?this.effect[i.regionID][n.cityID]=this.cs.appear("marketSize_"+i.regionID+"_"+n.cityID,.2):this.effect[i.regionID][n.cityID]=this.cs.hide("marketSize_"+i.regionID+"_"+n.cityID),j$("#showSoCost").is(":checked")?this.effect[i.regionID][n.cityID]=this.cs.appear("opCost_"+i.regionID+"_"+n.cityID,.2):this.effect[i.regionID][n.cityID]=this.cs.hide("opCost_"+i.regionID+"_"+n.cityID)},loadPositions:function(){var t,e=this.data.staticData.regions.length,i=[];for(t=0;t<e;t++)i[this.data.staticData.regions[t].regionID]=[];return 1===e&&(i[1][1]={x:"14.5",y:"26.5",situated:"right",infoMargLeft:"-40",imagex:"1",imagey:"26",image:"1",imageOpenedX:"2",imageOpenedY:"32"},i[1][2]={x:"32",y:"69",situated:"right",infoMargLeft:"-30",imagex:"18",imagey:"67",image:"2",imageOpenedX:"19",imageOpenedY:"73"},i[1][3]={x:"48",y:"25",situated:"right",infoMargLeft:"-60",imagex:"37",imagey:"26",image:"3",imageOpenedX:"38",imageOpenedY:"32"},i[1][4]={x:"88",y:"34",situated:"left",infoMargLeft:"0",imagex:"5",imagey:"37",image:"4",imageOpenedX:"2",imageOpenedY:"42"}),i},observe:function(){var t,e,i,s,a,n,r,o=this.data.staticData,l=this.data.decisions.regions.toLookUp("regionID"),d=o.regions.toLookUp("regionID");for(o.regions[0].cities[0].setupCost,t=0,e=o.regions.length;t<e;++t)for(l[(i=o.regions[t]).regionID].cities.toLookUp("cityID"),r=d[i.regionID].cities.toLookUp("cityID"),s=0,a=i.cities.length;s<a;++s)r[(n=i.cities[s]).cityID].mr,this.changeImageStatus(i.regionID,n.cityID),this.bindCalculate("change_"+i.regionID+"_"+n.cityID,"click",!1),this.cs.hide("marketSize_"+i.regionID+"_"+n.cityID),this.cs.hide("opCost_"+i.regionID+"_"+n.cityID),this.cs.setStyle("marketSize_"+i.regionID+"_"+n.cityID,"width:"+this.cs.getWidth("opCost_"+i.regionID+"_"+n.cityID)+"px;"),j$("#showMarketSize").on("click",this.changeInfoVis.bind(this)),j$("#showSoCost").on("click",this.changeInfoVis.bind(this)),this.effect[i.regionID][n.cityID]=this.cs.hide("img_"+i.regionID+"_"+n.cityID),j$("#change_"+i.regionID+"_"+n.cityID).on("click",this.changeImageStatus.bind(this,i.regionID,n.cityID)),this.positions[i.regionID][n.cityID].situated,this.cs.setStyle("change_"+i.regionID+"_"+n.cityID,"margin:1px;")}})},50143:()=>{window.OpenWebcenter=Decision.extend({style:"padding: 10px 10px 0px 10px;",getRegionIterator:function(){return this.getIterator.apply(this,["regions","regionID",function(t,e){return!0},this.data.staticData].concat(Array.from(arguments)))},read:function(){var t=this;this.getRegionIterator(this.data.decisions)((function(e,i,s){s.change=t.value("change_"+e)}))},write:function(){var t=this;this.getRegionIterator(this.data.decisions)((function(e,i,s){t.setValue("change_"+e,s.change)}))},writeErrors:function(){var t=this;this.getRegionIterator(this.data.errors.decisions)((function(e,i,s){t.writeError("change_"+e,s.change,"center left",!0)}))},writeCalculate:function(){j$("#openWebCenterTotal").html(Number(this.data.calculate.total).format()),null!==this.data.calculate.totalFactorySetup&&j$("#factorySetupTotal").html(Number(this.data.calculate.totalFactorySetup).format())},getWscTable:function(){var t=this,e=this.data.staticData.regions[0].setupCost>0,i=[{title:this.tc("region")},{title:this.tc("city"),vline:!0},{title:this.tc("open"),type:"flag"},{title:this.tc("close"),type:"flag",vline:!0},{title:this.tc("status"),type:"flag"}],s=[];return e&&i.push({title:this.tc("setup"),type:"number"}),i.push({title:this.tc("lease"),type:"number"}),this.getRegionIterator(this.data.decisions)((function(i,a,n){var r=t.com("checkbox","change_"+i,n.change),o=[a.regionName,a.cityName,a.opened?"":r,a.opened?r:"",a.opened?t.tc("opened"):t.tc("closed")];e&&o.push(a.setupCost),o.push(a.leaseCost),s.push({values:o})})),new DecisionTable(this.tc("webSalesCenter"),"wscTable",i,s)},getTotalLabel:function(){var t=this.tc("totalCost")+' <span id="openWebCenterTotal">'+Number(this.data.calculate.total).format()+"</span>";return null!==this.data.calculate.totalFactorySetup&&(t+="<br />"+this.tc("totalFactorySetupCost")+' <span id="factorySetupTotal">'+Number(this.data.calculate.totalFactorySetup).format()+"</span>"),new DecisionLabel(this.service,"wscLabel",t,"","stone")},getProductionFacilitySetupTable:function(){var t=[{title:this.tc("region")},{title:this.tc("city"),vline:!0},{title:this.tc("constructionCost"),type:"number"}],e=[];return this.getRegionIterator()((function(t,i){null!==i.factory&&e.push([i.regionName,i.factory.cityName,i.factory.constructionCost])})),e.length>0?new DecisionTable(this.tc("productionFacilitySetup"),"productionFacilityTable",t,e):null},draw:function(){return this.wscTable=this.getWscTable(),this.wscLabel=this.getTotalLabel(),this.productionFacilitySetupTable=this.getProductionFacilitySetupTable(),this.wscTable.draw()+this.wscLabel.draw()+(null!==this.productionFacilitySetupTable?this.productionFacilitySetupTable.draw():"")},observe:function(){var t=this;this.wscTable.observe(),this.getRegionIterator()((function(e){t.bindCalculate("change_"+e,"click",!1)})),this.wscLabel.observe(),this.wscLabel.change("float","left"),null!==this.productionFacilitySetupTable&&this.productionFacilitySetupTable.observe()},drawSOD:function(){var t=[],e=[],i=[],s="";this.getRegionIterator(this.data.decisions)((function(s,a,n){a.opened?n.change?i.push(a.regionName):t.push(a.regionName):n.change&&e.push(a.regionName)})),(t.length>0||e.length>0||i.length>0)&&(s+='<div style="margin-left: 0; margin-bottom: 5px; font-weight: normal;">'+(t.length>0?this.tc("operational")+" "+t.join(", ")+"<br />":"")+(e.length>0?this.tc("opening")+" "+e.join(", ")+"<br />":"")+(i.length>0?this.tc("closing")+" "+i.join(", ")+"<br />":"")+"</div></div>"),s+=this.tc("totalCost")+" "+Number(this.data.calculate.total).format(),this.setValue(this.pfxSod+this.service,s)}})},11394:(t,e,i)=>{"use strict";i(50143),window.OpenWebcenterAnim=OpenWebcenter.extend({style:"",initialize:function(t){this._super("OpenWebcenter")},resize:function(){var t=j$("#decision").width()/700;j$("#decision").children().first().css("height",400*t)},draw:function(){var t,e,i,s,a,n,r="",o=this.data.staticData,l=this.data.decisions.regions.toLookUp("regionID");for(o.regions[0].setupCost,this.positions=this.loadPositions(),t=0,e=o.regions.length;t<e;++t)for(s=0,a=(i=o.regions[t]).cities.length;s<a;++s)n=i.cities[s],this.data.staticData.regions[0].cityName==n.cityName?r+=this.drawCity(i.regionID,n.cityID,n.cityName,!0,i.opened,l[i.regionID].change,this.data.staticData.regions[0].leaseCost,this.data.staticData.regions[0].setupCost):r+=this.drawCity(i.regionID,n.cityID,n.cityName,!1);return this.soLabel='<span id="totalLabel" style="position:absolute;top:82%;left:62.5%;color:white;background:#0A5175">'+this.tc("totalCost")+'&nbsp;&nbsp;<span id="openWebCenterTotal">'+Number(this.data.calculate.total).format()+"</span></span>",r+this.soLabel},drawCityInfo:function(t,e,i,s,a){var n,r=this.positions[t][e],o=(this.data.staticData.regions.toLookUp("regionID")[t].cities.toLookUp("cityID"),[]),l="";return void 0!==a?(o.push([this.tc("setup"),Number(a).format()]),o.push([this.tc("lease"),Number(s).format()])):(l="margin-bottom:2px;padding-top:6px;padding-bottom:6px;",o.push([this.tc("lease"),Number(s).format()])),(n=new SceneTable(this.tc("setupLeaseCost",{REGCITY:i}),"opCost_"+t+"_"+e,[{title:"",isHead:!0,styleClass:"rightAlign",style:"padding-right:3px;"},{title:""}],o,"yellow","padding-left:20px;padding-top:5px;padding-bottom:5px;padding-right:4px;white-space: nowrap;"+l,"")).hideTitle=!0,n.hideHead=!0,'<div style="position:absolute;bottom:110%;margin-left:'+r.infoMargLeft+'px;">'+n.draw()+"</div>"},drawCity:function(t,e,i,s,a,n,r,o){var l,d,c,h="",p="",u="",g="",m=this.positions[t][e],b=this.data.decisions.regions.toLookUp("regionID"),f='<div id="cityLabel_'+t+"_"+e+'" class="cityLabel cityLabelBck" aria-hidden="true" style="position:relative;z-index:30;float:right;">'+i+"</div>";if(s?(p=this.drawCityInfo(t,e,i,r,o),h='<div style="clear:both;"></div><div id="openLabel_'+t+"_"+e+'" class="openLabel" style="position:relative;z-index:50;padding:3px;float:'+("left"==m.situated?"right":"left")+';min-width:100px;height:1rem;">'+this.cf.getComponent("checkbox","change_"+t,b[t].change,{label:'<span class="cancelCity" style="position:relative;margin-left:1px;">'+(a?this.tc("close"):this.tc("open"))+'</span><span class="offscreen">'+i+"</span>"})+"</div>",l='<div id="cityMarker_'+t+"_"+e+'" class="cityMarker" style="z-index: 25;"></div>'):l='<div id="cityMarker_'+t+"_"+e+'" class="cityMarkerYellow" style="z-index: 25;"></div>',"right"==m.situated?u+='<div id="city_'+t+"_"+e+'" style="position:absolute;top:'+m.y+"%;left:"+m.x+'%;">'+l+'<div style="margin-left:4px;position:relative;float:right;">'+p+f+h+"</div></div>":"left"==m.situated&&(u+='<div id="city_'+t+"_"+e+'" style="position:absolute;top:'+m.y+"%;right:"+(100-m.x)+'%;">'+l+'<div style="margin-right:4px;position:relative;float:left;">'+p+f+h+"</div></div>"),d="left"==m.situated?"right":"left",s)if(a)for(g='<img id="img_'+t+'" src="'+Path.getDecPath("salesoffice","wcFinished",".png")+'" alt="" style="position:absolute;width:20%;z-index:5;top:'+m.imagey+"%;"+d+":"+m.imagex+'%;" />',c=1;c<m.URDLimagey.length+1;c++)g+='<img id="arrow_'+c+'" src="'+Path.getDecPath("salesoffice","openwsc-1234",".png")+'" alt="" style="position:absolute;width:50%;top:'+m.URDLimagey[c-1]+"%;"+d+":"+m.URDLimagex[c-1]+'%;" />';else for(g='<img id="img_'+t+'" src="'+Path.getDecPath("salesoffice","wcConstruction",".png")+'" alt="" style="position:absolute;width:20%;z-index:5;top:'+m.Cimagey+"%;"+d+":"+m.Cimagex+'%;" />',c=1;c<m.URDLimagey.length+1;c++)g+='<img id="arrow_'+c+'" src="'+Path.getDecPath("salesoffice","openwsc-1234",".png")+'" alt="" style="position:absolute;width:50%;top:'+m.URDLimageyMov[c-1]+"%;"+d+":"+m.URDLimagexMov[c-1]+'%;opacity:0;" />';return g+u},loadPositions:function(){var t,e=this.data.staticData.regions.length,i=[];for(t=0;t<e;t++)i[this.data.staticData.regions[t].regionID]=[];return 1===e&&(i[1][1]={x:"14.5",y:"26.5",situated:"right",infoMargLeft:"-40",imagex:"1",imagey:"38",Cimagex:"1",Cimagey:"38",URDLimagex:["0"],URDLimagey:["24"],URDLimagexMov:["10"],URDLimageyMov:["54"]},i[1][2]={x:"32",y:"69",situated:"right",infoMargLeft:"-30",imagex:"8",imagey:"63"},i[1][3]={x:"48",y:"25",situated:"right",infoMargLeft:"-60",imagex:"37",imagey:"26"},i[1][4]={x:"88",y:"34",situated:"left",infoMargLeft:"0",imagex:"5",imagey:"37"}),i},changeImageStatus:function(t,e){var i,s=this.data.staticData.regions.toLookUp("regionID"),a=this.positions[t][s[t].cityID];for(void 0===this.regionEffect&&(this.regionEffect=[]),void 0!==this.regionEffect[t]&&this.regionEffect[t].stop(!0,!0),i=1;i<a.URDLimagey.length+1;i++)j$("#arrow_"+i).finish();if(j$("#img_"+t).finish(),s[t].opened)if(j$("#change_"+t).is(":checked"))for(j$("#img_"+t).stop(!0,!0).fadeOut(),i=1;i<a.URDLimagey.length+1;i++)j$("#arrow_"+i).stop(!0,!0).fadeOut();else for(j$("#img_"+t).stop(!0,!0).fadeIn(),i=1;i<a.URDLimagey.length+1;i++)j$("#arrow_"+i).stop(!0,!0).fadeIn();else if(j$("#change_"+t).is(":checked"))for(j$("#img_"+t).stop(!0,!0).fadeIn({queue:!1}),i=1;i<a.URDLimagey.length+1;i++)j$("#arrow_"+i).stop(!0,!0).slideDown({queue:!1}).animate({queue:!1,left:a.URDLimagex[i-1]+"%",top:a.URDLimagey[i-1]+"%",opacity:"1"});else{for(i=1;i<a.URDLimagey.length+1;i++)j$("#arrow_"+i).stop(!0,!0).slideUp({queue:!1}).animate({queue:!1,left:a.URDLimagexMov[i-1]+"%",top:a.URDLimageyMov[i-1]+"%",opacity:"0"});j$("#img_"+t).stop(!0,!0).fadeOut({queue:!1})}},onModifyScene:function(){j$(".cancelCity").toggleClass("modifyCity",!0).toggleClass("cancelCity",!1)},onSaveScene:function(){j$(".modifyCity").toggleClass("modifyCity",!1).toggleClass("cancelCity",!0)},onCancelScene:function(){j$(".modifyCity").toggleClass("modifyCity",!1).toggleClass("cancelCity",!0),this.refreshCities()},refreshCities:function(){var t,e,i=this.data.staticData;for(t=0,e=i.regions.length;t<e;++t)this.changeImageStatus(i.regions[t].regionID,!0)},observe:function(){var t,e,i,s,a=this.data.staticData,n=a.regions.toLookUp("regionID"),r=this.data.decisions.regions.toLookUp("regionID");for(t=0,e=a.regions.length;t<e;++t){if(!a.regions[t].opened&&!r[a.regions[t].regionID].change||a.regions[t].opened&&r[a.regions[t].regionID].change)for(this.cs.hide("img_"+a.regions[t].regionID),s=this.positions[a.regions[t].regionID][n[a.regions[t].regionID].cityID],i=1;i<s.URDLimagey.length+1;i++)j$("#arrow_"+i).hide();else for(s=this.positions[a.regions[t].regionID][n[a.regions[t].regionID].cityID],i=1;i<s.URDLimagey.length+1;i++)j$("#arrow_"+i).show(),j$("#arrow_"+i).css({left:s.URDLimagex[i-1]+"%",top:s.URDLimagey[i-1]+"%",opacity:"1"}),a.regions[t].opened&&j$("#arrow_"+i).css({opacity:"0.7"});j$("#change_"+a.regions[t].regionID).on("click",this.changeImageStatus.bind(this,a.regions[t].regionID,!1)),this.bindCalculate("change_"+a.regions[t].regionID,"click",!1)}}})},1953:()=>{window.OperatingCapacity=Decision.extend({newDomDraw:!0,style:"padding: 10px 10px 0px 10px;",read:function(){var t=this.data.staticData,e=this.data.decisions;e.operatingCapacity=this.value("oc"),t.hasWorkersCompensation&&(e.projectedWorkersProductivity=this.value("productivity"))},write:function(){var t=this.data.staticData,e=this.data.decisions;this.setValue("oc",e.operatingCapacity),t.hasWorkersCompensation&&this.setValue("productivity",e.projectedWorkersProductivity)},writeErrors:function(){var t=this.data.staticData,e=this.data.errors.decisions;this.writeError("oc",e.operatingCapacity,"center right",!0,3),t.hasWorkersCompensation&&this.writeError("productivity",e.projectedWorkersProductivity,"center right",!0,3)},writeCalculate:function(){var t,e,i=this.data.staticData,s=this.data.decisions,a=this.data.calculate;j$("#qcap").html((65*s.operatingCapacity).format()),i.hasWorkersCompensation&&(t=s.operatingCapacity*s.projectedWorkersProductivity/100,e=2,i.isJustInTime||(t=Math.round(t),e=0),j$("#ecap").html(t.format(e)),j$("#eqcap").html((65*t).formatInt())),this.resTable.data[0].values[1]=a.directLaborCPU,this.resTable.data[1].values[1]=a.overheadCPU,this.resTable.data[2].values[1]=a.costToChangeOperatingCapacity,this.resTable.redrawTableData(),this.setChartData("","graph-holder")},draw:function(t,e){e=e||!1;var i,s,a,n,r=this.data.staticData,o=this.data.decisions,l=this.data.calculate,d=this.data.dynamicData,c=[{title:""},{title:this.tc("unitsPerDay"),align:"right"},{title:this.tc("unitsPerQuarter"),align:"right"}],h=[],p="";if(0==r.fixedCapacity&&0==o.operatingCapacity)return this.viewModeButtons=[],this.modifyModeButtons=[],this.emptyLabel=new DecisionLabel(this.service,"emptyLabel",this.tc("common:noFactory"),"","green"),void(e||t.append(this.emptyLabel.draw()));this.emptyLabel=null,r.hasWorkersCompensation?(h.push([this.tc(r.hasFactoryProductivity?"factProductivity":"productivity"),this.com("iedit","productivity",o.projectedWorkersProductivity,{size:3})]),this.productivityTable=new DecisionTable("","productivityTable",[{title:""},{title:""}],h,!0,"green"),e&&(this.productivityTable.tableCorners="")):this.productivityTable=null,h=[],this.ocTables=[],e||(h.push([this.tc("fixedLQ"),Number(r.previousQuarterFixedCapacity).format(),(65*r.previousQuarterFixedCapacity).format()],[this.tc("operatingLQ"),Number(r.previousQuarterOperatingCapacity).format(),(65*r.previousQuarterOperatingCapacity).format()]),a=new DecisionTable(this.tc("lq"),"ocTable_lq",c,h),e&&(a.tableCorners=""),this.ocTables.push(a),p+=a.draw()),(h=[]).push([this.tc("fixedCQ"),Number(r.fixedCapacity).format(),(65*r.fixedCapacity).format()],[this.tc("operatingCQ"),this.com("iedit","oc",o.operatingCapacity,{size:5}),'<span id="qcap">'+(65*o.operatingCapacity).format()+"</span>"]),r.hasWorkersCompensation&&(i=o.operatingCapacity*o.projectedWorkersProductivity/100,n=2,r.isJustInTime||(i=Math.round(i),n=0),h.push([this.tc("effectiveOperatingCQ"),'<span id="ecap">'+i.format(n)+"</span>",'<span id="eqcap">'+(65*i).format()+"</span>"])),d.producing&&(s=r.hasWorkersCompensation?"effectiveOCNeededCQ":"OCNeededCQ",d.supplying?(h.push({values:[this.tc(s+"incAccepted"),Math.ceil(d.operatingCapacityNeeded/65).formatInt(),Number(d.operatingCapacityNeeded).formatInt()],hrbefore:!0}),d.operatingCapacityNeeded!=d.maxOperatingCapacityNeeded&&h.push({values:[this.tc("incAcceptedAndEvaluated"),Math.ceil(d.maxOperatingCapacityNeeded/65).formatInt(),Number(d.maxOperatingCapacityNeeded).formatInt()]})):h.push({values:[this.tc(s),Math.ceil(d.operatingCapacityNeeded/65).formatInt(),Number(d.operatingCapacityNeeded).formatInt()],type:!0})),a=new DecisionTable(this.tc("cq"),"ocTable_cq",c,h),e&&(a.tableCorners=""),this.ocTables.push(a),p+=a.draw(),this.resTable=new DecisionTable("","resTable",[{title:""},{title:"",type:"number"}],[[this.tc("labor"),l.directLaborCPU],[this.tc("overhead"),l.overheadCPU],[this.tc("changeExpense"),l.costToChangeOperatingCapacity]],!0,"green"),e&&(this.resTable.tableCorners=""),t.append(p+(null!=this.productivityTable?this.productivityTable.draw():"")+this.resTable.draw()+(e?"":'<div style="padding:10px;"><div id="graph-holder"></div></div>'))},observe:function(){var t,e,i=this.data.staticData;if(null!=this.emptyLabel)this.emptyLabel.observe(),this.emptyLabel.change("float","left");else{for(this.bindCalculate("oc","keyup",!0),i.hasWorkersCompensation&&this.bindCalculate("productivity","keyup",!0),t=0,e=this.ocTables.length;t<e;t++)this.ocTables[t].observe();DecisionTable.setMaxColWidths(this.ocTables,0),this.resTable.observe(),this.data.staticData.fixedCapacity>0&&(j$("#graph-holder").css({position:"relative",margin:"auto",width:"450px",height:"250px",opacity:Live.opacity}),this.setChartData("","graph-holder"))}},resize:function(){null==this.emptyLabel&&this.ocTables.length>0&&DecisionTable.setMaxColWidths(this.ocTables,0)},setChartData:function(t,e){var i,s,a,n,r,o=this.data.calculate.graph;if(Live.useSvg()){for(chart=this.data.staticData.chartTemplate,j$.extend(chart.data,{title:o.title,xAxis:o.x,yAxis:o.y,labels:[],x:[],y:[],minX:0,minY:0,xLines:[this.data.decisions.operatingCapacity],saveUrl:this.st("common:saveChartURL"),saveName:"operating-capacity-q"+this.user.quarter()}),chart.chartSettings.radius=0,i=0,s=o.data.length;i<s;++i){var l=o.data[i];for(chart.data.labels[i]=l.label,a=0,n=l.x.length;a<n;++a)0==i&&(chart.data.x[a]=Number(l.x[a]),chart.data.y[a]=[]),chart.data.y[a][i]=Number(l.y[a])}SvgCharts.BaseChart.setChartData(e,chart)}else{for(j$("#"+e).html(""),chart=new LineChart(j$("#"+e)[0]),chart.minX=0,chart.minY=0,chart.xLines=[this.data.decisions.operatingCapacity],chart.label=o.title,chart.legend=o.showLegend,chart.labelX=o.x,chart.labelY=o.y,chart.labels=[],chart.data=[],chart.category=[],i=0,s=o.data.length;i<s;++i)for(r=o.data[i],chart.labels[i]=r.label,chart.data[i]=[],a=0,n=r.x.length;a<n;++a)chart.data[i][a]=Number(r.y[a]),chart.category[a]=Number(r.x[a]);chart.draw()}},drawSOD:function(){var t=j$("#"+this.pfxSod+this.service);t.html(""),this.draw(t,!0),this.disable()}})},45651:(t,e,i)=>{"use strict";i(1953),window.OperatingCapacityAnim=OperatingCapacity.extend({style:"padding: 5px 338px 0px 5px;",initialize:function(t){this._super("OperatingCapacity")},writeCalculate:function(){var t,e,i=this.data.staticData,s=this.data.decisions,a=this.data.calculate;j$("#qcap").html((65*s.operatingCapacity).format()),i.hasWorkersCompensation&&(t=s.operatingCapacity*s.projectedWorkersProductivity/100,e=2,i.isJustInTime||(t=Math.round(t),e=0),j$("#ecap").html(t.format(e)),j$("#eqcap").html((65*t).formatInt())),this.resTable.data[0].values[1]=a.directLaborCPU,this.resTable.data[1].values[1]=a.overheadCPU,this.resTable.data[2].values[1]=a.costToChangeOperatingCapacity,this.resTable.redrawTableData(),this.showProductionLineAnim&&(this.drawPallets(),this.drawPeople(),0!=s.operatingCapacity||this.toteStopped||(this.toteStopped=!0,this.stopMoveTotes()),this.toteStopped&&s.operatingCapacity>0&&(this.toteStopped=!1,this.moveTotes()),this.speedChanged=!0),this.setChartData("","graph-holder")},drawPallets:function(){var t=this.data.staticData,e=this.data.decisions,i=j$("#pallets"),s=j$("#clutter1"),a=j$("#clutter2");i.finish(),e.operatingCapacity>0?i.css({opacity:1}):i.css({opacity:0}),0!=t.fixedCapacity&&t.fixedCapacity/2<=e.operatingCapacity?s.css({opacity:1}):s.css({opacity:0}),0!=t.fixedCapacity&&3*t.fixedCapacity/4<=e.operatingCapacity?a.css({opacity:1}):a.css({opacity:0})},drawPeople:function(){var t,e,i=[],s=this.data.staticData,a=this.data.decisions;for(e=0;e<2;e++)for(t=1;t<=5;++t)i.push(j$("#worker_"+e+"_"+t));for(t=0;t<i.length;t++)i[t].finish(),s.fixedCapacity>0&&t<a.operatingCapacity/s.fixedCapacity*i.length?i[t].show():i[t].hide()},stopMoveTotes:function(){var t;for(t=1;t<=3;t++)j$("#tote_"+t).css({left:"53.14%",top:"65.5%"}).finish().stop()},moveTotes:function(t){t=t||1;var e=j$("#tote_"+t),i=this.data.staticData,s=this.data.decisions,a=s.operatingCapacity*s.projectedWorkersProductivity/(100*i.fixedCapacity)>0?s.operatingCapacity*s.projectedWorkersProductivity/(100*i.fixedCapacity):0;if(a=Math.min(a,1),0==e.length)return!1;a=Math.floor(3e3+7e3*(1-a)),this.toteAnimation=e.animate({left:"100%",top:"86.25%"},{queue:!1,duration:a,progress:j$.proxy((function(t,e,n){this.speedChanged&&(a=s.operatingCapacity*s.projectedWorkersProductivity/(100*i.fixedCapacity)>0?s.operatingCapacity*s.projectedWorkersProductivity/(100*i.fixedCapacity):0,a=Math.floor(3e3+7e3*(1-a)),t.startTime=t.startTime-(a-t.duration)*e,t.duration=a,this.speedChanged=!1)}),this),complete:j$.proxy((function(){e.css({left:"53.14%",top:"65.5%"}),4==++t&&(t=1),this.moveTotes(t)}),this)})},animatePeople:function(t){var e,i=[],s=[];for(e=0;e<t.length;e++)s[e]=e+1,e+1>5&&(s[e]=e-4),i[e]=2,this.peopleAnim[e]=setInterval(j$.proxy((function(e,s){10==i[e]&&(i[e]=1),t[e].children().attr("src",Path.getDecPath("operatingCapacity","op_cap_man"+s[e]+"_"+i[e]+"_small",".png")),i[e]++}),this,e,s),400*(e/12+1))},stopAnimatePeople:function(){var t;for(t=0;t<this.peopleAnim.length;t++)clearInterval(this.peopleAnim[t])},destroy:function(){this.stopMoveTotes(),this._super()},loadPositions:function(t,e){var i=[];switch(i[0]=205,i[1]=358,t){case 1:i[0]+=10,i[1]+=37;break;case 2:i[0]+=-25,i[1]+=-100;break;case 3:i[0]+=-12,i[1]+=-52;break;case 4:i[0]+=-35,i[1]+=-147;break;case 5:i[0]+=0,i[1]+=-5;break;default:i[0]+=0,i[1]+=0}return 1==e&&(i[0]-=58,i[1]-=235),i},loadPositionsPerc:function(t,e){var i=[];switch(i[0]=51.25,i[1]=51.1,t){case 1:i[0]+=2.5,i[1]+=5.28;break;case 2:i[0]+=-6.25,i[1]+=-14.28;break;case 3:i[0]+=-3,i[1]+=-7.42;break;case 4:i[0]+=-8.75,i[1]+=-21;break;case 5:i[0]+=0,i[1]+=-.71;break;default:i[0]+=0,i[1]+=0}return 1==e&&(i[0]-=14.5,i[1]-=33.57),i},draw:function(t,e){e=e||!1;var i,s,a,n,r=this.data.staticData,o=this.data.decisions,l=this.data.calculate,d=this.data.dynamicData,c="",h=[{title:""},{title:this.tc("unitsPerDay"),align:"right"},{title:this.tc("unitsPerQuarter"),align:"right"}],p=[];if(this.showProductionLineAnim="bikes"!=this.data.commonData.scenario&&!r.isJustInTime,this.speedChanged=!1,0==r.fixedCapacity&&0==o.operatingCapacity)return this.viewModeButtons=[],this.modifyModeButtons=[],this.emptyLabel=new DecisionLabel(this.service,"emptyLabel",this.tc("common:noFactory"),"","green"),void t.append(this.emptyLabel.draw());this.emptyLabel=null,r.hasWorkersCompensation?(p.push(['<span id="ocProdTitle">'+this.tc(r.hasFactoryProductivity?"factProductivity":"productivity")+"</span>",this.com("iedit","productivity",o.projectedWorkersProductivity,{"aria-labelledby":"ocProdTitle",size:3})+"%"]),this.productivityTable=new DecisionTable("","productivityTable",[{title:""},{title:""}],p,!0,"green"),e&&(this.productivityTable.tableCorners="")):this.productivityTable=null,p=[],e||p.push([this.tc("fixedALQ"),Number(r.previousQuarterFixedCapacity).format(),Number(65*r.previousQuarterFixedCapacity).format()],[this.tc("operatingALQ"),Number(r.previousQuarterOperatingCapacity).format(),Number(65*r.previousQuarterOperatingCapacity).format()]),p.push([this.tc("fixedCQ"),Number(r.fixedCapacity).format(),Number(65*r.fixedCapacity).format()],[this.tc("operatingCQ"),this.com("iedit","oc",o.operatingCapacity,{size:5}),'<span id="qcap">'+Number(65*o.operatingCapacity).format()+"</span>"]),r.hasWorkersCompensation&&(i=o.operatingCapacity*o.projectedWorkersProductivity/100,n=2,r.isJustInTime||(i=Math.round(i),n=0),p.push([this.tc("effectiveOperatingCQ"),'<span id="ecap">'+i.format(n)+"</span>",'<span id="eqcap">'+(65*i).format()+"</span>"])),d.producing&&(s=r.hasWorkersCompensation?"effectiveOCNeededCQ":"OCNeededCQ",d.supplying?(p.push({values:[this.tc(s+"incAccepted"),Math.ceil(d.operatingCapacityNeeded/65).formatInt(),Number(d.operatingCapacityNeeded).formatInt()],hrbefore:!0}),d.operatingCapacityNeeded!=d.maxOperatingCapacityNeeded&&p.push([this.tc("incAcceptedAndEvaluated"),Math.ceil(d.maxOperatingCapacityNeeded/65).formatInt(),Number(d.maxOperatingCapacityNeeded).formatInt()])):p.push({values:[this.tc(s),Math.ceil(d.operatingCapacityNeeded/65).formatInt(),Number(d.operatingCapacityNeeded).formatInt()],hrbefore:!0})),a=new DecisionTable(this.tc("operatingCapacity"),"ocTable",h,p),e&&(a.tableCorners=""),this.ocTable=a,c+=a.draw(),null!=this.productivityTable&&(c+=this.productivityTable.draw()),this.resTable=new DecisionTable("","resTable",[{title:""},{title:"",type:"number"}],[[this.tc("labor"),l.directLaborCPU],[this.tc("overhead"),l.overheadCPU],[this.tc("changeExpense"),l.costToChangeOperatingCapacity]],!0,"green"),e&&(this.resTable.tableCorners=""),c+=this.resTable.draw(),t.append(c),e||(this.sidePane=new SidePane(this,this.contentElement,t),this.sidePane.width=330,this.sidePane.draw(),this.changeSidePane())},changeSidePane:function(){this.data.staticData;var t="";if(this.sidePane.content.append('<div id="graph-holder"></div>'),this.showProductionLineAnim){t+=this.cs.drawComp("img",Path.getDecPath("operatingCapacity","op_cap_consoles",".png"),"console","100%","","a",20,"","","","","","","",""),t+=this.cs.drawComp("img",Path.getDecPath("operatingCapacity","pallets",".png"),"pallets","100%","","a",5,"","","","",0,"","",""),t+=this.cs.drawComp("img",Path.getDecPath("operatingCapacity","op_cap_clutter1",".png"),"clutter1","100%","","a",7,"","","","",0,"","",""),t+=this.cs.drawComp("img",Path.getDecPath("operatingCapacity","op_cap_clutter2",".png"),"clutter2","100%","","a",8,"","","","",0,"","",""),this.peopleAnim=[];for(var e=1;e<=5;++e)for(var i=0;i<2;i++)t+=this.cs.drawComp("div","","worker_"+i+"_"+e,"9%","","a",15,this.loadPositionsPerc(e,i)[0]+"%",this.loadPositionsPerc(e,i)[1]+"%","","",0,"","",""),this.cs.drawComp("preimg",{src:Path.getDecPath("operatingCapacity","op_cap_man_"+e+"_small",".gif"),parent:"#worker_"+i+"_"+e},"workerImg_"+i+"_"+e,"100%","","","","","","","","","","","");for(e=1;e<=3;++e)t+=this.cs.drawComp("div","","tote_"+e,"10%","","a",15,"65.5%","53.14%","","",0),this.cs.drawComp("preimg",{src:Path.getDecPath("operatingCapacity","tote_"+e,".png"),parent:"#tote_"+e},"toteImg_"+e,"100%","","","","","","","","","","","");this.sidePane.content.append('<div id="scene" aria-hidden="true" style="position:relative; width:330px; height: 189px; overflow: hidden; background-size: 100%; background-image: url('+this.st("sceneBackground")+')">'+t+"</div>")}},onModifyScene:function(){this.sidePane&&this.sidePane.activate()},onCancelScene:function(){this.sidePane&&this.sidePane.deactivate()},onSaveScene:function(){this.sidePane&&this.sidePane.deactivate()},setChartData:function(t,e){var i,s,a=(c=this.data.calculate.graph).data[0].x.length;if(Live.useSvg()){for(i=this.data.staticData.chartTemplate,j$.extend(i.data,{title:this.tc("laborOverheadCosts"),xAxis:c.x,yAxis:this.tc("chartY"),xLines:[this.data.decisions.operatingCapacity],labels:[],x:[],y:[],minX:0,minY:0,saveUrl:this.st("common:saveChartURL"),saveName:"operating-capacity-q"+this.user.quarter()}),i.chartSettings.radius=0,i.title.margin.bottom=10,i.legend.position="bottom",i.legend.align="right",i.legend.margin.bottom=12,i.chartArea.margin.right=15,n=0,r=c.data.length;n<r;++n)d=c.data[n],i.data.labels[n]=d.label;for(s=0;s<a;++s)i.data.x[s]=Number(c.data[0].x[s]),i.data.y[s]=[Number(c.data[0].y[s]),Number(c.data[1].y[s])];SvgCharts.BaseChart.setChartData(e,i)}else{var n,r,o,l,d,c=this.data.calculate.graph;for(j$("#graph-holder").html(""),(i=new LineChart(j$("#"+e)[0])).minX=0,i.minY=0,i.xLines=[this.data.decisions.operatingCapacity],i.legend=!1,i.labelX=c.x,i.labelY=this.tc("chartY"),i.showLabels=!1,i.showValues=!1,i.margin.top=-20,i.data=[],i.category=[],n=0,r=c.data.length;n<r;++n)for(d=c.data[n],i.data[n]=[],o=0,l=d.x.length;o<l;++o)i.data[n][o]=Number(d.y[o]),i.category[o]=Number(d.x[o]);this.smallChart=i,i.draw()}},resize:function(){this.sidePane&&this.sidePane.resize(),void 0!==this.smallChart&&void 0!==this.bigChart&&(this.smallChart.resizeChart(),this.bigChart.resizeChart())},observe:function(){var t=this.data.staticData;j$(".edit-class-disabled").css({border:"1px solid black","padding-right":"3px"}),this.graph=j$("#graph-holder"),this.showProductionLineAnim&&(this.drawPallets(),this.drawPeople(),this.data.decisions.operatingCapacity>0?(this.toteStopped=!1,this.moveTotes()):this.toteStopped=!0),null!=this.emptyLabel?(this.emptyLabel.observe(),this.emptyLabel.change("float","left")):(this.bindCalculate("oc","keyup",!0),t.hasWorkersCompensation&&this.bindCalculate("productivity","keyup",!0),this.resTable.observe(),this.ocTable.observe(),this.ocTable.jelement().find("tbody tr:lt(2)").css({"font-style":"italic",color:"#444444"}),null!=this.productivityTable&&this.productivityTable.observe(),this.data.staticData.fixedCapacity>0&&(j$("#graph-holder").css({position:"relative","z-index":80,width:"100%",height:"270px",opacity:1}),this.setChartData("","graph-holder")))}})},62607:()=>{window.OperatingCapacityRegional=Decision.extend({newDomDraw:!0,style:"padding: 10px 10px 0px 10px;",getRegionIterator:function(){return this.getIterator.apply(this,["regions","regionID",function(t,e){return e.isIn},this.data.staticData].concat(Array.from(arguments)))},read:function(){var t=this;this.getRegionIterator(this.data.decisions)((function(e,i,s){s.operatingCapacity=t.value("oc_"+e),s.fixedCapacityIncrease=t.value("fcIncrease_"+e),t.data.staticData.hasWorkersCompensation&&(s.projectedWorkersProductivity=t.value("productivity_"+e))}))},write:function(){var t=this;this.getRegionIterator(this.data.decisions)((function(e,i,s){t.setValue("oc_"+e,s.operatingCapacity),t.setValue("fcIncrease_"+e,s.fixedCapacityIncrease),t.data.staticData.hasWorkersCompensation&&t.setValue("productivity_"+e,s.projectedWorkersProductivity)}))},writeErrors:function(){var t=this;this.getRegionIterator(this.data.errors.decisions)((function(e,i,s){t.writeError("oc_"+e,s.operatingCapacity),t.writeError("fcIncrease_"+e,s.fixedCapacityIncrease),t.data.staticData.hasWorkersCompensation&&t.writeError("productivity_"+e,s.projectedWorkersProductivity)}))},getFormattedDemandProjection:function(t){return this.data.staticData.isJustInTime?(t/65).format(2):Math.ceil(t/65).formatInt()},getFormattedEffectiveOperatingCapacity:function(t){var e=t.operatingCapacity*t.projectedWorkersProductivity/100;return this.data.staticData.isJustInTime?e.format(2):Math.round(e).format()},updateFixedCapacity:function(t,e,i){var s=Number(e.fixedCapacity)+Number(i);j$("#qfcapinc_"+t).html((65*i).format()),j$("#fcaptot_"+t).html(s.format()),j$("#qfcaptot_"+t).html((65*s).format())},writeCalculate:function(){var t=this;this.getRegionIterator(this.data.decisions,this.data.calculate)((function(e,i,s,a){if(j$("#qcap_"+e).html((65*s.operatingCapacity).format()),t.updateFixedCapacity(e,i,s.fixedCapacityIncrease),t.data.staticData.hasWorkersCompensation){var n=s.operatingCapacity*s.projectedWorkersProductivity/100,r=2;t.data.staticData.isJustInTime||(n=Math.round(n),r=0),j$("#ecap_"+e).html(n.format(r)),j$("#eqcap_"+e).html((65*n).formatInt())}t.resTable[e].data[0].values[1]=a.directLaborCPU,t.resTable[e].data[1].values[1]=a.overheadCPU,t.resTable[e].data[2].values[1]=a.costToChangeOperatingCapacity,t.data.staticData.printerShippingCost>0&&(t.resTable[e].data[3].values[1]=a.costToShipPrinters),t.resTable[e].redrawTableData(),t.setChartData("graph-holder_"+e,e,s,a)}))},getLastQuarterTable:function(t,e){var i=[{title:""},{title:this.tc("unitsPerDay"),align:"right"},{title:this.tc("unitsPerQuarter"),align:"right"}],s=[[this.tc("fixedLQ"),Number(e.previousQuarterFixedCapacity).format(),(65*e.previousQuarterFixedCapacity).format()],[this.tc("operatingLQ"),Number(e.previousQuarterOperatingCapacity).format(),(65*e.previousQuarterOperatingCapacity).format()]];return new DecisionTable(this.tc("lq",{REGION:e.regionName}),"ocTable_lq_"+t,i,s)},getCapacityOptions:function(t,e,i){var s=1+(e+t)/i;return Array.from(new Array(s),(function(e,s){var a=s*i-t;return{key:a,value:a}}))},getCurrentQuarterTable:function(t,e,i,s,a){var n=[{title:""},{title:this.tc("unitsPerDay"),align:"right"},{title:this.tc("unitsPerQuarter"),align:"right"}],r=this.getCapacityOptions(e.fixedCapacity,s.fixedCapacityIncrease+a,this.data.staticData.capacityPerPrinter),o=[[this.tc("forecastedDemand"),"",Number(i.demandProjection).format()],[this.tc("fixedCQ"),Number(e.fixedCapacity).format(),(65*e.fixedCapacity).format()],[this.tc("fixedCQIncrease"),this.com("combobox","fcIncrease_"+t,s.fixedCapacityIncrease,{},r,"key","value"),'<span id="qfcapinc_'+t+'">'+(65*s.fixedCapacityIncrease).format()+"</span>"],[this.tc("fixedCQTotal"),'<span id="fcaptot_'+t+'">'+(s.fixedCapacityIncrease+Number(e.fixedCapacity)).format()+"</span>",'<span id="qfcaptot_'+t+'">'+(65*(s.fixedCapacityIncrease+Number(e.fixedCapacity))).format()+"</span>"],[this.tc("operatingCQ"),this.com("iedit","oc_"+t,s.operatingCapacity,{size:5}),'<span id="qcap_'+t+'">'+(65*s.operatingCapacity).format()+"</span>"]];if(this.data.staticData.hasWorkersCompensation){var l=s.operatingCapacity*s.projectedWorkersProductivity/100,d=2;this.data.staticData.isJustInTime||(l=Math.round(l),d=0),o.push([this.tc("effectiveOperatingCQ"),'<span id="ecap_'+t+'">'+l.format(d)+"</span>",'<span id="eqcap_'+t+'">'+(65*l).format()+"</span>"])}if(this.data.dynamicData.producing){var c=this.data.staticData.hasWorkersCompensation?"effectiveOCNeededCQ":"OCNeededCQ";if(this.data.dynamicData.supplying)o.push({values:[this.tc(c+"incAccepted"),Math.ceil(i.operatingCapacityNeeded/65).formatInt(),Number(i.operatingCapacityNeeded).formatInt()],hrbefore:!0}),this.data.dynamicData.operatingCapacityNeeded!==this.data.dynamicData.maxOperatingCapacityNeeded&&o.push([this.tc("incAcceptedAndEvaluated"),Math.ceil(i.maxOperatingCapacityNeeded/65).formatInt(),Number(i.maxOperatingCapacityNeeded).formatInt()]);else{var h=i.operatingCapacityNeeded/65,p=2;this.data.staticData.isJustInTime||(h=Math.ceil(h),p=0),o.push({values:[this.tc(c),h.format(p),Number(i.operatingCapacityNeeded).formatInt()],hrbefore:!0})}}return new DecisionTable(this.tc("cq",{REGION:e.regionName}),"ocTable_cq_"+t,n,o)},getProductivityTable:function(t,e,i){if(!this.data.staticData.hasWorkersCompensation)return null;var s=[[this.tc(this.data.staticData.hasFactoryProductivity?"factProductivity":"productivity"),this.com("iedit","productivity_"+t,i.projectedWorkersProductivity,{size:3})]];return new DecisionTable("","productivityTable_"+t,[{title:""},{title:""}],s,!0,"green")},getResultsTable:function(t,e){var i=[[this.tc("labor"),e.directLaborCPU],[this.tc("overhead"),e.overheadCPU],[this.tc("changeExpense"),e.costToChangeOperatingCapacity]];return this.data.staticData.printerShippingCost>0&&i.push([this.tc("shippingExpense"),e.costToShipPrinters]),new DecisionTable("","ocResTable_"+t,[{title:""},{title:"",type:"number"}],i,!0,"green")},draw:function(t,e){var i=this,s="",a=this.data.staticData.unallocatedFixedCapacity,n=this.getRegionIterator(this.data.dynamicData,this.data.decisions,this.data.calculate);this.ocTables=[],this.productivityTable=[],this.lqTable=[],this.cqTable=[],this.resTable=[],this.emptyLabel=null,n((function(t,e,i,s){a-=s.fixedCapacityIncrease})),n((function(t,n,r,o,l){var d="";e?i.lqTable[t]=null:(i.lqTable[t]=i.getLastQuarterTable(t,n),i.ocTables.push(i.lqTable[t])),i.cqTable[t]=i.getCurrentQuarterTable(t,n,r,o,a),i.ocTables.push(i.cqTable[t]),i.productivityTable[t]=i.getProductivityTable(t,n,o),i.resTable[t]=i.getResultsTable(t,l),e?(null!=i.productivityTable[t]&&(i.productivityTable[t].tableCorners=""),null!=i.cqTable[t]&&(i.cqTable[t].tableCorners=""),null!=i.resTable[t]&&(i.resTable[t].tableCorners="")):d='<div style="padding:10px;"><div id="graph-holder_'+t+'"></div></div>',s+=(null!=i.lqTable[t]?i.lqTable[t].draw():"")+(null!=i.cqTable[t]?i.cqTable[t].draw():"")+(null!=i.productivityTable[t]?i.productivityTable[t].draw():"")+(null!=i.resTable[t]?i.resTable[t].draw():"")+d})),""===s&&(this.viewModeButtons=[],this.modifyModeButtons=[],this.emptyLabel=new DecisionLabel(this.service,"emptyLabel",this.tc("common:noFactory"),"","green"),s=this.emptyLabel.draw()),t.append(s)},adjustAllocateCapacityCombobox:function(){var t=this,e=this.getRegionIterator(),i=this.data.staticData.unallocatedFixedCapacity,s=this.data.staticData.capacityPerPrinter,a=[];e((function(e){a[e]=Number(t.value("fcIncrease_"+e)),i-=a[e]})),e((function(e,n){var r=a[e]+i,o=t.getCapacityOptions(n.fixedCapacity,r,s).map((function(t){return'<option value="'+t.key+'">'+t.value+"</option>"})).join("");t.cf.getComElement("fcIncrease_"+e).html(o).val(a[e]),t.updateFixedCapacity(e,n,a[e])}))},observe:function(){var t=this;if(null!=this.emptyLabel)return this.emptyLabel.observe(),void this.emptyLabel.change("float","left");this.adjustAllocateCapacityCombobox(),this.getRegionIterator(this.data.decisions,this.data.calculate)((function(e,i,s,a){t.bindCalculate("oc_"+e,"keyup",!0),t.bindCalculate("fcIncrease_"+e,"change",!0),t.data.staticData.hasWorkersCompensation&&t.bindCalculate("productivity_"+e,"keyup",!0),j$("#fcIncrease_"+e).on("change",t.adjustAllocateCapacityCombobox.bind(t)),null!=t.lqTable[e]&&t.lqTable[e].observe(),t.cqTable[e].observe(),null!=t.productivityTable[e]&&t.productivityTable[e].observe(),t.resTable[e].observe(),t.setChartData("graph-holder_"+e,e,s,a)})),DecisionTable.setMaxColWidths(this.ocTables,0)},resize:function(){null==this.emptyLabel&&this.ocTables.length>0&&DecisionTable.setMaxColWidths(this.ocTables,0)},setChartData:function(t,e,i,s){var a,n=s.graph;if(null!=n)if(j$("#"+t).css({position:"relative",margin:"auto",width:"450px",height:"250px",opacity:Live.opacity}),Live.useSvg()){a=this.data.staticData.chartTemplate,j$.extend(a.data,{title:n.title,xAxis:n.x,yAxis:n.y,labels:[],x:[],y:[],minX:0,minY:0,xLines:[i.operatingCapacity],saveUrl:this.st("common:saveChartURL"),saveName:"operating-capacity-r"+e+"-q"+this.user.quarter()}),a.chartSettings.radius=0;for(var r=0,o=n.data.length;r<o;++r){var l=n.data[r];a.data.labels[r]=l.label;for(var d=0,c=l.x.length;d<c;++d)0===r&&(a.data.x[d]=Number(l.x[d]),a.data.y[d]=[]),a.data.y[d][r]=Number(l.y[d])}SvgCharts.BaseChart.setChartData(t,a)}else{j$("#"+t).html(""),(a=new LineChart(j$("#"+t)[0])).minX=0,a.minY=0,a.xLines=[i.operatingCapacity],a.label=n.title,a.legend=n.showLegend,a.labelX=n.x,a.labelY=n.y,a.labels=[],a.data=[],a.category=[];for(var h=0,p=n.data.length;h<p;++h){var u=n.data[h];a.labels[h]=u.label,a.data[h]=[];for(var g=0,m=u.x.length;g<m;++g)a.data[h][g]=Number(u.y[g]),a.category[g]=Number(u.x[g])}a.draw()}else j$("#"+t).css({width:"0px",height:"0px"}).html("")},drawSOD:function(){var t=j$("#"+this.pfxSod+this.service);t.html(""),null==this.emptyLabel&&(this.draw(t,!0),this.disable())}})},75821:(t,e,i)=>{"use strict";i(62607),window.OperatingCapacityRegionalAnim=OperatingCapacityRegional.extend({initialize:function(t){this._super("OperatingCapacityRegional")}})},39134:()=>{window.OrganicSearchEngineResults=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",initSettings:function(){return{filter:null,filterKw:null}},writeCalculate:function(){this.data.staticData.oldOrganic?this.redrawTableOld(!1,!0):this.redrawTable(!1,!0)},kwDesc:function(t,e){return t.rank>e.rank?1:t.rank<e.rank?-1:0},draw:function(){var t,e,i="",s=this.data.staticData,a=(s.teams.toLookUp("teamID"),s.regions.toLookUp("regionID"),[{title:this.tc("company"),align:"left"},{title:this.tc("ad"),align:"left"},{title:this.tc("brandAdvertised")},{title:this.tc("content")},{title:this.tc("rank"),type:"number",decimals:2}]);for(s.regions.length>1&&(this.filter=new MultiLevelFilter(this.tc("by_region"),"rg_filter","blue",this.settings.filter,s.oldOrganic?this.redrawTableOld.bind(this):this.redrawTable.bind(this),s.regions,"regionID","regionName",this.tc("region")),this.filter.isRadio=!0,i+=this.filter.draw()),this.filterKw=new MultiLevelFilter(this.tc("by_keyword"),"kw_filter","blue",this.settings.filterKw,s.oldOrganic?this.redrawTableOld.bind(this):this.redrawTable.bind(this),s.keywords,"id","label",this.tc("keywords")),this.filterKw.drawName=function(t,e){return t.name+"<br />["+t[e]+"]"},this.filterKw.isRadio=!0,i+=this.filterKw.draw(),this.freg=[],t=0,e=s.regions.length;t<e;++t)this.freg[s.regions[t].regionID]=s.regions.toLookUp("regionID");for(this.fkw=[],t=0,e=s.keywords.length;t<e;++t)this.fkw[s.keywords[t].kwID]=s.keywords.toLookUp("kwID");return this.searchesLabel=new DecisionLabel(this.service,"emptyLabel",this.tc("numberOfSearches",{NUMBER:0}),"","blue"),i+=this.searchesLabel.draw(),this.oserTable=new DecisionTable("","oserTable",a,[],!1),i+this.oserTable.draw()},redrawTable:function(t,e){var i,s,a,n,r,o,l,d,c=this.data.staticData,h=c.teams.toLookUp("teamID"),p=(c.regions.toLookUp("regionID"),[]),u=[{title:this.tc("company"),align:"left"},{title:this.tc("ad"),align:"left",vline:!0},{title:this.tc("brandAdvertised")},{title:this.extc("exp_content","content")},{title:this.extc("exp_avg_rank","rank"),type:"number",decimals:"2"},{title:this.extc("exp_clicks","clicks"),type:"number"},{title:this.extc("exp_ctr","ctr"),type:"number",decimals:2,unit:"%"},{title:this.extc("exp_ad_judgment","adJudgment"),type:"number"},{title:this.tc("web_investment"),type:"number"}];if(t&&(c.regions.length>1&&(this.settings.filter=this.filter.settings),this.settings.filterKw=this.filterKw.settings,this.saveSettings()),e){for(i=0,s=c.regions.length;i<s;++i)(c.regions[i].checked||1==c.regions.length)&&(l=c.regions[i].keywords.toLookUp("kwID"));for(i=0,s=c.keywords.length;i<s;++i)c.keywords[i].checked&&(o=c.keywords[i].id);for(a=0,n=l[o].ads.length;a<n;a++){for(r=h[(d=l[o].ads[a]).teamID].ads.toLookUp("adID")[d.adID],cntnt="",i=0,s=r.content.length;i<s;i++)cntnt+=r.content[i]+"<br />";p.push([h[d.teamID].companyName.escapeHTML(),r.name.escapeHTML(),Format.brandName(r.brandAdvertised.escapeHTML(),r.brandType),cntnt,d.avgPosition,d.clicks,100*d.ctr,d.aj,d.webInvestment])}this.searchesLabel=new DecisionLabel(this.service,"emptyLabel",this.tc("numberOfSearches",{NUMBER:Format.number(l[o].numOfSearches)}),"","blue"),null!=this.searchesLabel&&(this.searchesLabel.clear="",this.searchesLabel.change("replace",this.searchesLabel.draw()),this.searchesLabel.change("float","left"),this.searchesLabel.observe()),p.length>0?(this.oserTable=new DecisionTable("","oserTable",u,p),this.oserTable.clear="",this.oserTable.change("replace",this.oserTable.draw()),t&&this.writeExplanations(),this.oserTable.observe()):(this.oserTable=new DecisionLabel("","oserTable",this.tc("noAds"),"","blue"),this.oserTable.clear="",this.oserTable.change("replace",this.oserTable.draw()),this.oserTable.change("float","left"),this.oserTable.observe()),this.resizeContent()}},redrawTableOld:function(t,e){var i,s,a,n,r,o,l,d,c,h,p=this.data.staticData,u=[],g=p.teams.toLookUp("teamID"),m=(p.regions.toLookUp("regionID"),[]),b=[{title:this.tc("company"),align:"left"},{title:this.tc("ad"),align:"left"},{title:this.tc("brandAdvertised")},{title:this.extc("exp_content","content")},{title:this.extc("exp_avg_rank","rank"),type:"number",decimals:2},{title:this.extc("exp_ad_judgment","adJudgment"),type:"number"}];if(t&&(p.regions.length>1&&(this.settings.filter=this.filter.settings),this.settings.filterKw=this.filterKw.settings,this.saveSettings()),e){for(i=0,s=p.regions.length;i<s;++i)(p.regions[i].checked||1==p.regions.length)&&(o=p.regions[i]);for(i=0,s=p.keywords.length;i<s;++i)p.keywords[i].checked&&(l=p.keywords[i].id);for(a=0,n=o.ads.length;a<n;a++)h=(r=o.ads[a]).judgments.toLookUp("segmentID"),c=g[r.teamID].ads.toLookUp("adID"),l==r.keywordID&&u.push({judgment:h[r.keywordID].judgment,rank:h[r.keywordID].rank,ad:c[r.adID],companyName:g[r.teamID].companyName});for(a=0,n=(u=u.sort(this.kwDesc)).length;a<n;a++){for(r=u[a].ad,cntnt="",i=0,s=r.content.length;i<s;i++)cntnt+=r.content[i]+"<br />";m.push([u[a].companyName.escapeHTML(),r.name.escapeHTML(),Format.brandName(r.brandAdvertised.escapeHTML(),r.brandType),cntnt,u[a].rank,u[a].judgment])}d=o.keywords.toLookUp("kwID"),this.searchesLabel=new DecisionLabel(this.service,"emptyLabel",this.tc("numberOfSearches",{NUMBER:Format.number(d[l].numOfSearches)}),"","blue"),null!=this.searchesLabel&&(this.searchesLabel.clear="",this.searchesLabel.change("replace",this.searchesLabel.draw()),this.searchesLabel.change("float","left"),this.searchesLabel.observe()),m.length>0?(this.oserTable=new DecisionTable("","oserTable",b,m),this.oserTable.clear="",this.oserTable.change("replace",this.oserTable.draw()),t&&this.writeExplanations(),this.oserTable.observe()):(this.oserTable=new DecisionLabel("","oserTable",this.tc("noAds"),"","blue"),this.oserTable.clear="",this.oserTable.change("replace",this.oserTable.draw()),this.oserTable.change("float","left"),this.oserTable.observe()),this.resizeContent()}},observe:function(){var t=this.data.staticData;null!=this.emptyLabel?(this.emptyLabel.observe(),this.emptyLabel.change("float","left")):(t.regions.length>1&&this.filter.observe(),this.filterKw.observe(),null!=this.searchesLabel&&(this.searchesLabel.observe(),this.searchesLabel.change("float","left")),this.oserTable.observe(),this.data.staticData.oldOrganic?this.redrawTableOld(!1,!0):this.redrawTable(!1,!0))}})},36146:()=>{window.OutsourcedBrandResults=Decision.extend({style:"padding: 10px 10px 0px 10px;",viewModeButtons:[],modifyModeButtons:[],paramTeamID:null,paramBrandID:null,brand:null,draw:function(){if(null==this.paramTeamID||null==this.paramBrandID)return"";var t,e,i,s,a,n,r=this.data.staticData,o=r.teams.toLookUp("teamID"),l=r.outsourcedBrands.toLookUp("teamID","brandID")[this.paramTeamID][this.paramBrandID],d="",c=[{title:""},{title:""}],h=[],p=0,u=0,g=0;if(this.brand=l,this.row65=1,h.push([this.tc("brandName"),l.name.escapeHTML()]),h.push([this.tc("supplier"),o[l.supplierID].companyName.escapeHTML()]),h.push([this.tc("reseller"),o[l.teamID].companyName.escapeHTML()]),h.push([this.tc("misUsed"),this.tc("mis_"+l.mis)]),h.push({title:this.tc("unitsAndFulfillment")}),h.push([this.tc("contractedDemand"),Number(l.contractDemand).format()]),h.push([this.tc("unitsShipped"),Number(l.unitsShipped).format()]),h.push([this.tc("unitsNotShipped"),Number(l.unitsNotShipped).format()]),h.push([this.tc("contractFulfillment"),Number(l.contractFulfill).format(2)+"%"]),3!=l.mis&&h.push([this.tc("orderFulfillment"),Number(l.orderFulfill).format(2)+"%"]),h.push([this.tc("fulfilled"),this.tc(Boolean(l.fulfilled)?"yes":"no")]),h.push({title:this.tc("shipmentOptions")}),h.push([this.tc("contractedOrderSize"),Number(l.orderSize).format()]),3!=l.mis&&h.push([this.tc("mode"),this.tc("mode_"+l.mode)+" - "+this.tc("mode_desc_"+l.mode)]),h.push([this.tc("frequency"),1==Number(l.frequency)?this.tc("daily"):this.tc("every_N",{NUMBER:Number(l.frequency).format()})]),3!=l.mis&&h.push([this.tc("shippingTime"),Number(l.shippingTime).format(2)]),this.tbInfo=new DecisionTable(this.tc("shippingInfo"),"shippingInfo",c,h,!0,"green"),d+=this.tbInfo.draw(),l.mis>0){for(c=[{title:this.tc("day1"),align:"right"},{title:this.tc("supplierInventory1"),align:"right"},{title:this.tc("actualOrderSize1"),type:"number"},{title:this.tc("unitsShipped1"),type:"number"}],3!=l.mis&&c.push({title:this.tc("backorders1"),type:"number"},{title:this.tc("arrivingDay1"),align:"right"}),h=[],t=0;t<l.orders.length;t++)e=l.orders[t],p+=s=Number(e.orderSize),u+=a=Number(e.shipped),g+=n=Number(e.backorders),i=[Number(e.dayID),Number(e.inventory),s,a],3!=l.mis&&(i.push(n,e.arrivingDay),e.arrivingDay<=r.maxDays&&this.row65++),h.push(i);i=[null,null,p,u],3!=l.mis&&i.push(g,null),h.push({values:i,type:"total"}),this.tbDetails=new DecisionTable(this.tc("shippingDetails"),"shippingDetails",c,h,!1,"green")}else this.tbDetails=new DecisionTable(this.tc("shippingDetails"),"shippingDetails",[{title:""}],[[this.tc("detailsNA")]],!1,"green");return d+=this.tbDetails.draw(),l.mis>0&&3!=l.mis&&l.graph.data.length>0&&(d+='<div style="padding:10px;"><div id="graph-holder" style="height:400px;"></div>'),d},observe:function(){if(null!=this.paramTeamID&&null!=this.paramBrandID&&(this.tbInfo.observe(),this.tbDetails.observe(),this.brand.mis>0&&3!=this.brand.mis&&this.brand.graph.data.length>0)){for(var t=0;t<this.tbDetails.element().rows[this.row65].cells.length;t++)this.tbDetails.element().rows[this.row65].cells[t].style.borderTop="2px solid #ff0000";j$("#graph-holder").css({position:"relative",margin:"auto",width:"450px",opacity:Live.opacity}),this.setChartData("graph-holder")}},applyParams:function(t){var e=(t=void 0!==t?t.split(","):[0,0])[0]||0,i=t[1]||0;e>0&&i>0&&(this.paramTeamID=e,this.paramBrandID=i)},setChartData:function(t){var e,i,s,a,n,r=this.brand.graph,o=0;for((s=r.data.length)>0&&(o=r.data[0].x.length),j$("#"+t).css({height:s*o*11+90+"px"}).html(""),"undefined"!=typeof Engine&&Engine.areas.body.resizeContent(),(e=new VerticalBarChart(j$("#"+t)[0])).minX=0,e.minY=0,e.yLines=[this.data.staticData.maxDays],e.style.yLinesColor=[255,0,0],e.style.yLinesWidth=2,e.conditionalYLines=!0,e.label=r.title,e.legend=r.showLegend,e.labelX=r.x,e.labelY=r.y,e.labels=[],e.showValues=!1,e.data=[],e.category=[],n=0;n<o;n++)e.labels[n]="",e.data[n]=[];for(i=0;i<s;++i)for(a=r.data[i],n=0;n<o;++n)e.data[n][i]=a.y[n],e.category[i]=Number(a.x[n]);e.draw()}})},22677:()=>{window.Overtime=Decision.extend({newDomDraw:!0,style:"padding: 10px 10px 0px 10px;",read:function(){var t,e=this.data.staticData,i=this.data.decisions;for(m=0;m<e.overtimeLaborChange.length;++m)if(t=e.overtimeLaborChange[m],this.value("maxOvertime_"+t.overtime))return void(i.hoursInDay=t.hours)},write:function(){var t,e=this.data.staticData,i=this.data.decisions;for(m=0;m<e.overtimeLaborChange.length;++m)t=e.overtimeLaborChange[m],this.setValue("maxOvertime_"+t.overtime,i.hoursInDay-e.hoursInDay)},writeErrors:function(){},writeCalculate:function(){var t,e=this.data.staticData,i=this.data.decisions;this.data.calculate,t=this.data.dynamicData.overtimeChanges.toLookUp("overtime")[i.hoursInDay-e.hoursInDay],j$("#qeoco").html(t.qtrEocOvertime.format()),e.hasWorkersCompensation&&j$("#prodReducOt").html(t.overtimeProductivity.format(2)),j$("#laborOt").html(t.directLaborCPUOt.format(2)),e.hasWorkersCompensation&&this.setChartData("productReduct","graph-holder-productReduct"),this.setChartData("realOC","graph-holder-realOC"),this.setChartData("avgLaborCost","graph-holder-avgLaborCost")},draw:function(t,e){e=e||!1;var i,s,a,n,r,o=this.data.staticData,l=this.data.decisions,d=(this.data.calculate,this.data.dynamicData),c=[],h="",p=d.overtimeChanges.toLookUp("overtime");if(0==o.fixedCapacity&&0==d.operatingCapacity)return this.viewModeButtons=[],this.modifyModeButtons=[],this.emptyLabel=new DecisionLabel(this.service,"emptyLabel",this.tc("common:noFactory"),"","green"),void t.append(this.emptyLabel.draw());for(this.emptyLabel=null,c=[],i=[{title:this.tc("overtime")},{title:this.tc("unitsPerQuarter"),type:"number"}],o.hasWorkersCompensation&&i.push({title:this.tc("productivity"),type:"number",decimals:1,unit:"%"}),i.push({title:this.tc("avgCostLabor"),type:"number",decimals:2}),n=0;n<o.overtimeLaborChange.length;++n){r=p[(a=o.overtimeLaborChange[n]).overtime];var u=[this.com("radio","maxOvertime",l.hoursInDay-o.hoursInDay,{label:this.tc("mo_"+a.overtime)},a.overtime),r.qtrEocTotal];o.hasWorkersCompensation&&u.push(r.overtimeAdjProductivity),u.push(r.directLaborCPUTotal),c.push(u)}s=new DecisionTable(this.tc("maxOvertime"),"overtime_table",i,c),this.ocTable=s,h+=s.draw(),e||(c=[],i=[{title:""},{title:"",align:"right"}],r=p[l.hoursInDay-o.hoursInDay],c.push([this.tc("overtimeAdditionToOC"),'<span id="qeoco">'+Number(r.qtrEocOvertime).format()+"</span>"]),o.hasWorkersCompensation&&c.push([this.tc("productivityReductionOvertime"),'<span id="prodReducOt">'+Number(r.overtimeProductivity).format(2)+"</span>%"]),c.push([this.tc("laborOvertime"),'<span id="laborOt">'+Number(r.directLaborCPUOt).format(2)+"</span>"]),s=new DecisionTable(this.tc("overtimeEffect"),"overtime_effect",i,c),this.effectTable=s,h+=s.draw()),o.hasWorkersCompensation&&(h+='<div id="graph-holder-productReduct"></div>'),h+='<div id="graph-holder-realOC"></div>',h+='<div id="graph-holder-avgLaborCost"></div>',t.append(h)},observe:function(){var t,e,i=this.data.staticData;if(null!=this.emptyLabel)this.emptyLabel.observe(),this.emptyLabel.change("float","left");else{for(this.ocTable.observe(),this.effectTable.observe(),t=0;t<i.overtimeLaborChange.length;++t)e=i.overtimeLaborChange[t],this.bindCalculate("maxOvertime_"+e.overtime,"click",!1);i.hasWorkersCompensation&&j$("#graph-holder-productReduct").css({position:"relative",float:"left",margin:"8px",width:"420px",height:"280px",opacity:Live.opacity}),j$("#graph-holder-realOC").css({position:"relative",float:"left",margin:"8px",width:"420px",height:"280px",opacity:Live.opacity}),j$("#graph-holder-avgLaborCost").css({position:"relative",float:"left",margin:"8px",width:"420px",height:"280px",opacity:Live.opacity}),i.hasWorkersCompensation&&this.setChartData("productReduct","graph-holder-productReduct"),this.setChartData("realOC","graph-holder-realOC"),this.setChartData("avgLaborCost","graph-holder-avgLaborCost")}},setChartData:function(t,e){var i,s,a,n,r=this.data.dynamicData.graphs[t];if(Live.useSvg()){for(chart=this.data.staticData.chartTemplate,j$.extend(chart.data,{title:r.title,xAxis:r.x,yAxis:r.y,labels:[],x:[],y:[],xLines:[this.data.decisions.hoursInDay-8],saveUrl:this.st("common:saveChartURL"),saveName:"overtime-"+t+"-q"+this.user.quarter()}),r.showLegend?(chart.legend.position="bottom",chart.legend.maxWidth=300,chart.legend.margin.bottom=10):chart.legend.position="none",chart.chartArea.margin.right=15,chart.chartSettings.radius=0,i=0,s=r.data.length;i<s;++i)for(dt=r.data[i],chart.data.labels[i]=dt.label,chart.data[i]=[],a=0,n=dt.x.length;a<n;++a)0==i&&(chart.data.x[a]=Number(dt.x[a]),chart.data.y[a]=[]),chart.data.y[a][i]=Number(dt.y[a]);SvgCharts.BaseChart.setChartData(e,chart)}},drawSOD:function(t){t.html(""),this.draw(t,!0),null==this.emptyLabel?(this.ocTable.observe(),this.disable()):t.html("")}})},49231:()=>{window.OvertimeRegional=Decision.extend({newDomDraw:!0,style:"padding: 10px 10px 0px 10px;",read:function(){var t,e=this.data.staticData,i=this.data.decisions;for(m=0;m<e.overtimeLaborChange.length;++m)if(t=e.overtimeLaborChange[m],this.value("maxOvertime_"+t.overtime))return void(i.hoursInDay=t.hours)},write:function(){var t,e=this.data.staticData,i=this.data.decisions;for(m=0;m<e.overtimeLaborChange.length;++m)t=e.overtimeLaborChange[m],this.setValue("maxOvertime_"+t.overtime,i.hoursInDay-e.hoursInDay)},writeErrors:function(){},writeCalculate:function(){var t=this.createEffectTable();this.effectTable.change("replace",t.draw()),this.effectTable=t,this.effectTable.observe()},createEffectTable:function(){var t=this.data.staticData,e=this.data.calculate,i=t.regions.toLookUp("regionID"),s=[{title:""}],a=[{values:[this.tc("qtrEoc")]},{values:[this.tc("qtrEocOvertime")]},{values:[this.tc("qtrEocTotal")],type:"total"}],n=t.hasFactoryProductivity?3:0;t.hasFactoryProductivity&&a.push({values:[this.tc("productivity")]},{values:[this.tc("lossOfProductivity")]},{values:[this.tc("overtimeAdjProductivity")],type:"total"}),a.push({values:[this.tc("directLaborCPU")]},{values:[this.tc("directLaborCPUOt")]},{values:[this.tc("directLaborCPUTotal")],type:"total"});for(var r=0,o=e.regions.length;r<o;++r){var l=e.regions[r],d=i[l.regionID];d.isIn&&(s.push({title:d.regionName,align:"right"}),a[0].values.push(l.qtrEoc.format()),a[1].values.push(l.qtrEocOvertime.format()),a[2].values.push(l.qtrEocTotal.format()),t.hasFactoryProductivity&&(a[3].values.push(l.productivity.format(1)),a[4].values.push(l.lossOfProductivity.format(1)),a[5].values.push(l.overtimeAdjProductivity.format(1))),a[n+3].values.push(l.directLaborCPU.format()),a[n+4].values.push(l.directLaborCPUOt.format()),a[n+5].values.push(l.directLaborCPUTotal.format()))}return new DecisionTable(this.tc("overtimeEffect"),"overtime_effect",s,a)},draw:function(t,e){e=e||!1;var i,s,a=this.data.staticData,n=this.data.decisions,r=this.data.dynamicData,o=[{title:this.tc("overtime")},{title:this.tc("operatingCapacityIncrease"),type:"number",decimals:1,unit:"%"}],l=[],d="";if(r.empty)return this.viewModeButtons=[],this.modifyModeButtons=[],this.emptyLabel=new DecisionLabel(this.service,"emptyLabel",this.tc("common:noFactory"),"","green"),void t.append(this.emptyLabel.draw());this.emptyLabel=null,a.hasFactoryProductivity&&o.push({title:this.tc("lossOfProductivity"),type:"number",decimals:1,unit:"%"},{title:this.tc("effectiveOperatingCapacityIncrease"),type:"number",decimals:1,unit:"%"});for(var c=0,h=a.overtimeLaborChange.length;c<h;++c)s=a.overtimeLaborChange[c],i=[this.com("radio","maxOvertime",n.hoursInDay-a.hoursInDay,{label:this.tc("mo_"+s.overtime)},s.overtime),s.operatingCapacityIncrease],a.hasFactoryProductivity&&i.push(s.lossOfProductivity,s.effectiveOperatingCapacityIncrease),l.push(i);this.ocTable=new DecisionTable(this.tc("maxOvertime"),"overtime_table",o,l),d+=this.ocTable.draw(),e||(this.effectTable=this.createEffectTable(),d+=this.effectTable.draw(),a.hasFactoryProductivity&&(d+='<div id="graph-holder-productReduct"></div>'),d+='<div id="graph-holder-realOC"></div>',d+='<div id="graph-holder-avgLaborCost"></div>'),t.append(d)},observe:function(){var t,e,i=this.data.staticData,s={position:"relative",float:"left",margin:"8px",width:"620px",height:"280px",opacity:Live.opacity};if(null!=this.emptyLabel)this.emptyLabel.observe(),this.emptyLabel.change("float","left");else{for(this.ocTable.observe(),this.effectTable.observe(),t=0;t<i.overtimeLaborChange.length;++t)e=i.overtimeLaborChange[t],this.bindCalculate("maxOvertime_"+e.overtime,"click",!1);i.hasFactoryProductivity&&(j$("#graph-holder-productReduct").css(s),this.setChartData("productReduct","graph-holder-productReduct")),j$("#graph-holder-realOC").css(s),j$("#graph-holder-avgLaborCost").css(s),this.setChartData("realOC","graph-holder-realOC"),this.setChartData("avgLaborCost","graph-holder-avgLaborCost")}},setChartData:function(t,e){var i,s,a,n,r=this.data.dynamicData.graphs[t];if(Live.useSvg()){for(chart=this.data.staticData.chartTemplate,j$.extend(chart.data,{title:r.title,xAxis:r.x,yAxis:r.y,labels:[],x:[],y:[],xLines:[this.data.decisions.hoursInDay-8],saveUrl:this.st("common:saveChartURL"),saveName:"overtime-"+t+"-q"+this.user.quarter()}),r.showLegend?chart.legend.position="right":chart.legend.position="none",chart.chartArea.margin.right=15,chart.chartSettings.radius=0,i=0,s=r.data.length;i<s;++i)for(dt=r.data[i],chart.data.labels[i]=dt.label,chart.data[i]=[],a=0,n=dt.x.length;a<n;++a)0==i&&(chart.data.x[a]=Number(dt.x[a]),chart.data.y[a]=[]),chart.data.y[a][i]=Number(dt.y[a]);SvgCharts.BaseChart.setChartData(e,chart)}},drawSOD:function(t){t.html(""),this.draw(t,!0),null==this.emptyLabel?(this.ocTable.observe(),this.disable()):t.html("")}})},70762:(t,e,i)=>{"use strict";i(86985),window.PartnerAnalysis=CompetitorAnalysis.extend()},12142:()=>{window.PaymentToPartners=Decision.extend({style:"padding: 10px 10px 0px 10px;",read:function(){var t,e=this.data.decisions.teams,i=e.length;for(t=0;t<i;++t)e[t].payment=this.value("pay_"+e[t].teamID)},write:function(){var t,e=this.data.decisions.teams,i=e.length;for(t=0;t<i;++t)this.setValue("pay_"+e[t].teamID,e[t].payment)},writeErrors:function(){var t,e=this.data.errors.decisions.teams,i=e.length;for(t=0;t<i;++t)this.writeError("pay_"+e[t].teamID,e[t].payment,"center left",!0,3)},writeCalculate:function(){j$("#paymentToPartnersTotal").html(Number(this.data.calculate.total).format())},draw:function(){var t,e=this.data.staticData.teams,i=e.length,s=this.data.decisions.teams.toLookUp("teamID"),a=[];for(t=0;t<i;++t)a.push([e[t].companyName.escapeHTML(),this.com("iedit","pay_"+e[t].teamID,s[e[t].teamID].payment,{size:10,"data-test":"payment_p"+e[t].teamID%100})]);return this.payTable=new DecisionTable("","payTable",[{title:this.tc("company")},{title:this.tc("amount"),align:"right"}],a,!1,"concrete"),this.payLabel=new DecisionLabel(this.service,"payLabel",this.tc("total")+' <span id="paymentToPartnersTotal">'+Number(this.data.calculate.total).format()+"</span>","","concrete"),this.payTable.draw()+this.payLabel.draw()},observe:function(){var t,e=this.data.staticData.teams,i=e.length;for(this.payTable.observe(),this.payLabel.observe(),this.payLabel.change("float","left"),t=0;t<i;++t)this.bindCalculate("pay_"+e[t].teamID,"keyup",!0)},drawSOD:function(){Number(this.data.calculate.total)>0?(this.setValue(this.pfxSod+this.service,this.draw(!0)),this.disable(),this.payTable.observe(),this.payLabel.observe(),this.payLabel.change("float","left")):this.setValue(this.pfxSod+this.service,this.tc("noPayments"))}})},13613:()=>{window.PersonalGoals=Decision.extend({style:"padding: 10px 10px 0px 10px;",newDomDraw:!0,read:function(){var t,e,i,s,a,n,r=this.data.staticData,o=this.data.decisions;for(t=0,e=o.students.length;t<e;++t){for((i=o.students[t]).goals=[],s=0,a=r.goals.length;s<a;++s)n=r.goals[s],this.value("item_"+i.studentID+"_"+n.pgoalID)&&i.goals.push({pgoalID:n.pgoalID,text:n.customText?this.value("text_"+i.studentID+"_"+n.pgoalID):""});j$("#mi_"+i.studentID).length>0&&i.goals.length>0?i.mostImportantGoal=this.value("mi_"+i.studentID):i.mostImportantGoal=0}},write:function(){var t,e,i,s,a,n,r,o,l,d=this.data.staticData,c=this.data.decisions.students.toLookUp("studentID");for(t=0,e=d.students.length;t<e;++t){for(void 0!==c[(i=d.students[t]).studentID]?(r=c[i.studentID].goals.toLookUp("pgoalID"),o=c[i.studentID].mostImportantGoal):(r=[],o=0),s=0,a=d.goals.length;s<a;++s)l=void 0!==r[(n=d.goals[s]).pgoalID],this.setValue("item_"+i.studentID+"_"+n.pgoalID,l),n.customText&&this.setValue("text_"+i.studentID+"_"+n.pgoalID,l?r[n.pgoalID].text:"");j$("#mi_"+i.studentID).length>0&&r.length>0&&this.setValue("mi_"+i.studentID,o)}},writeErrors:function(){var t,e,i,s,a,n,r,o,l,d,c=this.data.staticData,h=this.data.errors.decisions.students.toLookUp("studentID");for(t=0,e=c.students.length;t<e;++t){for(void 0!==h[(i=c.students[t]).studentID]?(d=h[i.studentID].general,r=h[i.studentID].goals.toLookUp("pgoalID"),o=h[i.studentID].mostImportantGoal):(r=[],d=null,o=null),s=0,a=c.goals.length;s<a;++s)l=void 0!==r[(n=c.goals[s]).pgoalID],this.writeError("item_"+i.studentID+"_"+n.pgoalID,d,"center right",!0),n.customText&&this.writeError("text_"+i.studentID+"_"+n.pgoalID,l?r[n.pgoalID].text:null,"center right",!0);j$("#mi_"+i.studentID).length>0&&r.length>0&&this.writeError("mi_"+i.studentID,o)}},writeCalculate:function(){var t,e,i,s=this.data.staticData;for(t=0,e=s.students.length;t<e;++t)i=s.students[t],this.setStudentCombo(i)},changeCombos:function(t){this.read(),this.setStudentCombo(t)},draw:function(t){var e,i,s,a,n,r,o,l,d,c,h,p,u=this.data.staticData,g=this.data.decisions.students.toLookUp("studentID"),m=[],b=[{title:this.tc("goal"),vline:!1}],f=[];for(this.pgLabels=[],this.pgTables=[],e=0,i=u.students.length;e<i;++e){for(m=[],void 0!==g[(s=u.students[e]).studentID]?(o=g[s.studentID].goals.toLookUp("pgoalID"),g[s.studentID].mostImportantGoal):o=[],a=0,n=u.goals.length;a<n;++a)f=[],d=void 0!==o[(r=u.goals[a]).pgoalID],h=r.customText?this.com("edit","text_"+s.studentID+"_"+r.pgoalID,d?o[r.pgoalID].text:"",{size:60,placeholder:this.tc("writeYourOwn"),"aria-label":this.tc("writeYourOwn")+" 1"}):r.text,r.customText?f.push('<span style="margin-left: 3px;">'+this.com("checkbox","item_"+s.studentID+"_"+r.pgoalID,d,{"aria-label":this.tc("writeYourOwn")+" 1"})+h+"</span>"):f.push(this.com("checkbox","item_"+s.studentID+"_"+r.pgoalID,d,{label:h})),m.push(f);(c=new DecisionTable(Format.fullName(s.lastName,s.firstName).escapeHTML(),"pgTable_"+s.studentID,b,m)).newCorners="",c.hideTitle=!0,l='<div id="miwrap_'+s.studentID+'" style="padding: 4px 0px; padding-left: 16px;"></div>',p=new DecisionLabel("","pgLabel_"+s.studentID,c.draw()+l,"","","",Format.fullName(s.lastName,s.firstName).escapeHTML()),this.pgTables.push(c),this.pgLabels.push(p),t.append(p.draw()),this.setStudentCombo(s)}},setStudentCombo:function(t){var e,i,s,a,n,r=this.data.staticData.goals.toLookUp("pgoalID"),o=this.data.decisions.students.toLookUp("studentID"),l=[];if(void 0!==o[t.studentID]){for(e=0,i=o[t.studentID].goals.length;e<i;++e)""!=(s=o[t.studentID].goals[e]).text?l.push(s):void 0!==r[s.pgoalID]&&""!=(s=r[s.pgoalID]).text&&l.push(r[s.pgoalID]);n=o[t.studentID].mostImportantGoal}else n=0;a=this.com("combobox","mi_"+t.studentID,n,{label:this.tc("mostImportantGoal"),style:"max-width: 275px;"},l,"pgoalID","text",0,"---"),j$("#miwrap_"+t.studentID).html(a.draw()),0!=l.length?j$("#miwrap_"+t.studentID).show():j$("#miwrap_"+t.studentID).hide()},observe:function(){var t,e,i,s,a,n,r,o,l=this.data.staticData;for(r=0,o=this.pgTables.length;r<o;r++)this.pgTables[r].observe();for(DecisionTable.setMaxColWidths(this.pgTables,0),r=0,o=this.pgLabels.length;r<o;r++)this.pgLabels[r].observe(),this.pgLabels[r].change("float","left"),this.pgLabels[r].change("togglePadding",!1);for(t=0,e=l.students.length;t<e;++t)for(i=l.students[t],s=0,a=l.goals.length;s<a;++s)n=l.goals[s],j$("#item_"+i.studentID+"_"+n.pgoalID).on("click",j$.proxy(this.changeCombos,this,i)),n.customText&&j$("#text_"+i.studentID+"_"+n.pgoalID).on("keyup",j$.proxy(this.changeCombos,this,i))},resize:function(){this.pgTables.length>0&&DecisionTable.setMaxColWidths(this.pgTables,0)},drawSOD:function(){if(this.data.dynamicData.decisionChangedThisQuarter){var t,e,i,s,a,n,r,o,l,d=this.data.staticData,c="",h=this.data.decisions.students.toLookUp("studentID");for(t=0,e=d.students.length;t<e;++t){for(void 0!==h[(i=d.students[t]).studentID]?(r=h[i.studentID].goals.toLookUp("pgoalID"),o=h[i.studentID].mostImportantGoal):(r=[],o=0),c+=(""!=c?"<br />":"")+"<b>"+Format.fullName(i.lastName,i.firstName).escapeHTML()+"</b><ul>",s=0,a=d.goals.length;s<a;++s)void 0!==r[(n=d.goals[s]).pgoalID]&&(l=n.customText?r[n.pgoalID].text.escapeHTML():n.text.escapeHTML(),n.pgoalID==o&&(l="<b>"+l+"</b>"),c+="<li>"+l+"</li>");c+="</ul>"}this.setValue(this.pfxSod+this.service,c)}else this.setValue(this.pfxSod+this.service,"")}})},54167:()=>{window.PlayersStanding=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",draw:function(){var t,e,i,s,a,n,r,o=this.data.staticData,l=[],d=[{title:this.tc("company")}];for(t=0,e=o.indicators.length;t<e;++t)d.push({title:o.indicators[t].name,type:"number",decimals:3});for(i=0,s=o.teams.length;i<s;++i){for(n=[(a=o.teams[i]).companyName.escapeHTML()+(o.hasLogistics?"<br />("+this.tc("common:role_short"+a.iAmSupOrRes)+")":"")],t=0,e=a.indicators.length;t<e;++t)n.push(a.indicators[t].value);l.push(n)}if(this.bscTable=new DecisionTable(this.tc("inductryResults",{QUARTER:Live.user.quarter()-1}),"bscTable",d,l),r=this.bscTable.draw(),o.ai){for(l=[],d=[{title:this.tc("company")},{title:this.tc("quarter"),type:"number"}],t=0,e=o.indicators.length;t<e;++t)d.push({title:o.indicators[t].name,type:"number",decimals:3});for(i=0,s=o.humanTeams.length;i<s;++i){for(n=[(a=o.humanTeams[i]).companyName.escapeHTML(),a.quarter],t=0,e=a.indicators.length;t<e;++t)n.push(a.indicators[t].value);l.push(n)}this.hbscTable=new DecisionTable(this.tc("humanResults"),"hbscTable",d,l),r+="<br />"+this.hbscTable.draw()}return r},observe:function(){this.bscTable.observe(),this.bscTable.makeTableSortable(),this.data.staticData.ai&&(this.hbscTable.observe(),this.hbscTable.makeTableSortable())}})},84389:(t,e,i)=>{"use strict";i(16085),window.PriceJudgment=BrandJudgment.extend({saveName:"price-judment"})},31108:(t,e,i)=>{"use strict";i(72187),window.PriceWillingToPay=CustomerNeeds.extend({topItems:8,saveName:"price-willing-to-pay",getFilter:function(){var t=this.data.staticData;return 1==t.regions.length?"":(this.filter=new MultiLevelFilter(this.tc("by_region"),"reg_filter","blue",this.settings.filter,this.redrawTables.bind(this),t.regions,"regionID","name",this.tc("region")),this.filter.draw())},checkFilter:function(t){return this.data.staticData.regions.toLookUp("regionID")[t.regionID].checked}})},31829:()=>{window.Pricing=Decision.extend({style:"padding: 10px 10px 0px 10px;",sendCalculate:!1,modifyModeButtons:["save","cancel"],read:function(){var t,e,i,s,a,n,r=this.data.decisions.regions,o=r.length,l=this.data.staticData.hasPOP;for(t=0;t<o;++t)for(i=0,s=(e=r[t]).brands.length;i<s;++i)a=e.brands[i],n=e.regionID+"_"+a.brandID,a.sell=this.value("sell_"+n),a.price=this.value("price_"+n),a.rebate=this.value("rebate_"+n),a.priority=this.value("priority_"+n),a.pop=!!l&&this.value("pop_"+n)},write:function(){var t,e,i,s,a,n,r=this.data.decisions.regions,o=r.length,l=this.data.staticData.hasPOP;for(t=0;t<o;++t)for(i=0,s=(e=r[t]).brands.length;i<s;++i)a=e.brands[i],n=e.regionID+"_"+a.brandID,this.setValue("sell_"+n,a.sell),this.setValue("price_"+n,a.price),this.setValue("rebate_"+n,a.rebate),this.setValue("priority_"+n,a.priority),l&&this.setValue("pop_"+n,a.pop);null!=this.copyDD&&this.copyDD.hide()},writeErrors:function(){var t,e,i,s,a,n,r=this.data.errors.decisions.regions,o=r.length,l=this.data.staticData.hasPOP;for(t=0;t<o;++t)for(i=0,s=(e=r[t]).brands.length;i<s;++i)a=e.brands[i],n=e.regionID+"_"+a.brandID,this.writeError("sell_"+n,a.sell,"center left",!0,3),this.writeError("price_"+n,a.price,"center left",!0,3),this.writeError("rebate_"+n,a.rebate,"center left",!0,3),this.writeError("priority_"+n,a.priority,"center left",!0,3),l&&this.writeError("pop_"+n,a.pop,"center left",!0,3)},draw:function(t){t=t||!1;var e,i,s,a,n,r,o,l,d=this.data.staticData,c=d.regions,h=c.length,p=this.data.dynamicData,u=d.hasPOP,g=this.data.decisions.regions.toLookUp("regionID"),m=p.brands.toLookUp("brandID"),b="",f="",v=[{title:this.tc("brand")},{title:this.tc("available"),type:"flag"},{title:this.tc("price"),align:"right"},{title:this.tc("rebate"),align:"right"},{title:this.tc("priority"),align:"right"}];for(u&&v.push({title:this.tc("pop"),type:"flag"}),this.activeRegions=[],this.pTables=[],e=0;e<h;++e)if(o=[],(i=c[e]).isIn){for(a=g[i.regionID].brands.length,t&&g[i.regionID].brands.sort((function(t,e){return(t.sell?t.priority:a)-(e.sell?e.priority:a)})),s=0;s<a;++s)n=g[i.regionID].brands[s],r=i.regionID+"_"+n.brandID,o.push([Format.brandName(m[n.brandID].brandName.escapeHTML(),m[n.brandID].brandType),this.com("checkbox","sell_"+r,n.sell),this.com("iedit","price_"+r,n.price,{size:5}),this.com("iedit","rebate_"+r,n.rebate,{size:5}),this.com("iedit","priority_"+r,n.priority,{size:3})]),u&&o[o.length-1].push(this.com("checkbox","pop_"+r,n.pop));l=new DecisionTable(i.regionName,"pTable_"+i.regionID,v,o),t&&(l.tableCorners=""),this.pTables.push(l),f+=l.draw(),this.activeRegions.push(i)}return this.activeRegions.length>1?(this.modifyModeButtons=["copyData","save","cancel"],this.buttonCaptions.copyData=this.tc("common:copyData")+" &#9650;"):this.modifyModeButtons=["save","cancel"],0==this.activeRegions.length||0==p.brands.length?(this.viewModeButtons=[],this.modifyModeButtons=[],0==this.activeRegions.length&&(b+=this.tc("common:noOutlet")),0==p.brands.length&&(b+=(""!=b?"<br />":"")+this.tc("common:noBrands")),this.emptyLabel=new DecisionLabel(this.service,"emptyLabel",b,"","blue"),this.emptyLabel.draw()):(this.emptyLabel=null,this.pxLabel=new DecisionLabel(this.service,"pxLabel",this.tc(d.hasWeb?"popCostWeb":"popCost",{POPCOST:d.popCost})),(u&&!t?this.pxLabel.draw():"")+f)},checkItem:function(t){j$("#sell_"+t).is(":checked")||(this.setValue("price_"+t,0),this.setValue("rebate_"+t,0),this.setValue("priority_"+t,0),this.data.staticData.hasPOP&&this.setValue("pop_"+t,!1))},observe:function(){if(j$("#btncopyData").length>0&&j$("#btncopyData").css({width:"auto"}),null==this.emptyLabel){var t,e,i,s,a,n,r,o=this.data.staticData,l=o.regions,d=l.length,c=this.data.decisions.regions.toLookUp("regionID");for(this.data.dynamicData,n=0,r=this.pTables.length;n<r;n++)this.pTables[n].observe();for(DecisionTable.setMaxColWidths(this.pTables,0),o.hasPOP&&(this.pxLabel.observe(),this.pxLabel.change("float","left")),t=0;t<d;++t)if((e=l[t]).isIn)for(i=0,s=c[e.regionID].brands.length;i<s;++i)a=e.regionID+"_"+c[e.regionID].brands[i].brandID,j$("#sell_"+a).on("click",this.checkItem.bind(this,a)),o.hasPOP&&0==e.soCount&&this.keepDisabled.push("pop_"+a);this.createCopyDD()}else this.emptyLabel.observe(),this.emptyLabel.change("float","left")},resize:function(){var t=this.data.dynamicData;this.pTables.length>0&&0!=this.activeRegions.length&&0!=t.brands.length&&DecisionTable.setMaxColWidths(this.pTables,0)},destroy:function(){var t,e,i,s,a,n=this.data.staticData.regions,r=n.length,o=this.data.decisions.regions.toLookUp("regionID");for(t=0;t<r;++t)if((e=n[t]).isIn)for(i=0,s=o[e.regionID].brands.length;i<s;++i)a=e.regionID+"_"+o[e.regionID].brands[i].brandID,j$("#sell_"+a).off();this.copyDD&&this.copyDD.destroy(),this._super()},drawSOD:function(){var t=this.draw(!0);null==this.emptyLabel?(this.setValue(this.pfxSod+this.service,t),this.disable()):this.setValue(this.pfxSod+this.service,"")},copyData:function(){},createCopyDD:function(){this.activeRegions;var t=this.data.dynamicData,e=this.user.quarter();this.activeRegions.length>1?(this.copyDD=new DropDownStaticCopy("btncopyData",this.activeRegions,"regionID","regionName",this.tc("region"),this.activeRegions,"regionID","regionName",this.tc("regions"),t.brands,"brandID","brandName",this.tc("brands")),this.copyDD.copyDecision=j$.proxy(this.copyDecision,this),this.copyDD.getFromName=function(t){return Format.brandName(this.fromItems[t][this.fromItemName].escapeHTML(),this.fromItems[t].brandType)},this.copyDD.fromItemPreselected=function(t){return t.quarterDesigned==e},!this.isCurrentQuarter()||this.isGameOverQuarter()&&this.hideButtonsInLastQuarter||OverlayMessages.triggerMessage("copyBtn",!0)):this.copyDD=null},copyDecision:function(t,e,i){var s,a,n,r,o,l,d,c,h,p=this.data.decisions.regions.toLookUp("regionID"),u=this.data.staticData.hasPOP,g=this.activeRegions.toLookUp("regionID");if(void 0!==g[t])for(s=p[t],c=0,h=e.length;c<h;++c)if(void 0!==g[e[c]])for(a=p[e[c]],n=0,r=s.brands.length;n<r;++n)o=s.brands[n],-1!=i.indexOf(o.brandID)&&(l=a.regionID+"_"+o.brandID,d=s.regionID+"_"+o.brandID,this.setValue("sell_"+l,this.value("sell_"+d)),this.setValue("price_"+l,this.value("price_"+d)),this.setValue("rebate_"+l,this.value("rebate_"+d)),this.setValue("priority_"+l,this.value("priority_"+d)),u&&-1==this.keepDisabled.indexOf("pop_"+l)&&this.setValue("pop_"+l,this.value("pop_"+d)))}})},56960:(t,e,i)=>{"use strict";i(31829),window.PricingAnim2=Pricing.extend({newDomDraw:!0,backgroundImage:"",style:"padding: 10px 10px 0px 10px;",sendCalculate:!1,modifyModeButtons:["save","cancel"],monitorTypes:[{uid:"mon_desk_17_std",name:"15inch"},{uid:"mon_desk_19_std",name:"17inch"},{uid:"mon_desk_21_hr",name:"19inch"},{uid:"mon_desk_23_hr",name:"19inch"},{uid:"mon_desk_24_hr",name:"19inch"},{uid:"mon_desk_32_ws",name:"wide"},{uid:"mon_lap_13_std",name:"10inch"},{uid:"mon_lap_14_std",name:"10inch"},{uid:"mon_lap_17_adv",name:"12inch"},{uid:"case_desk_slimstyl_integdisp",name:"integrated"}],encasementTypes:[{uid:"case_desk_std",name:"std"},{uid:"case_desk_slim",name:"slim"},{uid:"case_desk_styl",name:"style"},{uid:"case_desk_slimstyl",name:"slim_styl"},{uid:"case_lap_std",name:"std"},{uid:"case_lap_slim",name:"slim"},{uid:"case_lap_uslim",name:"slim"},{uid:"case_lap_styl",name:"style"},{uid:"case_lap_slimstyl",name:"style"},{uid:"case_laptab_std",name:"std"},{uid:"case_laptab_slim",name:"slim"},{uid:"case_laptab_slimstyl",name:"style"}],initialize:function(t){this._super("Pricing")},getBrImgName:function(t,e){var i,s,a,n,r,o,l,d="",c=this.data.staticData.componentGroups,h=this.monitorTypes.toLookUp("uid"),p=this.encasementTypes.toLookUp("uid");switch(t){case"D":d+="desktop";break;case"L":d+="laptop";break;case"T":return d+"tablet"}for(a=0,n=c.length;a<n;a++)for(i=0,s=(r=c[a].brandFeatures).length;i<s;i++)-1!=e.indexOf(r[i].featureID)&&(void 0!==h[r[i].featureUID]&&(o=h[r[i].featureUID].name),void 0!==p[r[i].featureUID]&&(l=p[r[i].featureUID].name));return(d+="_"+l)+"_"+o},getBrImg:function(t){return this.st("useSvgPreview")?'<div class="popImgBrand">'+Format.brandSvgIcon(t,this.allFeatures,38,28).prop("outerHTML")+"</div>":'<img src="'+Path.getPath(this.st("newBrandsFolder"),this.getBrImgName(t.brandType,t.brandFeatures),".png")+'" class="popImgBrand" alt="" />'},read:function(){var t,e,i,s,a,n,r=this.data.decisions.regions,o=r.length,l=this.data.staticData.hasPOP;for(t=0;t<o;++t)for(i=0,s=(e=r[t]).brands.length;i<s;++i)a=e.brands[i],n=e.regionID+"_"+a.brandID,a.sell=this.value("sell_"+n),a.price=this.value("price_"+n),a.rebate=this.value("rebate_"+n),a.priority=this.value("priority_"+n),l?(a.pop=this.value("pop_"+n),this.value("pop_"+n)?j$("#popImg_"+n).show():j$("#popImg_"+n).hide()):a.pop=!1},write:function(){var t,e,i,s,a,n,r=this.data.decisions.regions,o=r.length,l=this.data.staticData.hasPOP;for(t=0;t<o;++t)for(i=0,s=(e=r[t]).brands.length;i<s;++i)a=e.brands[i],n=e.regionID+"_"+a.brandID,this.setValue("sell_"+n,a.sell),this.setValue("price_"+n,a.price),this.setValue("rebate_"+n,a.rebate),this.setValue("priority_"+n,a.priority),l&&(this.setValue("pop_"+n,a.pop),this.value("pop_"+n)?j$("#popImg_"+n).show():j$("#popImg_"+n).hide());null!=this.copyDD&&this.copyDD.hide()},formatBrandName:function(t){return"bikes"===this.data.commonData.scenario?Format.brandNameSvg(t,this.allFeatures,t.brandName.escapeHTML()):Format.brandName(t.brandName.escapeHTML(),t.brandType)},draw:function(t,e){e=e||!1;var i,s,a,n,r,o,l,d,c,h,p,u,g,m=this.data.staticData,b=m.regions,f=b.length,v=this.data.dynamicData,y=this.data.staticData.componentGroups,w=m.hasPOP,D=this.data.decisions.regions.toLookUp("regionID"),_=v.brands.toLookUp("brandID"),I="",x="",T=[];for(this.allFeatures=[],c=0,h=y.length;c<h;++c)for(p=0,u=y[c].brandFeatures.length;p<u;p++)this.allFeatures.push(y[c].brandFeatures[p]);for(this.activeRegions=[],this.pTables=[],i=0;i<f;++i){l=[];var C="pTable_"+(s=b[i]).regionID;if(s.isIn){for(T=[{title:this.tc("priority"),cellId:C+"_priority",align:"right",vline:!1},{title:this.tc("brand"),cellId:C+"_brand"},{title:this.tc("available"),cellId:C+"_sell",type:"flag"},{title:this.tc("price"),cellId:C+"_price",align:"right"},{title:this.tc("rebate"),cellId:C+"_rebate",align:"right"}],w&&T.push({title:this.tc("pop"),cellId:C+"_pop",type:"flag",align:"left"}),this.sortBrandsByPriority(D[s.regionID].brands),a=0,n=D[s.regionID].brands.length;a<n;++a){d=[],r=D[s.regionID].brands[a],o=s.regionID+"_"+r.brandID;var L=C+"_brand_"+r.brandID;d.push(this.com("edit","priority_"+o,r.priority,{size:3,"data-initial-value":r.priority,label:"","aria-labelledby":L+" "+C+"_priority",cls:"slotNum",labelAlign:"after",defaultCls:!1}),'<span id="'+L+'">'+this.formatBrandName(_[r.brandID])+"</span>",this.com("checkbox","sell_"+o,r.sell,{"aria-labelledby":L+" "+C+"_sell"}),this.com("iedit","price_"+o,r.price,{size:5,cls:"onSaleEdit","aria-labelledby":L+" "+C+"_price"}),this.com("iedit","rebate_"+o,r.rebate,{size:5,cls:"onSaleEdit","aria-labelledby":L+" "+C+"_rebate"})),w&&d.push('<div class="popRow">'+this.com("checkbox","pop_"+o,r.pop,{cls:"onSaleEdit","aria-labelledby":L+" "+C+"_pop"})+'<div id="popImg_'+o+'" class="popImgWrap" style="'+(r.pop?"":"display:none;")+'"><img src="'+this.st("popStage")+'" class="popImg" alt="" />'+this.getBrImg(_[r.brandID])+"</div></div>"),l.push(this.wrapRow(d))}g=new DecisionTable(s.regionName,C,T,l),e&&(g.tableCorners=""),this.pTables.push(g),x+=g.draw(),this.activeRegions.push(s)}}if(this.activeRegions.length>1?(this.modifyModeButtons=["copyData","save","cancel"],this.buttonCaptions.copyData=this.tc("common:copyData")+" &#9650;"):this.modifyModeButtons=["save","cancel"],0==this.activeRegions.length||0==v.brands.length)return this.viewModeButtons=[],this.modifyModeButtons=[],0==this.activeRegions.length&&(I+=this.tc("common:noOutlet")),0==v.brands.length&&(I+=(""!=I?"<br />":"")+this.tc("common:noBrands")),this.emptyLabel=new DecisionLabel(this.service,"emptyLabel",I,"","blue"),void t.append(this.emptyLabel.draw());this.emptyLabel=null,this.pxLabel=new DecisionLabel(this.service,"pxLabel",this.tc(m.hasWeb?"popCostWeb":"popCost",{POPCOST:m.popCost})),w&&!e&&t.append(this.pxLabel.draw()),t.append(x)},sortBrandsByPriority:function(t){t.sort((function(t,e){return t.priority==e.priority?t.brandID-e.brandID:0==t.priority?1:0==e.priority?-1:t.priority-e.priority}))},initSpinners:function(){var t,e,i,s,a,n,r=this.data.staticData,o=this.data.decisions.regions.toLookUp("regionID");for(t=0,e=r.regions.length;t<e;t++)(i=r.regions[t]).isIn&&(s=j$("#pTable_"+i.regionID),n=this.getActiveBrands(i).length,(a=s.find(".slotNum")).spinner({min:1,max:n,stop:j$.proxy((function(t,e,i,s,a,n,r){var o=j$(n.target),l=parseInt(o.val());isNaN(l)||(o.val()<s?o.val(s):o.val()>a&&o.val(a),l=parseInt(o.val()),o.val()!=l&&o.val(l),this.updateAllNumbers(e,i,l,o,t),this.read())}),this,a,i,o[i.regionID],1,n)}),a.parent().on("mousedown",(function(t){t.stopPropagation()})),a.on("drop",(function(t){t.preventDefault()})).on("blur",(function(t){j$(this).val(j$(this).attr("data-initial-value"))})),s.find(".slotNum").spinner("enable"),s.find(".unsortable").find(".slotNum").spinner("disable"))},updateAllNumbers:function(t,e,i,s,a){var n=i-s.attr("data-initial-value"),r=i,o=parseInt(s.attr("data-initial-value"),10),l=this.getActiveBrands(t).length+1;r>l?s.val(l):r<1&&s.val(1),j$(a).not(j$(s)).each((function(){if(!j$(this).closest("li").hasClass("unsortable")){var t=parseInt(j$(this).val(),10);t>=r&&t<o&&n<0?j$(this).val(t+1):t<=r&&t>o&&n>0&&j$(this).val(t-1)}})),j$(a).each((function(t){""===j$(this).val()||j$(this).closest("li").hasClass("unsortable")||j$(this).attr("data-initial-value",j$(this).val())}))},getActiveBrands:function(t){var e,i,s,a,n=[];for(i=0,s=(e=this.data.decisions.regions.toLookUp("regionID")[t.regionID].brands).length;i<s;i++)(a=e[i]).priority>0&&n.push(a);return n},alignPriorities:function(t){var e,i,s,a,n;for(e=this.data.decisions.regions.toLookUp("regionID")[t.regionID].brands,this.sortBrandsByPriority(e),i=0,s=e.length;i<s;i++)(a=e[i]).priority>0&&(n=t.regionID+"_"+a.brandID,a.priority=i+1,this.setValue("priority_"+n,a.priority),j$("#priority_"+n).attr("data-initial-value",a.priority))},initActiveBrands:function(){var t,e,i,s,a,n,r,o=this.data.staticData,l=this.data.decisions.regions.toLookUp("regionID");for(t=0,e=o.regions.length;t<e;t++)if((i=o.regions[t]).isIn)for(a=0,n=(s=l[i.regionID].brands).length;a<n;a++)0!=(r=s[a]).sell&&this.inModifyMode?this.toggleRowActive(!0,i,r):this.toggleRowActive(!1,i,r)},reorderRows:function(){var t,e,i,s,a,n,r,o,l,d,c=this.data.staticData,h=this.data.decisions.regions.toLookUp("regionID");for(t=0,e=c.regions.length;t<e;t++)if((i=c.regions[t]).isIn)for(d=(l=(o=this.getRegionTable(i.regionID).find("tbody")).find(".ui-sortable-placeholder")).prevAll().length,s=h[i.regionID].brands,this.sortBrandsByPriority(s),a=0,n=s.length;a<n;a++)r=s[a],a+1==d&&o.append(l),o.append(this.getRow(i.regionID,r.brandID))},getRegionTable:function(t){return j$("#pTable_"+t)},getRow:function(t,e){return j$("#priority_"+t+"_"+e).closest("tr")},toggleRowActive:function(t,e,i){var s=e.regionID,a=i.brandID,n=s+"_"+a;this.getRow(s,a).toggleClass("unsortable",!t),this.getRow(s,a).toggleClass("disabledOnSale",!this.value("sell_"+n)),this.inModifyMode&&(j$("#priority_"+s+"_"+a).prop("disabled",!t),j$("#price_"+s+"_"+a).prop("disabled",!t),j$("#rebate_"+s+"_"+a).prop("disabled",!t),-1===this.keepDisabled.indexOf("pop_"+s+"_"+a)&&j$("#pop_"+s+"_"+a).prop("disabled",!t))},destroy:function(){this._super()},updateList:function(t){var e,i,s,a,n,r,o,l,d,c;for(e=(r=this.data.decisions.regions.toLookUp("regionID")[t.regionID].brands).toLookUp("brandID"),i=0,s=(a=this.getRegionTable(t.regionID).find("tbody").find("tr")).length;i<s;i++)e[n=j$(a[i]).find(".slotNum")[0].id.split("_")[2]].sell&&(e[n].priority=i+1);for(this.sortBrandsByPriority(r),o=0,l=r.length;o<l;o++)(d=r[o]).priority>0&&(c=t.regionID+"_"+d.brandID,d.priority=o+1,this.setValue("priority_"+c,d.priority),j$("#priority_"+c).attr("data-initial-value",d.priority))},wrapRow:function(t){var e,i;for(e=0,i=t.length;e<i;e++)t[e]=0==e?'<div class="cellWrap vline"><img src="'+this.st("grabby")+'" class="cellGrab" alt=""/><div class="cellInside slotNumBig">'+t[e]+"</div></div>":'<div class="cellWrap"><div class="cellInside">'+t[e]+"</div></div>";return t},lockSize:function(t,e){var i,s,a,n;for(a=j$(e.item[0]).closest("table").find("thead tr").find("td, th"),t&&(n=j$(e.helper[0]).find("td, th")),i=0,s=a.length;i<s;i++)t?j$(n[i]).find(".cellInside").css({"min-width":j$(a[i]).width()}):j$(a[i]).find(".cellInside").css({"min-width":""})},styleTable:function(t){t.jelement(),t.jelementWrapper(),t.jelementWrapper().toggleClass("transparentTableWrap",!0)},toggleSorting:function(t){var e,i,s,a,n=this.data.staticData.regions,r=n.length;for(a=t?"enable":"disable",e=0;e<r;++e)(i=n[e]).isIn&&((s=j$("#pTable_"+i.regionID)).find("tbody").sortable(a),s.find(".slotNum").spinner(a),s.find(".unsortable").find(".slotNum").spinner("disable"))},onModifyScene:function(){this.initActiveBrands(),this.toggleSorting(!0)},onCancelScene:function(){this.initActiveBrands(),this.toggleSorting(!1),this.reorderRows()},onSaveScene:function(){this.initActiveBrands(),this.toggleSorting(!1),this.reorderRows()},checkItem:function(t,e,i){var s=j$("#sell_"+t).is(":checked");s?(this.setValue("priority_"+t,this.getActiveBrands(e).length+1),j$("#priority_"+t).attr("data-initial-value",this.getActiveBrands(e).length+1),this.read()):(this.setValue("price_"+t,0),this.setValue("rebate_"+t,0),this.setValue("priority_"+t,0),this.data.staticData.hasPOP&&this.setValue("pop_"+t,!1),this.read(),this.alignPriorities(e)),this.toggleRowActive(s,e,i),this.initSpinners()},initSortable:function(t){j$("#pTable_"+t.regionID).find("tbody").sortable({items:"tr:not(.unsortable)",disabled:!0,helper:"clone",forcePlaceholderSize:!0,forceHelperSize:!0,axis:"y",containment:"parent",cursor:"move",opacity:1,scrollSpeed:8,tolerance:"pointer",start:j$.proxy((function(t,e,i){this.reorderRows(),this.lockSize(!0,i)}),this,t),stop:j$.proxy((function(t,e,i){this.lockSize(!1,i),this.updateList(t)}),this,t)})},copyDecision:function(t,e,i){var s,a,n,r,o,l,d,c,h,p=this.data.decisions.regions.toLookUp("regionID"),u=this.data.staticData.hasPOP,g=this.activeRegions.toLookUp("regionID");if(void 0!==g[t]){for(s=p[t],c=0,h=e.length;c<h;++c)if(void 0!==g[e[c]])for(a=p[e[c]],n=0,r=s.brands.length;n<r;++n)o=s.brands[n],-1!=i.indexOf(o.brandID)&&(l=a.regionID+"_"+o.brandID,d=s.regionID+"_"+o.brandID,this.setValue("sell_"+l,this.value("sell_"+d)),this.setValue("price_"+l,this.value("price_"+d)),this.setValue("rebate_"+l,this.value("rebate_"+d)),this.setValue("priority_"+l,this.value("priority_"+d)),u&&-1==this.keepDisabled.indexOf("pop_"+l)&&this.setValue("pop_"+l,this.value("pop_"+d)),this.toggleRowActive(this.value("sell_"+d),a,o));for(this.read(),this.initSpinners(),this.reorderRows(),c=0,h=e.length;c<h;++c)void 0!==g[e[c]]&&(a=p[e[c]],this.updateList(a))}},observe:function(){if(null==this.emptyLabel){var t,e,i,s,a,n,r,o=this.data.staticData,l=o.regions,d=l.length,c=this.data.decisions.regions.toLookUp("regionID");for(this.data.dynamicData,this.initActiveBrands(),this.initSpinners(),n=0,r=this.pTables.length;n<r;n++)this.pTables[n].observe(),this.styleTable(this.pTables[n]);for(this.pxLabel.jelementWrapper().toggleClass("transparentLabelWrap",!0),DecisionTable.setMaxColWidths(this.pTables,0),o.hasPOP&&(this.pxLabel.observe(),this.pxLabel.jelement().css("max-width",this.pTables[0].jelement().width())),t=0;t<d;++t)if((e=l[t]).isIn){for(i=0,s=c[e.regionID].brands.length;i<s;++i)a=e.regionID+"_"+c[e.regionID].brands[i].brandID,j$("#sell_"+a).on("click",this.checkItem.bind(this,a,e,c[e.regionID].brands[i])),o.hasPOP&&0==e.soCount&&this.keepDisabled.push("pop_"+a),this.bindRead("price_"+a,"keyup"),this.bindRead("rebate_"+a,"keyup"),this.bindRead("priority_"+a,"keyup"),this.bindRead("sell_"+a,"click"),o.hasPOP&&this.bindRead("pop_"+a,"click");this.initSortable(e)}this.toggleSorting(!1),this.createCopyDD(),j$(".cellInside").find("input").on("touchstart",(function(t){t.stopImmediatePropagation()}))}else this.emptyLabel.observe(),this.emptyLabel.change("float","left")}})},34594:()=>{window.Problem=Decision.extend({style:"padding: 10px 10px 0px 10px",hideButtonsInLastQuarter:!1,sendCalculate:!1,read:function(){this.data.decisions.problem=this.value("problem"),this.data.decisions.solution=this.value("solution")},write:function(){this.setValue("problem",this.data.decisions.problem),this.setValue("solution",this.data.decisions.solution)},writeErrors:function(){this.writeError("problem",this.data.errors.decisions.problem,"center right",!0,3),this.writeError("solution",this.data.errors.decisions.solution,"center right",!0,3)},draw:function(){return this.lbl=new DecisionLabel(this.service,"ps",this.tcLbl("problem")+"<br />"+this.com("memo","problem",this.data.decisions.problem,{rows:7,cols:100})+"<br /><br />"+this.tcLbl("solution")+"<br />"+this.com("memo","solution",this.data.decisions.solution,{rows:7,cols:100})),this.lbl.draw()},observe:function(){this.lbl.observe(),this.lbl.change("float","left")},drawSOD:function(){""!=this.data.decisions.problem||""!=this.data.decisions.solution?this.setValue(this.pfxSod+this.service,this.tcLbl("problem")+"<br />"+this.data.decisions.problem.escapeHTML()+"<br />"+this.tcLbl("solution")+"<br />"+this.data.decisions.solution.escapeHTML()):this.setValue(this.pfxSod+this.service,"")}})},80737:()=>{window.ProductionControlSystem=Decision.extend({style:"padding: 10px 10px 0px 10px;",read:function(){var t,e=this.data.staticData;for(t=0;t<e.productionSystems.length;t++)this.value("ps_"+e.productionSystems[t].systemID)&&(this.data.decisions.systemID=e.productionSystems[t].systemID)},write:function(){var t,e=this.data.staticData;for(t=0;t<e.productionSystems.length;t++)this.setValue("ps_"+e.productionSystems[t].systemID,this.data.decisions.systemID)},writeCalculate:function(){var t=this.data.calculate;j$("#calc_setup").html(Number(t.setupCost).format()),j$("#calc_expense").html(Number(t.quarterlyExpense).format())},draw:function(){var t,e=this.data.staticData,i=this.data.decisions,s=this.data.calculate,a=[],n=[{title:this.tc("control_system"),vline:!0},{title:this.tc("setup_cost"),type:"number"},{title:this.tc("qtr_expense"),type:"number"},{title:this.tc("min_hours"),align:"right"}];for(t=0;t<e.productionSystems.length;t++)a.push([this.com("radio","ps",i.systemID,{label:e.productionSystems[t].name},e.productionSystems[t].systemID),e.productionSystems[t].setupCost,e.productionSystems[t].quarterlyExpense,e.productionSystems[t].minHours]);return this.psTable=new DecisionTable(this.tc("production_control_system"),"psTable",n,a,!1,"green"),this.psTotal=new DecisionLabel(this.service,"totalExpense","<div>"+this.tc("totalSetup",{TOTAL:'<span id="calc_setup">'+Number(s.setupCost).format()+"</span>"})+"</div><div>"+this.tc("totalExpense",{TOTAL:'<span id="calc_expense">'+Number(s.quarterlyExpense).format()+"</span>"})+"</div>"),this.psTable.draw()+this.psTotal.draw()},observe:function(){var t,e,i=this.data.staticData;for(this.psTable.observe(),this.psTotal.observe(),this.psTotal.change("float","left"),t=0,e=i.productionSystems.length;t<e;t++)this.bindCalculate("ps_"+i.productionSystems[t].systemID,"change",!1)},drawSOD:function(){var t,e=this.data.staticData,i=this.data.decisions,s=this.data.calculate,a="";for(t=0;t<e.productionSystems.length;t++)if(i.systemID==e.productionSystems[t].systemID){a=this.tc("control_system")+": "+e.productionSystems[t].name+"<br />"+this.tc("setup_cost")+": "+Format.integer(e.productionSystems[t].setupCost)+"<br />"+this.tc("qtr_expense")+": "+Format.integer(e.productionSystems[t].quarterlyExpense)+"<br />"+this.tc("min_hours")+": "+e.productionSystems[t].minHours+"<br/><br/>"+this.tc("totalExpense",{TOTAL:(Number(s.setupCost)+Number(s.quarterlyExpense)).format()});break}this.setValue(this.pfxSod+this.service,a)}})},31972:()=>{window.ProductionRules=Decision.extend({sendCalculate:!1,style:"padding: 10px 10px 0px 10px;",read:function(){var t,e,i,s,a,n,r=this.data.staticData;for(this.data.decisions.rules=[],t=0,e=r.rules.length;t<e;++t)if(n=1,(i=r.rules[t]).options.length>0){for(s=0,a=i.options.length;s<a;++s)this.value("rule_"+i.ruleID+"_"+i.options[s].optionID)&&(n=i.options[s].optionID);this.data.decisions.rules.push({ruleID:i.ruleID,optionID:n})}},write:function(){var t,e,i,s,a,n=this.data.staticData,r=this.data.decisions.rules.toLookUp("ruleID");for(t=0,e=n.rules.length;t<e;++t)for(s=0,a=(i=n.rules[t]).options.length;s<a;++s)this.setValue("rule_"+i.ruleID+"_"+i.options[s].optionID,r[i.ruleID].optionID)},draw:function(){var t,e,i,s,a,n,r=this.data.staticData,o=[{title:this.tc("order"),type:"flag"},{title:this.tc("rule")}],l=[],d=this.data.decisions.rules.toLookUp("ruleID");if(0==r.fixedCapacity)return this.viewModeButtons=[],this.modifyModeButtons=[],this.emptyLabel=new DecisionLabel(this.service,"emptyLabel",this.tc("common:noFactory"),"","green"),this.emptyLabel.draw();for(this.emptyLabel=null,e=0,i=r.rules.length;e<i;++e){if(t='<span id="ruleText_'+(s=r.rules[e]).ruleID+'">'+s.text+"</span>",s.options.length>0){for(t+='<ul aria-labelledby="ruleText_'+s.ruleID+'" style="margin-top:5px; margin-bottom:5px; padding-left: 5px;">',a=0,n=s.options.length;a<n;++a)t+='<li class="gsdLi">'+this.com("radio","rule_"+s.ruleID,d[s.ruleID].optionID,{label:s.options[a].text},s.options[a].optionID)+"</li>";t+="</ul>"}l.push([s.ruleID+".",t])}return this.prTable=new DecisionTable(this.tc("productionRules"),"prTable",o,l,!1,"green"),this.prTable.draw()},drawSOD:function(){for(var t="",e=this.data.staticData.rules.toLookUp("ruleID"),i=this.data.decisions.rules,s=0,a=i.length;s<a;++s){var n=e[i[s].ruleID],r=n.options.toLookUp("optionID")[i[s].optionID];t+='<div style="margin-bottom: 5px;">'+n.ruleID+". "+n.text+" "+r.text+"</div>"}this.setValue(this.pfxSod+this.service,t)},observe:function(){null==this.emptyLabel?this.prTable.observe():(this.emptyLabel.observe(),this.emptyLabel.change("float","left"))}})},32793:(t,e,i)=>{"use strict";i(97221),window.ProFormaBalanceSheet=ProFormaFinance.extend({tableName:"proFormaBalanceSheet",tableID:"balanceSheetTable"})},55069:(t,e,i)=>{"use strict";var s=i(93037),a=i(82626),n=i(63714);window.ProFormaCashFlow=a.Decision.extend({viewModeButtons:["modify"],modifyModeButtons:["loaddata","save","cancel"],style:"padding: 10px 10px 0px 10px;",read:function(){var t,e,i,s=this.data.decisions.items,a=s.length,n=this.data.staticData.fill;for(t=0;t<a;++t)for(e=s[t],i=0;i<n;++i)e.quarters[i]=this.value(e.id+"_"+i+"_i")},write:function(){var t,e,i,s=this.data.decisions.items,a=s.length,n=this.data.staticData.fill;for(t=0;t<a;++t)for(e=s[t],i=0;i<n;++i)this.setValue(e.id+"_"+i+"_i",e.quarters[i]),this.setValue(e.id+"_"+i,Number(e.quarters[i]).format());this.underlineCurrentQtr(!this.inModifyMode,!1)},writeErrors:function(){var t,e,i,s=this.data.errors.decisions.items,a=s.length,n=this.data.staticData.fill;for(t=0;t<a;++t)for(e=s[t],i=0;i<n;++i)this.writeError(e.id+"_"+i+"_i",e.quarters[i]),this.writeError(e.id+"_"+i,e.quarters[i])},writeCalculate:function(){var t,e,i,s=this.data.calculate.items,a=s.length,n=this.data.staticData.fill;for(t=0;t<a;++t)for(e=s[t],i=0;i<n;++i)j$("#"+e.id+"_"+i+"_i").html(Number(e.quarters[i]).format()),j$("#"+e.id+"_"+i).html(Number(e.quarters[i]).format())},loaddata:function(){var t,e=this.data.dynamicData.items,i=e.length;for(t=0;t<i;++t)this.setValue(e[t].id+"_0_i",e[t].value),this.setValue(e[t].id+"_0",Number(e[t].value).format());this.calculate()},importtacticalplan:function(){var t,e,i,s,a=this.data.dynamicData.tacticalPlanItems,n=a.length;for(t=0;t<n;++t)for(i=0,s=(e=a[t]).quarters.length;i<s;++i)this.setValue(e.id+"_"+(i+1)+"_i",e.quarters[i]),this.setValue(e.id+"_"+(i+1),e.quarters[i]);this.calculate()},draw:function(){var t,e,i,a,n,r,o,l,d,c,h,p=this.data.staticData,u=[],g=this.data.decisions.items.toLookUp("id"),m=this.data.calculate.items.toLookUp("id"),b=[{title:"",header:!0}],f=[],v="undefined"!=typeof Engine,y=Math.min(1,p.fill);for(h=j$.proxy(this.colClick,this,!1),p.autoCalculated?(this.viewModeButtons=[],this.modifyModeButtons=[]):p.importTacticalPlan&&(this.modifyModeButtons=["loaddata","importtacticalplan","save","cancel"]),this.buttonCaptions.loaddata=this.tc("common:loaddata"),this.buttonCaptions.importtacticalplan=this.tc("importtacticalplan"),o=0,l=p.quarters;o<l;++o)b.push({title:this.tc("quarter")+" "+(o+1),type:"number"});for(o=0,l=p.fill;o<l;++o)b.push({title:this.tc("projection")+"<br />"+this.tc("quarter")+" "+(p.quarters+o+1),align:"right",cellId:"quarter_"+(p.quarters+o+1)});for(t=0,e=p.sections.length;t<e;++t)for(""!=(i=p.sections[t]).name.trim()&&f.push({title:i.name}),a=0,n=i.items.length;a<n;++a){for(c=0,d=[{title:(r=i.items[a]).name,cellId:r.id}],u=[null],o=0,l=p.quarters;o<l;++o)c++,d.push(r.quarters[o]),0!=r.sign&&v?u.push({type:"click",linkStyle:"underLink",call:h,data:{id:r.id,qtr:c}}):u.push(null);for(o=0,l=p.fill;o<l;++o)if(c++,r.calculated)0==r.sign||!v||p.quarters+y<c?d.push('<span id="'+r.id+"_"+o+'" style="margin-right:4px">'+Number(m[r.id].quarters[o]).format()+"</span>"):d.push('<a href="'+s.Live.emptyHref+'" id="'+r.id+"_"+o+'" class="underLink" style="margin-right:4px">'+Number(m[r.id].quarters[o]).format()+"</a>");else{var w=r.id+" quarter_"+(p.quarters+o+1);p.quarters+y<c?d.push(this.com("iedit",r.id+"_"+o+"_i",g[r.id].quarters[o],{size:8,"aria-labelledby":w})):d.push('<a href="'+s.Live.emptyHref+'" id="'+r.id+"_"+o+'" class="'+(p.autoCalculated?"":"fakeDisabledInput ")+'underLink" style="'+(p.autoCalculated?"margin-right:4px":"")+'">'+Number(g[r.id].quarters[o]).format()+"</a>"+this.com("iedit",r.id+"_"+o+"_i",g[r.id].quarters[o],{size:8,"aria-labelledby":w}))}0==r.sign?f.push({values:d,type:"total",actions:u}):f.push({values:d,actions:u})}return this.cfTable=new DecisionTable(this.tc("proFormaCashFlow"),"proFormaCashFlowTable",b,f,!1,"wooden"),this.cfTable.draw()},observe:function(){var t,e,i,s,a,n,r,o,l=this.data.staticData;for(this.cfTable.observe(),this.cfTable.stickHeaders(this.contentElement),this.cfTable.stickFirstColumn(this.contentElement),0!=j$("#btnimporttacticalplan").length&&j$("#btnimporttacticalplan").css({width:"auto"}),t=0,e=l.sections.length;t<e;++t)for(s=0,a=(i=l.sections[t]).items.length;s<a;++s)for(n=i.items[s],r=0,o=l.fill;r<o;++r)n.calculated||this.bindCalculate(n.id+"_"+r+"_i","keyup",!0),0==r&&j$("#"+n.id+"_"+r).css({"min-width":j$("#"+n.id+"_"+r+"_i").width()});this.underlineCurrentQtr(!0,!0)},colClick:function(t,e,i){var s,a;void 0!==t&&!0===t&&i.preventDefault(),e.id&&(s=e.id),e.qtr&&(a=e.qtr),this.inModifyMode&&a>this.data.staticData.quarters&&!e.calculated||this.showAccountingDetail(s,a,a>this.data.staticData.quarters,i)},showAccountingDetail:function(t,e,i,a){s.Live.accountingDetailDropDown?new n.DropDownAccountingDetail(a.target,t,e,i,"ddac","accounting_detail",j$("body")).events.click(a):Engine.showAccountingDetail(t,e,i)},underlineCurrentQtr:function(t,e){var i,s,a,n,r,o,l,d=this.data.staticData,c=this.cfTable.element(),h=1,p=Math.min(1,d.fill);for(i=0,s=d.sections.length;i<s;i++)for(""!=(a=d.sections[i]).name.trim()&&h++,n=0,r=a.items.length;n<r;n++)o=a.items[n],l=c.rows[h].cells,"undefined"!=typeof Engine&&p>0&&0!=o.sign?o.calculated&&!e||(t?(j$(l[d.quarters+p]).find("a").show(),j$(l[d.quarters+p]).find("input").hide()):(j$(l[d.quarters+p]).find("a").hide(),j$(l[d.quarters+p]).find("input").show()),j$(l[d.quarters+p]).find("a").on("click",j$.proxy(this.colClick,this,!0,{id:o.id,qtr:d.quarters+p,calculated:o.calculated}))):j$(l[d.quarters+p]).find("a").hide(),h++},destroy:function(){this.cfTable.destroy(),this._super()}})},25308:()=>{window.ProFormaCashFlowLive=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",draw:function(){var t,e,i,s,a,n,r=this.data.staticData,o=[{title:"",header:!0},{title:this.tc("quarter")+" "+this.user.quarter(),type:"number"}],l=[];for(t=0,e=r.sections.length;t<e;++t)for(""!=(i=r.sections[t]).name.trim()&&l.push({title:i.name}),s=0,a=i.items.length;s<a;++s){var d=i.items[s];n=[d.name,d.value],0==d.sign?l.push({values:n,type:"total"}):l.push(n)}return this.cfTable=new DecisionTable(this.tc("liveProForma"),"proFormaCashFlowTableLive",o,l,!1,"wooden"),this.cfTable.draw()},observe:function(){this.cfTable.observe()}})},39128:(t,e,i)=>{"use strict";var s=i(93037),a=i(82626),n=i(63714);window.ProFormaDivisionProfitability=a.Decision.extend({modifyModeButtons:["loaddata","calculate","save","cancel"],inModifyMode:!1,style:"padding: 10px 10px 0px 10px;",read:function(){var t,e,i,s=this.data.decisions;for(null!=this.demandMultiplierLabel&&(s.demandMultiplier=this.value("demandMultiplier")),t=0,e=s.brandsForSale.length;t<e;++t)i=s.brandsForSale[t],null==this.demandMultiplierLabel&&(i.estimatedDemand=this.value("bsdemand_"+i.brandID)),i.estimatedPrice=this.value("bsprice_"+i.brandID)},write:function(){var t,e,i,s=this.data.decisions;for(null!=this.demandMultiplierLabel&&this.setValue("demandMultiplier",s.demandMultiplier),t=0,e=s.brandsForSale.length;t<e;++t)i=s.brandsForSale[t],null==this.demandMultiplierLabel&&this.setValue("bsdemand_"+i.brandID,i.estimatedDemand),this.setValue("bsprice_"+i.brandID,i.estimatedPrice)},writeErrors:function(){var t,e,i,s=this.data.errors.decisions;for(t=0,e=s.brandsForSale.length;t<e;++t)i=s.brandsForSale[t],this.writeError("bsdemand_"+i.brandID,i.estimatedDemand,"center left",!1,3),this.writeError("bsprice_"+i.brandID,i.estimatedPrice,"center left",!1,3)},writeCalculate:function(){var t,e=this.data.calculate.items,i=e.length,s=this.data.calculate.brandsForSale;for(t=0;t<i;++t)j$("#calc_"+e[t].id).html(Number(e[t].value).format());for(t=0,i=s.length;t<i;++t)j$("#bscost_"+s[t].brandID).html(Number(s[t].prodCost).format());if(null!=this.demandMultiplierLabel)for(t=0,i=s.length;t<i;++t)j$("#bsdemand_"+s[t].brandID).html(Number(s[t].netDemand).format())},getDemandMultiplier:function(){if(!this.data.staticData.hasDemandMultiplier)return null;var t=this.data.staticData.demandMultipliers.map((function(t){return{key:t,value:t+"%"}})),e=this.com("combobox","demandMultiplier",this.data.decisions.demandMultiplier,{label:this.tc("demandMultiplier")},t,"key","value");return new DecisionLabel(this.service,"demandMultiplierLabel",e)},draw:function(){var t,e,i,s,a,n,r,o,l,d,c,h,p,u=this.data.staticData,g=this.data.dynamicData,m=this.data.decisions,b="",f=[],v=g.brandsForSale.toLookUp("brandID"),y=this.data.calculate.items.toLookUp("id"),w=this.data.calculate.brandsForSale.toLookUp("brandID"),D=[],_="undefined"!=typeof Engine;if(h=j$.proxy(this.colClick,this),this.demandMultiplierLabel=null,u.isSalesQuarter){for(this.demandMultiplierLabel=this.getDemandMultiplier(),this.buttonCaptions.loaddata=this.tc("common:loaddata"),s=[{title:this.tc("brand")},{title:this.tc("ldemand"),align:"right"},{title:this.tc("demand"),align:"right"},{title:this.tc("price"),align:"right"},{title:this.tc("projectedCost"),align:"right"}],t=0,e=m.brandsForSale.length;t<e;++t)i=m.brandsForSale[t],p=null!=this.demandMultiplierLabel?'<span id="bsdemand_'+i.brandID+'">'+Number(w[i.brandID].netDemand).format()+"</span>":this.com("iedit","bsdemand_"+i.brandID,i.estimatedDemand,{size:5}),f.push([v[i.brandID].name.escapeHTML(),Number(v[i.brandID].ldemand).format(),p,this.com("iedit","bsprice_"+i.brandID,i.estimatedPrice,{size:5}),'<span id="bscost_'+i.brandID+'">'+Number(w[i.brandID].prodCost).format()+"</span>"]);this.pdTable=new DecisionTable(this.tc("projectedDemand"),"pdTable",s,f,!1,"wooden"),b+=(null!=this.demandMultiplierLabel?this.demandMultiplierLabel.draw():"")+this.pdTable.draw()+"<br />"}else this.viewModeButtons=[],this.modifyModeButtons=[];for(s=[{title:"",header:!0}],f=[],a=0;a<u.quarters;++a)s.push({title:this.tc("quarter")+" "+(a+1),type:"number"});for(s.push({title:this.tc("projection")+"<br />"+this.tc("quarter")+" "+(a+1),align:"right"}),n=0,r=u.sections.length;n<r;++n)for(""!=(d=u.sections[n]).name.trim()&&f.push({title:d.name}),o=0,l=d.items.length;o<l;++o){var I=0,x=d.items[o];for(c=[x.name],D=[null],a=0;a<u.quarters;++a)I++,c.push(x.quarters[a]),0!=x.sign&&_?D.push({type:"click",linkStyle:"underLink",call:h,data:{id:x.id,qtr:I}}):D.push(null);I++,c.push('<span id="calc_'+x.id+'">'+Number(y[x.id].value).format()+"</span>"),0!=x.sign&&_?D.push({type:"click",linkStyle:"underLink",call:h,data:{id:x.id,qtr:I}}):D.push(null),0==x.sign?f.push({values:c,type:"total",actions:D}):f.push({values:c,actions:D})}return this.dpTable=new DecisionTable(this.tc("proFormaDivisionProfitability"),"divisionProfitabilityTable",s,f,!1,"wooden"),b+this.dpTable.draw()},observe:function(){this.data.staticData.isSalesQuarter&&this.pdTable.observe(),null!=this.demandMultiplierLabel&&(this.demandMultiplierLabel.observe(),this.demandMultiplierLabel.change("float","left")),this.dpTable.observe(),this.dpTable.stickHeaders(this.contentElement),this.dpTable.stickFirstColumn(this.contentElement)},loaddata:function(){var t,e,i,s=this.data.dynamicData;for(e=0,i=s.brandsForSale.length;e<i;++e)t=s.brandsForSale[e],this.setValue("bsprice_"+t.brandID,t.price);this.calculate()},colClick:function(t,e){var i,s;t.id&&(i=t.id),t.qtr&&(s=t.qtr),this.showAccountingDetail(i,s,s>this.data.staticData.quarters,e)},showAccountingDetail:function(t,e,i,a){if(s.Live.accountingDetailDropDown){var r=j$(a.target);i&&(r=r.parent()),new n.DropDownAccountingDetail(r,t,e,i,"ddac","accounting_detail",j$("body")).events.click(a)}else Engine.showAccountingDetail(t,e,i)},destroy:function(){var t=this.data.staticData;this.dpTable.destroy(),this.dpTable=null,t.isSalesQuarter&&(this.pdTable.destroy(),this.pdTable=null),this._super()}})},97221:(t,e,i)=>{"use strict";var s=i(93037),a=i(82626),n=i(63714);window.ProFormaFinance=a.Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",tableName:"",tableID:"proFormaTable",draw:function(){var t,e,i,s,a,n,r,o,l,d,c,h=this.data.staticData,p=[],u=[{title:"",header:!0}],g=[],m="undefined"!=typeof Engine,b=Math.min(1,h.fill);for(d=j$.proxy(this.colClick,this),r=0,o=h.quarters+h.fill;r<o;++r)c=r>=h.quarters?this.tc("projection")+"<br/>":"",u.push({title:c+this.tc("quarter")+" "+(r+1),type:"number"});for(t=0,e=h.sections.length;t<e;++t)for(""!=(i=h.sections[t]).name.trim()&&g.push({title:i.name}),s=0,a=i.items.length;s<a;++s){var f=0;for(l=[(n=i.items[s]).name],p=[null],r=0,o=h.quarters+h.fill;r<o;++r)f++,l.push(n.quarters[r]),0==n.sign||!m||h.quarters+b<f?p.push(null):p.push({type:"click",linkStyle:"underLink",call:d,data:{id:n.id,qtr:f}});0==n.sign?g.push({values:l,type:"total",actions:p}):g.push({values:l,actions:p})}return this.bsTable=new DecisionTable(this.tc(this.tableName),this.tableID,u,g,!1,"wooden"),this.bsTable.draw()},observe:function(){this.bsTable.observe(),this.bsTable.stickHeaders(this.contentElement),this.bsTable.stickFirstColumn(this.contentElement)},colClick:function(t,e){var i,s;t.id&&(i=t.id),t.qtr&&(s=t.qtr),this.showAccountingDetail(i,s,s>this.data.staticData.quarters,e)},showAccountingDetail:function(t,e,i,a){s.Live.accountingDetailDropDown?new n.DropDownAccountingDetail(a.target,t,e,i,"ddac","accounting_detail",j$("body")).events.click(a):Engine.showAccountingDetail(t,e,i)},destroy:function(){this.bsTable.destroy(),this._super()}})},50638:(t,e,i)=>{"use strict";i(97221),window.ProFormaIncomeStatement=ProFormaFinance.extend({tableName:"proFormaIncomeStatement",tableID:"incomeStatementTable"})},13553:()=>{window.Promotions=Decision.extend({style:"padding: 10px 10px 0px 10px;",modifyModeButtons:["save","cancel"],read:function(){var t,e,i,s,a,n,r=this.data.decisions;for(t=0,e=r.regions.length;t<e;++t)for(s=0,a=(i=r.regions[t]).brands.length;s<a;++s)(n=i.brands[s]).cashBonus=this.value("bonus"+n.brandID+"region"+i.regionID),n.freeGift=this.value("gift"+n.brandID+"region"+i.regionID)},write:function(){var t,e,i,s,a,n,r=this.data.decisions;for(t=0,e=r.regions.length;t<e;++t)for(s=0,a=(i=r.regions[t]).brands.length;s<a;++s)n=i.brands[s],this.setValue("bonus"+n.brandID+"region"+i.regionID,n.cashBonus),this.setValue("gift"+n.brandID+"region"+i.regionID,n.freeGift);null!=this.copyDD&&this.copyDD.hide()},writeErrors:function(){var t,e,i,s,a,n,r=this.data.errors.decisions;for(t=0,e=r.regions.length;t<e;++t)for(s=0,a=(i=r.regions[t]).brands.length;s<a;++s)n=i.brands[s],this.writeError("bonus"+n.brandID+"region"+i.regionID,n.cashBonus),this.writeError("gift"+n.brandID+"region"+i.regionID,n.freeGift)},writeCalculate:function(){var t,e,i,s=this.data.calculate;for(t=0,e=s.regions.length;t<e;++t)i=s.regions[t],this.setValue("total"+i.regionID,Number(i.totalBudget).formatInt());this.showTotal&&this.setValue("promotionsTotal",Number(s.totalBudget).formatInt())},draw:function(t){var e,i,s,a,n,r,o,l,d=this.data.staticData,c=this.data.dynamicData,h=this.data.decisions,p=this.data.calculate,u="",g=(h.regions.toLookUp("regionID"),0),m=d.regions.toLookUp("regionID"),b=c.regions.toLookUp("regionID"),f=c.brands.toLookUp("brandID");for(this.showTotal=d.regions.length>1,this.tbls=[],this.tbls1=[],this.activeRegions=[],this.activeBrands=[],e=0,i=h.regions.length;e<i;++e)if((l=m[(s=h.regions[e]).regionID]).active&&(g++,0!==s.brands.length)){for(this.activeRegions.push(l),o=[],a=0,n=s.brands.length;a<n;++a)r=s.brands[a],-1===this.activeBrands.indexOf(f[r.brandID])&&this.activeBrands.push(f[r.brandID]),o.push([Format.brandName(f[r.brandID].brandName.escapeHTML(),f[r.brandID].brandType),this.com("iedit","bonus"+r.brandID+"region"+s.regionID,r.cashBonus,{size:8}),this.com("iedit","gift"+r.brandID+"region"+s.regionID,r.freeGift,{size:8})]);this.tbls.push(new DecisionTable(m[s.regionID].regionName,"tblPromo"+s.regionID,[{title:this.tc("brand")},{title:this.tc("bonus")+"<br />"+this.tc("typicalBonus",{TYPICAL_BONUS:l.cashBonusIncentive.value}),align:"right"},{title:this.tc("gift")+"<br />"+this.tc("typicalGift",{TYPICAL_GIFT:l.freeGiftIncentive.value}),align:"right"}],o,!1,"purple")),this.tbls1.push(new DecisionTable("","tbl1"+s.regionID,[{title:""},{title:"",align:"right"}],[[this.tc("spInRegion"),b[s.regionID].salesForce],[this.tc("totalInRegion"),'<span id="total'+s.regionID+'">'+Number(p.regions[e].totalBudget).formatInt()+"</span>"]],!0,"purple"))}if(this.activeRegions.length>1&&this.activeBrands.length>=1?(this.modifyModeButtons=["copyData","save","cancel"],this.buttonCaptions.copyData=this.tc("common:copyData")+" &#9650;"):this.modifyModeButtons=["save","cancel"],0===this.activeRegions.length||0===this.activeBrands.length)return this.viewModeButtons=[],this.modifyModeButtons=[],u=0===g?d.hasSalesProgramsAndPromotionsForWeb?"noOutlet":"noSO":"noBrandsForSale",this.emptyLabel=new DecisionLabel(this.service,"emptyLabel",this.tc("common:"+u),"","purple"),this.emptyLabel.draw();for(this.emptyLabel=null,this.labTotal=new DecisionLabel(this.service,"labTotal",this.tc("totalExpense",{TOTAL_EXPENSE:'<span id="promotionsTotal">'+Number(p.totalBudget).formatInt()+"</span>"}),"","purple"),e=0,i=this.tbls.length;e<i;++e)u+=this.tbls[e].draw()+this.tbls1[e].draw();return this.showTotal&&(u+=this.labTotal.draw()),t?u:u+'<div style="padding:10px;"><div id="graph-holder"></div></div>'},observe:function(){if(null==this.emptyLabel){var t,e,i,s,a,n,r=this.data.decisions,o=this.data.staticData.regions.toLookUp("regionID"),l=0;for(t=0,e=r.regions.length;t<e;++t)if(o[(i=r.regions[t]).regionID].active&&0!==i.brands.length){for(s=0,a=i.brands.length;s<a;++s)n=i.brands[s],this.bindCalculate("bonus"+n.brandID+"region"+i.regionID,"keyup",!0),this.bindCalculate("gift"+n.brandID+"region"+i.regionID,"keyup",!0);this.tbls[l].observe(),this.tbls1[l].observe(),l++}this.showTotal&&(this.labTotal.observe(),this.labTotal.change("float","left")),this.createCopyDD(),j$("#graph-holder").css({position:"relative",margin:"auto",width:"550px",height:"250px",opacity:Live.opacity}),this.setChartData("","graph-holder")}else this.emptyLabel.observe(),this.emptyLabel.change("float","left")},drawSOD:function(){var t=this.draw(!0);null==this.emptyLabel?(this.setValue(this.pfxSod+this.service,t),this.showTotal&&this.labTotal.change("float","left"),this.disable()):this.setValue(this.pfxSod+this.service,"")},setChartData:function(t,e){if(Live.useSvg()){var i=this.data.staticData.chartTemplate,s=this.data.staticData.graph;j$.extend(i.data,{title:s.title,xAxis:s.x,yAxis:s.y,labels:[],x:[],y:[],minY:0,maxY:5,intersectionX:s.startQuarter,saveUrl:this.st("common:saveChartURL"),saveName:"promotions-q"+this.user.quarter()});for(var a=0,n=s.data.length;a<n;++a){var r=s.data[a];i.data.labels[a]=r.label;for(var o=0,l=r.x.length;o<l;++o)0===a&&(i.data.x[o]=Number(r.x[o]),i.data.y[o]=[]),i.data.y[o][a]=Number(r.y[o])}SvgCharts.BaseChart.setChartData(e,i)}},destroy:function(){this.copyDD&&this.copyDD.destroy(),this._super()},copyData:function(){},createCopyDD:function(){this.activeRegions;var t=this.data.dynamicData;this.user.quarter(),this.activeRegions.length>1&&this.activeBrands.length>=1?(this.copyDD=new DropDownStaticCopy("btncopyData",this.activeRegions,"regionID","regionName",this.tc("region"),this.activeRegions,"regionID","regionName",this.tc("regions"),t.brands,"brandID","brandName",this.tc("brands")),this.copyDD.copyDecision=this.copyDecision.bind(this),this.copyDD.getFromName=function(t){return Format.brandName(this.fromItems[t][this.fromItemName].escapeHTML(),this.fromItems[t].brandType)},!this.isCurrentQuarter()||this.isGameOverQuarter()&&this.hideButtonsInLastQuarter||OverlayMessages.triggerMessage("copyBtn",!0)):this.copyDD=null},copyDecision:function(t,e,i){var s,a,n,r,o,l,d,c,h,p,u=this.data.decisions.regions.toLookUp("regionID"),g=this.activeRegions.toLookUp("regionID");if(void 0!==g[t])for(s=u[t],c=0,h=e.length;c<h;++c)if(void 0!==g[e[c]])for(p=(a=u[e[c]]).brands.toLookUp("brandID"),n=0,r=s.brands.length;n<r;++n)o=s.brands[n],-1!=i.indexOf(o.brandID)&&void 0!==p[o.brandID]&&(l=o.brandID+"region"+a.regionID,d=o.brandID+"region"+s.regionID,this.setValue("bonus"+l,this.value("bonus"+d)),this.setValue("gift"+l,this.value("gift"+d)))}})},76169:()=>{window.QualityCosts=Decision.extend({style:"padding: 10px 10px 0px 10px;",viewModeButtons:[],modifyModeButtons:[],isShort:!1,draw:function(){var t,e,i,s,a=this.data.staticData,n=[],r=[],o=0,l=[this.tc("total"),0,0,0,0],d=[{title:this.tc("criticalGroup")},{title:this.tc("warranty"),type:"number"},{title:this.tc("inspection"),type:"number"},{title:this.tc("defect"),type:"number"}];for(this.isShort||(l.push(0,0,0),d.push({title:this.tc("variance"),type:"number"},{title:this.tc("source"),type:"number"},{title:this.tc("actions"),type:"number"})),d.push({title:this.tc("totalCosts"),type:"number",dataClass:"total"}),t=0,e=a.criticalGroups.length;t<e;++t)o=(i=a.criticalGroups[t]).warranty+i.inspection+i.defect+i.variance+i.source+i.actions,n=[i.name,i.warranty,i.inspection,i.defect],this.isShort||n.push(i.variance,i.source,i.actions),n.push(o),r.push({values:n}),s=1,l[s++]+=i.warranty,l[s++]+=i.inspection,l[s++]+=i.defect,this.isShort||(l[s++]+=i.variance,l[s++]+=i.source,l[s++]+=i.actions),l[s++]+=o;return r.push({values:l,type:"total"}),this.qTable=new DecisionTable(this.tc("qualityCosts"),"qTable",d,r,!1,"green"),this.qTable.draw()},observe:function(){this.qTable.observe()}})},63687:(t,e,i)=>{"use strict";i(76169),window.QualityCostsShort=QualityCosts.extend({isShort:!0})},56290:()=>{window.RegionalMedia=Decision.extend({style:"padding: 10px 10px 0px 10px;",modifyModeButtons:["save","cancel"],read:function(){var t,e,i,s,a,n,r=this.data.decisions.regions,o=r.length;for(t=0;t<o;++t)for(var l=0,d=(e=r[t]).media.length;l<d;++l)for(s=0,a=(i=e.media[l]).ads.length;s<a;++s)(n=i.ads[s]).inserts=this.value("ins_"+e.regionID+"_"+i.mediaID+"_"+n.adID)},write:function(){var t,e,i,s,a,n,r=this.data.decisions.regions,o=r.length;for(t=0;t<o;++t)for(var l=0,d=(e=r[t]).media.length;l<d;++l)for(s=0,a=(i=e.media[l]).ads.length;s<a;++s)n=i.ads[s],this.setValue("ins_"+e.regionID+"_"+i.mediaID+"_"+n.adID,n.inserts);null!=this.copyDD&&this.copyDD.hide()},writeErrors:function(){var t,e,i,s,a,n,r=this.data.errors.decisions.regions,o=r.length;for(t=0;t<o;++t){e=r[t],this.writeError("rmReg_"+e.regionID,e.general,"top right",!1,-3);for(var l=0,d=e.media.length;l<d;++l)for(s=0,a=(i=e.media[l]).ads.length;s<a;++s)n=i.ads[s],this.writeError("ins_"+e.regionID+"_"+i.mediaID+"_"+n.adID,n.inserts)}},writeCalculate:function(){var t,e,i,s=this.data.calculate,a=(s.adsCost.toLookUp("adID"),this.data.dynamicData),n=a.ads.length,r=s.regionCost,o=s.regionCost.toLookUp("regionID");for(e=0;e<r.length;e++)for(t=0;t<n;++t)i=o[r[e].regionID].ads.toLookUp("adID"),j$("#regional_"+r[e].regionID+"_ad_"+t).html(i[a.ads[t].adID].cost.format());j$("#regionalMediaTotalCount").html(this.data.calculate.mediaCount.format()),j$("#regionalMediaTotal").html(this.data.calculate.mediaCost.format())},draw:function(t){t=t||!1;var e,i,s,a,n,r,o,l,d,c,h,p,u=this.data.staticData,g=this.data.dynamicData,m=this.data.decisions.regions.toLookUp("regionID"),b=u.media.toLookUp("mediaID"),f=g.ads.length,v="",y="",w=this.data.calculate,D=(w.adsCost,w.regionCost.toLookUp("regionID")),_=[{title:this.tc("media")},{title:this.tc("cost"),type:"number"}],I=[],x="";for(g.ads.forEach((function(t){_.push({title:Format.brandName(t.adName.escapeHTML(),t.brandType),align:"right"})})),this.activeRegions=[],this.rmTables=[],e=0,i=u.regions.length;e<i;++e)if(I=[],(s=u.regions[e]).isIn){for(d=m[s.regionID].media.toLookUp("mediaID"),a=0,n=s.media.length;a<n;++a){c=d[(r=s.media[a]).mediaID].ads.toLookUp("adID"),I.push([b[r.mediaID].mediaName,r.mediaCost]);var T=!0;for(o=0;o<f;++o)l=g.ads[o],t?I[I.length-1].push(c[l.adID].inserts):I[I.length-1].push(this.com("iedit","ins_"+s.regionID+"_"+r.mediaID+"_"+l.adID,c[l.adID].inserts,{size:4})),Number(c[l.adID].inserts)>0&&(T=!1);t&&T&&I.pop()}for(h=[this.tc("regional_ads_exp"),null],o=0;o<f;++o)h.push('<span id="regional_'+s.regionID+"_ad_"+o+'">'+D[s.regionID].ads[o].cost.format()+"</span>");I.push({values:h,type:"total"}),p=new DecisionTable('<div id="rmReg_'+s.regionID+'">'+s.regionName+"</div>","rmTable_"+s.regionID,_,I),t&&(p.tableCorners=""),this.rmTables.push(p),v+=p.draw(),this.activeRegions.push(s)}return this.activeRegions.length>1?(this.modifyModeButtons=["copyData","save","cancel"],this.buttonCaptions.copyData=this.tc("common:copyData")+" &#9650;"):this.modifyModeButtons=["save","cancel"],0==this.activeRegions.length||0==g.ads.length?(this.viewModeButtons=[],this.modifyModeButtons=[],0==this.activeRegions.length&&(y+=this.tc("common:noOutlet")),0==g.ads.length&&(y+=(""!=y?"<br />":"")+this.tc("common:noAds")),this.emptyLabel=new DecisionLabel(this.service,"emptyLabel",y,"","blue"),this.emptyLabel.draw()):(this.emptyLabel=null,x+="<div>"+this.tc("totalMedia",{TOTAL:'<span id="regionalMediaTotalCount">'+this.data.calculate.mediaCount.format()+"</span>"})+"</div>",x+="<div>"+this.tc(u.regions.length>1?"total_reg":"total",{TOTAL:'<span id="regionalMediaTotal">'+this.data.calculate.mediaCost.format()+"</span>"})+"</div>",this.rmLabel=new DecisionLabel(this.service,"rmLabel",x),t&&(this.rmLabel.labelCorners=""),v+this.rmLabel.draw())},observe:function(){if(null==this.emptyLabel){var t,e,i,s,a,n,r,o,l,d,c,h=this.data.staticData,p=this.data.dynamicData;for(t=0,e=h.regions.length;t<e;t++)if((i=h.regions[t]).isIn)for(s=0,a=i.media.length;s<a;++s)for(n=i.media[s],r=0,o=p.ads.length;r<o;++r)l=p.ads[r],this.bindCalculate("ins_"+i.regionID+"_"+n.mediaID+"_"+l.adID,"keyup",!0);for(d=0,c=this.rmTables.length;d<c;d++)this.rmTables[d].observe();DecisionTable.setMaxColWidths(this.rmTables,0),this.rmLabel.observe(),this.rmLabel.change("float","left"),this.createCopyDD()}else this.emptyLabel.observe(),this.emptyLabel.change("float","left")},resize:function(){var t=this.data.dynamicData;this.rmTables.length>0&&0!=this.activeRegions.length&&0!=t.ads.length&&DecisionTable.setMaxColWidths(this.rmTables,0)},drawSOD:function(){var t=this.draw(!0);null==this.emptyLabel?(this.setValue(this.pfxSod+this.service,t),this.rmLabel.change("float","left")):this.setValue(this.pfxSod+this.service,"")},copyData:function(){},createCopyDD:function(){this.activeRegions;var t=this.data.dynamicData,e=this.user.quarter();this.activeRegions.length>1?(this.copyDD=new DropDownStaticCopy("btncopyData",this.activeRegions,"regionID","regionName",this.tc("region"),this.activeRegions,"regionID","regionName",this.tc("regions"),t.ads,"adID","adName",this.tc("ads")),this.copyDD.copyDecision=j$.proxy(this.copyDecision,this),this.copyDD.getFromName=function(t){return this.fromItems[t][this.fromItemName].escapeHTML()},this.copyDD.fromItemPreselected=function(t){return t.quarterDesigned==e},!this.isCurrentQuarter()||this.isGameOverQuarter()&&this.hideButtonsInLastQuarter||OverlayMessages.triggerMessage("copyBtn",!0)):this.copyDD=null},copyDecision:function(t,e,i){var s,a,n,r,o,l,d,c,h,p,u=this.data.decisions.regions.toLookUp("regionID"),g=this.activeRegions.toLookUp("regionID");if(void 0!==g[t]){for(s=u[t],l=0,d=e.length;l<d;++l)if(void 0!==g[e[l]])for(a=u[e[l]],c=0,h=s.media.length;c<h;++c)for(n=0,r=(p=s.media[c]).ads.length;n<r;++n)o=p.ads[n],-1!=i.indexOf(o.adID)&&this.setValue("ins_"+a.regionID+"_"+p.mediaID+"_"+o.adID,this.value("ins_"+s.regionID+"_"+p.mediaID+"_"+o.adID));this.calculate(!0)}}})},88239:(t,e,i)=>{"use strict";i(56290),window.RegionalMediaAnim=RegionalMedia.extend({initialize:function(t){this._super("RegionalMedia")},writeCalculate:function(){var t,e,i,s,a=this.data.staticData,n=this.data.calculate.adsCost.toLookUp("adID"),r=this.data.dynamicData,o=r.ads.length;for(t=0,e=a.regions.length;t<e;++t)(i=a.regions[t]).isIn&&this.regMaps.setRegionStatus(i);for(s=0;s<o;++s)j$("#total_"+s).html(n[r.ads[s].adID].cost.format());j$("#regionalMediaTotalCount").html(this.data.calculate.mediaCount.format()),j$("#regionalMediaTotal").html(this.data.calculate.mediaCost.format())},draw:function(t){t=t||!1;var e,i,s,a,n,r,o,l,d,c,h,p,u=this.data.staticData,g=this.data.dynamicData,m=this.data.decisions.regions.toLookUp("regionID"),b=u.media.toLookUp("mediaID"),f=g.ads.length,v="",y=(this.data.calculate.adsCost,[{title:this.tc("media")},{title:this.tc("cost"),type:"number"}]),w=[],D="",_="";for(this.regMaps=new RegionsMaps(this,!0,!0),this.regMaps.regionHoverInfo=!0,this.regMaps.cityHoverInfo=!0,this.rmTables=[],g.ads.forEach((function(t){y.push({title:Format.brandName(t.adName.escapeHTML(),t.brandType)})})),this.activeRegions=[],e=0,i=u.regions.length;e<i;++e)if((s=u.regions[e]).isIn){for(w=[],d=m[s.regionID].media.toLookUp("mediaID"),a=0,n=s.media.length;a<n;++a){for(c=d[(r=s.media[a]).mediaID].ads.toLookUp("adID"),w.push({values:[b[r.mediaID].mediaName,r.mediaCost],rowData:{}}),p=!0,o=0;o<f;++o)l=g.ads[o],t?w[w.length-1].values.push(c[l.adID].inserts):w[w.length-1].values.push(this.com("iedit","ins_"+s.regionID+"_"+r.mediaID+"_"+l.adID,c[l.adID].inserts,{size:4})),Number(c[l.adID].inserts)>0&&(p=!1);t&&p&&w.values.pop()}this.activeRegions.push(s),h=new DecisionTable('<div id="rmTableHead_'+s.regionID+'"><div style="float:left;">'+s.regionName+"</div></div>","rmTable_"+s.regionID,y,w),this.regMaps.regTables[s.regionID]=h,this.rmTables.push(h)}return this.activeRegions.length>1?(this.modifyModeButtons=["copyData","save","cancel"],this.buttonCaptions.copyData=this.tc("common:copyData")+" &#9650;"):this.modifyModeButtons=["save","cancel"],0==w.length||0==g.ads.length?(this.viewModeButtons=[],this.modifyModeButtons=[],0==w.length&&(v+=this.tc("common:noOutlet")),0==g.ads.length&&(v+=(""!=v?"<br />":"")+this.tc("common:noAds")),this.emptyLabel=new DecisionLabel(this.service,"emptyLabel",v,"","blue"),this.emptyLabel.draw()):(this.emptyLabel=null,_+="<div>"+this.tc("totalMedia",{TOTAL:'<span id="regionalMediaTotalCount">'+this.data.calculate.mediaCount.format()+"</span>"})+"</div>",_+="<div>"+this.tc(u.regions.length>1?"total_reg":"total",{TOTAL:'<span id="regionalMediaTotal">'+this.data.calculate.mediaCost.format()+"</span>"})+"</div>",this.rmLabel=new DecisionLabel(this.service,"rmLabel",_),t&&(this.rmLabel.labelCorners=""),t&&this.rmTables.forEach((function(t){t.tableCorners=""})),this.rmTables.forEach((function(t){D+=t.draw()})),D+this.rmLabel.draw())},resize:function(){j$("#decision").children().first(),this.regMaps.resize()},observe:function(){if(null==this.emptyLabel){var t,e,i,s,a,n,r,o,l,d=this.data.staticData,c=this.data.dynamicData;for(t=0,e=d.regions.length;t<e;t++)if((i=d.regions[t]).isIn){for(s=0,a=i.media.length;s<a;++s)for(n=i.media[s],r=0,o=c.ads.length;r<o;++r)l=c.ads[r],this.bindCalculate("ins_"+i.regionID+"_"+n.mediaID+"_"+l.adID,"keyup",!0);this.regMaps.drawRegion(i)}this.rmTables.forEach((function(t){t.observe()})),this.rmLabel.observe(),this.rmLabel.change("float","left"),this.createCopyDD()}else this.emptyLabel.observe(),this.emptyLabel.change("float","left")}})},22114:()=>{window.RegionalProfitability=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",draw:function(){var t,e,i,s,a=this.data.staticData,n=[{title:"",vline:!0}],r=[],o="";for(a.hasWeb?(r.push({cols:[{title:"",rowspan:2}],type:"head"},{cols:[],type:"head"}),o=this.tc("channelProfitability")):(r.push({cols:[{title:""}],type:"head"}),o=this.tc("regionalProfitability")),r.push([this.tc("revenues")],[this.tc("rebates")],[this.tc("cogs")]),a.hasTariffs&&r.push([this.tc("tariffs")]),r.push({values:[this.tc("grossMargin")],type:"total"},[this.tc("lease")],[this.tc("salesForce")]),a.hasWeb?r.push([this.tc("webMarketing")],{values:[this.tc("channelExpenses")],type:"total",hrafter:!0},{values:[this.tc("channelProfit")],type:"total"}):(a.hasPromotions&&r.push([this.tc("promotions")],[this.tc("specialPrograms")]),a.hasPOP&&r.push([this.tc("pop")]),a.hasInternetMarketing&&r.push([this.tc("inet_advertising")]),r.push([this.tc("advertising")],[this.tc("mr")],{values:[this.tc("regionalExpenses")],type:"total",hrafter:!0},{values:[this.tc("regionalProfit")],type:"total"})),r.push([this.tc("percentRevenue")]),t=0,e=a.regions.length;t<e;++t)i=a.regions[t],s=0,a.hasWeb?(n.push({title:"",type:"number"},{title:"",type:"number",vline:!0}),r[s++].cols.push({title:i.regionName.escapeHTML(),colspan:2,hsplit:!0}),r[s++].cols.push({title:this.tc("office")},{title:this.tc("web")}),r[s++].push(i.office.revenues,i.web.revenues),r[s++].push(i.office.rebates,i.web.rebates),r[s++].push(i.office.cogs,i.web.cogs),a.hasTariffs&&r[s++].push(i.office.tariffs,i.web.tariffs),r[s++].values.push(i.office.grossMargin,i.web.grossMargin),r[s++].push(i.office.lease,i.web.lease),r[s++].push(i.office.salesForce,i.web.salesForce),r[s++].push(i.office.webMarketing,i.web.webMarketing),r[s++].values.push(i.office.operatingExpenses,i.web.operatingExpenses),r[s++].values.push(i.office.operatingProfit,i.web.operatingProfit),r[s++].push(i.office.profitPercent,i.web.profitPercent)):(n.push({title:"",type:"number"}),r[s++].cols.push({title:i.regionName.escapeHTML()}),r[s++].push(i.revenues),r[s++].push(i.rebates),r[s++].push(i.cogs),a.hasTariffs&&r[s++].push(i.tariffs),r[s++].values.push(i.grossMargin),r[s++].push(i.lease),r[s++].push(i.salesForce),a.hasPromotions&&(r[s++].push(i.promotions),r[s++].push(i.specialPrograms)),a.hasPOP&&r[s++].push(i.pop),a.hasInternetMarketing&&r[s++].push(i.inetexp),r[s++].push(i.advertising),r[s++].push(i.mr),r[s++].values.push(i.operatingExpenses),r[s++].values.push(i.operatingProfit),r[s++].push(i.profitPercent));return this.rpTable=new DecisionTable(o,"regionalProfitability",n,r,!0,"stone"),this.rpTable.draw()},observe:function(){this.rpTable.observe()}})},83934:()=>{window.ReliabilityJudgment=Decision.extend({style:"padding: 10px 10px 0px 10px;",viewModeButtons:[],modifyModeButtons:[],draw:function(){var t,e,i,s,a=this.data.staticData.teams,n=a.toLookUp("teamID"),r=[],o=[],l="";for(t=0;t<a.length;t++)for((e=a[t]).producing&&r.push([e.companyName.escapeHTML(),e.reliability]),i=0;i<e.reliabilityByBrand.length;i++)s=e.reliabilityByBrand[i],o.push([e.companyName.escapeHTML(),s.name,n[s.supplierID].companyName.escapeHTML(),n[s.supplierID].reliability]);return r.length>0?(this.rTable=new DecisionTable(this.tc("reliability"),"rTable",[{title:this.tc("company")},{title:this.tc("reliability"),type:"number"}],r,!1,"green"),l+=this.rTable.draw()):this.rTable=null,o.length>0?(this.rbTable=new DecisionTable(this.tc("reliabilityByBrand"),"rbTable",[{title:this.tc("company")},{title:this.tc("brand"),vline:!0},{title:this.tc("supplier")},{title:this.tc("reliability"),type:"number"}],o,!1,"green"),l+=this.rbTable.draw()):this.rbTable=null,l},observe:function(){null!=this.rTable&&this.rTable.observe(),null!=this.rbTable&&this.rbTable.observe()}})},27151:()=>{window.Reputation=Decision.extend({style:"padding: 10px 10px 0px 10px;",viewModeButtons:[],modifyModeButtons:[],draw:function(){var t,e,i,s,a=this.data.staticData,n=a.startQuarter,r=a.teams,o=this.user.quarter(),l=r.length,d=[],c=[{title:this.tc("company")}];for(t=n;t<=o;++t)c.push({title:this.tc("qtr",{QTR:t}),type:"number"});for(e=0;e<l;++e){for(i=[r[e].companyName.escapeHTML()],s=r[e].reputation.toLookUp("quarter"),t=n;t<=o;++t)i.push(s[t].reputation);d.push(i)}return this.rTable=new DecisionTable(this.tc("reputation"),"rTable",c,d,!1,"blue"),this.rTable.draw()},observe:function(){this.rTable.observe()}})},35833:()=>{window.ResultCheck=Decision.extend({viewModeButtons:[],modifyModeButtons:[],sendCalculate:!1,sendErrors:!1,style:"padding: 10px 10px 0px 10px;",draw:function(){var t,e,i=this.data.dynamicData.warnings,s="";if(this.texts=[],this.styles=[],i.length>0){t="";for(var a=0;a<i.length;a++)t+='<hr class="warning" /><div style="color:#ac6400;">'+i[a].message+'</div><div style="clear:both;"></div>';""!=t&&this.texts.push(new DecisionLabel("welcome","warnings",'<h2 class="plainHeader warningHeader">'+this.tc("warnings")+' <img src="frontend/dhtml/images/errors/check-warning-small.png" alt="" /></h2>'+t,"","warning"))}else this.texts.push(new DecisionLabel(this.service,"noErrors",this.tc("no_errors"))),this.styles.push("text-align: center; padding: 50px; font-size: larger; font-weight: bold;");for(a=0,e=this.texts.length;a<e;++a)s+=this.texts[a].draw();return s},observe:function(){var t,e;for(t=0,e=this.texts.length;t<e;++t)this.styles.length>0&&this.texts[t].change("css",this.styles[t]),this.texts[t].observe()}})},85820:()=>{window.ResultsOfContracts=Decision.extend({style:"padding: 10px 10px 0px 10px;",viewModeButtons:[],modifyModeButtons:[],getInfoTable:function(t,e){var i=[],s=t;return i.push({values:[this.tc("supplier"),e[s.supplierID].companyName.escapeHTML()]}),i.push({values:[this.tc("reseller"),e[s.teamID].companyName.escapeHTML()]}),i.push({values:[this.tc("misUsed"),this.tc("mis_"+s.mis)]}),i.push({values:[this.tc("guaranteedMin"),Number(s.guaranteedMinimum).format()]}),i.push({values:[this.tc("feeNotDelivered"),(Number(s.unitsNotDelivered)*Number(s.feeNotDelivered)).format()]}),i.push({values:[this.tc("feeNotDemanded"),(Number(s.unitsNotDemanded)*Number(s.feeNotDemanded)).format()]}),new DecisionTable(this.tc("contractInfoNo",{CONTRACT_NUMBER:s.contractNo}),"coiTable_"+s.contractID,[{title:""},{title:"",align:"right"}],i,!0,"green")},getBrandTable:function(t,e){var i,s,a,n=[],r=t,o=j$.proxy(this.brandClick,this),l=[{title:this.tc("brandName")},{title:this.tc("contractedDemand"),type:"number"},{title:this.tc("unitsShipped"),type:"number"},{title:this.tc("unitsNotShipped"),type:"number"},{title:this.tc("contractFulfillment"),align:"right"},{title:this.tc("orderFulfillment"),align:"right"},{title:this.tc("outsourcedPrice"),align:"right"},{title:this.tc("totalPayment"),type:"number"}];for(i=0;i<r.brands.length;i++)s=[Format.brandName(r.brands[i].name.escapeHTML(),r.brands[i].brandType),r.brands[i].contractDemand,r.brands[i].unitsShipped,r.brands[i].unitsNotShipped,Number(r.brands[i].contractFulfill).format(2)+"%",Number(r.brands[i].orderFulfill).format(2)+"%",Number(r.brands[i].outsourcedPrice).format(),r.brands[i].totalPayment],a=[],"undefined"!=typeof Engine?a.push({type:"click",linkStyle:"blueLink nowrap",call:o,data:[r.teamID,r.brands[i].brandID]}):a.push(null),a.push(null,null,null,null,null,null,null),n.push({values:s,actions:a});return n.push({values:[this.tc("total"),r.contractDemand,r.unitsShipped,r.unitsNotShipped,Number(r.contractFulfill).format(2)+"%",Number(r.orderFulfill).format(2)+"%","",r.totalPayment],type:"total"}),new DecisionTable(this.tc("contractBrandsNo",{CONTRACT_NUMBER:r.contractNo}),"coTable_"+r.contractID,l,n,!1,"green")},brandClick:function(t,e){Engine.showNewWindow("outsourcedbrandresults","OutsourcedBrandResults",t+","+e,null,null)},draw:function(){var t,e,i,s=this.data.staticData,a=s.teams.toLookUp("teamID"),n="";for(this.tables=[],this.resLabels=[],this.noLabel=null,i=0;i<s.contracts.length;i++){e="";var r=this.getInfoTable(s.contracts[i],a);r.newCorners="",this.tables.push(r),e+=r.draw(),"undefined"!=typeof Engine&&(e+='<div style="text-align: center; padding: 6px;">'+this.cf.getLink(this.tc("viewContractDetails"),"contract_"+s.contracts[i].contractID,j$.proxy((function(t,e){t.showNewWindow("confirmrfp","ConfirmRfp",e,null,-1)}),this,Engine,s.contracts[i].contractID),"#","plain-link")+"</div>"),(r=this.getBrandTable(s.contracts[i],a)).newCorners="",this.tables.push(r),e+=r.draw(),t=new DecisionLabel(this.service,"contractLbl_"+s.contracts[i].contractID,e),this.resLabels.push(t),n+=t.draw()}return 0==s.contracts.length&&(this.noLabel=new DecisionLabel(this.service,"noLabel",this.tc("noContracts"),null,"green"),n+=this.noLabel.draw()),n},observe:function(){var t,e;for(this.data.staticData,t=0,e=this.resLabels.length;t<e;++t)this.resLabels[t].observe(),this.resLabels[t].change("float","left"),this.resLabels[t].jelement().css({padding:0});for(t=0;t<this.tables.length;t++)this.tables[t].observe();DecisionTable.setMaxTableWidths(this.tables),null!=this.noLabel&&(this.noLabel.observe(),this.noLabel.change("float","left"))}})},43380:()=>{window.RiskAnalysis=Decision.extend({style:"padding: 10px 10px 0px 10px;",hideButtonsInLastQuarter:!1,sendCalculate:!1,read:function(){var t,e,i,s=this.data.decisions,a=this.data.staticData.riskType;for(t=0,e=s.risks.length;t<e;t++)(i=s.risks[t]).specification=this.value("specification_"+a+"_"+i.riskID),i.explanation=this.value("explanation_"+a+"_"+i.riskID),i.mitigation=this.value("mitigation_"+a+"_"+i.riskID)},write:function(){var t,e,i,s=this.data.decisions,a=this.data.staticData.riskType;for(t=0,e=s.risks.length;t<e;t++)i=s.risks[t],this.setValue("specification_"+a+"_"+i.riskID,i.specification),this.setValue("explanation_"+a+"_"+i.riskID,i.explanation),this.setValue("mitigation_"+a+"_"+i.riskID,i.mitigation)},writeErrors:function(){var t,e,i,s=this.data.errors.decisions,a=this.data.staticData.riskType;for(t=0,e=s.risks.length;t<e;t++)i=s.risks[t],this.writeError("specification_"+a+"_"+i.riskID,i.specification,"top left",!1,3),this.writeError("explanation_"+a+"_"+i.riskID,i.explanation,"top left",!1,3),this.writeError("mitigation_"+a+"_"+i.riskID,i.mitigation,"top left",!1,3)},getPsupTableObj:function(){var t,e,i,s,a,n,r=this.data.staticData,o=r.quadrants.toLookUp("quadrant"),l=r.riskType,d=[],c={},h=[];for(c[1]="",c[2]="",c[3]="",c[4]="",t=0,e=r.quadrants.length;t<e;t++)for(s=0,a=(i=r.quadrants[t]).risks.length;s<a;s++)n=i.risks[s],c[i.quadrant]+='<div><span id="dd_desc_'+l+"_"+n.riskID+'">'+n.title.escapeHTML()+"</span></div>";return h[0]='<h2 class="bigHeader plainHeader">'+o[2].title+"</h2>"+c[2],h[1]='<h2 class="bigHeader plainHeader">'+o[1].title+"</h2>"+c[1],h[2]='<h2 class="bigHeader plainHeader">'+o[3].title+"</h2>"+c[3],h[3]='<h2 class="bigHeader plainHeader">'+o[4].title+"</h2>"+c[4],d.push({values:[h[0],h[1]]}),d.push({values:[h[2],h[3]]}),new DecisionTable(this.tc("risksLevelNoBR"),"psupRisks_"+l,[{title:""},{title:""},{title:""},{title:""}],d,!0,"concrete")},draw:function(t){var e,i,s,a=this.data.decisions,n=[],r="",o=(t=t||!1,this.data.staticData.riskType),l=[{title:this.tc("specification"),width:"33%"},{title:this.tc("explanation"),width:"33%"},{title:this.tc("mitigation"),width:"33%"}];for(!t&&this.data.staticData.showPsupRisks?(this.psupTable=this.getPsupTableObj(),r+='<div id="psupTableCntElement_'+o+'" style="clear:both;">'+this.psupTable.draw()+"</div><br />"):this.psupTable=null,e=0,i=a.risks.length;e<i;e++)s=a.risks[e],t&&""==s.specification&&""==s.explanation&&""==s.mitigation||n.push([this.com("memo","specification_"+o+"_"+s.riskID,s.specification,{rows:4,style:"width:100%;"}),this.com("memo","explanation_"+o+"_"+s.riskID,s.explanation,{rows:4,style:"width:100%;"}),this.com("memo","mitigation_"+o+"_"+s.riskID,s.mitigation,{rows:4,style:"width:100%;"})]);return t&&0==n.length?this.table=null:(this.table=new DecisionTable(this.tc("riskAnalysis"),"riskAnalysis_"+o,l,n,!1,"concrete"),r+=this.table.draw()),r},observe:function(){if(null!=this.psupTable){var t,e,i,s,a,n,r=this.data.staticData,o=this.data.staticData.riskType;for(this.psupTable.observe(),this.psupTable.jelement().find("td, th").css({"vertical-align":"top"}),t=0,e=r.quadrants.length;t<e;t++)for(s=0,a=(i=r.quadrants[t]).risks.length;s<a;s++)n=i.risks[s],new DropDownStaticExplanation("dd_desc_"+o+"_"+n.riskID,n.title.escapeHTML(),n.description.escapeHTML(),"","explanation-concrete",j$("#psupTableCntElement_"+o))}null!=this.table&&this.table.observe()},drawSOD:function(){var t=this.draw(!0);null!=this.table?(this.setValue(this.pfxSod+this.service,t),this.disable()):this.setValue(this.pfxSod+this.service,this.tc("noAnalysisPerformed"))}})},29249:(t,e,i)=>{"use strict";i(43380),window.RiskAnalysisCompany=RiskAnalysis.extend()},88554:(t,e,i)=>{"use strict";i(43380),window.RiskAnalysisIndustry=RiskAnalysis.extend()},30084:()=>{window.RiskAnalysisReview=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",draw:function(){var t,e,i,s,a,n=this.data.staticData,r="",o=[{title:this.tc("specification"),vline:!1},{title:this.tc("explanation")},{title:this.tc("mitigation")}];for(this.tables=[],t=0,e=n.riskTypes.length;t<e;t++){a=[];for(var l=0,d=(i=n.riskTypes[t]).risks.length;l<d;l++)s=i.risks[l],a.push([s.specification,s.explanation,s.mitigation]);this.tables.push(new DecisionTable(this.tc("riskAnalysis"+i.riskType),"riskAnalysis"+i.riskType,o,a,!1,"concrete")),r+=this.tables[this.tables.length-1].draw()}return 0==n.riskTypes.length?(this.viewModeButtons=[],this.modifyModeButtons=[],this.label=new DecisionLabel(this.service,"noRiskAnalysis",this.tc("noRiskAnalysis"),"","concrete"),r+=this.label.draw()):this.label=null,r},observe:function(){var t,e;for(t=0,e=this.tables.length;t<e;t++)this.tables[t].observe();null!=this.label&&(this.label.observe(),this.label.change("float","left"))}})},57929:(t,e,i)=>{"use strict";i(30084),window.RiskAnalysisReviewAll=RiskAnalysisReview.extend()},31719:(t,e,i)=>{"use strict";i(43380),window.RiskAnalysisStrategic=RiskAnalysis.extend()},69200:()=>{window.RiskManagementReview=Decision.extend({style:"padding: 10px 10px 0px 10px;",hideButtonsInLastQuarter:!1,sendCalculate:!1,read:function(){var t,e,i,s=this.data.decisions;for(t=0,e=s.reviews.length;t<e;t++)(i=s.reviews[t]).review=this.value("review_"+i.reviewID)},write:function(){var t,e,i,s=this.data.decisions;for(t=0,e=s.reviews.length;t<e;t++)i=s.reviews[t],this.setValue("review_"+i.reviewID,i.review)},writeErrors:function(){var t,e,i,s=this.data.errors.decisions;for(t=0,e=s.reviews.length;t<e;t++)i=s.reviews[t],this.writeError("review_"+i.reviewID,i.review,"top left",!1,3)},draw:function(){var t,e,i,s=this.data.staticData,a=this.data.decisions.reviews.toLookUp("reviewID"),n="";for(t=0,e=s.reviews.length;t<e;t++)""!=(i=s.reviews[t]).title.escapeHTML()&&(n+='<h2 id="group_header_'+i.reviewID+'" class="plainHeader breakHeader">'+i.title.escapeHTML()+"</h2>"),n+=this.com("memo","review_"+i.reviewID,a[i.reviewID].review.escapeHTML(),{rows:3,style:"width: 98%; display: block; margin: auto; box-sizing: border-box; resize: vertical;",label:'<div style="margin-bottom: 5px;">'+i.questions.escapeHTML()+"</div>"});return this.stLabel=new DecisionLabel(this.service,"strategicThrusts",n,"","","",""),this.stLabel.draw()},observe:function(){this.stLabel.observe(),this.stLabel.change("float","left"),this.stLabel.jelement().css({padding:0}).find("label").css({padding:"6px 10px",display:"block",margin:"auto"})},viewMode:function(){var t,e,i,s=this.data.decisions;for(this._super(),t=0,e=s.reviews.length;t<e;t++)i=s.reviews[t],j$("#vm_review_"+i.reviewID).html(i.review.escapeHTML())}})},48733:()=>{window.RiskRegistryAll=Decision.extend({style:"padding: 10px 10px 0px 10px;",hideButtonsInLastQuarter:!1,redrawOnModify:!0,sendCalculate:!1,read:function(){var t,e,i,s,a,n,r=this.data.decisions;for(t=0,e=r.riskTypes.length;t<e;t++)for(s=0,a=(i=r.riskTypes[t]).risks.length;s<a;s++)(n=i.risks[s]).processOwner=this.value("process_owner_"+i.riskType+"_"+n.riskID),n.auditDate=this.value("audit_date_"+i.riskType+"_"+n.riskID),n.auditParticipants=this.value("audit_participants_"+i.riskType+"_"+n.riskID),n.auditResults=this.value("audit_results_"+i.riskType+"_"+n.riskID)},write:function(){var t,e,i,s,a,n,r=this.data.decisions;for(t=0,e=r.riskTypes.length;t<e;t++)for(s=0,a=(i=r.riskTypes[t]).risks.length;s<a;s++)n=i.risks[s],this.setValue("process_owner_"+i.riskType+"_"+n.riskID,n.processOwner),this.setValue("audit_date_"+i.riskType+"_"+n.riskID,n.auditDate),this.setValue("audit_participants_"+i.riskType+"_"+n.riskID,n.auditParticipants),this.setValue("audit_results_"+i.riskType+"_"+n.riskID,n.auditResults)},writeErrors:function(){var t,e,i,s,a,n,r=this.data.errors.decisions;for(t=0,e=r.riskTypes.length;t<e;t++)for(s=0,a=(i=r.riskTypes[t]).risks.length;s<a;s++)n=i.risks[s],this.writeError("process_owner_"+i.riskType+"_"+n.riskID,n.processOwner,"center left",!0,3),this.writeError("audit_date_"+i.riskType+"_"+n.riskID,n.auditDate,"top left",!1,3),this.writeError("audit_participants_"+i.riskType+"_"+n.riskID,n.auditParticipants,"top left",!1,3),this.writeError("audit_results_"+i.riskType+"_"+n.riskID,n.auditResults,"top left",!1,3)},draw:function(){var t,e,i,s,a,n,r,o,l,d,c=this.data.staticData,h=this.data.dynamicData,p=this.data.decisions,u={},g=[],m=[{title:this.tc("risk")},{title:this.tc("mitigationAction")},{title:this.tc("processOwner"),align:"center"},{title:this.tc("auditDate"),align:"center"},{title:this.tc("auditParticipants"),width:"15%"},{title:this.tc("auditResults"),width:"15%"}];if(h.riskTypes.length>0){for(t=0,e=p.riskTypes.length;t<e;t++)u[p.riskTypes[t].riskType]=p.riskTypes[t].risks.toLookUp("riskID");for(t=0,e=h.riskTypes.length;t<e;t++)for(i=h.riskTypes[t],g.push({title:i.title.escapeHTML()}),s=0,a=i.quadrants.length;s<a;s++)for(r=0,o=(n=i.quadrants[s]).risks.length;r<o;r++)l=n.risks[r],g.push(['<span id="dd_desc_'+i.riskType+"_"+l.riskID+'">'+l.title.escapeHTML()+"</span>",l.mitigation.escapeHTML(),this.com("combobox","process_owner_"+i.riskType+"_"+l.riskID,u[i.riskType][l.riskID].processOwner,{},c.teamMembers,"id","fullName",0,"---"),this.com("edit","audit_date_"+i.riskType+"_"+l.riskID,u[i.riskType][l.riskID].auditDate.escapeHTML(),{size:10}),this.com("memo","audit_participants_"+i.riskType+"_"+l.riskID,u[i.riskType][l.riskID].auditParticipants.escapeHTML(),{rows:2,style:"width:100%;"}),this.com("memo","audit_results_"+i.riskType+"_"+l.riskID,u[i.riskType][l.riskID].auditResults.escapeHTML(),{rows:2,style:"width:100%;"})]);this.table=new DecisionTable(this.tc("riskRegistry"),"riskRegistry",m,g,!1,"concrete"),this.label=null,d=this.table.draw()}else this.viewModeButtons=[],this.modifyModeButtons=[],this.table=null,this.label=new DecisionLabel(this.service,"noRisks",this.tc("noRisks"),"","concrete"),d=this.label.draw();return d},observe:function(){var t,e,i,s,a,n,r,o,l,d,c,h=this.data.dynamicData;if(null!=this.table)for(this.table.observe(),t=0,e=h.riskTypes.length;t<e;t++)for(s=0,a=(i=h.riskTypes[t]).quadrants.length;s<a;s++)for(r=0,o=(n=i.quadrants[s]).risks.length;r<o;r++)d=(l=n.risks[r]).title.escapeHTML(),c=l.description.escapeHTML(),new DropDownStaticExplanation("dd_desc_"+i.riskType+"_"+l.riskID,d,c,"","explanation-concrete",this.contentElement);null!=this.label&&(this.label.observe(),this.label.change("float","left"))}})},484:(t,e,i)=>{"use strict";i(15783),window.RisksCompany=RisksStrategic.extend()},59394:(t,e,i)=>{"use strict";i(15783),window.RisksIndustry=RisksStrategic.extend()},7899:(t,e,i)=>{"use strict";i(57153),window.RisksLikelihoodCompany=RisksLikelihoodStrategic.extend()},97946:(t,e,i)=>{"use strict";i(57153),window.RisksLikelihoodIndustry=RisksLikelihoodStrategic.extend()},57153:()=>{window.RisksLikelihoodStrategic=Decision.extend({style:"padding: 10px 10px 0px 10px;",hideButtonsInLastQuarter:!1,redrawOnModify:!0,sendCalculate:!1,read:function(){var t,e,i,s=this.data.decisions;for(t=0,e=s.risks.length;t<e;t++)(i=s.risks[t]).likelihood=this.value("likelihood_"+i.riskID),i.impact=this.value("impact_"+i.riskID),i.mitigate=this.value("mitigate_"+i.riskID)},write:function(){var t,e,i,s=this.data.decisions;for(t=0,e=s.risks.length;t<e;t++)i=s.risks[t],this.setValue("likelihood_"+i.riskID,i.likelihood),this.setValue("impact_"+i.riskID,i.impact),this.setValue("mitigate_"+i.riskID,i.mitigate)},writeErrors:function(){var t,e,i,s=this.data.errors.decisions;for(t=0,e=s.risks.length;t<e;t++)i=s.risks[t],this.writeError("likelihood_"+i.riskID,i.likelihood,"top left",!1,3),this.writeError("impact_"+i.riskID,i.impact,"top left",!1,3),this.writeError("mitigate_"+i.riskID,i.mitigate,"top left",!1,3)},draw:function(){var t,e,i,s,a,n,r=this.data.dynamicData,o=this.data.decisions.risks.toLookUp("riskID"),l=[{title:this.tc("risk")},{title:this.tc("likelihood"),align:"center"},{title:this.tc("impact"),align:"center"},{title:this.tc("mitigate"),align:"center"}],d=[],c=[{i:0,v:"0"},{i:1,v:"1"},{i:2,v:"2"},{i:3,v:"3"},{i:4,v:"4"},{i:5,v:"5"},{i:6,v:"6"},{i:7,v:"7"},{i:8,v:"8"},{i:9,v:"9"},{i:10,v:"10"}];for(t=0,e=r.quadrants.length;t<e;t++)for(i=r.quadrants[t],d.push({title:i.title.escapeHTML()}),s=0,a=i.risks.length;s<a;s++)n=i.risks[s],d.push(['<span id="dd_desc_'+n.riskID+'">'+n.title.escapeHTML()+"</span>",this.com("combobox","likelihood_"+n.riskID,o[n.riskID].likelihood,{},c,"i","v"),this.com("combobox","impact_"+n.riskID,o[n.riskID].impact,{},c,"i","v"),this.com("checkbox","mitigate_"+n.riskID,o[n.riskID].mitigate)]);return this.table=new DecisionTable(this.tc("likelihoodImpact"),"likelihoodImpact",l,d,!1,"concrete"),this.table.draw()+this.drawButtons()+'<div style="padding:10px;"><div id="graph-holder" style="height:400px;"></div></div>'},observe:function(){var t,e,i,s,a,n,r,o,l=this.data.dynamicData;for(this.table.observe(),t=0,e=l.quadrants.length;t<e;t++)for(s=0,a=(i=l.quadrants[t]).risks.length;s<a;s++)r=(n=i.risks[s]).title.escapeHTML(),o=n.description.escapeHTML(),new DropDownStaticExplanation("dd_desc_"+n.riskID,r,o,"","explanation-concrete",this.contentElement),j$("#likelihood_"+n.riskID).on("change",j$.proxy(this.setChartData,this,"","graph-holder")),j$("#impact_"+n.riskID).on("change",j$.proxy(this.setChartData,this,"","graph-holder"));this.setChartData("","graph-holder",null)},setChartData:function(t,e,i){var s,a,n,r,o,l,d,c,h=this.data.dynamicData,p=this.data.decisions.risks.toLookUp("riskID");if(this.read(),Live.useSvg()){for(chart=this.data.staticData.chartTemplate,j$.extend(chart.data,{title:this.tc("chartTitle"),xAxis:this.tc("chartLikelihood"),yAxis:this.tc("chartImpact"),xAxisEnds:[this.tc("chartLow"),this.tc("chartHigh")],yAxisEnds:[this.tc("chartLow"),this.tc("chartHigh")],quadrants:[this.tc("chartTerminate"),this.tc("chartTransfer"),this.tc("chartTolerate"),this.tc("chartTreat")],labels:[],x:[],y:[],minX:-1,maxX:11,minY:-1,maxY:11,saveUrl:this.st("common:saveChartURL"),saveName:"likelihood-impact-graph-q"+this.user.quarter()}),d=0,s=0,a=h.quadrants.length;s<a;s++)for(n=0,r=(o=h.quadrants[s]).risks.length;n<r;n++)if(0!=p[(l=o.risks[n]).riskID].likelihood||0!=p[l.riskID].impact){for(chart.data.labels[d]=l.title.escapeHTML(),c=0;c<=10;++c)0==d&&(chart.data.x[c]=c,chart.data.y[c]=[]),c==Number(p[l.riskID].likelihood)?chart.data.y[c][d]=Number(p[l.riskID].impact):chart.data.y[c][d]=null;d++}SvgCharts.BaseChart.setChartData(e,chart)}else{for(j$("#"+e).html(""),chart=new XYScatterChart(j$("#"+e)[0]),chart.minX=-1,chart.maxX=11,chart.minY=-1,chart.maxY=11,chart.xLines=[5],chart.yLines=[5],chart.label=this.tc("chartTitle"),chart.labelX=this.tc("chartLikelihood"),chart.xEnds=[this.tc("chartLow"),this.tc("chartHigh")],chart.labelY=this.tc("chartImpact"),chart.yEnds=[this.tc("chartLow"),this.tc("chartHigh")],chart.quadrants=[this.tc("chartTerminate"),this.tc("chartTransfer"),this.tc("chartTolerate"),this.tc("chartTreat")],chart.legendCharLimit=40,chart.labels=[],chart.data=[],s=0,a=h.quadrants.length;s<a;s++)for(n=0,r=(o=h.quadrants[s]).risks.length;n<r;n++)0==p[(l=o.risks[n]).riskID].likelihood&&0==p[l.riskID].impact||(chart.labels[chart.labels.length]=l.title.escapeHTML(),chart.data[chart.data.length]=[{x:p[l.riskID].likelihood,y:p[l.riskID].impact,group:chart.labels.length-1}]);chart.legend=chart.labels.length>0,chart.draw()}}})},63139:(t,e,i)=>{"use strict";i(28506),window.RisksMitigationCompany=RisksMitigationStrategic.extend()},87711:(t,e,i)=>{"use strict";i(28506),window.RisksMitigationIndustry=RisksMitigationStrategic.extend()},28506:()=>{window.RisksMitigationStrategic=Decision.extend({style:"padding: 10px 10px 0px 10px;",hideButtonsInLastQuarter:!1,redrawOnModify:!0,sendCalculate:!1,read:function(){var t,e,i,s=this.data.decisions;for(t=0,e=s.risks.length;t<e;t++)(i=s.risks[t]).mitigation=this.value("mitigation_"+i.riskID)},write:function(){var t,e,i,s=this.data.decisions;for(t=0,e=s.risks.length;t<e;t++)i=s.risks[t],this.setValue("mitigation_"+i.riskID,i.mitigation)},writeErrors:function(){var t,e,i,s=this.data.errors.decisions;for(t=0,e=s.risks.length;t<e;t++)i=s.risks[t],this.writeError("mitigation_"+i.riskID,i.mitigation,"top left",!1,3)},draw:function(){var t,e,i,s,a,n,r,o=this.data.dynamicData,l=this.data.decisions.risks.toLookUp("riskID"),d=[{title:this.tc("risk")},{title:this.tc("mitigationAction")}],c=[];if(o.quadrants.length>0){for(t=0,e=o.quadrants.length;t<e;t++)for(i=o.quadrants[t],c.push({title:i.title.escapeHTML()}),s=0,a=i.risks.length;s<a;s++)n=i.risks[s],c.push(['<span id="dd_desc_'+n.riskID+'">'+n.title.escapeHTML()+"</span>",this.com("memo","mitigation_"+n.riskID,l[n.riskID].mitigation.escapeHTML(),{rows:2,style:"width:100%;"})]);this.table=new DecisionTable(this.tc("mitigationActions"),"mitigationActions",d,c,!1,"concrete"),this.label=null,r=this.table.draw()}else this.viewModeButtons=[],this.modifyModeButtons=[],this.table=null,this.label=new DecisionLabel(this.service,"noRisks",this.tc("noRisks"),"","concrete"),r=this.label.draw();return r},observe:function(){var t,e,i,s,a,n,r,o,l=this.data.dynamicData;if(null!=this.table)for(this.table.observe(),t=0,e=l.quadrants.length;t<e;t++)for(s=0,a=(i=l.quadrants[t]).risks.length;s<a;s++)r=(n=i.risks[s]).title.escapeHTML(),o=n.description.escapeHTML(),new DropDownStaticExplanation("dd_desc_"+n.riskID,r,o,"","explanation-concrete",this.contentElement);null!=this.label&&(this.label.observe(),this.label.change("float","left"))}})},15783:()=>{window.RisksStrategic=Decision.extend({style:"padding: 10px 10px 0px 10px;",hideButtonsInLastQuarter:!1,sendCalculate:!1,read:function(){var t,e,i,s=this.data.decisions;for(t=0,e=s.risks.length;t<e;t++)(i=s.risks[t]).title=this.value("title_"+i.riskID),i.description=this.value("description_"+i.riskID)},write:function(){var t,e,i,s=this.data.decisions;for(t=0,e=s.risks.length;t<e;t++)i=s.risks[t],this.setValue("title_"+i.riskID,i.title),this.setValue("description_"+i.riskID,i.description)},writeErrors:function(){var t,e,i,s=this.data.errors.decisions;for(t=0,e=s.risks.length;t<e;t++)i=s.risks[t],this.writeError("title_"+i.riskID,i.title,"top left",!1,3),this.writeError("description_"+i.riskID,i.description,"top left",!1,3)},draw:function(){var t,e,i,s,a,n,r,o=this.data.staticData,l=o.quadrants.toLookUp("quadrant"),d=this.data.decisions.risks.toLookUp("riskID"),c=[],h={},p={},u=[];for(h[1]="",h[2]="",h[3]="",h[4]="",p[1]=!1,p[1]=!1,p[3]=!1,p[4]=!1,this.luDecRisksQuadrants={},t=0,e=o.quadrants.length;t<e;t++)for(r=0,s=0,a=(i=o.quadrants[t]).risks.length;s<a;s++)(n=i.risks[s]).custom?(r++,h[i.quadrant]+='<div style="margin-top: 5px;"><span id="dd_desc_'+n.riskID+'"></span></div>',h[i.quadrant]+="<div>"+this.com("edit","title_"+n.riskID,d[n.riskID].title.escapeHTML(),{size:40,maxlength:o.maxTitleLength,label:this.tc("additionalRiskOnly",{NUMBER:r})})+"</div>",h[i.quadrant]+="<div>"+this.com("memo","description_"+n.riskID,d[n.riskID].description.escapeHTML(),{rows:2,cols:36,label:this.tc("additionalDescOnly",{NUMBER:r})})+"</div>",p[i.quadrant]=!0,this.luDecRisksQuadrants[n.riskID]=i.quadrant):h[i.quadrant]+='<div><span id="dd_desc_'+n.riskID+'">'+n.title.escapeHTML()+"</span></div>";return u[0]='<h2 class="bigHeader plainHeader">'+l[2].title+"</h2>"+h[2],u[1]='<h2 class="bigHeader plainHeader">'+l[1].title+"</h2>"+h[1],u[2]='<h2 class="bigHeader plainHeader">'+l[3].title+"</h2>"+h[3],u[3]='<h2 class="bigHeader plainHeader">'+l[4].title+"</h2>"+h[4],c.push({values:[u[0],u[1]]}),c.push({values:[u[2],u[3]]}),this.table=new DecisionTable(this.tc("risksLevelNoBR"),"risks",[{title:""},{title:""},{title:""},{title:""}],c,!0,"concrete"),this.table.draw()},observe:function(){var t,e,i,s,a,n,r,o,l=this.data.staticData;for(this.table.observe(),this.table.jelement().find("td, th").css({"vertical-align":"top"}),t=0,e=l.quadrants.length;t<e;t++)for(s=0,a=(i=l.quadrants[t]).risks.length;s<a;s++)(n=i.risks[s]).custom||(r=n.title.escapeHTML(),o=n.description.escapeHTML(),new DropDownStaticExplanation("dd_desc_"+n.riskID,r,o,"","explanation-concrete",this.contentElement))},viewMode:function(){this._super(),this.luDecRisksDescs={};for(var t,e=0,i=this.data.decisions.risks.length;e<i;e++)""!=(t=this.data.decisions.risks[e]).title?(j$("#dd_desc_"+t.riskID).html(t.title.escapeHTML()),j$("#dd_desc_"+t.riskID).show(),this.luDecRisksDescs[t.riskID]=new DropDownStaticExplanation("dd_desc_"+t.riskID,t.title.escapeHTML(),t.description.escapeHTML(),"","explanation-concrete",this.contentElement)):j$("#dd_desc_"+t.riskID).hide(),j$("#add_risk_"+t.riskID).hide(),j$("#title_"+t.riskID).closest("label").hide(),j$("#description_"+t.riskID).closest("label").hide()},modifyMode:function(){this._super();for(var t,e=0,i=this.data.decisions.risks.length;e<i;e++)t=this.data.decisions.risks[e],void 0!==this.luDecRisksDescs[t.riskID]&&(this.luDecRisksDescs[t.riskID].destroy(),this.luDecRisksDescs[t.riskID]=null),j$("#dd_desc_"+t.riskID).hide(),j$("#add_risk_"+t.riskID).show(),j$("#title_"+t.riskID).closest("label").show(),j$("#description_"+t.riskID).closest("label").show();"undefined"!=typeof Engine&&Engine.areas.body.resizeContent()}})},833:()=>{window.Sales=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",reportType:1,createRecord:function(t,e){var i=[t];return this.data.staticData.hasStockOuts&&i.push(e.netDemand,e.stockOuts),i.push(e.sold,e.revenues,e.rebates,e.cogs),this.data.staticData.hasTariffs&&i.push(e.tariffs),i.push(e.grossMargin),i},createRecordOut:function(t,e){return[t,e.netDemand,e.sold,e.stockOuts,Format.real(e.contractFulfillment)+"%",e.orderStockOuts,Format.real(e.orderFulfillment)+"%",e.revenues,e.cogs,e.grossMargin]},draw:function(){var t,e,i,s,a,n,r,o=this.data.staticData,l=0,d="",c=[{title:this.tc("brand"),type:"string"}],h=[],p=[],u=[],g=[],m=[],b=[{title:this.tc("brand"),type:"string"},{title:this.tc("contractDemand"),type:"number"},{title:this.tc("sold"),type:"number"},{title:this.tc("unfulfilledContract"),type:"number"},{title:this.tc("contractFulfillment"),align:"right"},{title:this.tc("unfulfilledOrder"),type:"number"},{title:this.tc("orderFulfillment"),align:"right"},{title:this.tc("revenues"),type:"number"},{title:this.tc("cogs"),type:"number"},{title:this.tc("grossMargin"),type:"number"}];if(o.officeSales.sold+o.webSales.sold>0){for(t=0,e=o.regions.length;t<e;++t)o.regions[t].netDemand>0&&(l+=1);o.hasWeb&&(l+=1)}for(o.outsourcingSales.sold>0&&(l+=1),o.unwanted.sold>0&&(l+=1),o.hasStockOuts&&c.push({title:this.tc("netDemand"),type:"number"},{title:this.tc("stockOuts"),type:"number"}),c.push({title:this.tc("sold"),type:"number"},{title:this.tc("revenues"),type:"number"},{title:this.tc("rebates"),type:"number"},{title:this.tc("cogs"),type:"number"}),o.hasTariffs&&c.push({title:this.tc("tariffs"),type:"number"}),c.push({title:this.tc("grossMargin"),type:"number"}),s=0,a=o.globalSales.brands.length;s<a;s++)n=o.globalSales.brands[s],h.push(this.createRecord(Format.brandName(n.name.escapeHTML(),n.type),n)),p.push(this.createRecord(Format.brandName(n.name.escapeHTML(),n.type),n.office)),u.push(this.createRecord(Format.brandName(n.name.escapeHTML(),n.type),n.web)),n.unwanted.sold>0&&m.push([Format.brandName(n.name.escapeHTML(),n.type),n.unwanted.sold,n.unwanted.revenues,n.unwanted.cogs,n.unwanted.grossMargin]);for(s=0,a=o.outsourcingSales.brands.length;s<a;s++)n=o.outsourcingSales.brands[s],h.push(this.createRecord(Format.brandName(n.name.escapeHTML(),n.type),n)),g.push(this.createRecordOut(Format.brandName(n.name.escapeHTML(),n.type),n));if(0==l||l>1||o.outsourcingSales.sold+o.unwanted.sold==0?(h.push({values:this.createRecord(this.tc("total"),o.globalSales),type:"total"}),this.totalTable=new DecisionTable(this.tc("sales",{REGION:this.tc("total")}),"totalSales",c,h,!1,"stone"),d+=this.totalTable.draw()):this.totalTable=null,o.regions.length>1&&o.hasWeb&&p.length+u.length>0?(this.selectLabel=new DecisionLabel(this.service,"selLabel",this.com("radio","type",this.reportType,{label:this.tc("byChannel")},1)+"<br />"+this.com("radio","type",this.reportType,{label:this.tc("byRegion")},2),"","stone"),d+=this.selectLabel.draw()):this.selectLabel=null,o.regions.length>1&&p.length+u.length>0){for(d+='<div id="regionTables">',this.regionTables=[],r=o.globalSales.brands.toLookUp("brandID"),t=0,e=o.regions.length;t<e;++t)if(0!=(i=o.regions[t]).netDemand){for(h=[],s=0,a=i.brands.length;s<a;++s)n=i.brands[s],h.push(this.createRecord(Format.brandName(r[n.brandID].name.escapeHTML(),r[n.brandID].type),n));h.push({values:this.createRecord(this.tc("total"),i),type:"total"}),this.regionTables.push(new DecisionTable(this.tc("sales",{REGION:i.regionName}),"regionSales_"+i.regionID,c,h,!1,"stone")),d+=this.regionTables[this.regionTables.length-1].draw()}d+="</div>"}else this.regionTables=null;return o.hasWeb&&p.length+u.length>0?(d+='<div id="channelTables">',p.push({values:this.createRecord(this.tc("total"),o.officeSales),type:"total"}),this.officeTable=new DecisionTable(this.tc("sales",{REGION:this.tc("officeChannel")}),"officeSales",c,p,!1,"stone"),d+=this.officeTable.draw(),u.push({values:this.createRecord(this.tc("total"),o.webSales),type:"total"}),this.webTable=new DecisionTable(this.tc("sales",{REGION:this.tc("webChannel")}),"webSales",c,u,!1,"stone"),d+=this.webTable.draw(),d+="</div>"):(this.officeTable=null,this.webTable=null),o.hasLogistics&&g.length>0?(g.push({values:this.createRecordOut(this.tc("total"),o.outsourcingSales),type:"total"}),this.outsourcingTable=new DecisionTable(this.tc("sales",{REGION:this.tc("outsourcing")}),"outsouorcingSales",b,g,!1,"stone"),d+=this.outsourcingTable.draw()):this.outsourcingTable=null,o.unwanted.sold>0?(m.push({values:[this.tc("total"),o.unwanted.sold,o.unwanted.revenues,o.unwanted.cogs,o.unwanted.grossMargin],type:"total"}),this.uiTable=new DecisionTable(this.tc("sales",{REGION:this.tc("unwantedInventory")}),"uiSales",[{title:this.tc("brand"),type:"string"},{title:this.tc("sold"),type:"number"},{title:this.tc("revenues"),type:"number"},{title:this.tc("cogs"),type:"number"},{title:this.tc("grossMargin"),type:"number"}],m,!1,"stone"),d+=this.uiTable.draw()):this.uiTable=null,d},observe:function(){if(null!=this.totalTable&&this.totalTable.observe(),null!=this.regionTables)for(var t=0;t<this.regionTables.length;t++)this.regionTables[t].observe();null!=this.officeTable&&this.officeTable.observe(),null!=this.webTable&&this.webTable.observe(),null!=this.outsourcingTable&&this.outsourcingTable.observe(),null!=this.uiTable&&this.uiTable.observe(),null!=this.selectLabel&&(this.selectLabel.observe(),this.selectLabel.change("float","left"),j$("#type_1").on("click",this.onReportTypeChange.bind(this,1)),j$("#type_2").on("click",this.onReportTypeChange.bind(this,2)),this.cf.enable(),this.onReportTypeChange(this.reportType))},onReportTypeChange:function(t){1==t?(j$("#regionTables").hide(),j$("#channelTables").show()):(j$("#regionTables").show(),j$("#channelTables").hide()),this.resizeContent(),this.reportType=t}})},19242:()=>{window.SalesForceCompensation=Decision.extend({typeOfComp:"SalesForceCompensation",prefix:"sf",emptyTcLabel:"common:noOutlet",style:"padding: 10px 10px 0px 10px;",suffix:"",initialize:function(t){this._super(this.typeOfComp)},getRegionIterator:function(){return this.getIterator.apply(this,["regions","regionID",function(t,e){return e.isIn},this.data.staticData].concat(Array.from(arguments)))},getName:function(t){return this.prefix+"_"+t+"_"+this.suffix},read:function(){var t=this;this.getRegionIterator(this.data.decisions)((function(e,i,s){t.suffix=e,s.compensation.salary=t.value(t.getName("salary")),s.compensation.healthInsurance=t.value(t.getName("healthInsurance")),s.compensation.vacation=t.value(t.getName("vacation")),s.compensation.pension=t.value(t.getName("pension")),t.data.staticData.updateProductivity&&(s.productivity=t.value(t.getName("productivity")))}))},write:function(){var t=this;this.getRegionIterator(this.data.decisions)((function(e,i,s){t.suffix=e,t.setValue(t.getName("salary"),s.compensation.salary),t.setValue(t.getName("healthInsurance"),s.compensation.healthInsurance),t.setValue(t.getName("vacation"),s.compensation.vacation),t.setValue(t.getName("pension"),s.compensation.pension),t.data.staticData.updateProductivity&&t.setValue(t.getName("productivity"),s.productivity)}))},writeErrors:function(){var t=this,e="center left",i=!0;this.getRegionIterator(this.data.errors.decisions)((function(s,a,n){t.suffix=s,t.writeError(t.getName("salary"),n.compensation.salary,e,i,3),t.writeError(t.getName("pension"),n.compensation.pension,e,i,3),t.writeError(t.getName("total"),n.compensation.total,e,i,3),t.data.staticData.updateProductivity&&t.writeError(t.getName("productivity"),n.productivity,e,i,3)}))},writeCalculate:function(){var t=this;this.getRegionIterator(this.data.calculate)((function(e,i,s){t.suffix=e,j$("#"+t.getName("total")).html(Number(s.compensation.total).format())}))},getCompensationTable:function(){var t=this,e=this.data.staticData,i=[{title:this.tc("region")},{title:this.tc("salarySh"),align:"right"},{title:this.tc("healthInsuranceSh"),align:"right"},{title:this.tc("vacationSh"),align:"right"},{title:this.tc("pensionSh"),align:"right"},{title:this.tc("totalSh"),align:"right"}],s=[];return e.hasInternationalIssues&&i.push({title:this.tc("totalLQSh"),align:"right"}),this.getRegionIterator(this.data.decisions,this.data.calculate)((function(i,a,n,r){t.suffix=i,s.push([a.regionName,t.com("iedit",t.getName("salary"),n.compensation.salary,{size:6}),t.com("combobox",t.getName("healthInsurance"),n.compensation.healthInsurance,{},e.healthInsuranceOptions,"optionID","name"),t.com("combobox",t.getName("vacation"),n.compensation.vacation,{},e.vacationOptions,"optionID","name"),t.com("iedit",t.getName("pension"),n.compensation.pension,{size:2}),'<span id="'+t.getName("total")+'">'+r.compensation.total.format()+"</span>"]),e.hasInternationalIssues&&s[s.length-1].push(a.lqIsIn?a.lqCompensation.total.format():t.tc("common:na"))})),s.length>0?new DecisionTable(this.tc("compensationPlan"),this.prefix+"Table",i,s,!1,"wooden"):null},getProductivityTable:function(){var t=this;if(!this.data.staticData.updateProductivity)return null;var e=[{title:this.tc("region")},{title:this.tc("actualProductivity",{QUARTER:this.user.quarter()-1}),align:"right"},{title:this.tc("projectedProductivity",{QUARTER:this.user.quarter()}),align:"right"}],i=[];return this.getRegionIterator(this.data.decisions)((function(e,s,a){t.suffix=e,i.push([s.regionName,s.lqIsIn?Format.number(s.productivity,2):t.tc("common:na"),t.com("iedit",t.getName("productivity"),a.productivity,{size:6})])})),i.length>0?new DecisionTable(this.tc("productivity"),this.getName("prodTable"),e,i,!1,"wooden"):null},getEmptyLabel:function(){return new DecisionLabel(this.service,"emptyLabel",this.tc(this.emptyTcLabel),"","wooden")},drawEmpty:function(){return this.viewModeButtons=[],this.modifyModeButtons=[],this.emptyLabel=this.getEmptyLabel(),this.emptyLabel.draw()},draw:function(t){return this.wkTable=this.getCompensationTable(),this.prodTable=this.getProductivityTable(),this.emptyLabel=null,null==this.wkTable?this.drawEmpty():(t&&(this.wkTable.tableCorners="",null!=this.prodTable&&(this.prodTable.tableCorners="")),this.wkTable.draw()+(null!=this.prodTable?this.prodTable.draw():""))},observeEdits:function(){var t=this;this.getRegionIterator()((function(e){t.suffix=e,t.bindCalculate(t.getName("salary"),"keyup",!0),t.bindCalculate(t.getName("healthInsurance"),"change",!1),t.bindCalculate(t.getName("vacation"),"change",!1),t.bindCalculate(t.getName("pension"),"keyup",!0),t.data.staticData.updateProductivity&&t.bindCalculate(t.getName("productivity"),"keyup",!0)}))},observeEmpty:function(){this.emptyLabel.observe(),this.emptyLabel.change("float","left")},observe:function(){null==this.emptyLabel?(this.wkTable.observe(),null!=this.prodTable&&this.prodTable.observe(),this.observeEdits()):this.observeEmpty()},drawSOD:function(){var t=this.draw(!0);null==this.emptyLabel?(this.setValue(this.pfxSod+this.service,t),this.disable()):this.setValue(this.pfxSod+this.service,"")}})},43412:(t,e,i)=>{"use strict";i(19242),window.SalesForceCompensationAnim=SalesForceCompensation.extend({typeOfComp:"SalesForceCompensation",maxPercGr:197,initialize:function(t){this._super(this.typeOfComp)},graphPercentWidth:function(t,e){return e>0?9+t/e*64:0},compWidth:function(t,e,i,s){if(i=i||2,s=s||this.maxPercGr,t>0){var a=e/t;return a>i?s:100*a}return e>0?s:0},compArrow:function(t,e,i,s){var a=s||this.maxPercGr;return this.compWidth(t,e,i,s)<a?0:1},updateGraphComponent:function(t,e,i,s){var a=j$("#"+this.getName("gr_"+i)),n=j$("#"+this.getName("gr2_"+i));n.html(Number(t).format()),j$("#"+this.getName("graph_"+i)).css({width:this.graphPercentWidth(t,e)+"%"}),t>0?(a.removeClass("light"+s+"CompTrans"),n.removeClass("dark"+s+"CompTrans"),a.addClass("light"+s+"Comp"),n.addClass("dark"+s+"Comp")):(a.removeClass("light"+s+"Comp"),n.removeClass("dark"+s+"Comp"),a.addClass("light"+s+"CompTrans"),n.addClass("dark"+s+"CompTrans"))},getGraphComponent:function(t,e,i,s,a,n){var r=t>0?"light"+s+"Comp":"light"+s+"CompTrans",o=t>0?"dark"+s+"Comp":"dark"+s+"CompTrans",l=this.graphPercentWidth(t,e);return'<div id="'+this.getName("graph_"+i)+'" class="compShadow" style="float:left;height:100%;width:'+l+'%;"><div id="'+this.getName("gr_"+i)+'" class="compImg '+n+" "+r+'" style="background-position:center;"></div><span class="offscreen">'+a+'</span><div id="'+this.getName("gr2_"+i)+'" class="'+o+'" style="text-align:center;">'+t.format()+"</div></div>"},updateRelativeAverage:function(t,e,i){j$("#"+this.getName("cmpr_"+i)).css("width",this.compWidth(t,e)+"%"),j$("#"+this.getName("cmpa_"+i)).css("opacity",this.compArrow(t,e))},getRelativeAverage:function(t,e,i){var s=this.compArrow(t,e),a=this.compWidth(t,e);return'<span class="offscreen">'+t+'</span><div class="cmpra" style="position: relative; width: 100%;height: 20px; overflow: hidden;"><div class="orangeAvgComp" style="position: relative; width:50%; height: 100%"><div id="'+this.getName("cmpa_"+i)+'" class="compArr" style="position: absolute; opacity: '+s+'; bottom: 0; right: -100%;"></div><div id="'+this.getName("cmpr_"+i)+'" class="blueComp" style="position: absolute; bottom: 0; width: '+a+'%; height: 50%"></div></div></div>'},writeCalculate:function(){var t=this;this.getRegionIterator(this.data.decisions,this.data.calculate)((function(e,i,s,a){t.suffix=e;var n=i.lqAverage,r=s.compensation,o=a.compensation;j$("#"+t.getName("total")).html(Number(o.total).format()),t.updateRelativeAverage(n.salary,r.salary,"salary"),t.updateRelativeAverage(n.healthInsurance,r.healthInsurance,"healthInsurance"),t.updateRelativeAverage(n.vacation,r.vacation,"vacation"),t.updateRelativeAverage(n.pension,r.pension,"pension"),t.updateGraphComponent(o.salary,o.total,"salary","Blue"),t.updateGraphComponent(o.healthInsurance,o.total,"healthInsurance","Red"),t.updateGraphComponent(o.vacation,o.total,"vacation","Yellow"),t.updateGraphComponent(o.pension,o.total,"pension","Gray")}))},resize:function(){j$(".compBlueArr").css("border-left-width",.09*j$(".cmpra").width())},getHeader:function(t,e){return'<div id="'+this.getName(t)+'" style="float: left;padding-top:5px;padding-bottom:5px;white-space:nowrap;">'+e+"</div>"},getCompensationTable:function(t,e,i){var s=t.lqAverage,a=e.compensation,n=i.compensation,r=this.data.staticData,o=[{styleClass:"darkestBlue",isHead:!0,style:"padding:0;padding-left:8px;max-width:250px;"},{style:"padding:0;padding-left:8px;"},{style:"padding:0;padding-left:8px;"},{title:'<div class="orangeAvgComp" style="position:relative;text-align:center;padding:2px;margin-right:5px;">'+this.tc("lqIndustryAvg")+'<img src="'+Path.getDecPath("compensations","comparrow",".png")+'" style="position:absolute;top:100%;left:48%;" alt="" /></div>',headClass:"darkestBlue leftAlign",headStyle:"padding-bottom:5px;padding-left:10px;",style:"padding:0px;padding-right:5px;padding-left:10px;"}],l=[{tdstyle:"padding-top:10px;border-top:1px solid rgba(132,144,147,0.5)",values:[this.getHeader("salaryH",this.tc("salary")),'<div style="float: right;">'+this.com("iedit",this.getName("salary"),a.salary,{size:14,"aria-labelledby":this.getName("salaryH")})+"</div>",'<img src="'+Path.getDecPath("compensations","cash",".png")+'" alt="" />',this.getRelativeAverage(s.salary,a.salary,"salary")]},{tdstyle:"padding-top:5px;",values:[this.getHeader("healthInsuranceH",this.tc("healthInsurance")),'<div style="float: right;">'+this.com("combobox",this.getName("healthInsurance"),a.healthInsurance,{"aria-labelledby":this.getName("healthInsuranceH")},r.healthInsuranceOptions,"optionID","name")+"</div>",'<img src="'+Path.getDecPath("compensations","health",".png")+'" alt="" />',this.getRelativeAverage(s.healthInsurance,a.healthInsurance,"healthInsurance")]},{tdstyle:"padding-top:5px;",values:[this.getHeader("vacationH",this.tc("vacation")),'<div style="float: right;">'+this.com("combobox",this.getName("vacation"),a.vacation,{"aria-labelledby":this.getName("vacationH")},r.vacationOptions,"optionID","name")+"</div>",'<img src="'+Path.getDecPath("compensations","vacation",".png")+'" alt="" />',this.getRelativeAverage(s.vacation,a.vacation,"vacation")]},{tdstyle:"padding-top:5px;padding-bottom:5px;",values:[this.getHeader("pensionH",this.tc("pension")),'<div style="float: right;">'+this.com("iedit",this.getName("pension"),a.pension,{size:2,"aria-labelledby":this.getName("pensionH")})+"</div>",'<img src="'+Path.getDecPath("compensations","retirement",".png")+'" alt="" />',this.getRelativeAverage(s.pension,a.pension,"pension")]},{tdstyle:"border-top:1px solid rgba(132,144,147,0.5)",values:[this.getHeader("totalH",this.tc("total")),'<div style="float: right;padding-top:10px;padding-bottom:5px;"><span style="color:#000000;padding-right:5px;" id="'+this.getName("total")+'">'+n.total.format()+"</span></div>","",""]}];return r.hasInternationalIssues&&l.push({values:[this.getHeader("totalLastQtrH",this.tc("totalLastQtr")),'<div style="float: right;padding-top:10px;padding-bottom:5px;"><span style="color:#000000;padding-right:5px;" >'+(t.lqIsIn?t.lqCompensation.total.format():this.tc("common:na"))+"</span></div>","",""]}),r.updateProductivity&&l.push({tdstyle:"border-top:1px solid rgba(132,144,147,0.5)",values:[this.getHeader("productivityH",this.tc("projectedProductivity")),'<div style="float: right;">'+this.com("iedit",this.getName("productivity"),e.productivity,{size:4,"aria-labelledby":this.getName("productivityH")})+"</div>","",""]},{values:[this.getHeader("",this.tc("actualProductivity")),'<div style="float: right;padding-top:10px;padding-bottom:5px;"><span style="color:#000000;padding-right:5px;">'+(t.lqIsIn?Format.number(t.productivity,2):this.tc("common:na"))+"</span></div>","",""]}),new SceneTable(this.tc("compensationPlan")+" - "+t.regionName,this.getName("compTable"),o,l,"silverSimple","padding-bottom:4px;padding-top:4px;position:relative;z-index:97;border-spacing: 0;width:100%;","")},getGraph:function(t){var e=t.compensation;return'<div style="display:inline-flex;position:relative;width:100%; margin-top:10px;" >'+this.getGraphComponent(e.salary,e.total,"salary","Blue",this.tc("totalSalaryCost"),"salImg")+this.getGraphComponent(e.healthInsurance,e.total,"healthInsurance","Red",this.tc("totalInsuranceCost"),"insImg")+this.getGraphComponent(e.vacation,e.total,"vacation","Yellow",this.tc("totalVacationCost"),"vacImg")+this.getGraphComponent(e.pension,e.total,"pension","Gray",this.tc("totalPensionCost"),"penImg")+"</div>"},draw:function(){var t=this,e="";return this.wcTables=[],this.getRegionIterator(this.data.decisions,this.data.calculate)((function(i,s,a,n){t.suffix=i;var r=t.getCompensationTable(s,a,n);t.wcTables.push(r),e+='<div style="position: relative; margin-top: 2%; width: 95.5%; margin-left: 2%; margin-right: auto;">'+r.draw()+t.getGraph(n)+"</div>"})),""==e?this.drawEmpty():e},onModifyScene:function(){j$("select.edit-class").css({color:"#000000"})},onSaveScene:function(){j$("select.edit-class").css({color:"#757575"})},onCancelScene:function(){j$("select.edit-class").css({color:"#757575"})},observe:function(){var t=this;if(null==this.emptyLabel){j$(".edit-class").css({padding:"1px"}),j$(".edit-class-disabled").css({border:"1px solid #AAAAAA",padding:"2px",color:"#757575",float:"left","margin-right":"5px"});var e={"background-color":"#FFFFFF","border-radius":"3px",border:"1px solid #AAAAAA",float:"left","margin-right":"5px",paddingLeft:"2px",color:"#757575"};this.getRegionIterator()((function(i){t.suffix=i;var s=j$("#"+t.getName("healthInsurance")),a=j$("#"+t.getName("vacation"));e.width=Math.max(s.width(),a.width())+4,s.css(e),a.css(e)})),this.observeEdits()}else this.observeEmpty()}})},31272:()=>{window.SearchEngineMarketing=Decision.extend({style:"padding: 10px 10px 0px 10px;",modifyModeButtons:["save","cancel"],read:function(){var t,e,i,s,a,n=this.data.decisions.regions,r=n.length;for(t=0;t<r;++t)if((e=n[t]).ads)for(i=0,s=e.ads.length;i<s;++i)(a=e.ads[i]).budget=this.value("budg_"+e.regionID+"_"+a.adID),a.maxBid=this.value("mbid_"+e.regionID+"_"+a.adID)},write:function(){var t,e,i,s,a,n,r=this.data.decisions.regions,o=r.length,l=this.data.staticData.regions.toLookUp("regionID"),d=this.data.dynamicData.ads.toLookUp("adID");for(t=0;t<o;++t)if((e=r[t]).ads)for(s=0,a=e.ads.length;s<a;++s)n=e.ads[s],this.setValue("budg_"+e.regionID+"_"+n.adID,n.budget),this.setValue("mbid_"+e.regionID+"_"+n.adID,n.maxBid),i=l[e.regionID].keywords.toLookUp("keywordID"),this.setValue("mibid_"+e.regionID+"_"+n.adID,Number(i[d[n.adID].keywordID].maxBid).format(2));null!=this.copyDD&&this.copyDD.hide()},writeErrors:function(){var t,e,i,s,a,n=this.data.errors.decisions.regions,r=n.length;for(t=0;t<r;++t)if(e=n[t],this.writeError("reg_"+e.regionID,e.general,"top right",!1,-3),e.ads)for(i=0,s=e.ads.length;i<s;++i)a=e.ads[i],this.writeError("mbid_"+e.regionID+"_"+a.adID,a.maxBid,"center left",!0),this.writeError("budg_"+e.regionID+"_"+a.adID,a.budget,"center left",!0)},writeCalculate:function(){var t=this.data.calculate;j$("#searchEngineMarketingTotal").html(Number(t.totalBudget).format())},draw:function(t){t=t||!1;var e,i,s,a,n,r,o,l,d,c,h,p,u,g,m,b,f,v,y=this.data.staticData,w=this.data.decisions.regions,D=y.regions.toLookUp("regionID"),_=this.data.dynamicData,I=[],x="",T="",C=[{align:"right"}],L=[],S=!1;for(h=0,p=w.length;h<p;++h)u=D[w[h].regionID],C.push({align:"center"});for(this.semTables=[],s=0,a=y.keywords.length;s<a;s++){for(e=y.keywords[s],L=[],l=[],f=!1,r=0,o=_.ads.length;r<o;r++)if((g=_.ads[r]).keywordID==e.id){for(m=["<b>"+this.tc("max_bid")+"</b>"],b=["<b>"+this.tc("budget")+"</b>"],v=!1,h=0,p=w.length;h<p;++h)u=D[w[h].regionID],void 0!==(d=w[h].ads.toLookUp("adID"))[g.adID]?(f=!0,v=!0,S=!0,m.push(this.com("fedit","mbid_"+w[h].regionID+"_"+g.adID,d[g.adID].maxBid,{size:4},2)),b.push(this.com("iedit","budg_"+w[h].regionID+"_"+g.adID,d[g.adID].budget,{size:4}))):(m.push(""),b.push(""));v&&(l.push({title:'<div id="da_'+_.ads[r].adID+'" style="text-align:left;">'+g.adName.escapeHTML()+'<span id="semExp_'+_.ads[r].adID+'" style="margin-left: 5px;text-transform: none; font-size: 0.9em;"></span></div>'}),l.push(m),l.push(b))}if(f){for(c='<img src="'+Path.getPath(this.st("common:segmentsFolder"),e.shortName.toLowerCase(),".png")+'" alt="" style="vertical-align:middle;margin-right: 5px; width:30px; height:30px;"/><span style="vertical-align:middle;font-size:1.1em;">'+this.tc("keywords_targeted",{SEGMENT:e.name})+"<span>",n=[{title:'<div style="text-align:right;">'+this.tc("industry_max_bid")+"</div>",rowspan:2}],I=[],h=0,p=w.length;h<p;++h)i=(u=D[w[h].regionID]).keywords.toLookUp("keywordID"),n.push({title:'<div style="text-align:center;">'+u.regionName+"</div>"}),I.push({title:'<div style="text-align:center;">'+i[e.id].maxBid+"</div>"});L.push({cols:n,type:"head"}),L.push({cols:I,type:"head"}),L=L.concat(l),table=new DecisionTable(c,"semTable_"+e.id,C,L,!0),t&&(table.tableCorners=""),x+=table.draw(),this.semTables.push(table)}}return S&&0!=_.ads.length?(this.emptyLabel=null,this.rmLabel=new DecisionLabel(this.service,"rmLabel",this.tc("total",{TOTAL:'<span id="searchEngineMarketingTotal">'+Number(this.data.calculate.totalBudget).format()+"</span>"})),t&&(this.rmLabel.labelCorners=""),x+this.rmLabel.draw()):(this.viewModeButtons=[],this.modifyModeButtons=[],S||(T+=this.tc("common:noWebPages")),this.emptyLabel=new DecisionLabel(this.service,"emptyLabel",T,"","blue"),this.emptyLabel.draw())},observe:function(){if(null==this.emptyLabel){var t,e,s,a,n,r,o,l,d,c,h=this.data.staticData,p=this.data.dynamicData,u=this.data.decisions,g=u.regions.toLookUp("regionID"),m=u.regions,b=h.regions.toLookUp("regionID"),f=p.webActive.toLookUp("regionID"),v=this.data.staticData.keywords.toLookUp("id");for(s=0,a=h.regions.length;s<a;s++)if(void 0!==f[(n=h.regions[s]).regionID]&&n.isIn)for(o=g[n.regionID].ads.length,r=0;r<o;++r)l=g[n.regionID].ads[r],this.bindCalculate("mbid_"+n.regionID+"_"+l.adID,"keyup",!0),this.bindCalculate("budg_"+n.regionID+"_"+l.adID,"keyup",!0);for(r=0,o=p.ads.length;r<o;++r){for(t=p.ads[r],e=!1,s=0,a=m.length;s<a;++s)(n=b[m[s].regionID]).isIn&&void 0!==m[s].ads.toLookUp("adID")[t.adID]&&(e=!0);if(e){for(cntnt="<ul>",i=0,il=t.content.length;i<il;i++)cntnt+="<li>"+t.content[i]+"</li>";for(cntnt+="</ul>",kwds="<ul>",k=0,kl=v[t.keywordID].keywords.length;k<kl;k++)kwd=v[t.keywordID].keywords[k],kwds+="<li>"+kwd+"</li>";kwds+="</ul>",exp=new DropDownStaticExplanation("semExp_"+t.adID,this.tc("adDetails"),this.tc("searchAdPreviewPane")+cntnt+this.tc("keywordsPane")+kwds,"","explanation-white",this.contentElement),exp.useContentElement=!0}}for(d=0,c=this.semTables.length;d<c;d++)this.semTables[d].observe();DecisionTable.setMaxColWidths(this.semTables,0),this.rmLabel.observe(),this.rmLabel.change("float","left")}else this.emptyLabel.observe(),this.emptyLabel.change("float","left")},destroy:function(){j$(".ddm-keyword").remove(),this._super()},drawSOD:function(){var t=this.draw(!0);null==this.emptyLabel?(this.setValue(this.pfxSod+this.service,t),this.rmLabel.change("float","left"),this.disable()):this.setValue(this.pfxSod+this.service,"")}})},97244:(t,e,i)=>{"use strict";i(31272),window.SearchEngineMarketingAnim=SearchEngineMarketing.extend({style:"width: 100%; padding-top: 10px;",modifyModeButtons:["save","cancel"],regionMaps:[],regionOutlines:[],initialize:function(){this.rmTables=[],this._super("SearchEngineMarketing")},write:function(){var t,e,i,s,a,n=this.data.decisions.regions,r=n.length;for(t=0;t<r;++t)if((e=n[t]).ads)for(i=0,s=e.ads.length;i<s;++i)a=e.ads[i],this.setValue("mbid_"+e.regionID+"_"+a.adID,a.maxBid),this.setValue("budg_"+e.regionID+"_"+a.adID,a.budget);null!=this.copyDD&&this.copyDD.hide(),this.refreshActiveAds()},writeCalculate:function(){this._super(),this.lastID&&this.setImagesRightPane(this.lastID)},writeErrors:function(){var t,e,i,s,a,n=this.data.errors.decisions.regions,r=n.length;for(t=0;t<r;++t)if(e=n[t],this.writeError("reg_"+e.regionID,e.general,"top right",!1,-3),e.ads)for(i=0,s=e.ads.length;i<s;++i)a=e.ads[i],this.writeError("mbid_"+e.regionID+"_"+a.adID,a.maxBid),this.writeError("budg_"+e.regionID+"_"+a.adID,a.budget)},positionArrow:function(t,e,i){this.rparrow&&t?(this.rparrow.show(),this.rparrow.css({top:e+"px",height:i+"px"})):this.rparrow.hide()},refreshActiveAds:function(){var t,e,i,s,a,n,r,o=this.data.staticData,l=this.data.decisions.regions,d=o.regions.toLookUp("regionID"),c=this.data.dynamicData;for(i=0,s=c.ads.length;i<s;i++){for(a=c.ads[i],r=!1,t=0,e=l.length;t<e;++t)d[l[t].regionID],void 0!==(n=l[t].ads.toLookUp("adID"))[a.adID]&&n[a.adID].budget>0&&(r=!0);r?j$("#da_"+a.adID).toggleClass("active",!0):j$("#da_"+a.adID).toggleClass("active",!1)}},setImagesRightPane:function(t){var e,i,s,a,n,r,o,l,d=this.data.dynamicData.ads.toLookUp("adID"),c=this.data.decisions,h=this.data.staticData.keywords.toLookUp("id"),p=d[t].keywordID,u="",g=!1;for(this.webpageActive.show(),s=0,a=h[p].keywords.length;s<a;s++)n=h[p].keywords[s],0==s?this.rightPaneKeywordsBarTxt.html(n):(u+='<div class="rightPaneKeywordsInside">',u+=n,u+="</div>");for(e=0,i=c.regions.length;e<i;e++){for(c.regions[e].ads.toLookUp("adID"),l=!1,r=0,o=c.regions[e].ads.length;r<o;r++)c.regions[e].ads[r].adID==t&&c.regions[e].ads[r].budget>0&&(g=!0,l=!0);l?(this.regionOutlines[c.regions[e].regionID].hide(),this.regionMaps[c.regions[e].regionID].show()):(this.regionOutlines[c.regions[e].regionID].show(),this.regionMaps[c.regions[e].regionID].hide())}g?(this.rightPaneKeywordsBarDD.show(),this.rightPaneKeywordsBarDD.html(u),this.rightPaneKeywordsBar.toggleClass("active",!0),this.rightPaneKeywordsBtn.toggleClass("active",!0),this.rightPaneKeywordsBtnImg.attr("src",this.st("btnActKw")),this.changeWebPreview(t)):(this.rightPaneKeywordsBarDD.hide(),this.rightPaneKeywordsBarDD.html(""),this.rightPaneKeywordsBarTxt.html(""),this.rightPaneKeywordsBar.toggleClass("active",!1),this.rightPaneKeywordsBtn.toggleClass("active",!1),this.rightPaneKeywordsBtnImg.attr("src",this.st("btnNoKw")),this.webpage.html("").hide(),this.webpageActive.hide(),this.webpageTitle.hide())},changeWebPreview:function(t){var e,i,s,a,n=this.data.dynamicData.ads.toLookUp("adID"),r=0,o="";for(this.webpageTitle.show(),this.webpage.html("").show(),i=0,s=(e=n[t]).content.length-1;i<s;i++){switch(++r){case 1:o=j$('<div class="semHeaderTitle">'+Format.smartTrim(e.content[i],50)+"</div>");break;case 2:o=j$('<div class="semBodyTitle">'+Format.smartTrim(e.content[i],60)+"</div>");break;case 3:o=j$('<div class="semNoteTitle">'+e.content[i]+"</div>")}this.webpage.append(o)}a=j$('<div class="semHrefTitle">'+e.content[e.content.length-1]+"</div>"),this.webpage.append(a)},hoverRow:function(t){j$(".daRow_"+t).toggleClass("hoverRowSEM",!0)},deHoverRow:function(t){j$(".daRow_"+t).toggleClass("hoverRowSEM",!1)},activateRow:function(t,e){e.stopPropagation(),this.lastID=t,this.lastRows&&this.lastRows.toggleClass("activeRowSEM",!1),this.lastRows=j$(".daRow_"+t),this.lastRows.toggleClass("activeRowSEM",!0),this.webpageTitle.show(),this.positionArrow(!0,j$(this.lastRows[1]).position().top,this.lastRows.outerHeight()),this.setImagesRightPane(t)},onModifyScene:function(){this.activateRightPane()},onCancelScene:function(){this.deactivateRightPane()},onSaveScene:function(){this.deactivateRightPane()},activateRightPane:function(){this.rightPaneContentWrap.toggleClass("dimmed",!1)},deactivateRightPane:function(){this.rightPaneContentWrap.toggleClass("dimmed",!0),this.rightPaneWebpage.attr("src",this.st("webpageDisabled"))},initRightPane:function(){var t,e,i,s=this.data.staticData;for(this.rightPane=j$('<div id="rightPane" class="rightPane"></div>'),this.rparrow=j$('<div style="display:none;background-image:url('+this.st("common:arrowLight")+');" id="rightPaneArrow" class="rightPaneArrowRight"></div>'),this.rightPaneContentWrap=j$('<div id="rightPaneContentWrap" class="rightPaneContentWrap dimmed"></div>'),this.rightPane.append(this.rightPaneContentWrap),this.decisionContent.append(this.rightPane),this.decisionContent.append(this.rparrow),this.rightPaneWebpageWrapper=j$('<div id="rightPaneWebpages" class="rightPaneWebpages"></div>'),this.rightPaneWebpage=j$('<img src="'+this.st("webpageDisabled")+'" id="rightPaneWebpage" class="rightPaneImg" alt=""/>'),this.webpageActive=j$('<div id="webpageActive" class="webpageSEMActive rightPaneInside"></div>'),this.webpageBox=j$('<div id="webpageBox" class="rightPaneInside rightPaneSEM"></div>'),this.webpageWrap=j$('<div id="webpageWrap" class="rightPaneSEMInside"></div>'),this.webpage=j$('<div id="webpage" class="rightPaneSEMwebpage"></div>'),this.webpageTitle=j$('<div id="webpageTitle" class="webpageTitle" style="display:none;">'+this.tc("ad")+"</div>"),this.webpageWrap.append(this.webpage),this.webpageBox.append(this.webpageWrap),this.rightPaneWebpageWrapper.append(this.webpageTitle),this.rightPaneWebpageWrapper.append(this.webpageBox),this.rightPaneWebpageWrapper.append(this.webpageActive),this.rightPaneWebpageWrapper.append(this.rightPaneWebpage),this.rightPaneKeywords=j$('<div id="rightPaneKeywords" class="rightPaneImg rightPaneKeywords"></div>'),this.rightPaneKeywordsBar=j$('<div id="rightPaneKeywordsBar" class="rightPaneKeywordsBar"></div>'),this.rightPaneKeywordsBtn=j$('<div id="rightPaneKeywordsBtn" class="rightPaneKeywordsBtn"></div>'),this.rightPaneKeywordsCurs=j$('<div id="rightPaneKeywordsCurs" class="rightPaneKeywordsCurs"></div>'),this.rightPaneKeywordsBarTxt=j$('<div id="rightPaneKeywordsBarTxt" class="rightPaneKeywordsInside rightPaneKeywordsBarTxt"></div>'),this.rightPaneKeywordsBarDD=j$('<div id="rightPaneKeywordsBarDD" style="display:none;background-image:url('+this.st("kwDD")+');" class="rightPaneKeywordsBarDD"></div>'),this.rightPaneKeywordsBar.append(this.rightPaneKeywordsBarTxt),this.rightPaneKeywordsBar.append(this.rightPaneKeywordsCurs),this.rightPaneKeywordsBtnImg=j$('<img src="'+this.st("btnNoKw")+'" id="rightPaneKeywordsBtnImg" class="rightPaneKeywordsBtnImg" alt=""></div>'),this.rightPaneKeywordsBtn.append(this.rightPaneKeywordsBtnImg),this.rightPaneKeywords.append(this.rightPaneKeywordsBar),this.rightPaneKeywords.append(this.rightPaneKeywordsBtn),this.rightPaneKeywords.append('<div style="clear:both;"></div>'),this.rightPaneKeywords.append(this.rightPaneKeywordsBarDD),this.rightPaneRegionsWrapper=j$('<div id="rightPaneRegions" class="rightPaneRegions"></div>'),this.rightPaneBoxWebpage=j$('<div id="webpageBox" class="rightPaneBox"></div>'),this.rightPaneBoxWebpage.append('<div class="rightPaneText">'+this.tc("searchAdPreviewPane")+"</div>"),this.rightPaneBoxWebpage.append(this.rightPaneWebpageWrapper),this.rightPaneBoxKeywords=j$('<div id="keywordsBox" class="rightPaneBox"></div>'),this.rightPaneBoxKeywords.append('<div class="rightPaneText">'+this.tc("keywordsPane")+"</div>"),this.rightPaneBoxKeywords.append(this.rightPaneKeywords),this.rightPaneBoxRegions=j$('<div id="regionsBox" class="rightPaneBox"></div>'),this.rightPaneBoxRegions.append('<div class="rightPaneText">'+this.tc("regionsPane")+"</div>"),this.rightPaneBoxRegions.append(this.rightPaneRegionsWrapper),this.rightPaneContentWrap.append(this.rightPaneBoxWebpage),this.rightPaneContentWrap.append(this.rightPaneBoxKeywords),this.rightPaneContentWrap.append(this.rightPaneBoxRegions),t=0,e=s.regions.length;t<e;t++)i=s.regions[t],this.regionOutlines[i.regionID]=j$('<img src="'+this.st("mapsOutline_"+e+"r"+i.regionID)+'" id="mapOutline_'+i.regionID+'" class="rightPaneInside rightPaneMap"  alt=""/>'),this.rightPaneRegionsWrapper.append(this.regionOutlines[i.regionID]),this.regionOutlines[i.regionID].show(),i.isIn&&(this.regionMaps[i.regionID]=j$('<img src="'+this.st("maps_"+e+"r"+i.regionID)+'" id="map_'+i.regionID+'" class="rightPaneInside" style="z-index:55" alt="" />'),this.rightPaneRegionsWrapper.append(this.regionMaps[i.regionID]));this.rightPane.attr("aria-hidden",!0).attr("role","presentation")},draw:function(t){t=t||!1;var e,i,s,a,n,r,o,l,d,c,h,p,u,g,m,b,f,v,y,w=this.data.staticData,D=this.data.decisions.regions,_=w.regions.toLookUp("regionID"),I=this.data.dynamicData,x=[],T="",C=[{align:"right"}],L=[],S="";for(c=0,h=D.length;c<h;++c)p=_[D[c].regionID],C.push({align:"center"});for(s=0,a=w.keywords.length;s<a;s++){for(L=[],e=w.keywords[s],l=[],b=!1,r=0,o=I.ads.length;r<o;r++)if(f=!1,(u=I.ads[r]).keywordID==e.id){for(g=["<b>"+this.tc("max_bid")+"</b>"],m=["<b>"+this.tc("budget")+"</b>"],v=!1,c=0,h=D.length;c<h;++c)p=_[D[c].regionID],void 0!==(d=D[c].ads.toLookUp("adID"))[u.adID]?(b=!0,v=!0,g.push(this.com("fedit","mbid_"+D[c].regionID+"_"+u.adID,d[u.adID].maxBid,{size:4},2)),m.push(this.com("iedit","budg_"+D[c].regionID+"_"+u.adID,d[u.adID].budget,{size:4})),d[u.adID].budget>0&&(f=!0)):(g.push(""),m.push(""));v&&(l.push({title:'<div id="da_'+I.ads[r].adID+'" class="webpContent '+(f?"active":"")+'" style="text-align:left;">'+u.adName.escapeHTML()+'<span id="semExp_'+I.ads[r].adID+'" style="margin-left: 5px;text-transform: none; font-size: 0.9em;"></span></div>'}),l.push(g),l.push(m))}if(b){for(n=[{title:'<div style="text-align:right;">'+this.tc("industry_max_bid")+"</div>",rowspan:2}],x=[],c=0,h=D.length;c<h;++c)i=(p=_[D[c].regionID]).keywords.toLookUp("keywordID"),n.push({title:'<div style="text-align:center;">'+p.regionName+"</div>"}),x.push({title:'<div style="text-align:center;">'+i[e.id].maxBid+"</div>"});L.push({cols:n,type:"head"}),L.push({cols:x,type:"head"}),L=L.concat(l),(y=new DecisionTable('<div id="rmTableHead_'+e.shortName.toLowerCase()+'" class="rmTableHeadSeg">'+this.tc("keywords_targeted",{SEGMENT:e.name})+"</div>","rmTable_"+e.id,C,L,!0)).doHlRows=!1,t&&(y.tableCorners=""),this.rmTables.push(y)}}return 0==this.rmTables.length||0==I.ads.length?(this.viewModeButtons=[],this.modifyModeButtons=[],0==L.length&&(T+=this.tc("common:noWebPages")),this.emptyLabel=new DecisionLabel(this.service,"emptyLabel",T,"","blue"),this.emptyLabel.draw()):(this.emptyLabel=null,this.rmLabel=new DecisionLabel(this.service,"rmLabel",this.tc("total",{TOTAL:'<span id="searchEngineMarketingTotal">'+Number(this.data.calculate.totalBudget).format()+"</span>"})),t&&(this.rmLabel.labelCorners=""),this.rmTables.forEach((function(t){S+=t.draw()})),S+this.rmLabel.draw())},scrollRightPane:function(){this.rightPaneContentWrap.css({"margin-top":this.decision.scrollTop()+"px"})},resize:function(){var t=j$('table[id^="rmTable"]');null==this.emptyLabel&&(this.decisionContent.css({"min-width":t.first().width()+174+"px"}),this.rightPane.css({"min-height":this.decision.height()+"px"}))},destroy:function(){this.scrollEvt&&this.decision.off("scroll",this.scrollEvt),this._super()},drawSegmentImages:function(){var t,e,i,s,a=j$('table[id^="rmTable_"]'),n=j$('[id^="rmTableHead_"]');for(t=0,e=n.length;t<e;t++)i=n[t].id.split("_")[1],s='<div class="tableHeadSegWrapper"><div class="tableHeadSeg"><img src="'+this.st("hsegs_"+i)+'" alt="" style="width: 45px; height: 45px;" /></div></div>',j$(n[t]).append(s),j$(a[t]).parents("div").first().toggleClass("cornersWithTableHeadSeg",!0)},observe:function(){var t,e,i,s,a,n,r,o,l,d,c,h,p,u,g,m=this.data.staticData,b=this.data.dynamicData,f=this.data.decisions.regions,v=m.regions.toLookUp("regionID"),y=this.data.staticData.keywords.toLookUp("id");if(this.decision=j$("#decision"),this.scrollEvt=j$.proxy(this.scrollRightPane,this),this.decision.on("scroll",this.scrollEvt),this.decisionContent=j$("#decision").children().first(),null==this.emptyLabel)for(this.rmTables.forEach((function(t){t.observe()})),this.drawSegmentImages(),DecisionTable.setMaxTableWidths(this.rmTables),j$("[id^=budg_]").addClass("searchAdBB"),j$("[id^=mbid_]").addClass("searchAdBB"),this.rmLabel.observe(),this.rmLabel.change("float","left"),this.initRightPane(),a=0,n=b.ads.length;a<n;a++){for(r=b.ads[a],t=!1,0!=(g=j$("#da_"+r.adID).parent().parent()).length&&(g.toggleClass("daRow_"+r.adID,!0).toggleClass("daRowSEM0",!0).attr("tabindex",10).on("focusin",j$.proxy(this.activateRow,this,r.adID)).hover(j$.proxy(this.hoverRow,this,r.adID),j$.proxy(this.deHoverRow,this,r.adID)),g.next("tr").toggleClass("daRow_"+r.adID,!0).toggleClass("daRowSEM1",!0).attr("tabindex",10).on("focusin",j$.proxy(this.activateRow,this,r.adID)).hover(j$.proxy(this.hoverRow,this,r.adID),j$.proxy(this.deHoverRow,this,r.adID)),g.next("tr").next("tr").toggleClass("daRow_"+r.adID,!0).toggleClass("daRowSEM2",!0).attr("tabindex",10).on("focusin",j$.proxy(this.activateRow,this,r.adID)).hover(j$.proxy(this.hoverRow,this,r.adID),j$.proxy(this.deHoverRow,this,r.adID))),e=0,i=f.length;e<i;++e)s=v[f[e].regionID],void 0!==f[e].ads.toLookUp("adID")[r.adID]&&(t=!0,this.bindCalculate("mbid_"+s.regionID+"_"+r.adID,"keyup",!0),this.bindCalculate("budg_"+s.regionID+"_"+r.adID,"keyup",!0));if(t){for(o="<ul>",l=0,d=r.content.length;l<d;l++)o+="<li>"+r.content[l]+"</li>";for(o+="</ul>",u="<ul>",h=0,p=y[r.keywordID].keywords.length;h<p;h++)u+="<li>"+y[r.keywordID].keywords[h]+"</li>";u+="</ul>",(c=new DropDownStaticExplanation("semExp_"+r.adID,this.tc("adDetails"),this.tc("searchAdPreviewPane")+o+this.tc("keywordsPane")+u,"","explanation-white",this.contentElement)).useContentElement=!0,c.setVisuallyHidden(!0)}}else this.emptyLabel.observe(),this.emptyLabel.change("float","left")}})},22928:()=>{window.SearchEngineMarketingResults=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",draw:function(){var t,e,i,s,a,n=this.data.staticData.regions,r=n.length,o=[],l=(this.data.staticData.segments.toLookUp("segmentID"),this.data.staticData.keywords.toLookUp("id")),d=!0,c=[{title:this.tc("ad")},{title:this.tc("brandAdvertised")},{title:this.tc("keywords"),vline:!0},{title:this.tc("avg_position"),type:"number",decimals:2},{title:this.extc("exp_days_visible","days_visible"),type:"number"},{title:this.extc("exp_impression","impressions"),type:"number"},{title:this.extc("exp_clicks","clicks"),type:"number"},{title:this.extc("exp_ctr","ctr"),type:"number",decimals:2,unit:"%"},{title:this.tc("aj"),type:"number"},{title:this.extc("exp_bid","bid"),type:"number",decimals:2},{title:this.extc("exp_cpc","cpc"),type:"number",decimals:2},{title:this.extc("exp_budget","budget"),type:"number"},{title:this.extc("exp_budget_used","budget_used"),type:"number"}];for(e=0;e<r;++e)if((t=n[e]).adsIn>0){for(o.push({title:'<div id="reg_'+t.regionID+'">'+t.regionName+"</div>",type:"dtitle"},{cols:c,type:"head"}),i=0,s=t.ads.length;i<s;++i)(a=t.ads[i]).maxBid>0&&o.push([a.name.escapeHTML(),Format.brandName(a.brandAdvertised.escapeHTML(),a.brandType),'<div style="white-space:nowrap;">'+l[a.segmentID].name+"</div>",a.avg_position,a.daysVisible,a.impressions,a.clicks,100*a.ctr,a.aj,a.maxBid,a.cpc,a.budget,a.budget_spent]);d=!1}return d?(this.emptyLabel=new DecisionLabel(this.service,"emptyLabel",this.tc("empty"),"","blue"),this.emptyLabel.draw()):(this.emptyLabel=null,this.seEngTable=new DecisionTable("","seEngTable",c,o,!0),this.seEngTable.draw())},observe:function(){null!=this.emptyLabel?(this.emptyLabel.observe(),this.emptyLabel.change("float","left")):this.seEngTable.observe()}})},29281:()=>{window.SellUnwantedInventory=Decision.extend({style:"padding: 10px 10px 0px 10px;",read:function(){var t,e=this.data.decisions.brands,i=e.length;for(t=0;t<i;++t)e[t].sellInventory=this.value("unitsToSell"+e[t].brandID)},write:function(){var t,e=this.data.decisions.brands,i=e.length;for(t=0;t<i;++t)this.setValue("unitsToSell"+e[t].brandID,e[t].sellInventory)},writeErrors:function(){var t,e=this.data.errors.decisions.brands,i=e.length;for(t=0;t<i;++t)this.writeError("unitsToSell"+e[t].brandID,e[t].sellInventory,"center left",!0,3)},writeCalculate:function(){var t,e=this.data.calculate.brands,i=e.length;for(t=0;t<i;++t)this.setValue("price"+e[t].brandID,Number(e[t].totalPrice).formatInt());this.setValue("sellUnwantedTotal",this.tc("totalPrice",{PRICE:Number(this.data.calculate.totalPrice).formatInt()}))},draw:function(t){t=t||!1;var e,i,s,a=this.data.staticData,n=[],r=this.data.decisions.brands.toLookUp("brandID"),o=this.data.calculate.brands.toLookUp("brandID");for(e=0,i=a.brands.length;e<i;++e)s=a.brands[e],n.push([s.brandName.escapeHTML(),s.inventory,s.salvagePrice,this.com("iedit","unitsToSell"+s.brandID,r[s.brandID].sellInventory,{size:6}),'<span id="price'+s.brandID+'">'+Number(o[s.brandID].totalPrice).formatInt()+"</span>"]);return 0==n.length?(this.viewModeButtons=[],this.modifyModeButtons=[],this.emptyLabel=new DecisionLabel(this.service,"emptyLabel",this.tc("zeroInventory"),"","green"),this.emptyLabel.draw()):(this.emptyLabel=null,this.tblInv=new DecisionTable(t?"":this.tc("sellUnwanted"),"tblInv",[{title:this.tc("brand")},{title:this.tc("units"),type:"number"},{title:this.tc("salvagePrice"),type:"number"},{title:this.tc("unitsToSell"),align:"right"},{title:this.tc("price"),align:"right"}],n,!1,"green"),t&&(this.tblInv.tableCorners=""),this.labTotal=new DecisionLabel(this.service,"labTotal",'<span id="sellUnwantedTotal">'+this.tc("totalPrice",{PRICE:Number(this.data.calculate.totalPrice).formatInt()})+"</span>","","green"),t&&(this.labTotal.labelCorners=""),this.tblInv.draw()+this.labTotal.draw())},observe:function(){if(null==this.emptyLabel){var t,e=this.data.decisions.brands,i=e.length;for(t=0;t<i;++t)this.bindCalculate("unitsToSell"+e[t].brandID,"keyup",!0);this.tblInv.observe(),this.labTotal.observe(),this.labTotal.change("float","left")}else this.emptyLabel.observe(),this.emptyLabel.change("float","left")},drawSOD:function(){var t=this.draw(!0);null==this.emptyLabel?0==this.data.calculate.totalPrice?this.setValue(this.pfxSod+this.service,this.tc("noUnwantedInventory")):(this.setValue(this.pfxSod+this.service,t),this.labTotal.change("float","left"),this.disable()):this.setValue(this.pfxSod+this.service,"")}})},86274:(t,e,i)=>{"use strict";i(29281),window.SellUnwantedInventoryAnim=SellUnwantedInventory.extend({style:"",initialize:function(t){this._super("SellUnwantedInventory")},destroy:function(){j$("#decision").css("background-attachment","unset"),this._super()},resize:function(){var t=j$("#decision"),e=t.width()/700;t.children().first().css("height",400*e)},writeErrors:function(){var t,e=this.data.errors.decisions.brands,i=e.length;for(t=0;t<i;++t)this.writeError("unitsToSell"+e[t].brandID,e[t].sellInventory,"center right",!0,3)},draw:function(t){t=t||!1;var e,i,s,a,n=this.data.staticData,r="",o="",l=[],d=0,c=this.data.decisions.brands.toLookUp("brandID"),h=this.data.calculate.brands.toLookUp("brandID"),p=[{title:this.tc("brand")},{title:this.tc("unitsAnim"),type:"number"},{title:this.tc("salvagePriceAnim"),type:"number"},{title:this.tc("unitsToSellAnim"),align:"right"},{title:this.tc("price"),align:"right"}];for(o+='<div id="brands">',i=0,s=n.brands.length;i<s;++i){a=n.brands[i],l.push({values:[Format.brandName(a.brandName.escapeHTML(),a.brandType),a.inventory,a.salvagePrice,this.com("iedit","unitsToSell"+a.brandID,c[a.brandID].sellInventory,{size:6}),'<span id="price'+a.brandID+'">'+Number(h[a.brandID].totalPrice).formatInt()+"</span>"]});var u=a.inventory/50;if(a.inventory/50>12&&(u=12),i<5){if(o+='<div id="brand_'+i+'">',4==i)for(d=1;d<=Math.ceil(u);d++)o+=this.cs.drawComp("img",Path.getDecPath("sellUnwantedInventory","brand"+(i+1)+"_"+d,".png"),"br"+a.brandID+"_"+d,"100%","100%","a",12*i-d,"","","","","","","","");else if(3==i)for(d=1;d<=Math.ceil(u);d++)o+=this.cs.drawComp("img",Path.getDecPath("sellUnwantedInventory","brand"+(i+1)+"_"+d,".png"),"br"+a.brandID+"_"+d,"100%","100%","a",12*(i+4)-d,"","","","","","","","");else for(d=1;d<=Math.ceil(u);d++)o+=this.cs.drawComp("img",Path.getDecPath("sellUnwantedInventory","brand"+(i+1)+"_"+d,".png"),"br"+a.brandID+"_"+d,"100%","100%","a",12*(i+3)-d,"","","","","","","","");o+="</div>"}}if(o+="</div>",o+="",0==l.length)this.viewModeButtons=[],this.modifyModeButtons=[],this.emptyLabel=new DecisionLabel(this.service,"emptyLabel",this.tc("zeroInventory")),o+='<div style="position:absolute;z-index:100;top:1%;left:1%;width:60%;height:50%;">',o+=this.emptyLabel.draw(),o+="</div>";else{this.emptyLabel=null,l.push({values:[null,null,null,null,'<span id="sellUnwantedTotal">'+this.tc("totalPrice",{PRICE:Number(this.data.calculate.totalPrice).formatInt()})+"</span>"],type:"total"});var g=t?"":'<span style="font-size:120%;">'+this.tc("sellUnwanted")+"</span>";this.tblInv=new DecisionTable(g,"tblInv",p,l),o+='<div style="left:1%;top:1%;position:absolute;margin-bottom:3px;padding:3px;z-index:97">',o+=this.tblInv.draw(),o+="</div>"}for(e=this.cs.drawComp("img",Path.getDecPath("sellUnwantedInventory","background",".png"),"bck","100%","","a",2,"","","","","","","",""),d=1;d<6;d++)e+=this.cs.drawComp("img",Path.getDecPath("sellUnwantedInventory","shelf"+d,".png"),"shlf_"+d,"100%","","a",12*(7-d),"","","","","","","","");return o+'<div id="scene" style="position:absolute;width:100%;height:100%;overflow:hidden;">'+(e+=this.cs.drawComp("img",Path.getDecPath("sellUnwantedInventory","frontshelf",".png"),"frsh","100%","","a",90,"","","","","","","",""))+(r+=this.cs.drawComp("img",Path.getDecPath("sellUnwantedInventory","fan.10",".png"),"fan","100%","","a",3,"","","","","","","",""))+"</div>"},changeUnits:function(t,e,i){var s,a=0;for(0!=i&&(a=Math.floor(e/i*12)),s=1;s<=12;s++)j$("#br"+t+"_"+s).css({opacity:"0.4"});for(s=1;s<=12;s++)s<13-a&&j$("#br"+t+"_"+s).css({opacity:"1"})},writeCalculate:function(){var t,e=this.data.calculate.brands,i=e.length,s=this.data.decisions.brands.toLookUp("brandID"),a=this.data.staticData.brands.toLookUp("brandID");for(t=0;t<i;++t)this.setValue("price"+e[t].brandID,Number(e[t].totalPrice).formatInt()),t<5&&this.changeUnits(e[t].brandID,s[e[t].brandID].sellInventory,a[e[t].brandID].inventory);this.setValue("sellUnwantedTotal",this.tc("totalPrice",{PRICE:Number(this.data.calculate.totalPrice).formatInt()}))},observe:function(){if(j$("#decision").css("background-attachment","local"),null==this.emptyLabel){var t,e=this.data.decisions.brands,i=e.length,s=this.data.staticData.brands.toLookUp("brandID");for(t=0;t<i;++t)this.bindCalculate("unitsToSell"+e[t].brandID,"keyup",!0),t<5&&this.changeUnits(e[t].brandID,e[t].sellInventory,s[e[t].brandID].inventory)}else this.emptyLabel.observe(),this.emptyLabel.change("float","left")}})},42268:()=>{window.ShipmentOptions=Decision.extend({style:"padding: 10px 10px 0px 10px;",sendErrors:!1,sendCalculate:!1,viewModeButtons:["calculate"],modifyModeButtons:[],read:function(){var t=this.data.decisions;t.mode=this.value("mode"),t.frequency=this.value("frequency"),t.partnerID=this.value("partnerID"),t.units=this.value("units")},write:function(){var t=this.data.decisions;this.setValue("mode",t.mode),this.setValue("frequency",t.frequency),this.setValue("partnerID",t.partnerID),this.setValue("units",t.units)},writeCalculate:function(){var t,e,i,s,a=this.data.staticData,n=this.data.decisions,r=this.data.calculate.all.toLookUp("mode","frequency");for(this.shipmentResults.change("show"),this.setValue("allUnitsInOrder","("+this.tc("shipmentResultsUnitsInQuarter",{UNITS:Format.integer(n.units)})+")"),t=0;t<a.modes.length;t++)for(e=a.modes[t],i=0;i<a.frequencies.length;i++)s=a.frequencies[i],0==t&&this.setValue("allUnitsPerOrder_"+s,Format.integer(r[e][s].unitsInOrder)),0==i&&(this.setValue("allDeliveryTime_"+e,Format.real(r[e][s].deliveryTime)),j$("#allDeliveryTime_"+e).closest("td").toggleClass("highlightTd",!1)),this.setValue("allCpuShipped_"+e+"_"+s,Format.real(r[e][s].cpuShipped)),j$("#allCpuShipped_"+e+"_"+s).closest("td").toggleClass("highlightTd",!1);j$("#allDeliveryTime_"+this.data.decisions.mode).closest("td").toggleClass("highlightTd",!0),j$("#allCpuShipped_"+this.data.decisions.mode+"_"+this.data.decisions.frequency).closest("td").toggleClass("highlightTd",!0),this.setChartData("graph-holder")},writeErrors:function(){var t=this.data.errors.decisions;this.writeError("mode",t.mode,"center right",!0,3),this.writeError("frequency",t.frequency,"center right",!0,3),this.writeError("partnerID",t.partnerID,"center right",!0,3),this.writeError("units",t.units,"center right",!0,3),this.shipmentResults.change("hide"),j$("#graph-holder").html("")},writeAllErrors:function(){this._super(!0)},draw:function(){var t,e,i,s,a,n=this.data.staticData,r=this.data.dynamicData,o=this.data.decisions,l=n.teams.toLookUp("teamID"),d=n.factoryCities.toLookUp("regionID"),c=[{},{}],h=[];for(e=[],t=0;t<n.modes.length;t++)e.push({value:n.modes[t],label:this.tc("mode_"+n.modes[t])+" - "+this.tc("mode_desc_"+n.modes[t])});for(h.push([this.tcLbl("mode",{},null,"plainHeader","title_mode"),this.com("combobox","mode",o.mode,{"aria-labelledby":"title_mode"},e,"value","label",0,this.tc("mode_0"))]),e=[],t=0;t<n.frequencies.length;t++)e.push({value:n.frequencies[t],label:this.tc("frequency_N",{NUMBER:n.frequencies[t]})});for(h.push([this.tcLbl("frequency",{},null,"plainHeader","title_frequency"),this.com("combobox","frequency",o.frequency,{"aria-labelledby":"title_frequency"},e,"value","label",0,this.tc("frequency_0"))]),e=[],t=0;t<r.partners.length;t++)e.push({value:r.partners[t].partnerID,label:l[r.partners[t].partnerID].companyName.escapeHTML()+" ("+Format.location(d[r.partners[t].factoryRegionID].city,d[r.partners[t].factoryRegionID].region)+")"});for(h.push([this.tcLbl("partner",{},null,"plainHeader","title_partner"),this.com("combobox","partnerID",o.partnerID,{"aria-labelledby":"title_partner"},e,"value","label",0,this.tc("partner_0"))]),h.push([this.tcLbl("units_to_ship_in_qtr",{},null,"plainHeader","title_units"),this.com("iedit","units",o.units,{size:6,"aria-labelledby":"title_units"})]),this.shipmentTable=new DecisionTable(this.tc("shipmentOptions"),"shipmentTable",c,h,!0,"green"),c=[{},{align:"right"}],h=[{cols:[{title:this.tc("shipmentResultsMode"),rowspan:2},{title:this.tc("shipmentResultsDeliveryTime"),rowspan:2},{title:this.tc("shipmentResultsCostPerUnit"),colspan:n.frequencies.length}],type:"head"}],a=[],s=0;s<n.frequencies.length;s++)c.push({align:"right"}),a.push({title:this.tc("shipmentResultsFrequency_N",{NUMBER:n.frequencies[s]})+"<hr />"+this.tc("shipmentResultsUnitsPerOrder",{UNITS:'<span id="allUnitsPerOrder_'+n.frequencies[s]+'"></span>'})});for(h.push({cols:a,type:"head"}),i=0;i<n.modes.length;i++){for(a=[this.tc("mode_"+n.modes[i]),'<span id="allDeliveryTime_'+n.modes[i]+'"></span>'],s=0;s<n.frequencies.length;s++)a.push('<span id="allCpuShipped_'+n.modes[i]+"_"+n.frequencies[s]+'"></span>');h.push(a)}return this.shipmentResults=new DecisionTable(this.tc("shipmentResults")+' <span id="allUnitsInOrder"></span>',"shipmentResults",c,h,!0,"green"),this.shipmentTable.draw()+this.shipmentResults.draw()+'<div id="graph-holder"></div><style>.highlightTd{color:#0053dc; font-weight:bold;}</style>'},observe:function(){this.shipmentTable.observe(),this.shipmentResults.observe(),this.shipmentResults.change("hide"),j$("#graph-holder").html(""),this.enable(),j$("#graph-holder").css({position:"relative",margin:"auto",width:"450px",opacity:Live.opacity})},setChartData:function(t){var e,i,s,a,n,r=this.data.calculate.graph,o=0;for((s=r.data.length)>0&&(o=r.data[0].x.length),j$("#"+t).css({height:s*o*11+90+"px"}),j$("#"+t).html(""),"undefined"!=typeof Engine&&Engine.areas.body.resizeContent(),(e=new VerticalBarChart(j$("#"+t)[0])).minX=0,e.minY=0,e.yLines=[this.data.staticData.maxDays],e.style.yLinesColor=[255,0,0],e.conditionalYLines=!0,e.label=r.title,e.legend=r.showLegend,e.labelX=r.x,e.labelY=r.y,e.labels=[],e.showValues=!1,e.data=[],e.category=[],n=0;n<o;n++)e.labels[n]="",e.data[n]=[];for(i=0;i<s;++i)for(a=r.data[i],n=0;n<o;++n)e.data[n][i]=a.y[n],e.category[i]=Number(a.x[n]);e.draw()}})},14630:()=>{window.ShortTermLoan=Decision.extend({style:"padding: 10px 10px 0px 10px;",read:function(){var t=this.data.decisions;t.borrow=this.value("borrow"),t.repay=this.value("repay")},write:function(){var t=this.data.decisions;this.setValue("borrow",t.borrow),this.setValue("repay",t.repay)},writeErrors:function(){var t=this.data.errors.decisions;this.writeError("borrow",t.borrow,"center left",!0,3),this.writeError("repay",t.repay,"center left",!0,3)},writeCalculate:function(){var t=this.data.calculate;this.setValue("loanThisQtr",Number(t.shortTermLoan).formatInt()),this.setValue("annualRate",Number(t.annualRate).formatFloat()),this.setValue("quarterlyRate",Number(t.quarterlyRate).formatFloat()),this.setValue("quarterlyCharge",Number(t.interest).formatInt())},draw:function(t){t=t||!1;var e=this.data.staticData,i=this.data.dynamicData,s=this.data.decisions,a=this.data.calculate,n=[];return t||(n.push([this.tc("debtCapacity"),Number(i.debtCapacity).formatInt()]),n.push([this.tc("debtToDate"),Number(i.debtToDate).formatInt()]),n.push([this.tc("freeToBorrow"),Number(i.freeToBorrow).formatInt()]),n.push({values:[this.tc("loanLastQtr"),Number(e.shortTermLoan).formatInt()],hrafter:!0}),n.push([this.tc("toBorrow"),this.com("iedit","borrow",s.borrow,{size:8})]),n.push({values:[this.tc("toPayBack"),this.com("iedit","repay",s.repay,{size:8})],hrafter:!0})),n.push({values:[this.tc("totalLoans"),'<span id="loanThisQtr">'+Number(a.shortTermLoan).formatInt()+"</span>"],hrafter:!0}),n.push([this.tc("annualRate"),'<span id="annualRate">'+Number(a.annualRate).formatFloat()+"</span>"]),n.push([this.tc("quarterlyRate"),'<span id="quarterlyRate">'+Number(a.quarterlyRate).formatFloat()+"</span>"]),n.push([this.tc("quarterlyCharge"),'<span id="quarterlyCharge">'+Number(a.interest).formatInt()+"</span>"]),this.tblLoan=new DecisionTable(t?"":this.tc("bankLoan"),"tblLoan",[{title:""},{title:"",align:"right"}],n,!0,"concrete"),t&&(this.tblLoan.tableCorners=""),this.tblLoan.draw()},observe:function(){this.bindCalculate("borrow","keyup",!0),this.bindCalculate("repay","keyup",!0),this.tblLoan.observe()},drawSOD:function(){Number(this.data.calculate.shortTermLoan)>0?this.setValue(this.pfxSod+this.service,this.draw(!0)):this.setValue(this.pfxSod+this.service,this.tc("noShortTermLoans"))}})},95319:(t,e,i)=>{"use strict";i(14630),window.ShortTermLoanAnim=ShortTermLoan.extend({tableHrCol:"rgba(255,255,255, 0.5)",style:"width:100%;overflow:hidden;",initialize:function(t){this._super("ShortTermLoan")},resize:function(){var t=j$("#decision"),e=t.width()/700;t.children().first().css("height",400*e)},writeErrors:function(){var t=this.data.errors.decisions;this.writeError("borrow",t.borrow,"center left",!0,3),this.writeError("repay",t.repay,"center left",!0,3),this.writeLoanBar()},writeCalculate:function(){var t=this.data.calculate;this.setValue("loanThisQtr",Number(t.shortTermLoan).formatInt()),this.setValue("annualRate",Number(t.annualRate).formatFloat()),this.setValue("quarterlyRate",Number(t.quarterlyRate).formatFloat()),this.setValue("quarterlyCharge",Number(t.interest).formatInt()),this.setValue("totalLoansNum",Number(t.shortTermLoan).formatInt()),this.writeLoanBar()},writeLoanBar:function(){var t,e=this.data.staticData,i=this.data.decisions,s=(this.data.calculate,this.data.dynamicData);j$("#loanHi").finish(),(e.shortTermLoan+Number(i.borrow))/s.debtCapacity>1?j$("#loanHi").css({opacity:1}):j$("#loanHi").css({opacity:0}),t=(e.shortTermLoan+Number(i.borrow))/s.debtCapacity*10,(t=Math.ceil(t))<1?j$("#loan").css({opacity:0}):t<=10?(j$("#loan").attr("src",Path.getDecPath("shortTermLoan","bankloan"+t,".png")),j$("#loan").css({opacity:1})):(j$("#loanHi").effect("pulsate",{times:4,duration:3e3}),j$("#loan").attr("src",Path.getDecPath("shortTermLoan","bankloan10",".png")),j$("#loan").css({opacity:1}))},draw:function(t){t=t||!1;var e="",i=this.data.staticData,s=this.data.dynamicData,a=this.data.decisions,n=this.data.calculate,r=[];return t||(r.push([this.tc("debtCapacity"),Number(s.debtCapacity).formatInt()]),r.push([this.tc("debtToDate"),Number(s.debtToDate).formatInt()]),r.push([this.tc("freeToBorrow"),Number(s.freeToBorrow).formatInt()]),r.push({values:[this.tc("loanLastQtr"),Number(i.shortTermLoan).formatInt()],hrafter:!0}),r.push([this.tcLbl("toBorrow",{},null,"plainHeader","borrowHead"),this.com("iedit","borrow",a.borrow,{size:8,"aria-labelledby":"borrowHead"})]),r.push({values:[this.tcLbl("toPayBack",{},null,"plainHeader","payBackHead"),this.com("iedit","repay",a.repay,{size:8,"aria-labelledby":"payBackHead"})],hrafter:!0})),r.push({values:[this.tc("totalLoans"),'<span id="loanThisQtr">'+Number(n.shortTermLoan).formatInt()+"</span>"],hrafter:!0}),r.push([this.tc("annualRate"),'<span id="annualRate">'+Number(n.annualRate).formatFloat()+"</span>"]),r.push([this.tc("quarterlyRate"),'<span id="quarterlyRate">'+Number(n.quarterlyRate).formatFloat()+"</span>"]),r.push([this.tc("quarterlyCharge"),'<span id="quarterlyCharge">'+Number(n.interest).formatInt()+"</span>"]),this.tblLoan=new DecisionTable(t?"":this.tc("bankLoan"),"tblLoan",[{title:""},{title:"",align:"right"}],r,!1,"concrete"),t&&(this.tblLoan.tableCorners=""),this.tblLoan.hideTitle=!0,e+=this.cs.drawComp("img",Path.getDecPath("shortTermLoan","bankloan10",".png"),"loan","100%","","a",5,"","","","",0,"","",""),e+=this.cs.drawComp("img",Path.getDecPath("shortTermLoan","bankloanHigh",".png"),"loanHi","100%","","a",4,"","","","",0,"","",""),e+=this.cs.drawComp("label",this.tc("topFreeToBorrow"),"freeBorrow","20%","","a",10,"1%","9%","","",1,"limeText bold","white-space: nowrap;"),e+=this.cs.drawComp("div",Number(s.freeToBorrow).formatInt(),"freeBorrowNum","24%","","a",10,"6%","8%","","",1,"limeText bold","white-space: nowrap;text-align:center;"),e+=this.cs.drawComp("label",this.tc("totalLoans"),"totalLoans","20%","","a",10,"","7%","8%","",1,"limeText bold","white-space: nowrap;"),e+=this.cs.drawComp("div",Number(n.shortTermLoan).formatInt(),"totalLoansNum","24%","","a",10,"","7%","13%","",1,"limeText bold","white-space: nowrap;text-align:center;"),(e+=this.cs.drawComp("img",Path.getDecPath("shortTermLoan","bankloan10",".png"),"bck","100%","","a",1,"","","","",.4,"","",""))+this.tblLoan.draw()},observe:function(){this.writeLoanBar(),this.bindCalculate("borrow","keyup",!0),this.bindCalculate("repay","keyup",!0),this.tblLoan.change("float","right"),this.tblLoan.change("css",{"padding-bottom":"4px","padding-top":"4px",position:"relative","margin-left":"auto","margin-top":"4%","margin-right":"1%","z-index":"97","border-spacing":"0",width:"65%"}),this.tblLoan.observe()}})},35514:(t,e,i)=>{"use strict";i(66406),window.SimpleCashFlow=FinanceReport.extend({stmt:"cashFlow",hideGraphLinks:!0,disableLinks:!0})},32703:()=>{window.SimpleInternetMarketing=Decision.extend({newDomDraw:!0,style:"padding: 10px 188px 0px 10px;",segmentShortNames:["Default","Youth","Workb","Recre","Mount","Speed"],hiddenExpl:!0,read:function(){var t,e,i,s,a,n=this.data.staticData,r=this.data.decisions.regions,o=r.length,l=this.data.decisions.ads;for(t=0;t<o;++t)for(i=0,s=(e=r[t]).ads.length;i<s;++i)(a=e.ads[i]).webActive=this.value("webActive_"+a.adID+"_"+e.regionID),n.smActive&&(a.smActive=this.value("smActive_"+a.adID+"_"+e.regionID)),n.paidActive&&(a.budget=this.value("budg_"+a.adID+"_"+e.regionID));for(i=0,s=l.length;i<s;++i)(a=l[i]).ofKwId=this.value("keyword_"+a.adID+"_"+e.regionID)},write:function(){var t,e,i,s,a,n=this.data.staticData,r=this.data.decisions.regions,o=r.length,l=this.data.decisions.ads;for(t=0;t<o;++t)for(i=0,s=(e=r[t]).ads.length;i<s;++i)a=e.ads[i],this.setValue("webActive_"+a.adID+"_"+e.regionID,a.webActive),n.smActive&&this.setValue("smActive_"+a.adID+"_"+e.regionID,a.smActive),n.paidActive&&this.setValue("budg_"+a.adID+"_"+e.regionID,a.budget);for(i=0,s=l.length;i<s;++i)a=l[i],this.setValue("keyword_"+a.adID+"_"+e.regionID,a.ofKwId);null!=this.copyDD&&this.copyDD.hide()},writeCalculate:function(){var t,e,i,s,a,n,r,o,l=this.data.staticData,d=(this.data.decisions.regions.toLookUp("regionID"),this.data.decisions.ads.toLookUp("adID")),c=(this.data.calculate.adsCost.toLookUp("adID"),this.data.dynamicData);for(this.data.decisions,this.data.staticData.regions.toLookUp("regionID"),s=0,a=l.regions.length;s<a;++s)if(o=(r=l.regions[s]).segments.toLookUp("segmentID"),r.isIn)for(t=0,e=c.ads.length;t<e;++t)n=o[d[(i=c.ads[t]).adID].ofKwId]?Number(o[d[i.adID].ofKwId].avgBudget).format():"",j$("#betw_"+i.adID+"_"+r.regionID).html(n);j$("#simpleInternetMarketingTotal").html(Number(this.data.calculate.totalCost).format()),void 0!==this.lastAdID&&void 0!==this.lastRegID&&void 0!==this.lastBrAdv&&this.setImagesRightPane(this.lastAdID,this.lastRegID,this.lastBrAdv),this.drawExplanations()},writeErrors:function(){var t,e,i,s,a,n=this.data.errors.decisions.regions,r=n.length;for(t=0;t<r;++t)if((e=n[t]).ads)for(i=0,s=e.ads.length;i<s;++i)a=e.ads[i],this.writeError("budg_"+a.adID+"_"+e.regionID,a.budget,"center right",!0),this.writeError("keyword_"+a.adID+"_"+e.regionID,a.ofKwId,"center right",!0)},drawExplanations:function(){var t,e,s,a,n,r,o,l=this.data.staticData,d=this.data.dynamicData,c=l.keywords.toLookUp("id"),h=this.data.decisions.ads.toLookUp("adID");if(this.allExplanations)for(e=0,s=this.allExplanations.length;e<s;e++)this.allExplanations[e].destroy();for(this.allExplanations=[],e=0,s=d.ads.length;e<s;e++){for(o=""==(t=d.ads[e]).brandType?this.tc("companyAd"):Format.brandName(t.brandAdvertised.escapeHTML(),t.brandType),r=this.tc("brandAdvPane")+" "+o,a="<ul>",i=0,il=t.content.length;i<il;i++)a+="<li>"+t.content[i]+"</li>";if(a+="</ul>",n="",h[t.adID].ofKwId>0){for(n=this.tc("keywordsPane")+"<ul>",k=0,kl=c[h[t.adID].ofKwId].keywords.length;k<kl;k++)kwd=c[h[t.adID].ofKwId].keywords[k],n+="<li>"+kwd+"</li>";n+="</ul>"}exp=new DropDownStaticExplanation("wpExp_"+t.adID,this.tc("webContent"),r+"<br /><br />"+this.tc("webpagePane")+a+n,"","explanation-white",this.contentElement),exp.useContentElement=!0,exp.setVisuallyHidden(this.hiddenExpl),this.allExplanations.push(exp)}},draw:function(t,e){e=e||!1;var i,s,a,n,r,o,l,d,c,h,p,u,g,m,b=this.data.staticData,f=this.data.dynamicData,v=this.data.decisions.regions.toLookUp("regionID"),y=this.data.decisions.ads.toLookUp("adID"),w=[],D=[],_=(this.data.staticData.keywords.toLookUp("id"),""),I="",x=[];for(this.isMultiOptions=b.optimizeOptions.length>1,this.activeRegions=[],this.rmTables=[],this.nsTables=[],n=0,r=b.regions.length;n<r;++n)if(D=[],a=b.regions[n],x=[{title:this.tc("ad"),vline:!0},{title:this.tc("kwForSegment")},{title:this.isMultiOptions?this.tc("webActiveQuarterlyCost"):this.tc("webActive",{COST:Number(a.webActiveCost[0].cost).format()}),type:"flag"}],b.smActive&&x.push({title:this.tc("socialMedia",{COST:Number(a.smActiveCost).format()}),type:"flag"}),b.paidActive&&(x.push({title:this.tc("paidAvg"),align:"right"}),x.push({title:this.tc("paid"),align:"right"})),s=a.segments.toLookUp("segmentID"),p=!1,a.isIn){for(i=v[a.regionID].ads.toLookUp("adID"),l=0,d=f.ads.length;l<d;++l)if(o=f.ads[l],!e||i[o.adID].webActive){if(p=!0,c=s[y[o.adID].ofKwId]?Number(s[y[o.adID].ofKwId].avgBudget).format():"",w=['<span id="webpText_'+o.adID+'">'+o.name.escapeHTML()+'</span><span id="wpExp_'+o.adID+'" style="margin-left: 5px; font-size: 0.9em;"></span>',this.com("combobox","keyword_"+o.adID+"_"+a.regionID,y[o.adID].ofKwId,{},b.segments,"segmentID","name",0,this.tc("none"))],this.isMultiOptions){for(webActiveCosts=[],g=0,m=a.webActiveCost.length;g<m;g++)wac=j$.extend({},a.webActiveCost[g]),wac.cost=Format.number(wac.cost),webActiveCosts.push(wac);w.push(this.com("combobox","webActive_"+o.adID+"_"+a.regionID,i[o.adID].webActive,{},webActiveCosts,"id","cost",0,"---"))}else w.push(this.com("checkbox","webActive_"+o.adID+"_"+a.regionID,i[o.adID].webActive));b.smActive&&w.push(this.com("checkbox","smActive_"+o.adID+"_"+a.regionID,i[o.adID].smActive)),b.paidActive&&(w.push('<span id="betw_'+o.adID+"_"+a.regionID+'">'+c+"</span>"),w.push(this.com("iedit","budg_"+o.adID+"_"+a.regionID,i[o.adID].budget,{size:4}))),h=""==o.brandType?this.tc("companyAd"):Format.brandName(o.brandAdvertised.escapeHTML(),o.brandType),D.push({values:w,rowData:{brandAdv:h,adID:o.adID,regionID:a.regionID}})}this.activeRegions.push(a),p&&(u=new DecisionTable(a.regionName,"simpleInetMarketingTable_"+a.regionID,x,D),e&&(u.tableCorners=""),u.doDeselect=!1,u.onSelectRowEvent=j$.proxy(this.onSelRD,this),this.rmTables.push(u),I+=u.draw())}0==this.activeRegions.length||0==f.ads.length?(this.viewModeButtons=[],this.modifyModeButtons=[],0==this.activeRegions.length&&(_+=this.tc("common:noOutlet")),0==f.ads.length&&(_+=(""!=_?"<br />":"")+this.tc("common:noAds")),this.emptyLabel=new DecisionLabel(this.service,"emptyLabel",_,"","blue"),t.append(this.emptyLabel.draw())):(this.emptyLabel=null,e||(this.sidePane=new SidePane(this,this.contentElement,t),this.sidePane.width=178,this.sidePane.draw(),this.sidePane.ariaHide()),this.rmLabel=new DecisionLabel(this.service,"rmLabel",this.tc("total")+': <span id="simpleInternetMarketingTotal">'+this.data.calculate.totalCost.format()+"</span>"),e&&(this.rmLabel.labelCorners=""),t.append(I+this.rmLabel.draw()))},getPicToShort:function(t){return 101==(t=Number(t))?"Tabl":102==t?"Pack":this.segmentShortNames[t]},changeSidePane:function(t){var e,i,s,a=this.data.staticData,n=(this.data.decisions.ads.toLookUp("adID"),a.adFeatures.toLookUp("featureID"),this.data.dynamicData.ads.toLookUp("adID"),this.sidePane.content);this.user.quarter(),t?(i=t.brandAdv,e=t.adID,s=t.regionID,this.lastBrAdv=i,this.lastAdID=e,this.lastRegID=s,this.setImagesRightPane(e,s,i)):(this.rightPaneBoxBrandAdv=j$('<div id="keywordsBox" class="rightPaneBox"></div>'),this.rightPaneBoxBrandAdv.append('<div class="rightPaneText">'+this.tc("brandAdvPane")+"</div>"),this.rightPaneBoxBrandAdv.append(this.rightPaneBrandAdv),this.brandAdvPane=j$('<div id="brandAdvPane" class="rightPaneBrAdv">---</div>'),this.rightPaneBoxBrandAdv.append(this.brandAdvPane),this.rightPaneWebpageWrapper=j$('<div id="rightPaneWebpages" class="rightPaneWebpages"></div>'),this.rightPaneWebpage=j$('<img src="'+this.st("webpageDisabled")+'" id="rightPaneWebpage" class="rightPaneImg" />'),this.webpage=j$('<div id="webpage" class="rightPaneInside webpageInside"></div>'),this.rightPaneWebpageWrapper.append(this.webpage),this.rightPaneWebpageWrapper.append(this.rightPaneWebpage),this.rightPaneKeywords=j$('<div id="rightPaneKeywords" class="rightPaneImg rightPaneKeywords"></div>'),this.rightPaneKeywordsBar=j$('<div id="rightPaneKeywordsBar" class="rightPaneKeywordsBar"></div>'),this.rightPaneKeywordsBtn=j$('<div id="rightPaneKeywordsBtn" class="rightPaneKeywordsBtn"></div>'),this.rightPaneKeywordsCurs=j$('<div id="rightPaneKeywordsCurs" class="rightPaneKeywordsCurs"></div>'),this.rightPaneKeywordsBarTxt=j$('<div id="rightPaneKeywordsBarTxt" class="rightPaneKeywordsInside rightPaneKeywordsBarTxt"></div>'),this.rightPaneKeywordsBarDD=j$('<div id="rightPaneKeywordsBarDD" style="display:none;background-image:url(\''+this.st("kwDD")+'\');" class="rightPaneKeywordsBarDD"></div>'),this.rightPaneKeywordsBar.append(this.rightPaneKeywordsBarTxt),this.rightPaneKeywordsBar.append(this.rightPaneKeywordsCurs),this.rightPaneKeywordsBtnImg=j$('<img src="'+this.st("btnNoKw")+'" id="rightPaneKeywordsBtnImg" class="rightPaneKeywordsBtnImg"></div>'),this.rightPaneKeywordsBtn.append(this.rightPaneKeywordsBtnImg),this.rightPaneKeywords.append(this.rightPaneKeywordsBar),this.rightPaneKeywords.append(this.rightPaneKeywordsBtn),this.rightPaneKeywords.append('<div style="clear:both;"></div>'),this.rightPaneKeywords.append(this.rightPaneKeywordsBarDD),this.rightPaneBoxWebpage=j$('<div id="webpageBox" class="rightPaneBox"></div>'),this.rightPaneBoxWebpage.append('<div class="rightPaneText">'+this.tc("webpagePane")+"</div>"),this.rightPaneBoxWebpage.append(this.rightPaneWebpageWrapper),this.rightPaneBoxKeywords=j$('<div id="keywordsBox" class="rightPaneBox"></div>'),this.rightPaneBoxKeywords.append('<div class="rightPaneText">'+this.tc("keywordsPane")+"</div>"),this.rightPaneBoxKeywords.append(this.rightPaneKeywords),n.append(this.rightPaneBoxBrandAdv),n.append(this.rightPaneBoxKeywords),n.append(this.rightPaneBoxWebpage))},disableRightPaneKW:function(){this.rightPaneKeywordsBarDD.html(""),this.rightPaneKeywordsBarDD.hide(),this.rightPaneKeywordsBarTxt.html(""),this.rightPaneKeywordsBar.toggleClass("active",!1),this.rightPaneKeywordsBtn.toggleClass("active",!1),this.rightPaneKeywordsBtnImg.attr("src",this.st("btnNoKw"))},setImagesRightPane:function(t,e,i){var s,a,n,r=this.value("keyword_"+t+"_"+e),o=(this.data.staticData,this.data.staticData.keywords.toLookUp("id")),l="";if(0==r)this.webpage.hide(),this.disableRightPaneKW();else{for(this.webpage.show(),s=0,a=o[r].keywords.length;s<a;s++)n=o[r].keywords[s],0==s?this.rightPaneKeywordsBarTxt.html(n):(l+='<div class="rightPaneKeywordsInside">',l+=n,l+="</div>");this.rightPaneKeywordsBarDD.show(),this.rightPaneKeywordsBarDD.html(l),this.rightPaneKeywordsBar.toggleClass("active",!0),this.rightPaneKeywordsBtn.toggleClass("active",!0),this.rightPaneKeywordsBtnImg.attr("src",this.st("btnActKw"))}this.brandAdvPane.html(i),this.changeWebPreview(t,r)},changeWebPreview:function(t,e){var i,s,a,n,r,o,l=this.data.staticData,d=(this.data.decisions.ads.toLookUp("adID"),l.adFeatures.toLookUp("featureID")),c=this.data.staticData.keywords.toLookUp("id"),h=[],p=[],u="Default";for(i=this.data.dynamicData.ads.toLookUp("adID")[t],0!=(e=e||0)&&(u=c[e].shortName),s=0,a=Math.min(i.adFeatures.length,3);s<a;s++)1!=(n=i.adFeatures[s]).featureID&&0==d[n.featureID].pictureSegmentID&&(h.push(d[n.featureID].featureName),p.push("text")),1==n.featureID&&(h.push(l.companyName.escapeHTML()+": "+i.brandAdvertised.escapeHTML()),p.push("text")),0!=d[n.featureID].pictureSegmentID&&(h.push(this.getPicToShort(d[n.featureID].pictureSegmentID)),p.push("segmentPic"));for(this.webpage.html(""),"Default"!=u&&(this.webHead=j$('<img src="'+this.st("webBck"+u)+'" id="webBck" class="webBck" />'),this.webpage.append(this.webHead)),this.webOvr=j$('<img src="'+this.st("webOvr")+'" id="webOvr" class="webOvr" />'),this.webpage.append(this.webOvr),r=0,o=h.length;r<o&&r<3;r++)0==r&&"segmentPic"==p[r]&&(this.webTopPic=j$("<div style=\"background-image:url('"+this.st("webArtBig"+h[r])+'\');" class="webTopPic"></div>'),this.webpage.append(this.webTopPic)),0==r&&"text"==p[r]&&(this.webTopTxt=j$('<div id="webTopTxt" class="webTopTxt">'+Format.smartTrim(h[r],50)+"</div>"),this.webTopTxtWrap=j$('<div class="webTopTxtWrap"></div>'),this.webTopTxtWrap.append(this.webTopTxt),this.webpage.append(this.webTopTxtWrap)),1==r&&"segmentPic"==p[r]&&(this.webLPic=j$("<div style=\"background-image:url('"+this.st("webArtSmall"+h[r])+'\');" class="webLPic"></div>'),this.webpage.append(this.webLPic)),1==r&&"text"==p[r]&&"segmentPic"==p[2]&&(this.webLTxt=j$('<div class="webLTxt">'+h[r]+"</div>"),this.webpage.append(this.webLTxt)),1==r&&"text"==p[r]&&"text"==p[2]&&(this.webRTxt=j$('<div class="webLSTxt">'+h[r]+"</div>"),this.webpage.append(this.webRTxt)),2==r&&"segmentPic"==p[r]&&(this.webRPic=j$("<div style=\"background-image:url('"+this.st("webArtSmall"+h[r])+'\');" class="webRPic"></div>'),this.webpage.append(this.webRPic)),2==r&&"text"==p[r]&&"segmentPic"==p[1]&&(this.webRTxt=j$('<div class="webRTxt">'+h[r]+"</div>"),this.webpage.append(this.webRTxt)),2==r&&"text"==p[r]&&"text"==p[1]&&(this.webRTxt=j$('<div class="webRSTxt">'+h[r]+"</div>"),this.webpage.append(this.webRTxt))},onModifyScene:function(){this.sidePane&&this.sidePane.activate()},onCancelScene:function(){this.sidePane&&this.sidePane.deactivate()},onSaveScene:function(){this.sidePane&&this.sidePane.deactivate()},resize:function(){this.sidePane&&this.sidePane.resize(),DecisionTable.setMaxColWidths(this.rmTables,0)},destroy:function(){this.sidePane&&this.sidePane.destroy(),this._super()},onSelRD:function(t,e){this.lastRowData=t,this.changeSidePane(t),e=j$(e),this.sidePane&&this.sidePane.positionArrow(!0,e.position().top,e.outerHeight())},observe:function(){var t,e,i,s,a,n,r,o,l=this.data.staticData,d=this.data.dynamicData,c=this.data.decisions.regions.toLookUp("regionID");if(null!=this.emptyLabel)this.emptyLabel.observe(),this.emptyLabel.change("float","left");else{for(r=0,o=this.rmTables.length;r<o;r++)this.rmTables[r].observe();for(this.rmLabel.observe(),this.rmLabel.change("float","left"),t=0,e=l.regions.length;t<e;++t)if((i=l.regions[t]).isIn)for(c[i.regionID].ads.toLookUp("adID"),s=0,a=d.ads.length;s<a;++s)n=d.ads[s],j$("#keyword_"+n.adID+"_"+i.regionID).on("change",this.onChangeKeyword.bind(this,i.regionID,n.adID)),j$("#webActive_"+n.adID+"_"+i.regionID).on("change",this.onChangeWebActive.bind(this,i.regionID,n.adID)),this.bindCalculate("webActive_"+n.adID+"_"+i.regionID,"change"),this.bindCalculate("keyword_"+n.adID+"_"+i.regionID,"change"),l.smActive&&this.bindCalculate("smActive_"+n.adID+"_"+i.regionID,"change"),l.paidActive&&this.bindCalculate("budg_"+n.adID+"_"+i.regionID,"keyup",!0);this.changeSidePane(),this.drawExplanations()}},enable:function(){this._super();var t,e,i,s,a,n,r=this.data.staticData,o=this.data.decisions.regions.toLookUp("regionID"),l=r.regions,d=l.length;for(e=0;e<d;e++)if((i=l[e]).isIn)for(s=0,a=(t=o[i.regionID]).ads.length;s<a;s++)n=t.ads[s],this.onChangeKeyword(i.regionID,n.adID),this.onChangeWebActive(i.regionID,n.adID);this.calculate()},onChangeKeyword:function(t,e){var i=this.data.staticData,s=!1;j$("#keyword_"+e+"_"+t).val()>0?(s=!1,(!this.isMultiOptions||this.isMultiOptions&&0==this.value("webActive_"+e+"_"+t))&&this.setValue("webActive_"+e+"_"+t,1),this.onChangeWebActive(t,e)):(s=!0,this.setValue("webActive_"+e+"_"+t,0),this.setValue("smActive_"+e+"_"+t,0),i.paidActive&&this.setValue("budg_"+e+"_"+t,0),j$("#smActive_"+e+"_"+t).prop("disabled",s),s&&i.paidActive?j$("#budg_"+e+"_"+t).prop("readonly",!0).toggleClass("edit-class-disabled",!0):j$("#budg_"+e+"_"+t).prop("readonly",!1).toggleClass("edit-class-disabled",!1)),j$("#webActive_"+e+"_"+t).prop("disabled",s)},onChangeWebActive:function(t,e){var i=this.data.staticData,s=j$("#webActive_"+e+"_"+t),a=!1;this.isMultiOptions&&s.val()>0||!this.isMultiOptions&&s.is(":checked")?a=!1:(a=!0,s.prop("disabled",!0),this.setValue("keyword_"+e+"_"+t,0),this.setValue("smActive_"+e+"_"+t,0),i.paidActive&&this.setValue("budg_"+e+"_"+t,0)),i.smActive&&j$("#smActive_"+e+"_"+t).prop("disabled",a),i.paidActive&&j$("#budg_"+e+"_"+t).prop("readonly",a).toggleClass("edit-class-disabled",a)},drawSOD:function(t){t.html(""),this.draw(t,!0),null==this.emptyLabel?(this.rmLabel.change("float","left"),this.disable()):t.html("")}})},20783:()=>{window.SimpleInternetMarketingResults=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",initSettings:function(){return{filter:null,filterKw:null}},draw:function(){var t=this.data.staticData,e="";return this.filterKw=new MultiLevelFilter(this.tc("by_keyword"),"kw_filter","blue",this.settings.filterKw,this.redrawTable.bind(this),t.keywords,"id","label",this.tc("keywords")),this.filterKw.drawName=function(t,e){return t.name+"<br />["+t[e]+"]"},this.filterKw.isRadio=!0,e+this.filterKw.draw()},redrawTable:function(t,e){var i,s,a,n,r,o,l,d,c,h,p,u=this.data.staticData,g=u.regions.length,m=[],b=(this.data.staticData.segments.toLookUp("segmentID"),this.data.staticData.keywords.toLookUp("id")),f=[],v=[],y=[],w=[{title:this.tc("company")},{title:this.tc("ad"),vline:!0},{title:this.tc("brandAdv")}];if(u.hasSimpleMarketing||w.push({title:this.tc("aj"),type:"number",vline:!u.smActive}),u.smActive&&w.push({title:this.tc("socialMedia"),type:"flag",vline:!u.paidActive}),u.paidActive&&w.push({title:this.tc("budgetUsed"),type:"number",vline:!0}),w.push({title:this.tc("clicks"),type:"number"}),w.push({title:this.tc("totalBudget"),type:"number"}),v=[{title:this.tc("region")}],t&&(this.settings.filterKw=this.filterKw.settings,this.saveSettings()),e){for(c=0,h=u.keywords.length;c<h;++c)u.keywords[c].checked&&(d=u.keywords[c].id);for(this.activeRegions=[],this.rmTables=[],s=0;s<g;++s)if(m=[],(i=u.regions[s]).adsIn>0){for(p=[i.regionName],a=0,n=i.keywords.length;a<n;++a)v.push({title:b[i.keywords[a].keywordID].name,type:"number"}),p.push(i.keywords[a].searches);for(y.push({values:p}),l=new DecisionTable(this.tc("numOfSearches",{REGION:i.regionName}),"simpleIMSearchesTable",v,y),void 0!==this.nsTable?this.nsTable.change("replace",l.draw()):j$("#decision").children().first().append(l.draw()),this.nsTable=l,this.nsTable.observe(),a=0,n=i.ads.length;a<n;++a)(r=i.ads[a]).segmentID==d&&(f=[r.companyName.escapeHTML(),r.name.escapeHTML(),Format.brandName(r.brandAdvertised.escapeHTML(),r.brandType)],u.hasSimpleMarketing||f.push(r.aj),u.smActive&&f.push(!!r.smActive),u.paidActive&&f.push(r.budgetUsed),f.push(r.clicks),f.push(r.totalBudget),m.push({values:f}));for((l=new DecisionTable(i.regionName,"simpleIMResTable",w,m)).clear="",void 0!==this.rmTable?this.rmTable.change("replace",l.draw()):j$("#decision").children().first().append(l.draw()),o=0;o<w.length;++o)l.makeColumnSortable(o);t&&this.writeExplanations(),this.rmTable=l,this.rmTable.observe()}}},observe:function(){null!=this.emptyLabel?(this.emptyLabel.observe(),this.emptyLabel.change("float","left")):(this.filterKw.observe(),this.redrawTable(!1,!0))}})},54562:()=>{window.SocialMedia=Decision.extend({style:"padding: 10px 10px 10px 10px;",read:function(){var t,e,i,s,a,n,r=this.data.decisions,o=this.data.staticData.regions.toLookUp("regionID"),l=r.regions,d=l.length;for(t=0;t<d;t++)if(o[(e=l[t]).regionID].isIn)for(i=0,s=(a=e.socialMedia).length;i<s;i++)(n=a[i]).change=this.value("sm_change_"+e.regionID+"_"+n.socialMediaID),n.quarterlyBudget=this.value("pquarterlyBudget_"+e.regionID+"_"+n.socialMediaID)},write:function(){var t,e,i,s,a,n,r=this.data.decisions.regions,o=r.length;for(t=0;t<o;t++)for(i=0,s=(a=(e=r[t]).socialMedia).length;i<s;i++)n=a[i],this.setValue("sm_change_"+e.regionID+"_"+n.socialMediaID,n.change),this.setValue("pquarterlyBudget_"+e.regionID+"_"+n.socialMediaID,n.quarterlyBudget)},writeErrors:function(){var t,e,i,s,a,n,r=this.data.errors.decisions.regions,o=r.length;for(t=0;t<o;t++)for(i=0,s=(a=(e=r[t]).socialMedia).length;i<s;i++)n=a[i],this.writeError("sm_change_"+e.regionID+"_"+n.socialMediaID,n.change,"center left",!0),this.writeError("pquarterlyBudget_"+e.regionID+"_"+n.socialMediaID,n.quarterlyBudget,"center left",!0)},writeCalculate:function(){j$("#socialMediaTotal").html(Number(this.data.calculate.total).format())},draw:function(t){t=t||!1;var e,i,s,a,n,r,o,l,d=this.data.staticData.regions,c=d.length,h="",p=this.data.decisions.regions.toLookUp("regionID"),u=[],g="",m=[{title:this.tc("socialMedia"),vline:!0},{title:this.tc("start"),type:"flag"},{title:this.tc("stop"),type:"flag",vline:!0},{title:this.tc("status"),type:"flag"},{title:this.tc("setupCost"),type:"number"},{title:this.tc("quarterlyBudget"),align:"right"}];for(this.activeRegions=[],this.smTables=[],e=0;e<c;e++)if(u=[],(i=d[e]).isIn){for(n=i.socialMedia,o=p[i.regionID].socialMedia.toLookUp("socialMediaID"),s=0,a=n.length;s<a;++s)r=n[s],u.push(['<span id="smExp_'+i.regionID+"_"+r.socialMediaID+'"></span>'+r.name,r.opened?"":this.com("checkbox","sm_change_"+i.regionID+"_"+r.socialMediaID,o[r.socialMediaID].change),r.opened?this.com("checkbox","sm_change_"+i.regionID+"_"+r.socialMediaID,o[r.socialMediaID].change):"",r.opened?this.tc("operational"):this.tc("notOperational"),r.setupCost,this.com("iedit","pquarterlyBudget_"+i.regionID+"_"+r.socialMediaID,o[r.socialMediaID].quarterlyBudget,{size:6})]);l=new DecisionTable('<div id="reg_'+i.regionID+'">'+i.regionName+"</div>","smtbl_"+i.regionID,m,u),t&&(l.tableCorners=""),this.smTables.push(l),g+=l.draw(),h+='<div id="graph-wrapper-qtrBudget_'+i.regionID+'" style="padding:10px 0px 0px 0px;"><div id="graph-holder-qtrBudget_'+i.regionID+'"></div></div>',this.activeRegions.push(i)}return 0==this.activeRegions.length?(this.viewModeButtons=[],this.modifyModeButtons=[],this.closedLabel=new DecisionLabel(this.service,"closedLabel",this.tc("closedLabel"),"","stone"),this.closedLabel.draw()):(this.closedLabel=null,this.optionsLabel=new DecisionLabel(this.service,"optionsLabel",this.tc("total")+' <span id="socialMediaTotal">'+Number(this.data.calculate.total).format()+"</span>","","blue"),t?(this.optionsLabel.labelCorners="",g+this.optionsLabel.draw()):g+this.optionsLabel.draw()+this.drawButtons()+h)},observe:function(){var t,e,i,s,a,n,r,o,l,d=this.data.staticData,c=this.data.decisions.regions.toLookUp("regionID"),h=d.regions,p=this.data.staticData.graphs.toLookUp("regionID"),u=h.length;if(0==this.activeRegions.length)return this.closedLabel.observe(),void this.closedLabel.change("float","left");for(o=0,l=this.smTables.length;o<l;o++)this.smTables[o].observe();for(DecisionTable.setMaxColWidths(this.smTables,0),this.optionsLabel.observe(),this.optionsLabel.change("float","left"),e=0;e<u;e++)if((i=h[e]).isIn){for(n=i.socialMedia,t=c[i.regionID].socialMedia.toLookUp("socialMediaID"),s=0,a=n.length;s<a;s++)r=n[s],new DropDownStaticExplanation("smExp_"+i.regionID+"_"+r.socialMediaID,this.tc("purpose"),r.purpose+"<br /><br />"+this.tc("examples")+"<br />"+r.examples.escapeHTML(),"","explanation-narrow",this.contentElement).useContentElement=!0,j$("#sm_change_"+i.regionID+"_"+r.socialMediaID).on("click",this.onChangeProductivity.bind(this,i.regionID,r.socialMediaID,r,t[r.socialMediaID],!0)),this.bindCalculate("pquarterlyBudget_"+i.regionID+"_"+r.socialMediaID,"keyup",!0);0!=p[i.regionID].data.length?j$("#graph-holder-qtrBudget_"+i.regionID).css({position:"relative",margin:"auto",width:"550px",height:"250px",opacity:Live.opacity}):j$("#graph-wrapper-qtrBudget_"+i.regionID).remove(),this.setChartData(i.regionID,"graph-holder-qtrBudget_"+i.regionID)}this.writeExplanations()},setChartData:function(t,e){var i,s,a,n,r,o,l=!1,d=this.data.staticData.graphs.toLookUp("regionID")[t];if(Live.useSvg()){for((i=this.data.staticData.chartTemplate).legend.position=d.showLegend?"right":"none",i.legend.align="center",i.legend.margin.bottom=10,i.chartSettings.radius=0,i.chartArea.margin.right=12,i.chartArea.vLabels.decimals=1,j$.extend(i.data,{title:d.title,xAxis:d.x,yAxis:d.y,labels:[],x:[],y:[],dsX:4,minY:0,saveUrl:this.st("common:saveChartURL"),saveName:"social-media-budget-reg"+t+"-q"+this.user.quarter()}),s=0,a=d.data.length;s<a;++s)for(o=d.data[s],i.data.labels[s]=o.label,i.data[s]=[],n=0,r=o.x.length;n<r;++n)0==s&&(i.data.x[n]=Number(o.x[n]),i.data.y[n]=[]),i.data.y[n][s]=Number(o.y[n]);0!=d.data.length&&SvgCharts.BaseChart.setChartData(e,i)}else{for(j$("#"+e).html(""),(i=new LineChart(j$("#"+e)[0])).label=d.title,i.legend=d.showLegend,i.legendCharLimit=30,i.labelX=d.x,i.labelY=d.y,i.incY=.25,i.decY=2,i.dsx=4,i.labels=[],i.data=[],i.category=[],s=0,a=d.data.length;s<a;++s)for(o=d.data[s],i.labels[s]=o.label,i.data[s]=[],n=0,r=o.x.length;n<r;++n)i.data[s][n]=Number(o.y[n]),Number(o.y[n])>2.5&&(l=!0),i.category[n]=Number(o.x[n]);l&&(i.incY=.5,i.decY=1),i.draw()}},drawSOD:function(){this.data.staticData;var t=this.draw(!0);this.activeRegions.length>0?(this.setValue(this.pfxSod+this.service,t),this.optionsLabel.observe(),this.optionsLabel.change("float","left"),this.disable()):this.setValue(this.pfxSod+this.service,"")},enable:function(){this._super();var t,e,i,s,a,n,r,o=this.data.staticData,l=this.data.decisions.regions.toLookUp("regionID"),d=o.regions,c=d.length;for(e=0;e<c;e++)if((i=d[e]).isIn)for(n=i.socialMedia,t=l[i.regionID].socialMedia.toLookUp("socialMediaID"),s=0,a=n.length;s<a;s++)r=n[s],this.onChangeProductivity(i.regionID,r.socialMediaID,r,t[r.socialMediaID],!1);this.calculate()},onChangeProductivity:function(t,e,i,s,a){var n=j$("#sm_change_"+t+"_"+e);!i.opened&&!n.is(":checked")||i.opened&&n.is(":checked")?j$("#pquarterlyBudget_"+t+"_"+e).prop("disabled",!0):j$("#pquarterlyBudget_"+t+"_"+e).prop("disabled",!1)}})},91695:(t,e,i)=>{"use strict";i(54562),window.SocialMediaAnim=SocialMedia.extend({style:"padding: 10px 10px 10px 10px;",initialize:function(t){this.isSelected=[],this._super("SocialMedia")},read:function(){var t,e,i,s,a,n,r,o,l=this.data.decisions,d=this.data.staticData.regions.toLookUp("regionID"),c=l.regions,h=c.length;for(i=0;i<h;i++)if(e=(t=d[(s=c[i]).regionID]).socialMedia.toLookUp("socialMediaID"),t.isIn)for(a=0,n=(r=s.socialMedia).length;a<n;a++)(o=r[a]).change=this.isActive(this.value("sm_change_"+s.regionID+"_"+o.socialMediaID),e[o.socialMediaID].opened),o.quarterlyBudget=this.value("pquarterlyBudget_"+s.regionID+"_"+o.socialMediaID)},write:function(){var t,e,i,s,a,n,r,o,l=this.data.decisions,d=l.regions,c=this.data.staticData.regions.toLookUp("regionID"),h=l.regions.toLookUp("regionID"),p=d.length;for(i=0;i<p;i++)for(r=(s=d[i]).socialMedia,t=c[s.regionID].socialMedia.toLookUp("socialMediaID"),e=h[s.regionID].socialMedia.toLookUp("socialMediaID"),a=0,n=r.length;a<n;a++)o=r[a],this.setValue("sm_change_"+s.regionID+"_"+o.socialMediaID,this.isActive(e[o.socialMediaID].change,t[o.socialMediaID].opened)),this.setValue("pquarterlyBudget_"+s.regionID+"_"+o.socialMediaID,o.quarterlyBudget)},writeErrors:function(){var t,e,i,s,a,n,r=this.data.errors.decisions.regions,o=r.length;for(t=0;t<o;t++)for(i=0,s=(a=(e=r[t]).socialMedia).length;i<s;i++)n=a[i],this.writeError("sm_change_"+e.regionID+"_"+n.socialMediaID,n.change,"center left",!0),this.writeError("pquarterlyBudget_"+e.regionID+"_"+n.socialMediaID,n.quarterlyBudget,"center left",!0)},writeCalculate:function(){j$("#socialMediaTotal").html(Number(this.data.calculate.total).format())},isActive:function(t,e){return!!(e&&!t||!e&&t)},draw:function(t){t=t||!1;var e,i,s,a,n,r,o,l,d=this.data.staticData.regions,c=d.length,h="",p=this.data.decisions.regions.toLookUp("regionID"),u=[],g=[{title:this.tc("socialMedia"),vline:!0},{title:this.tc("active"),type:"flag"},{title:this.tc("setupCost"),align:"right"},{title:this.tc("quarterlyBudget"),align:"right"}];for(this.regMaps=new RegionsMaps(this,!0),this.regMaps.useSmallMaps=!0,this.activeRegions=[],this.rmTables=[],e=0;e<c;e++)if(u=[],(i=d[e]).isIn){for(n=i.socialMedia,o=p[i.regionID].socialMedia.toLookUp("socialMediaID"),s=0,a=n.length;s<a;++s)r=n[s],u.push({values:[r.name+'<span id="smExp_'+i.regionID+"_"+r.socialMediaID+'"></span>',this.com("checkbox","sm_change_"+i.regionID+"_"+r.socialMediaID,this.isActive(o[r.socialMediaID].change,r.opened)),r.opened?'<span style="font-style: italic; color: #666666;">'+this.tc("previouslyPaid")+"</span>":Format.number(r.setupCost),this.com("iedit","pquarterlyBudget_"+i.regionID+"_"+r.socialMediaID,o[r.socialMediaID].quarterlyBudget,{size:6})],rowData:{regionID:i.regionID,socialMediaID:r.socialMediaID}});this.activeRegions.push(i),l=new DecisionTable('<div id="rmTableHead_'+i.regionID+'"><div style="float:left;">'+i.regionName+"</div></div>","rmTable_"+i.regionID,g,u),t&&(l.tableCorners=""),h+=l.draw(),this.regMaps.regTables[i.regionID]=l,this.rmTables.push(l)}return 0==this.activeRegions.length?(this.viewModeButtons=[],this.modifyModeButtons=[],this.closedLabel=new DecisionLabel(this.service,"closedLabel",this.tc("closedLabel"),"","stone"),this.closedLabel.draw()):(this.closedLabel=null,this.optionsLabel=new DecisionLabel(this.service,"optionsLabel",this.tc("total")+' <span id="socialMediaTotal">'+Number(this.data.calculate.total).format()+"</span>","","blue"),t?(this.optionsLabel.labelCorners="",h+this.optionsLabel.draw()):h+this.optionsLabel.draw()+this.drawButtons())},hasRegionGraph:function(t){return 0!=this.data.staticData.graphs.toLookUp("regionID")[t.regionID].showGraph},drawRegionGraph:function(t){this.hasRegionGraph(t)&&(j$("#graph-holder-qtrBudget_"+t.regionID).css({position:"relative",margin:"auto",width:"450px",height:"250px",opacity:Live.opacity}),this.setChartData(t.regionID,"graph-holder-qtrBudget_"+t.regionID))},observe:function(){var t,e,i,s,a,n,r,o,l=this.data.staticData,d=this.data.decisions.regions.toLookUp("regionID"),c=l.regions,h=c.length;if(0==this.activeRegions.length)return this.closedLabel.observe(),void this.closedLabel.change("float","left");for(this.decision=j$("#decision"),this.scrollEvt=j$.proxy(this.scrollRightPane,this),this.decision.on("scroll",this.scrollEvt),this.decisionContent=j$("#decision").children().first(),this.initRightPane(),this.optionsLabel.observe(),this.optionsLabel.change("float","left"),DecisionTable.setMaxTableWidths(this.rmTables),e=0;e<h;e++)if((i=c[e]).isIn){for(n=i.socialMedia,t=d[i.regionID].socialMedia.toLookUp("socialMediaID"),s=0,a=n.length;s<a;s++)r=n[s],(o=new DropDownStaticExplanation("smExp_"+i.regionID+"_"+r.socialMediaID,this.tc("purpose"),r.purpose+"<br /><br />"+this.tc("examples")+"<br />"+r.examples.escapeHTML(),"","explanation-narrow",this.contentElement)).useContentElement=!0,o.setVisuallyHidden(!0),j$("#sm_change_"+i.regionID+"_"+r.socialMediaID).on("click",this.onChangeProductivity.bind(this,i.regionID,r.socialMediaID,r,t[r.socialMediaID],!0)),this.bindCalculate("pquarterlyBudget_"+i.regionID+"_"+r.socialMediaID,"keyup",!0);this.hasRegionGraph(i)&&(this.regMaps.regTables[i.regionID].jelementWrapper().append('<div id="graph-holder-qtrBudget_'+i.regionID+'"></div>'),this.drawRegionGraph(i)),this.regMaps.drawRegion(i),this.regMaps.regTables[i.regionID].onSelectRowEvent=j$.proxy(this.onSelMedia,this,!0),this.regMaps.regTables[i.regionID].onDeselectRowEvent=j$.proxy(this.onSelMedia,this,!1),this.regMaps.regTables[i.regionID].observe()}},resize:function(){this.regMaps.resize(),this.rightPane&&this.rightPane.css({"min-height":j$("#decision").height()+"px"})},onModifyScene:function(){null==this.closedLabel&&this.activateRightPane()},onCancelScene:function(){null==this.closedLabel&&this.deactivateRightPane()},onSaveScene:function(){null==this.closedLabel&&this.deactivateRightPane()},onSelMedia:function(t,e,i){this.isSelected[e.regionID]=e.socialMediaID,this.changeMedia(e.regionID,e.socialMediaID,i)},changeSmImage:function(t,e){var i=j$("#sm_change_"+t+"_"+e);this.lastSmImage&&this.rightPaneSocialSite.toggleClass("site"+this.lastSmImage,!1),this.lastSmImage=e,this.rightPaneSocialSite.toggleClass("site"+e,!0),i.is(":checked")?this.rightPaneSocialSite.prop("src",this.st("socialMediaActive"+e)):this.rightPaneSocialSite.prop("src",this.st("socialMedia"+e))},changeMedia:function(t,e,i){var s=this.data.staticData.regions.toLookUp("regionID")[t].socialMedia.toLookUp("socialMediaID")[e];this.lastRegionID=t,this.lastSMID=e,this.rightPanePurposePH.hide(),this.rightPaneExamplePH.hide(),this.changeSmImage(t,e),this.rightPaneSocialSiteText.html(this.tc("socialSite",{SMNAME:s.name})),this.rightPanePurposeText.html(s.purpose),this.rightPaneExampleText.html(s.examples),i=j$(i),this.lastRow&&this.lastRow.toggleClass("activeRowWebPage",!1),this.lastRow=i,i.toggleClass("activeRowWebPage",!0),this.positionArrow(!0,i.position().top,i.outerHeight())},positionArrow:function(t,e,i){this.rparrow&&t?(this.rparrow.show(),this.rparrow.css({top:e+"px",height:i+"px"})):this.rparrow.hide()},initRightPane:function(){this.rightPane=j$('<div id="rightPane" class="rightPane"></div>'),this.rparrow=j$("<div style=\"display:none;background-image:url('"+this.st("common:arrowLight")+'\');" id="rightPaneArrow" class="rightPaneArrow"></div>'),this.rightPaneContentWrap=j$('<div id="rightPaneContentWrap" class="rightPaneContentWrap dimmed"></div>'),this.rightPane.append(this.rightPaneContentWrap),this.decisionContent.append(this.rightPane),this.decisionContent.append(this.rparrow),this.rightPaneSocialSiteWrapper=j$('<div id="rightPaneSocialSites" class="rightPaneSocialSites"></div>'),this.rightPaneSocialSite=j$('<img src="'+this.st("emptyPreview")+'" id="rightPaneSocialSite" class="rightPaneImg rightPaneSocialSite" alt="" />'),this.rightPaneSocialSiteWrapper.append(this.rightPaneSocialSite),this.rightPanePurpose=j$('<div id="rightPanePurpose"></div>'),this.rightPanePurposePH=j$('<img src="'+this.st("textPlaceholder")+'" class="rightPanePurpExamPH" alt="" />'),this.rightPanePurposePH.appendTo(this.rightPanePurpose),this.rightPanePurposeText=j$('<div class="rightPanePurpExamText"></div>'),this.rightPanePurposeText.appendTo(this.rightPanePurpose),this.rightPaneExample=j$('<div id="rightPaneExample"></div>'),this.rightPaneExamplePH=j$('<img src="'+this.st("textPlaceholder")+'" class="rightPanePurpExamPH" alt="" />'),this.rightPaneExamplePH.appendTo(this.rightPaneExample),this.rightPaneExampleText=j$('<div class="rightPanePurpExamText"></div>'),this.rightPaneExampleText.appendTo(this.rightPaneExample),this.rightPaneBoxSocialSite=j$('<div id="socialSiteBox" class="rightPaneBox"></div>'),this.rightPaneSocialSiteText=j$('<div class="rightPaneText">'+this.tc("site")+"</div>"),this.rightPaneSocialSiteText.appendTo(this.rightPaneBoxSocialSite),this.rightPaneBoxSocialSite.append(this.rightPaneSocialSiteWrapper),this.rightPaneBoxPurpose=j$('<div id="purposeBox" class="rightPaneBox rightPaneBoxTopSpace"></div>'),this.rightPaneBoxPurpose.append('<div class="rightPaneText">'+this.tc("purposeList")+"</div>"),this.rightPaneBoxPurpose.append(this.rightPanePurpose),this.rightPaneBoxExamples=j$('<div id="examplesBox" class="rightPaneBox rightPaneBoxTopSpace"></div>'),this.rightPaneBoxExamples.append('<div class="rightPaneText">'+this.tc("examples")+"</div>"),this.rightPaneBoxExamples.append(this.rightPaneExample),this.rightPaneContentWrap.append(this.rightPaneBoxSocialSite),this.rightPaneContentWrap.append(this.rightPaneBoxPurpose),this.rightPaneContentWrap.append(this.rightPaneBoxExamples),this.rightPane.attr("aria-hidden",!0).attr("role","presentation")},activateRightPane:function(){this.rightPaneContentWrap.toggleClass("dimmed",!1)},deactivateRightPane:function(){this.rightPaneContentWrap.toggleClass("dimmed",!0),this.lastRegionID&&this.lastSMID&&this.changeSmImage(this.lastRegionID,this.lastSMID)},scrollRightPane:function(){this.rightPaneContentWrap.css({"margin-top":this.decision.scrollTop()+"px"})},destroy:function(){this.scrollEvt&&this.decision.off("scroll",this.scrollEvt),this._super()},setChartData:function(t,e){var i,s,a,n,r,o,l=!1,d=this.data.staticData.graphs.toLookUp("regionID")[t];if(Live.useSvg()){for((i=this.data.staticData.chartTemplate).legend.position=d.showLegend?"right":"none",i.legend.align="center",i.legend.margin.bottom=10,i.chartSettings.radius=0,i.chartArea.margin.left=8,i.chartArea.margin.right=0,i.chartArea.vLabels.decimals=1,i.title.position="left",i.vAxis.position="bottom",i.chartArea.margin.top=5,j$.extend(i.data,{title:this.tc("industryAvgDemandImp"),xAxis:d.x,yAxis:this.tc("demandImpr"),labels:[],colorIds:[],x:[],y:[],dsX:4,minY:0,saveUrl:this.st("common:saveChartURL"),saveName:"social-media-budget-reg"+t+"-q"+this.user.quarter()}),s=0,a=d.data.length;s<a;++s)for(o=d.data[s],i.data.labels[s]=o.label,i.data.colorIds[s]=o.color,i.data[s]=[],n=0,r=o.x.length;n<r;++n)0==s&&(i.data.x[n]=Number(o.x[n]),i.data.y[n]=[]),i.data.y[n][s]=Number(o.y[n]);SvgCharts.BaseChart.setChartData(e,i)}else{for(j$("#"+e).html(""),(i=new LineChart(j$("#"+e)[0])).label=this.tc("industryAvgDemandImp"),i.legend=d.showLegend,i.legendCharLimit=30,i.labelX=d.x,i.labelY=this.tc("demandImpr"),i.incY=.25,i.decY=2,i.dsx=4,i.labels=[],i.data=[],i.category=[],s=0,a=d.data.length;s<a;++s)for(o=d.data[s],i.labels[s]=o.label,i.data[s]=[],n=0,r=o.x.length;n<r;++n)i.data[s][n]=Number(o.y[n]),Number(o.y[n])>2.5&&(l=!0),i.category[n]=Number(o.x[n]);l&&(i.incY=.5,i.decY=1),i.draw()}},drawSOD:function(){var t=this.draw(!0);this.activeRegions.length>0?(this.setValue(this.pfxSod+this.service,t),this.disable()):this.setValue(this.pfxSod+this.service,"")},enable:function(){this._super();var t,e,i,s,a,n,r,o=this.data.staticData,l=this.data.decisions.regions.toLookUp("regionID"),d=o.regions,c=d.length;for(e=0;e<c;e++)if((i=d[e]).isIn)for(n=i.socialMedia,t=l[i.regionID].socialMedia.toLookUp("socialMediaID"),s=0,a=n.length;s<a;s++)r=n[s],this.onChangeProductivity(i.regionID,r.socialMediaID,r,t[r.socialMediaID],!1);this.calculate()},onChangeProductivity:function(t,e,i,s,a){j$("#sm_change_"+t+"_"+e).is(":checked")?j$("#pquarterlyBudget_"+t+"_"+e).prop("disabled",!1):j$("#pquarterlyBudget_"+t+"_"+e).prop("disabled",!0),a&&(this.changeSmImage(t,e),this.calculate())}})},81855:()=>{window.SourceStudy=Decision.extend({style:"padding: 10px 10px 0px 10px;",read:function(){var t,e,i=this.data.decisions.criticalGroups,s=i.length,a=this.data.staticData.criticalGroups.toLookUp("groupID");for(t=0;t<s;++t)(e=i[t]).buy=!(a[e.groupID].wasBought||!a[e.groupID].wasVariance)&&this.value("sbuy_"+e.groupID)},write:function(){var t,e,i=this.data.decisions.criticalGroups,s=i.length,a=this.data.staticData.criticalGroups.toLookUp("groupID");for(t=0;t<s;++t)!a[(e=i[t]).groupID].wasBought&&a[e.groupID].wasVariance&&this.setValue("sbuy_"+e.groupID,e.buy)},writeCalculate:function(){j$("#sourceStudyTotal").html(Number(this.data.calculate.total).format())},draw:function(t){var e,i,s,a,n,r,o,l,d,c,h=this.data.staticData,p="",u=this.data.decisions.criticalGroups.toLookUp("groupID"),g=h.sources.toLookUp("sourceID"),m=h.actions.toLookUp("actionID"),b=[{title:this.tc("criticalGroup")},{title:this.tc("cost"),type:"number"},{title:this.tc("buy"),type:"flag"}],f=[],v=[{title:this.tc("errorSourceHead")},{title:this.tc("probability"),align:"right"}],y=[{title:this.tc("actionTakenHead")},{title:this.tc("improvement"),align:"right"}],w=0;for(this.wasSource=!1,this.wasVariance=!1,this.resTables=[],this.resLabels=[],e=0,i=h.criticalGroups.length;e<i;++e){if(!(s=h.criticalGroups[e]).wasBought&&s.wasVariance&&(f.push([s.name,s.cost,this.com("checkbox","sbuy_"+s.groupID,u[s.groupID].buy)]),w++),s.wasBought){for(f.push([s.name,s.cost,this.tc("bought")]),c="",l=[],a=0,n=s.sources.length;a<n;++a)l.push([g[s.sources[a].sourceID].name,s.sources[a].probability.format()+"%"]);for((d=new DecisionTable(s.name,"resTableS_"+s.groupID,v,l,!1,"green")).hideTitle=!0,d.newCorners="",this.resTables.push(d),c+=d.draw(),c+='<div style="margin-bottom: 15px;"></div>',l=[],r=0,o=s.actions.length;r<o;++r)l.push([m[s.actions[r].actionID].name,s.actions[r].reduction.format()+"%"]);(d=new DecisionTable(s.name,"resTableA_"+s.groupID,y,l,!1,"green")).hideTitle=!0,d.newCorners="",this.resTables.push(d),c+=d.draw(),this.resLabels.push(new DecisionLabel(this.service,"resLabel_"+s.groupID,c,"","","",s.name)),this.wasSource=!0,this.wasVariance=!0}s.wasVariance&&(this.wasVariance=!0)}if(f.length>0&&(this.ssTable=new DecisionTable(this.tc("sourceStudy"),"ssTable",b,f,!1,"green"),p+=this.ssTable.draw()),this.ssLabel=null,w>0?(this.ssLabel=new DecisionLabel(this.service,"ssLabel",this.tc("total")+' <span id="sourceStudyTotal">'+Number(this.data.calculate.total).format()+"</span>","","green"),p+=this.ssLabel.draw()):(this.viewModeButtons=[],this.modifyModeButtons=[]),this.wasVariance||(this.ssLabel=new DecisionLabel(this.service,"ssLabel",this.tc("noVariance"),"","green"),p+=this.ssLabel.draw()),this.wasSource)for(var D=0;D<this.resLabels.length;++D)p+=this.resLabels[D].draw();return p},observe:function(){var t,e,i,s=this.data.staticData,a=0,n=0;for(t=0,e=s.criticalGroups.length;t<e;++t)!(i=s.criticalGroups[t]).wasBought&&i.wasVariance&&(this.bindCalculate("sbuy_"+i.groupID,"click",!1),a++),i.wasBought&&n++;if(a+n>0&&this.ssTable.observe(),(a>0||!this.wasVariance)&&(this.ssLabel.observe(),this.ssLabel.change("float","left")),this.wasSource){for(t=0,e=this.resLabels.length;t<e;++t)this.resLabels[t].observe(),this.resLabels[t].change("float","left"),this.resLabels[t].jelement().css({padding:0});for(t=0,e=this.resTables.length;t<e;++t)this.resTables[t].observe();DecisionTable.setMaxColWidths(this.resTables,0)}},drawSOD:function(){var t,e,i,s=this.data.staticData,a=this.data.decisions.criticalGroups.toLookUp("groupID"),n="",r="",o=!1;for(t=0,e=s.criticalGroups.length;t<e;++t)!(i=s.criticalGroups[t]).wasBought&&i.wasVariance&&(a[i.groupID].buy&&(r+=(""!=r?", ":"")+i.name),o=!0);o&&(""!=r&&(n+=this.tc("sourceStudy")+": "+r+"<br /><br />"),n+=this.tc("total")+" "+Number(this.data.calculate.total).format()),this.setValue(this.pfxSod+this.service,n)}})},52045:()=>{window.SpecialPrograms=Decision.extend({style:"padding: 10px 10px 0px 10px;",read:function(){var t=this.data.staticData,e=this.data.decisions;t.trainingIncentive.active&&(e.training=this.value("trainingExp")),t.contestIncentive.active&&(e.contest=this.value("contestExp")),t.demoKitIncentive.active&&!t.kitStarted&&(e.demoKit=this.value("kitExp"))},write:function(){var t=this.data.staticData,e=this.data.decisions;t.trainingIncentive.active&&this.setValue("trainingExp",e.training),t.contestIncentive.active&&this.setValue("contestExp",e.contest),t.demoKitIncentive.active&&!t.kitStarted&&this.setValue("kitExp",e.demoKit)},writeErrors:function(){var t=this.data.staticData,e=this.data.errors.decisions;t.trainingIncentive.active&&this.writeError("trainingExp",e.training),t.contestIncentive.active&&this.writeError("contestExp",e.contest),t.demoKitIncentive.active&&!t.kitStarted&&this.writeError("kitExp",e.demoKit)},writeCalculate:function(){var t=this.data.staticData,e=this.data.calculate;t.trainingIncentive.active&&this.setValue("trainingTotal",Number(e.trainingBudget).formatInt()),t.contestIncentive.active&&this.setValue("contestTotal",Number(e.contestBudget).formatInt()),t.demoKitIncentive.active&&!t.kitStarted&&this.setValue("kitTotal",Number(e.demoKitBudget).formatInt()),this.setValue("specialProgramsTotal",Number(e.totalBudget).formatInt())},getSalesForceTable:function(t,e){var i=[{title:""},{title:this.tc("spLastQtr"),type:"number"},{title:this.tc("newSp"),type:"number"},{title:this.tc("totalSp"),type:"number"}],s=[[this.tc("numberOfSp"),t.lqTotalSalesForce,e.newSalesForce,e.totalSalesForce]];return t.hasSalesProgramsAndPromotionsForWeb&&s.push([this.tc("numberOfWebSp"),t.lqTotalWebSalesForce,e.newWebSalesForce,e.totalWebSalesForce],{values:[this.tc("totalSp"),t.lqTotalSalesForce+t.lqTotalWebSalesForce,e.newSalesForce+e.newWebSalesForce,e.totalSalesForce+e.totalWebSalesForce],type:"total"}),new DecisionTable(this.tc("sp"),"tblSp",i,s,!1)},getTrainingTable:function(t,e,i){if(!t.trainingIncentive.active)return null;var s=[[this.tc("perSpTrainingCost"),Number(t.trainingIncentive.value).formatInt()],[this.tc("perSpTrainingExp"),this.com("iedit","trainingExp",e.training,{size:8})],{values:[this.tc("totalTrainingPrg"),'<span id="trainingTotal">'+Number(i.trainingBudget).formatInt()+"</span>"],type:"total"}];return new DecisionTable(this.tc("sfTrainingPrg"),"prgTable_tr",[{title:""},{title:"",align:"right"}],s)},getContestTable:function(t,e,i){if(!t.contestIncentive.active)return null;var s=[[this.tc("perSpContestCost"),Number(t.contestIncentive.value).formatInt()],[this.tc("vacationValue"),this.com("iedit","contestExp",e.contest,{size:8})],{values:[this.tc("totalContestPrg"),'<span id="contestTotal">'+Number(i.contestBudget).formatInt()+"</span>"],type:"total"}];return new DecisionTable(this.tc("sfContestPrg"),"prgTable_cont",[{title:""},{title:"",align:"right"}],s)},getDemoKitTable:function(t,e,i){if(!t.demoKitIncentive.active)return null;var s=[[this.tc("perKitCost"),Number(t.demoKitIncentive.value).formatInt()],[this.tc("perKitExp"),t.kitStarted?'<span id="kitExp">'+Number(e.demoKit).formatInt()+"</span>":this.com("iedit","kitExp",e.demoKit,{size:8})],[this.tc("kitExpires"),Number(t.kitExpires).formatInt()],{values:[this.tc("totalDemoKitPrg"),'<span id="kitTotal">'+Number(i.demoKitBudget).formatInt()+"</span>"],type:"total"}];return new DecisionTable(this.tc("sfDemoKitPrg"),"prgTable_dk",[{title:""},{title:"",align:"right"}],s)},getTotalLabel:function(t){var e={TOTAL_EXPENDITURES:'<span id="specialProgramsTotal">'+Number(t.totalBudget).formatInt()+"</span>"};return new DecisionLabel(this.service,"labTotal",this.tc("totalPrgExp",e),"","purple")},getEmptyLabel:function(t){var e=t.hasSalesProgramsAndPromotionsForWeb?"noOutlet":"noSO";return new DecisionLabel(this.service,"emptyLabel",this.tc("common:"+e),"","purple")},draw:function(t){t=t||!1,this.emptyLabel=null,this.prgTables=[this.getTrainingTable(this.data.staticData,this.data.decisions,this.data.calculate),this.getContestTable(this.data.staticData,this.data.decisions,this.data.calculate),this.getDemoKitTable(this.data.staticData,this.data.decisions,this.data.calculate)],this.prgTables=this.prgTables.filter((function(t){return null!=t}));var e=this.prgTables.reduce((function(t,e){return t+e.draw()}),"");return""===e?(this.viewModeButtons=[],this.modifyModeButtons=[],this.emptyLabel=this.getEmptyLabel(this.data.staticData),this.emptyLabel.draw()):(this.tblSp=this.getSalesForceTable(this.data.staticData,this.data.dynamicData),this.labTotal=this.getTotalLabel(this.data.calculate),t?e+this.labTotal.draw():this.tblSp.draw()+e+this.labTotal.draw()+'<div style="padding:10px;"><div id="graph-holder"></div></div>')},observe:function(){if(null!=this.emptyLabel)return this.emptyLabel.observe(),void this.emptyLabel.change("float","left");var t=this.data.staticData;this.data.decisions,t.trainingIncentive.active&&this.bindCalculate("trainingExp","keyup",!0),t.contestIncentive.active&&this.bindCalculate("contestExp","keyup",!0),t.demoKitIncentive.active&&!t.kitStarted&&this.bindCalculate("kitExp","keyup",!0),this.tblSp.observe(),this.prgTables.forEach((function(t){return t.observe()})),DecisionTable.setMaxColWidths(this.prgTables,0),this.labTotal.observe(),this.labTotal.change("float","left"),j$("#graph-holder").css({position:"relative",margin:"auto",width:"550px",height:"250px",opacity:Live.opacity}),this.setChartData("","graph-holder")},resize:function(){this.prgTables.length>0&&DecisionTable.setMaxColWidths(this.prgTables,0)},drawSOD:function(){var t=this.draw(!0);null==this.emptyLabel?(this.setValue(this.pfxSod+this.service,t),this.labTotal.change("float","left"),this.disable()):this.setValue(this.pfxSod+this.service,"")},setChartData:function(t,e){if(Live.useSvg()){var i=this.data.staticData.chartTemplate,s=this.data.staticData.graph;j$.extend(i.data,{title:s.title,xAxis:s.x,yAxis:s.y,labels:[],x:[],y:[],minY:0,maxY:5,intersectionX:s.startQuarter,saveUrl:this.st("common:saveChartURL"),saveName:"special-programs-q"+this.user.quarter()}),i.legend.maxWidth="150";for(var a=0,n=s.data.length;a<n;++a){var r=s.data[a];i.data.labels[a]=r.label;for(var o=0,l=r.x.length;o<l;++o)0===a&&(i.data.x[o]=Number(r.x[o]),i.data.y[o]=[]),i.data.y[o][a]=Number(r.y[o])}SvgCharts.BaseChart.setChartData(e,i)}}})},95484:()=>{window.Stock=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",draw:function(t){var e=this.data.staticData,i=this.data.decisions,s=this.data.dynamicData.investors.toLookUp("investorID"),a=[{title:this.tc("stockType")},{title:this.tc("owner"),vline:!0},{title:this.tc("shares"),type:"number"},{title:this.tc("price"),type:"number"},{title:this.tc("total"),type:"number"},{title:this.tc("quarter"),type:"number"}],n=[];return t=t||!1,e.stocks.forEach((function(t){n.push([t.type<3?this.tc("commonStock"):this.tc("institution"),s[t.investorID].name,t.shares,t.price,t.total,t.quarter])}),this),i.stocks.forEach((function(t){n.push([t.type<3?this.tc("commonStock"):this.tc("institution"),s[t.investorID].name,t.shares,t.price,t.price*t.shares,this.user.quarter()])}),this),this.stockTable=new DecisionTable(t?"":this.tc("stockHistory"),"stockTable",a,n,!1,"concrete"),t&&(this.stockTable.tableCorners=""),this.stockTable.draw()},observe:function(){this.stockTable.observe()},drawSOD:function(){this.setValue(this.pfxSod+this.service,this.draw(!0))}})},94067:()=>{window.StrategicGraphs=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",loadedFromParams:!1,initSettings:function(){return{chartType:"line",category:"",graph:""}},getCategoryTitle:function(t){return t.title},draw:function(){var t,e,i,s,a,n,r,o=this.data.staticData;for(this.initialized=[],this.charts=[],this.lastID=[],this.loadedTabs=[],this.tabset=new Tabset("tsCats",this.initGraph.bind(this)),t=0,e=o.categories.length;t<e;++t){for(r='<ul style="float: left; width: 25%; list-style-type: none; margin: 0; padding: 0; border-right: 1px solid rgb(217,220,221)">',s=0,a=(i=o.categories[t]).graphs.length;s<a;++s)n=i.graphs[s],r+='<li><button type="button" class="button-plain" id="link-'+i.id+"-"+n.id+'" aria-controls="graphs-wrapper-'+i.id+'">'+n.title+"</button></li>";r+='</ul><div id="graphs-wrapper-'+i.id+'" style="float:right; border:0px solid red; width: 70%"><div id="charts-type-switch-'+i.id+'" style="border:0px solid red;"><button type="button" id="chart-type-'+i.id+'-line" style="display:inline; cursor:pointer; margin-left:4px; border:1px solid #D9DCDD; padding:0px 5px 2px 5px;">'+this.tc("line")+'</button><button type="button" id="chart-type-'+i.id+'-bar" style="display:inline; cursor:pointer; margin-left:5px; border:1px solid #D9DCDD; padding:0px 5px 2px 5px;">'+this.tc("bar")+"</button></div>",r+='<div id="graphs-cnt-'+i.id+'" style="border:0px solid blue;"></div>',this.initialized[i.id]=!0,r+='</div><div style="clear: both;"></div>',this.charts[i.id]=null,this.lastID[i.id]=i.graphs[0].id,this.loadedTabs[i.id]=!1,this.tabset.addTab(i.id,this.getCategoryTitle(i),r)}return this.tabset.draw()},observe:function(){var t,e,i,s,a,n,r=this.data.staticData;for(this.graphWidth=Math.round(j$("#graphs-wrapper-"+r.categories[0].id).width()),this.graphHeight=400*this.graphWidth/700,this.tabset.observe(),this.activeLinks=[],t=0,e=r.categories.length;t<e;++t){for(i=r.categories[t],j$("#"+this.tabset.getTabCntID(t)).find(".cnt").first().css({"min-height":this.graphHeight+"px"}),s=0,a=i.graphs.length;s<a;++s)n=i.graphs[s],j$("#link-"+i.id+"-"+n.id).on("click",this.toggle.bind(this,n.id,0));j$("#chart-type-"+i.id+"-line").on("click",this.changeChartType.bind(this,"line")),j$("#chart-type-"+i.id+"-bar").on("click",this.changeChartType.bind(this,"bar"))}""!=this.settings.category?this.tabset.toggleByID(this.settings.category):this.tabset.toggle(0)},resize:function(){this.data.staticData,this.graphWidth=Math.round(j$("#graphs-wrapper-"+this.tabset.getActiveTabID()).width()),this.graphHeight=400*this.graphWidth/700},setChartData:function(t,e){if(this.initialized[t]&&null!=this.charts[t]){var i,s,a,n,r,o,l,d=this.charts[t],c=this.data.staticData.chartTemplates.toLookUp("id"),h=this.data.staticData.categories[this.tabset.getActive()].graphs,p=h.length,u={goalQuarter:0,goal:0};for(l=0;l<p;++l)if(d.graph==h[l].id){u=h[l];break}switch(this.settings.chartType){case"line":j$("#"+e).css({width:this.graphWidth+"px",height:this.graphHeight+"px"});break;case"bar":j$("#"+e).css({width:this.graphWidth+"px",height:Math.min(90+30*(d.data.length+(u.goalQuarter>0?1:0)),this.graphHeight)+"px"})}if(Live.useSvg()){for(i=j$.extend(!0,{},c[this.settings.chartType].template),j$.extend(i.data,{title:d.title,xAxis:d.x,yAxis:d.y,labels:[],x:[],y:[],saveUrl:this.st("common:saveChartURL"),saveName:d.graph.replace(/_/g,"-")+"-q"+this.user.quarter()}),d.showLegend&&"bar"!=this.settings.chartType?(i.legend.position="right",i.chartArea.margin.right=0):(i.legend.position="none",i.chartArea.margin.right=15),"bar"==this.settings.chartType?(i.chartSettings.labelPosition=d.showLegend?"inner":"none",i.data.dsY=4,i.chartArea.hLabels.decimals=d.decimals,i.chartArea.vLabels.decimals=d.decimals):i.chartArea.vLabels.decimals=d.decimals,s=0,a=d.data.length;s<a;++s){if(o=d.data[s],"line"!=this.settings.chartType)0==s&&(i.data.x[0]=Number(o.x[o.x.length-1]),i.data.y[0]=[]),i.data.y[0][s]=Number(o.y[o.x.length-1]),u.goalQuarter>0&&s+1==a&&(i.data.y[0][s+1]=Number(u.goal));else for(n=0,r=o.x.length;n<r;++n)0==s&&(i.data.x[n]=Number(o.x[n]),i.data.y[n]=[]),i.data.y[n][s]=Number(o.y[n]),u.goalQuarter>0&&s+1==a&&(i.data.y[n][s+1]=Number(u.goal));i.data.labels[s]=o.label.escapeHTML(),u.goalQuarter>0&&s+1==a&&(i.data.labels[s+1]=this.tc("goal",{QTR:u.goalQuarter}))}SvgCharts.BaseChart.setChartData(e,i)}else{for(j$("#"+e).html(""),(i="line"!=this.settings.chartType?new VerticalBarChart(j$("#"+e)[0]):new LineChart(j$("#"+e)[0])).label=d.title,i.legend=d.showLegend&&"bar"!=this.settings.chartType,i.labelX=d.x,i.labelY=d.y,i.labels=[],i.data=[],i.category=[],d.showLegend||"bar"!=this.settings.chartType||(i.showLabels=!1),i.decY=d.decimals,"bar"==this.settings.chartType&&(i.dsy=4,i.labelX=""),s=0,a=d.data.length;s<a;++s){if(o=d.data[s],"line"!=this.settings.chartType)0==s&&(i.category[0]=""),i.data[s]=[Number(o.y[o.x.length-1])],u.goalQuarter>0&&s+1==a&&(i.data[s+1]=[Number(u.goal)]);else for(i.data[s]=[],u.goalQuarter>0&&s+1==a&&(i.data[s+1]=[]),n=0,r=o.x.length;n<r;++n)i.data[s][n]=Number(o.y[n]),i.category[n]=Number(o.x[n]),u.goalQuarter>0&&s+1==a&&(i.data[s+1][n]=Number(u.goal));i.labels[s]=o.label,u.goalQuarter>0&&s+1==a&&(i.labels[s+1]={label:this.tc("goal",{QTR:u.goalQuarter}),color:GraphDefaults.lineColor.length-1})}i.draw()}}},applyParams:function(t){var e=(t||"").split(";");""!==e[0]?(this.settings.chartType="line",this.settings.category=e[0],this.settings.graph=e[1]||"",this.loadedFromParams=!0):this.loadedFromParams=!1},setLinkStyle:function(t){t=void 0!==t&&1==t;var e=this.tabset.getActive();void 0!==this.activeLinks[e]&&(t?j$("#"+this.activeLinks[e]).css("fontWeight","normal").css("border","").css("background","").removeAttr("aria-current"):j$("#"+this.activeLinks[e]).css("fontWeight","bold").css("border","1px solid rgb(217,220,221)").css("background","rgb(229,232,236)").attr("aria-current","true"))},toggle:function(t){this.placeGraph(this.tabset.getActiveTabID(),t)},toggleChart:function(t,e){j$("#graphs-cnt-"+t);var i,s,a="graphs-cnt-";for(this.lastID[t]=e,j$("#"+a+t).html(""),i=0,s=this.graphs.length;i<s;++i)j$("#"+a+t).append('<div id="'+a+t+"_"+i+'"></div>'),this.charts[t]=this.graphs[i],this.setChartData(t,a+t+"_"+i);this.settings.category=t,this.settings.graph=e,this.saveSettings()},setCharTypeStyle:function(){var t,e;"line"==this.settings.chartType?(t=j$("#chart-type-"+this.tabset.getActiveTabID()+"-line"),e=j$("#chart-type-"+this.tabset.getActiveTabID()+"-bar")):(t=j$("#chart-type-"+this.tabset.getActiveTabID()+"-bar"),e=j$("#chart-type-"+this.tabset.getActiveTabID()+"-line")),t.css("background","#E5E8EC").attr("aria-current","true"),e.css("background","transparent").removeAttr("aria-current")},changeChartType:function(t){this.settings.chartType=t,this.setCharTypeStyle(),this.toggleChart(this.tabset.getActiveTabID(),this.lastID[this.tabset.getActiveTabID()])},initGraph:function(){this.tabset.getActive(),this.setCharTypeStyle(),this.settings.category==this.tabset.getActiveTabID()?this.placeGraph(this.settings.category,this.settings.graph):this.placeGraph(this.tabset.getActiveTabID(),this.lastID[this.tabset.getActiveTabID()]),this.resizeContent()},placeGraph:function(t,e){if(!this.loadedTabs[t]){var i,s,a=this.data.staticData.categories.toLookUp("id"),n=ServiceFactory.callService(this.serviceName(),"fillCategory",[this.user,a[t]],!1);if(!1!==n.result){for(i=0,s=this.data.staticData.categories.length;i<s;i++)this.data.staticData.categories[i].id==n.result.id&&(this.data.staticData.categories[i]=n.result);this.loadedTabs[t]=!0}}this.doPlaceChart(t,e)},doPlaceChart:function(t,e){var i,s;this.graphs=[],(i=this.data.staticData.categories.toLookUp("id"))[t]&&(s=i[t].graphs.toLookUp("id"))[e=e||i[t].graphs[0].graph].data&&(this.graphs=s[e].data.graphs),this.setLinkStyle(!0),this.toggleChart(t,e),this.activeLinks[this.tabset.getActive()]="link-"+t+"-"+e,this.setLinkStyle()}})},13669:(t,e,i)=>{"use strict";i(94067),window.StrategicGraphsAnim=StrategicGraphs.extend({typeOfService:"StrategicGraphs",viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 10px 10px;",initialize:function(t){this._super(this.typeOfService),this.groupConnectors=[],this.groupConnectorsOverlay=[]},getCategoryTitle:function(t){return t.title},draw:function(){var t,e;return this.data.staticData,this.showAllGraphs=!0,this.loadedFromParams&&void 0!==this.settings.category&&""!=this.settings.category&&void 0!==this.settings.graph&&""!=this.settings.graph?(this.showAllGraphs=!1,t=this.settings.category,e=this.settings.graph,this.drawCategory(t,!0,e)):this.drawTabs()},drawTabs:function(){var t,e,i,s=this.data.staticData;for(this.tabset=new Tabset("strategicGraphsTabset",this.changeCategory.bind(this),"strgrph"),t=0,e=s.categories.length;t<e;++t)i=s.categories[t],this.tabset.addTab(i.id,this.getCategoryTitle(i),'<div id="graphs_'+i.id+'"></div><div style="clear:both;"></div>');return this.tabset.draw()},drawSingleGraph:function(t,e){var i,s,a,n,r="";for(i=t.graphs.toLookUp("id")[e],this.allGraphs=[],s=0,a=i.data.graphs.length;s<a;s++)n="cat_"+t.id+"_gr_"+i.id+"_"+s,this.allGraphs.push(i.data.graphs[s]),r+=this.onDrawPreviewContent(n,t,i,i.data.graphs[s].id,i.data.graphs[s],!1);return r},resize:function(){},observe:function(){if(this.showAllGraphs){var t,e,i=this.data.staticData;for(this.grArea=[],t=0,e=i.categories.length;t<e;++t)r=i.categories[t],this.grArea[r.id]=j$("#graphs_"+r.id);this.tabset.observe(),this.tabset.toggleByID(this.settings.category),this.drawCategory(this.settings.category)}else{var s,a,n,r=this.settings.category,o=this.settings.graph;for(this.settings.category="",this.settings.graph="",s=0,a=this.allGraphs.length;s<a;s++)n="cat_"+r+"_gr_"+o+"_"+s,this.setChartData(this.allGraphs[s],n+"-line","line",!0),this.setChartData(this.allGraphs[s],n+"-bar","bar",!0)}},changeCategory:function(t){t=t||this.tabset.getActiveTabID(),this.drawCategory(t),this.settings.category=t,this.settings.graph="",this.saveSettings()},drawCategory:function(t,e,i){if(this.data.staticData,void 0===this.loadedCategories&&(this.loadedCategories=[]),this.loadedCategories[t])this.drawGraphs(this.loadedCategories[t]);else for(var s=0,a=this.data.staticData.categories.length;s<a;s++)if(this.data.staticData.categories[s].id==t||void 0===t||""==t){var n=ServiceFactory.callService(this.serviceName(),"fillCategory",[this.user,this.data.staticData.categories[s]],!1);if(!1!==n.result)return this.data.staticData.categories[s]=n.result,this.loadedCategories[t]=this.data.staticData.categories[s],e?this.drawSingleGraph(this.loadedCategories[t],i):void this.drawGraphs(this.loadedCategories[t])}},drawGraphs:function(t){var e,i,s,a,n,r,o="";for(this.grArea[t.id].html(""),s=0,a=t.graphs.length;s<a;++s)for(e=0,i=(n=t.graphs[s]).data.graphs.length;e<i;++e)r=!1,n.group!==o&&(o=n.group,r=!0,s>0&&this.grArea[t.id].append('<div style="clear:both; width: 100%; position: relative; border-bottom: 1px solid #ffffff; padding-top: 10px; margin-bottom: 5px;"></div>')),r&&("U"!=n.goalType||n.data.graphs[e].data.length>1)&&this.drawLegend(t,n,e,n.data.graphs[e]),this.drawGraph(t,n,e,n.data.graphs[e],!1)},drawLegend:function(t,e,i,s){var a,n;n="cat_"+t.id+"_legend_gr_"+e.id+"_"+i,a=j$('<div aria-hidden="true" id="'+n+'" style="position: relative; float: left; width: 290px; height: 180px; margin-top: 6px; margin-right: 8px; cursor: pointer;"></div>'),this.grArea[t.id].append(a),this.setChartData(s,n,"legend-small",!0)},drawGraph:function(t,e,i,s,a){var n,r,o="line-small";r="cat_"+t.id+"_gr_"+e.id+"_"+i,n=j$('<div role="button" tabindex="0" aria-label="Show chart '+s.title+'" id="'+r+'" style="position: relative; float: left; width: 290px; height: 180px; margin-top: 6px; margin-right: 8px; cursor: pointer;"></div>'),this.grArea[t.id].append(n),n.hover(j$.proxy(this.hoverGraph,this,!0,n,o),j$.proxy(this.hoverGraph,this,!1,n,o)),n.on("click",j$.proxy(this.showGraphDetail,this,r,t,e,i,s,a)),n.on("keydown",j$.proxy((function(t,e,i,s,a,n,r){32!==r.keyCode&&13!==r.keyCode||(r.preventDefault(),this.showGraphDetail(t,e,i,s,a,n))}),this,r,t,e,i,s,a)),this.setChartData(s,r,o,a)},hoverGraph:function(t,e,i){var s=e.find("#chart-background"),a=this.data.staticData.chartTemplates.toLookUp("id");t?s.css("fill","#e6f1fb"):s.css("fill","#"+a[i].template.background.fillStyle.color)},onDrawPreviewContent:function(t,e,i,s,a,n){var r="";return r+='<div id="'+t+'-line" style="position: relative; width: 500px; height: 300px; margin-bottom: 10px;"></div>',r+='<div id="'+t+'-bar" style="position: relative; width: 500px; height: '+(90+30*a.data.length)+'px;"></div>',this.overlayBox&&this.overlayBox.css({position:"relative"}),'<div class="sgOvrCnt">'+r+'<div style="clear:both;"></div></div>'},onObservePreviewContent:function(t,e,i,s,a,n){this.ctx.setChartData(a,t+"-line","line",!0),this.ctx.setChartData(a,t+"-bar","bar",!0)},showGraphDetail:function(t,e,i,s,a,n){this.ovr=new Overlay("","grDetailOvr",this.tc("graphDetail"),"","","","","center","middle","","auto","auto"),this.ovr.ctx=this,this.ovr.hasCloseX=!0,this.ovr.onDrawContent=j$.proxy(this.onDrawPreviewContent,this.ovr,t,e,i,s,a,n),this.ovr.onObserveContent=j$.proxy(this.onObservePreviewContent,this.ovr,t,e,i,s,a,n),this.ovr.drawButtons=this.drawPreviewButtons,this.ovr.draw(!0),this.ovr.onOverlayDestroy=j$.proxy((function(){this.ctx.groupConnectorsOverlay=[]}),this.ovr)},destroy:function(){this.ovr&&this.ovr.destroy(),this._super()},setChartData:function(t,e,i,s){var a,n,r,o,l,d,c,h,p,u,g,m=this.data.staticData.chartTemplates.toLookUp("id"),b=0,f={goalQuarter:0,goal:0};for(this.tabset?(p=this.tabset.getActive(),b=(u=this.data.staticData.categories[p].graphs).length):p=!1,g=0;g<b;++g)if(t.graph==u[g].id){f=u[g];break}if(Live.useSvg()){for(a=j$.extend(!0,{},m[i].template),void 0===this.templateColors&&(this.templateColors=[]),void 0===this.templateColors[i]&&(this.templateColors[i]=a.chartArea.colors),j$.extend(a.data,{title:t.title,xAxis:t.x,yAxis:"",labels:[],colorIds:[],x:[],y:[],saveUrl:this.st("common:saveChartURL"),saveName:t.graph.replace(/_/g,"-")+"-q"+this.user.quarter()}),t.showLegend||"bar"!=i?"line-small"!=i?a.chartSettings={labelPosition:"inner"}:(a.legend.position="none",a.chartArea.margin.right=15):a.chartSettings={labelPosition:"none"},"bar"==i?(a.data.title=this.tc("lastQuarter",{TITLE:t.title,QUARTER:this.user.quarter()}),t.data.length>1?a.data.dsY=4:a.data.dsY=2,a.chartArea.hLabels.decimals=t.decimals,a.chartArea.vLabels.decimals=t.decimals):("line-small"==i&&(a.data.dsY=3),a.chartArea.vLabels.decimals=t.decimals),n=0,r=t.data.length;n<r;++n){if((d=t.data[n]).color&&-1!==d.color?(a.chartArea.colors=this.templateColors[i],a.data.colorIds[n]=d.color):-1==d.color?a.chartArea.colors=["444444"]:a.chartArea.colors=this.templateColors[i],"line-small"!=i&&"line"!=i)0==n&&(a.data.x[0]=Number(d.x[d.x.length-1]),a.data.y[0]=[]),a.data.y[0][n]=Number(d.y[d.x.length-1]),f.goalQuarter>0&&n+1==r&&(a.data.y[0][n+1]=Number(f.goal));else for(o=0,l=d.x.length;o<l;++o)0==n&&(a.data.x[o]=Number(d.x[o]),a.data.y[o]=[]),a.data.y[o][n]=Number(d.y[o]),f.goalQuarter>0&&n+1==r&&(a.data.y[o][n+1]=Number(f.goal));a.data.labels[n]=d.label.escapeHTML(),f.goalQuarter>0&&n+1==r&&(a.data.labels[n+1]=this.tc("goal",{QTR:f.goalQuarter}))}"legend-small"==i&&t.data.length<6&&(a.legend.columns=1),h=void 0!==this.groupConnectors[p+"_"+t.group]&&"line"!=i&&"bar"!=i?this.groupConnectors[p+"_"+t.group]:void 0===this.groupConnectorsOverlay[p+"_"+t.group]||"line"!=i&&"bar"!=i?null:this.groupConnectorsOverlay[p+"_"+t.group],c=SvgCharts.BaseChart.setChartData(e,a,h),"line"==i||"bar"==i?this.groupConnectorsOverlay[p+"_"+t.group]=c.connector:this.groupConnectors[p+"_"+t.group]=c.connector}}})},77859:()=>{window.StrategicThrustsCorporate=Decision.extend({style:"padding: 10px 10px 0px 10px;",hideButtonsInLastQuarter:!1,read:function(){var t,e,i,s,a,n,r=this.data.staticData,o=this.data.decisions.thrustGroups.toLookUp("id"),l=r.thrustGroups.length;for(t=0;t<l;t++)for((n=o[(s=r.thrustGroups[t]).id]).thrusts=[],e=0,i=s.thrusts.length;e<i;++e)a=s.thrusts[e],this.value("thrust_"+s.id+"_"+a.id)&&n.thrusts.push({id:a.id,text:"T"==a.type?this.value("thrust_text_"+s.id+"_"+a.id):""})},write:function(){var t,e,i,s,a,n,r,o=this.data.staticData,l=this.data.decisions.thrustGroups.toLookUp("id"),d=o.thrustGroups.length;for(e=0;e<d;e++)for(t=l[(a=o.thrustGroups[e]).id].thrusts.toLookUp("id"),i=0,s=a.thrusts.length;i<s;++i)r=void 0!==t[(n=a.thrusts[i]).id],a.multiSelect?this.setValue("thrust_"+a.id+"_"+n.id,r):this.setValue("thrust_"+a.id+"_"+n.id,r?n.id:0),"T"==n.type&&this.setValue("thrust_text_"+a.id+"_"+n.id,r?t[n.id].text:"")},writeErrors:function(){var t,e,i,s,a,n,r,o,l=this.data.staticData,d=this.data.errors.decisions.thrustGroups.toLookUp("id"),c=l.thrustGroups.length;for(e=0;e<c;e++)for(r=d[(a=l.thrustGroups[e]).id],this.writeError("thrust_group_"+a.id,r.general,"center right",!0,3),t=r.thrusts.toLookUp("id"),i=0,s=a.thrusts.length;i<s;++i)o=void 0!==t[(n=a.thrusts[i]).id],this.writeError("thrust_"+a.id+"_"+n.id,o?t[n.id].general:null,"center right",!0),"T"==n.type&&this.writeError("thrust_text_"+a.id+"_"+n.id,o?t[n.id].text:null,"center right",!0)},draw:function(){var t,e,i,s,a,n,r,o,l=this.data.staticData,d=this.data.decisions.thrustGroups.toLookUp("id"),c=l.thrustGroups.length,h="";for(e=0;e<c;e++){t=d[(n=l.thrustGroups[e]).id].thrusts.toLookUp("id"),h+='<h2 id="group_header_'+n.id+'" class="plainHeader breakHeader">'+n.text+'</h2><span id="thrust_group_'+n.id+'"></span>',h+='<ul class="strThruList" aria-labelledby="group_header_'+n.id+'">',n.multiSelect||(h+="<li>"+this.com("radio","thrust_"+n.id,-1,{label:this.tc("none")},0)+"</li>");var p=1;for(i=0,s=n.thrusts.length;i<s;++i)o=void 0!==t[(r=n.thrusts[i]).id],"T"!=r.type?(a=r.text,h+='<li class="gsdLi">',n.multiSelect?h+=this.com("checkbox","thrust_"+n.id+"_"+r.id,o,{label:a}):h+=this.com("radio","thrust_"+n.id,o?r.id:0,{label:a},r.id)):(a='<span id="thrust_textada_'+n.id+"_"+r.id+'" style="margin-left: 3px;">'+this.com("edit","thrust_text_"+n.id+"_"+r.id,o?t[r.id].text:"",{size:60,placeholder:this.tc("writeYourOwn"),"aria-label":this.tc("writeYourOwn")+" "+p})+"</span>",h+='<li class="gsdLi" style="margin-left: 3px;">',n.multiSelect?h+=this.com("checkbox","thrust_"+n.id+"_"+r.id,o,{"aria-label":this.tc("writeYourOwn")+" "+p})+a:h+=this.com("radio","thrust_"+n.id,o?r.id:0,{"aria-label":this.tc("writeYourOwn")+" "+p},r.id)+a,p++),h+="</li>";h+="</ul>"}return this.stLabel=new DecisionLabel(this.service,"strategicThrusts",h,"","","",this.tc("strategicThrusts")),this.stLabel.draw()},observe:function(){this.stLabel.observe(),this.stLabel.change("float","left"),this.stLabel.jelement().css({padding:0})},drawSOD:function(){var t,e,i,s,a,n,r,o=this.data.staticData,l=this.data.decisions.thrustGroups.toLookUp("id"),d=o.thrustGroups.length,c="";for(e=0;e<d;e++)if(0!=(r=l[(a=o.thrustGroups[e]).id]).thrusts.length){for(t=r.thrusts.toLookUp("id"),c+="<b>"+a.text+"</b><ul>",i=0,s=a.thrusts.length;i<s;++i)void 0!==t[(n=a.thrusts[i]).id]&&(c+="<li>"+("T"==n.type?t[n.id].text:n.text)+"</li>");c+="</ul>"}this.setValue(this.pfxSod+this.service,c)}})},28681:(t,e,i)=>{"use strict";i(77859),window.StrategicThrustsFinance=StrategicThrustsCorporate.extend({})},11339:(t,e,i)=>{"use strict";i(77859),window.StrategicThrustsHumanResource=StrategicThrustsCorporate.extend({})},41213:(t,e,i)=>{"use strict";i(77859),window.StrategicThrustsManufacturing=StrategicThrustsCorporate.extend({})},22058:(t,e,i)=>{"use strict";i(77859),window.StrategicThrustsMarketing=StrategicThrustsCorporate.extend({})},89910:(t,e,i)=>{"use strict";i(77859),window.StrategicThrustsPurchasing=StrategicThrustsCorporate.extend({})},51514:(t,e,i)=>{"use strict";i(77859),window.StrategicThrustsSales=StrategicThrustsCorporate.extend({})},46174:(t,e,i)=>{"use strict";i(77859),window.StrategicThrustsSalesChannel=StrategicThrustsCorporate.extend({})},33621:(t,e,i)=>{"use strict";i(53613),window.SummaryOfAnalysis=SummaryOfTacticsMarketing.extend({})},72163:()=>{window.SummaryOfDecisions=Decision.extend({style:"padding: 10px 10px 0px 10px;",viewModeButtons:[],modifyModeButtons:[],sendCalculate:!1,sendErrors:!1,pfxCategory:"category",initialize:function(t){this.categoriesLbls={},this.catLbls=[],this._super(t)},onServiceSuccess:function(t,e){if(!this.stopped){var i=j$("#"+this.pfxSod+e.className);e.decObj.drawSOD(i),i.length>0&&""===i.html()?i.parents("div.fieldset").first().hide():this.categoriesLbls[t.categoryID].change("show")}this.doneServices++,this.totalServices==this.doneServices&&this.resizeContent()},onDecisionSuccess:function(t,e){this.stopped||null==e||(t.decObj=e,t.decObj.setUser(Live.user.clone(),0),t.decObj.setBasicInfo(this.basicInfo),t.decObj.setContentElement(j$("#"+this.pfxSod+t.className)),t.decObj.data=t.data,t.decObj.data.commonData=this.data.commonData,this.onServiceSuccess(t.category,t))},draw:function(){var t,e,i,s,a,n,r,o="",l=this.data.staticData.categories,d=this.getBorderClass();for(this.doneServices=0,this.totalServices=0,i=0,s=l.length;i<s;++i)if((a=l[i]).decisions.length>0){for(""!=o&&(o+="<br />"),t='<h2 class="plainHeader bigHeader bold">'+this.tc(a.categoryID)+"</h2>",e="",n=0,r=a.decisions.length;n<r;++n)e+='<div class="fieldset '+d+'Border"><h3 class="fieldset-legend"> '+a.decisions[n].name+' </h3><div class="fieldset-decision" id="'+this.pfxSod+a.decisions[n].run+'">'+this.tc("loading")+"</div></div>";var c=new DecisionLabel(this.service,this.pfxCategory+a.categoryID,t+e,"",d);this.categoriesLbls[a.categoryID]=c,this.catLbls.push(c),o+=c.draw(),this.totalServices+=r}return o},observe:function(){var t,e,i,s,a,n,r=this.data.staticData.categories;for(t=0,e=this.catLbls.length;t<e;++t)this.catLbls[t].observe(),this.catLbls[t].change("css",{padding:"5px"});for(t=0,e=r.length;t<e;++t)if((i=r[t]).decisions.length>0)for(s=0,a=i.decisions.length;s<a;++s)n=i.decisions[s],DecisionFactory.getDecision(n.run,!0,this.onDecisionSuccess.bind(this,{category:i,className:n.run,decObj:null,decTC:null,data:n.data}))},getBorderClass:function(){return"gray"}})},11450:(t,e,i)=>{"use strict";i(53613),window.SummaryOfStrategy=SummaryOfTacticsMarketing.extend({})},9086:(t,e,i)=>{"use strict";i(53613),window.SummaryOfTacticsFinance=SummaryOfTacticsMarketing.extend({})},2946:(t,e,i)=>{"use strict";i(53613),window.SummaryOfTacticsHr=SummaryOfTacticsMarketing.extend({})},73083:(t,e,i)=>{"use strict";i(53613),window.SummaryOfTacticsManufacturing=SummaryOfTacticsMarketing.extend({})},53613:()=>{window.SummaryOfTacticsMarketing=Decision.extend({style:"padding: 10px 10px 0px 10px;",viewModeButtons:[],modifyModeButtons:[],sendCalculate:!1,sendErrors:!1,pfxCategory:"category",initialize:function(t){this.catLbls=[],this._super(t)},onServiceSuccess:function(t){if(!this.stopped){var e=j$("#"+this.pfxSod+t.className);t.decObj.drawSOD(e),e.length>0&&""===e.html()&&e.parents("div.fieldset").first().hide()}this.doneServices++,this.totalServices==this.doneServices&&(this.resizeContent(),this.runPrint&&window.print())},onDecisionSuccess:function(t,e){this.stopped||null==e||(t.decObj=e,t.decObj.setUser(Live.user.clone(),0),t.decObj.setBasicInfo(this.basicInfo),t.decObj.data=t.data,this.onServiceSuccess(t))},draw:function(){var t,e,i,s,a,n,r,o="",l=this.data.staticData.categories;for(this.runPrint=!1,this.doneServices=0,this.totalServices=0,e=0,i=l.length;e<i;++e)if((s=l[e]).decisions.length>0){for(""!=o&&(o+="<br />"),t="",a=this.getBorderClass(s.categoryID),n=0,r=s.decisions.length;n<r;++n)t+='<div class="fieldset '+a+'Border"><h3 class="fieldset-legend" style="font-size: 120%; margin-left: 10px; font-weight: bold"> '+s.decisions[n].name+' </h3><div class="fieldset-decision" id="'+this.pfxSod+s.decisions[n].run+'">'+this.tc("loading")+"</div></div>";this.catLbls.push(new DecisionLabel(this.service,this.pfxCategory+s.categoryID,t,"",a)),o+=this.catLbls[this.catLbls.length-1].draw(),this.totalServices+=r}return o},observe:function(){var t,e,i,s,a,n,r=this.data.staticData.categories;for(t=0,e=r.length;t<e;++t)if((i=r[t]).decisions.length>0)for(s=0,a=i.decisions.length;s<a;++s)n=i.decisions[s],DecisionFactory.getDecision(n.run,!0,this.onDecisionSuccess.bind(this,{className:n.run,decObj:null,decTC:null,data:n.data}));for(t=0,e=this.catLbls.length;t<e;++t)this.catLbls[t].observe(),this.catLbls[t].change("css",{padding:"5px"})},getBorderClass:function(t){if(Live.newTables)return"gray";switch(t){case"hr":return"purple";case"salesChannel":return"stone";case"manufacturing":return"green";case"finance":return"concrete"}return"blue"}})},24748:(t,e,i)=>{"use strict";i(53613),window.SummaryOfTacticsSalesChannel=SummaryOfTacticsMarketing.extend({})},32134:()=>{window.SupplyChainInformationSystem=Decision.extend({style:"padding: 10px 10px 0px 10px;",readMisID:function(){var t,e=this.data.staticData;for(t=0;t<e.mis.length;t++)if(this.value("misID_"+e.mis[t].misID))return e.mis[t].misID},read:function(){var t,e=this.data.decisions;for(e.misID=this.readMisID(),t=0;t<e.partners.length;t++)e.partners[t].setupEdi=this.value("edi_"+e.partners[t].partnerID)},write:function(){var t,e=this.data.staticData,i=this.data.decisions;for(t=0;t<e.mis.length;t++)this.setValue("misID_"+e.mis[t].misID,i.misID);for(t=0;t<i.partners.length;t++)this.setValue("edi_"+i.partners[t].partnerID,i.partners[t].setupEdi)},writeCalculate:function(){var t=this.data.calculate;j$("#calc_mis_setup").html(Number(t.misSetup).format()),j$("#calc_mis_expense").html(Number(t.misQuarterlyCost).format()),j$("#calc_edi").html(Number(t.ediSetup).format())},draw:function(t){var e,i,s=this.data.staticData,a=this.data.dynamicData,n=this.data.decisions,r=this.data.calculate,o=s.teams.toLookUp("teamID"),l=s.mis.toLookUp("misID"),d=(a.partners.toLookUp("partnerID"),[{title:this.tc("level"),vline:!0},{title:this.tc("setup_cost"),type:"number"},{title:this.tc("qtr_expense"),type:"number"},{title:this.tc("edi_setup_cost"),type:"number"}]),c=[];for(i=0;i<s.mis.length;i++)e=o[s.teamID].misID==s.mis[i].misID?'<span style="font-weight:bold;">'+s.mis[i].name+" ("+this.tc("operational")+")</span>":s.mis[i].name,c.push([this.com("radio","misID",n.misID,{label:e},s.mis[i].misID),s.mis[i].setupCost,s.mis[i].quarterlyExpense,s.mis[i].ediCost]);for(this.misTable=new DecisionTable(this.tc("mis_with_acronym"+s.version),"misTable",d,c,!1,"green"),t&&(this.misTable.tableCorners=""),d=[{title:this.tc("partner"),vline:!0},{title:this.tc("current_qtr_mis")}],c=[],this.keepDisabled=[],i=0;i<n.partners.length;i++)n.misID<2&&this.keepDisabled.push("edi_"+n.partners[i].partnerID),c.push([this.com("checkbox","edi_"+n.partners[i].partnerID,n.partners[i].setupEdi,{label:o[n.partners[i].partnerID].companyName.escapeHTML()}),l[o[n.partners[i].partnerID].misID].name]);return this.ediTable=new DecisionTable(this.tc("edi"),"ediTable",d,c,!1,"green"),t&&(this.ediTable.tableCorners=""),this.summaryLabel=new DecisionLabel(this.service,"misSummaryLabel","<div>"+this.tc("mis_setup",{TOTAL:'<span id="calc_mis_setup">'+Number(r.misSetup).format()+"</span>"})+"</div><div>"+this.tc("edi_setup",{TOTAL:'<span id="calc_edi">'+Number(r.ediSetup).format()+"</span>"})+"</div><div>"+this.tc("mis_expense",{TOTAL:'<span id="calc_mis_expense">'+Number(r.misQuarterlyCost).format()+"</span>"})+"</div>"),t&&(this.summaryLabel.labelCorners=""),this.misTable.draw()+this.ediTable.draw()+this.summaryLabel.draw()},drawSOD:function(){this.setValue(this.pfxSod+this.service,this.draw(!0)),this.disable()},observe:function(){var t,e=this.data.staticData,i=(this.data.dynamicData,this.data.decisions);for(this.misTable.observe(),this.ediTable.observe(),this.summaryLabel.observe(),this.summaryLabel.change("float","left"),t=0;t<i.partners.length;t++)this.bindCalculate("edi_"+i.partners[t].partnerID,"click",!1);for(t=0;t<e.mis.length;t++)this.bindCalculate("misID_"+e.mis[t].misID,"change",!1),j$("#misID_"+e.mis[t].misID).on("click",this.resolveMisEdi.bind(this,e.mis[t].misID))},resolveMisEdi:function(t){var e,i=this.data.decisions;if(t<2)for(e=0;e<i.partners.length;e++)this.setValue("edi_"+i.partners[e].partnerID,!1),j$("#edi_"+i.partners[e].partnerID).prop("disabled",!0);else for(e=0;e<i.partners.length;e++)j$("#edi_"+i.partners[e].partnerID).prop("disabled",!1)}})},61038:()=>{window.SupplyChainStrategy=Decision.extend({style:"padding: 10px 10px 0px 10px",sendCalculate:!1,read:function(){var t,e=this.data.staticData,i=e.roles.length;for(t=0;t<i;t++)if(this.value("roleNo_"+e.roles[t]))return void(this.data.decisions.roleNo=e.roles[t])},write:function(){var t,e=this.data.staticData,i=e.roles.length;for(t=0;t<i;t++)this.setValue("roleNo_"+e.roles[t],this.data.decisions.roleNo);this.roleNo!=this.data.decisions.roleNo&&(Engine.changeBasicInfo(),this.roleNo=this.data.decisions.roleNo)},draw:function(){var t=this.data.staticData,e=t.showImpactOnBSC?[{title:this.tc("supplyChainStrategy"),vline:!0},{title:this.tc("impactOnBSC")}]:[{title:""}],i=[];return this.roleNo=this.data.decisions.roleNo,t.roles.forEach((function(e){i.push(t.showImpactOnBSC?[this.com("radio","roleNo",this.data.decisions.roleNo,{label:this.tc("roleNo"+e)},e),this.tc("roleImpactOnBSC"+e)]:[this.com("radio","roleNo",this.data.decisions.roleNo,{label:this.tc("roleNo"+e)},e)])}),this),this.rolesTable=new DecisionTable(this.tc("outsourcingStrategy"),"rolesTable",e,i,!t.showImpactOnBSC),this.rolesTable.draw()},observe:function(){this.rolesTable.observe()},drawSOD:function(){this.setValue(this.pfxSod+this.service,this.tc("roleNo"+this.data.decisions.roleNo))},save:function(){if(this.inModifyMode){var t=this._super(),e=this.data.staticData,i=this.data.decisions;return t&&e.showOnSaveAlert&&-1!=e.onSaveAlertRoles.indexOf(i.roleNo)&&alert(this.tc("onSaveAlert"+i.roleNo)),t}return!0}})},36543:()=>{window.SWOTAnalysis=Decision.extend({style:"padding: 10px 10px 0px 10px;",hideButtonsInLastQuarter:!1,read:function(){var t,e,i=this.data.decisions,s=i.functionalAreas.length;for(t=0;t<s;++t)(e=i.functionalAreas[t]).strengths=this.value("strengths_"+e.id),e.weaknesses=this.value("weaknesses_"+e.id),e.opportunities=this.value("opportunities_"+e.id),e.threats=this.value("threats_"+e.id)},write:function(){var t,e,i=this.data.decisions,s=i.functionalAreas.length;for(t=0;t<s;++t)e=i.functionalAreas[t],this.setValue("strengths_"+e.id,e.strengths),this.setValue("weaknesses_"+e.id,e.weaknesses),this.setValue("opportunities_"+e.id,e.opportunities),this.setValue("threats_"+e.id,e.threats)},writeErrors:function(){var t,e,i=this.data.errors.decisions,s=i.functionalAreas.length;for(t=0;t<s;++t)e=i.functionalAreas[t],this.writeError("strengths_"+e.id,e.strengths),this.writeError("weaknesses_"+e.id,e.weaknesses),this.writeError("opportunities_"+e.id,e.opportunities),this.writeError("threats_"+e.id,e.threats)},draw:function(t){var e,i,s=this.data.staticData,a=s.functionalAreas.length,n=this.data.decisions.functionalAreas.toLookUp("id"),r=[],o="",l="",d="",c="";for(e=0;e<a;++e)o+='<div id="hstrengths_'+(i=s.functionalAreas[e]).id+'" style="text-align: left;">'+i.title+"</div>"+this.com("memo","strengths_"+i.id,n[i.id].strengths,{cols:40,rows:3,style:"display: block; margin-top: 3px; margin-bottom: 5px; resize: vertical;","aria-labelledby":"hstrengths_"+i.id+" strHead"}),l+='<div id="hweaknesses_'+i.id+'" style="text-align: left;">'+i.title+"</div>"+this.com("memo","weaknesses_"+i.id,n[i.id].weaknesses,{cols:40,rows:3,style:"display: block; margin-top: 3px; margin-bottom: 5px; resize: vertical;","aria-labelledby":"hweaknesses_"+i.id+" weaHead"}),d+='<div id="hopportunities_'+i.id+'" style="text-align: left;">'+i.title+"</div>"+this.com("memo","opportunities_"+i.id,n[i.id].opportunities,{cols:40,rows:3,style:"display: block; margin-top: 3px; margin-bottom: 5px; resize: vertical;","aria-labelledby":"hopportunities_"+i.id+" opoHead"}),c+='<div id="hthreats_'+i.id+'" style="text-align: left;">'+i.title+"</div>"+this.com("memo","threats_"+i.id,n[i.id].threats,{cols:40,rows:3,style:"display: block; margin-top: 3px; margin-bottom: 5px; resize: vertical;","aria-labelledby":"hthreats_"+i.id+" thrHead"});return r.push({values:[this.tc("internalAnalysis"),'<h2 class="plainHeader bigHeader bold" style="margin-bottom: 5px;" id="strHead">'+this.tc("strengths")+"</h2>"+o,'<h2 class="plainHeader bigHeader bold" style="margin-bottom: 5px;" id="weaHead">'+this.tc("weaknesses")+"</h2>"+l],type:"simple",hrafter:!0}),r.push({values:[this.tc("externalAnalysis"),'<h2 class="plainHeader bigHeader bold" style="margin-bottom: 5px;" id="opoHead">'+this.tc("opportunities")+"</h2>"+d,'<h2 class="plainHeader bigHeader bold" style="margin-bottom: 5px;" id="thrHead">'+this.tc("threats")+"</h2>"+c],type:"simple"}),this.swotTable=new DecisionTable(t?"":this.tc("swotAnalysis"),"swotTable",[{title:""},{title:"",type:"flag",dataClass:"total"},{title:"",type:"flag",dataClass:"total"}],r,!0),t&&(this.swotTable.tableCorners=""),this.swotTable.draw()},observe:function(){this.swotTable.element(),this.swotTable.doHlRows=!1,this.swotTable.observe()},drawSOD:function(){this.setValue(this.pfxSod+this.service,this.draw(!0)),this.disable()}})},55281:()=>{window.Editor=Class.extend({isInline:!0,calculate:!1,brAfterSpan:!0,initialize:function(t,e,i,s){this.decision=t,this.element=""+e.id+i,this.item=e,this.id=e.id,this.qtr=i,this.readonly=e.calc||e.readonly,this.value1=s||this.getDefaultValue(),this.dataRef=this.decision.luList[e.editorDataRef]||null,this.hasAvailableOptions=this._hasAvailableOptions(),this.qtrMin=this.decision.localCQ,this.qtrMax=this.qtrMin+this.decision.data.staticData.fill-1},_hasAvailableOptions:function(){return!0},_read:function(){return this.decision.value(this.element)},value:function(){return this.decision.value(this.element)},setValue:function(t){this.value1=void 0!==t?t:this._read(),this.decision.setValue(this.element,this.value1)},getErrorElement:function(){return this.element},writeError:function(t){this.decision.writeError(this.getErrorElement(),t)},getText:function(t,e){return t},getSpan:function(t,e){return'<span id="span_'+this.element+'" style="display: block;">'+this.getText(t,e||!1)+"</span>"},getCom:function(){return this.decision.com("edit",this.element,this.value1,{size:10},null,null,null,null,null)},com:function(){return this.readonly?this.getSpan(this.value1):this.isInline?this.getCom():this.getSpan(this.value1,!0)+(this.brAfterSpan?"<br />":"")+this.decision.com("ctrl","ctrl_"+this.element,"",{"aria-label":JSStrings.tc("common:change"),"aria-expanded":!1},null,null,null,null,null)+'<div id="div_'+this.element+'" style="position: absolute; text-align: left; display: none; max-width: 300px; left: 0; top: 0;"></div>'+this.getCom()},getDefaultValue:function(){return""},_content:function(){return{html:null,focusID:null}},show:function(){if(!this.isInline){var t=this._content(),e=j$("#div_"+this.element),i=j$("#ctrl_"+this.element),s=i.position(),a=Path.getPath(this.decision.st("common:controlsFolder"),"ctrl_hide",".png"),n='<div style="border: 1px solid #8e8e8e; background: #ffffff;box-shadow: 0 19px 38px rgba(0, 0, 0, 0.30);"><div style="padding: 8px;">'+t.html+'</div><button id="hide_'+this.element+'" class="button-plain" style="width: 100%; padding-right: 15px; text-align: right; box-sizing: border-box; border-width: 1px 0 0 0; border-style: solid; border-color: #8e8e8e; background: #efefef url('+a+') no-repeat right 3px; color: #777777; cursor: pointer;">'+this.decision.tc("done")+"</button></div>";e.html(n).show().css({width:e.width()+"px",left:s.left+i.width()-e.width()+2+"px",top:s.top+i.height()+1+"px"}),null!==t.focusID&&j$("#"+t.focusID).focus(),j$("#hide_"+this.element).on("click",this.hide.bind(this))}},hide:function(){if(!this.isInline){this.setValue(),j$("#hide_"+this.element).off(),j$("#div_"+this.element).hide().css({width:"auto",left:0,top:0}).html("");var t=Path.getPath(this.decision.st("common:controlsFolder"),"ctrl_show",".png");j$("#ctrl_"+this.element).off().on("click",this.decision.showEditor.bind(this.decision,this.item,this.qtr)).toggleClass("button-class",!1).css({width:"15px",height:"10px",border:"1px solid #8e8e8e",padding:"0px",background:"#efefef url("+t+") no-repeat center top",cursor:"pointer"}),this.decision.editor=null,this.calculate&&this.decision.calculate()}}}),window.MCHListEditor=Editor.extend({isInline:!1,_hasAvailableOptions:function(){var t,e,i;for(t=0;t<this.dataRef.groups.length;t++)for(e=this.dataRef.groups[t],i=0;i<e.items.length;i++)if(e.items[i].qtrsAvailable.indexOf(this.qtr)>-1)return!0;return!1},_addQtrsAvailable:function(t){if(this.qtrMin>this.qtr)return!0;if(t.qtrMin>this.qtr)return!0;var e;for(e=t.qtrMin;e<=this.qtrMax;e++)-1==t.qtrsAvailable.indexOf(e)&&t.qtrsAvailable.push(e);return!0},_removeQtrsAvailable:function(t){if(this.qtrMin>this.qtr)return!0;if(t.qtrMin>this.qtr)return!0;var e,i;if(t.qtrsAvailable.indexOf(this.qtr)>-1)for(e=t.qtrMin;e<=this.qtrMax;e++)e!=this.qtr&&(i=t.qtrsAvailable.indexOf(e))>-1&&t.qtrsAvailable.splice(i,1);return!0},_read:function(){var t,e,i,s,a="";if(!this.hasAvailableOptions)return a;for(t=0;t<this.dataRef.groups.length;t++)for(e=this.dataRef.groups[t],i=0;i<e.items.length;i++)-1!=(s=e.items[i]).qtrsAvailable.indexOf(this.qtr)&&(this.decision.value("option_"+this.element+"_"+s.id)?(a+=(""!=a?",":"")+s.id,this._removeQtrsAvailable(s)):this._addQtrsAvailable(s));return a},setValue:function(t,e,i){this._super(t),this.decision.setValue("span_"+this.element,this.getText(this.value1,i,e))},getErrorElement:function(){return"span_"+this.element},getText:function(t,e,i){var s,a,n,r,o,l=[],d=t.split(","),c="",h=e||!1,p=i||!1;if(!p&&!this.hasAvailableOptions)return this.decision.tc("common:na");for(s=0;s<d.length;s++)""!==d[s]&&l.push(Number(d[s]));for(a=0;a<this.dataRef.groups.length;a++)for(n=this.dataRef.groups[a],r=0;r<n.items.length;r++)o=n.items[r],p&&l.indexOf(o.id)>-1&&(this._addQtrsAvailable(o),this._removeQtrsAvailable(o)),-1!=o.qtrsAvailable.indexOf(this.qtr)&&(l.indexOf(o.id)>-1?(c+=(""!=c?"<br /> ":"")+String(o.value).escapeHTML(),h&&this._removeQtrsAvailable(o)):h&&this._addQtrsAvailable(o));return""==c?this.decision.tc("none"):c},getCom:function(){return'<input type="hidden" name="'+this.element+'" id="'+this.element+'" value="'+this.value1+'" />'},_content:function(){var t,e,i,s,a,n,r,o,l="",d=null,c=this.value1.split(",");if(!this.hasAvailableOptions)return{html:this.decision.tc("common:na"),focusID:d};for(t=0;t<c.length;t++)""!==c[t]?c[t]=Number(c[t]):c.splice(t,1);for(e=0;e<this.dataRef.groups.length;e++){for(i=this.dataRef.groups[e],n=!0,s=0;s<i.items.length;s++)-1!=(a=i.items[s]).qtrsAvailable.indexOf(this.qtr)&&(n&&(""!=i.name?(l+='<div role="group" aria-labelledby="group_'+e+"_"+this.element+'"><div id="group_'+e+"_"+this.element+'" style="font-weight:bold;">'+String(i.name).escapeHTML()+"</div>",r=!1,n=!1):r=!0),r&&null!==d&&(l+="<br />"),null===d&&(d="option_"+this.element+"_"+a.id),o=-1!=c.indexOf(a.id)?" checked":"",l+='<label for="option_'+this.element+"_"+a.id+'"><input type="checkbox" name="option_'+this.element+'" id="option_'+this.element+"_"+a.id+'"'+o+" /> "+String(a.value).escapeHTML()+"</label>",r=!0);n||""==i.name||(l+="</div>")}return{html:l,focusID:d}}}),window.PriListEditor=MCHListEditor.extend({_addQtrsAvailable:function(t){return!0},_removeQtrsAvailable:function(t){return!0},_read:function(){var t,e,i,s,a,n="";for(t=0;t<this.dataRef.groups.length;t++)for(e=this.dataRef.groups[t],i=0;i<e.items.length;i++)-1!=(s=e.items[i]).qtrsAvailable.indexOf(this.qtr)&&(a=Number(this.decision.value("option_"+this.element+"_"+s.id)))>0&&(n+=(""!=n?",":"")+s.id+"-"+a);return n},getText:function(t){var e,i,s,a,n,r="";for((n=this.getPriArr(t)).sort((function(t,e){return t.priority-e.priority})),e=0;e<n.length;e++)if(0!=n[e].priority)for(i=0;i<this.dataRef.groups.length;i++)for(s=this.dataRef.groups[i],a=0;a<s.items.length;a++)if(n[e].id==s.items[a].id){r+=(""!=r?"<br /> ":"")+String(s.items[a].value).escapeHTML();break}return""==r?this.decision.tc("none"):r},_content:function(){var t,e,i,s,a,n,r,o="",l=null;for(r=this.getPriArr(this.value1).toLookUp("id"),t=0;t<this.dataRef.groups.length;t++){for(""!=(e=this.dataRef.groups[t]).name?(o+='<div role="group" aria-labelledby="group_'+t+"_"+this.element+'"><div id="group_'+t+"_"+this.element+'" style="font-weight:bold;">'+String(e.name).escapeHTML()+"</div>",a=!1):a=!0,i=0;i<e.items.length;i++)-1!=(s=e.items[i]).qtrsAvailable.indexOf(this.qtr)&&(a&&null!==l&&(o+="<br />"),null===l&&(l="option_"+this.element+"_"+s.id),n=void 0!==r[s.id]?r[s.id].priority:0,o+='<label for="option_'+this.element+"_"+s.id+'"><select name="option_'+this.element+'" id="option_'+this.element+"_"+s.id+'">'+this.getComOptions(n)+"</select> "+String(s.value).escapeHTML()+"</label>",a=!0);""!=e.name&&(o+="</div>")}return{html:o,focusID:l}},getPriArr:function(t){var e,i,s=1,a=t.split(","),n=[];for(e=0;e<a.length;e++)""!==a[e]&&(void 0===(i=a[e].split("-"))[1]&&(i[1]=s++),n.push({id:Number(i[0]),priority:Number(i[1])}));return n},getComOptions:function(t){var e,i,s,a=1,n='<option value="0">---</option>';for(e=0;e<this.dataRef.groups.length;e++)for(i=this.dataRef.groups[e],s=0;s<i.items.length;s++)n+='<option value="'+a+'"'+(a==t?" selected":"")+">"+this.decision.tc("priority"+a).escapeHTML()+"</option>",a++;return n}}),window.SCHListEditor=MCHListEditor.extend({calculate:!0,_addQtrsAvailable:function(t){return!0},_removeQtrsAvailable:function(t){return!0},_content:function(){var t,e,i,s,a,n,r,o="",l=null,d=this.value1.split(",");for(t=0;t<d.length;t++)""!==d[t]&&(d[t]=Number(d[t]));for(e=0;e<this.dataRef.groups.length;e++){for(""!=(i=this.dataRef.groups[e]).name?(o+='<div role="group" aria-labelledby="group_'+e+"_"+this.element+'"><div id="group_'+e+"_"+this.element+'" style="font-weight:bold;">'+String(i.name).escapeHTML()+"</div>",n=!1):n=!0,s=0;s<i.items.length;s++)-1!=(a=i.items[s]).qtrsAvailable.indexOf(this.qtr)&&(n&&null!==l&&(o+="<br />"),null===l&&(l="option_"+this.element+"_"+a.id),r=-1!=d.indexOf(a.id)?" checked":"",o+='<label for="option_'+this.element+"_"+a.id+'"><input type="radio" name="option_'+this.element+'" id="option_'+this.element+"_"+a.id+'"'+r+" /> "+String(a.value).escapeHTML()+"</label>",n=!0);""!=i.name&&(o+="</div>")}return{html:o,focusID:l}}}),window.IntEditor=Editor.extend({getText:function(t){return Number(t).format()},getCom:function(){return this.decision.com("iedit",this.element,this.value1,{size:10},null,null,null,null,null)},getDefaultValue:function(){return 0}}),window.PIntEditor=IntEditor.extend({}),window.NIntEditor=IntEditor.extend({}),window.FloatEditor=Editor.extend({getText:function(t){return Number(t).format(2)},getCom:function(){return this.decision.com("fedit",this.element,this.value1,{size:10},null,null,null,null,null)},getDefaultValue:function(){return 0}}),window.PFloatEditor=FloatEditor.extend({}),window.NFloatEditor=FloatEditor.extend({}),window.StringEditor=Editor.extend({writeError:function(t){this.decision.writeError(this.getErrorElement(),t,"center right")}}),window.NEStringEditor=StringEditor.extend({}),window.MLStringEditor=Editor.extend({isInline:!1,brAfterSpan:!1,_read:function(){return this.decision.value("text_"+this.element)},setValue:function(t){this._super(t),this.decision.setValue("span_"+this.element,this.getText(this.value1))},getErrorElement:function(){return"span_"+this.element},getText:function(t){var e=t;return""==e&&(e=this.decision.tc("none")),'<pre style="margin:0px; font:inherit;">'+String(e).escapeHTML()+"</pre>"},getCom:function(){return'<div id="text_header_'+this.element+'" style="display:none;">'+this.decision.tc("customText")+'</div><textarea name="'+this.element+'" id="'+this.element+'" aria-labelledby="text_header_'+this.element+'" style="display:none;">'+this.value1+"</textarea>"},_content:function(){return{html:'<label><div id="text_header_'+this.element+'">'+this.decision.tc("customText")+'</div><textarea id="text_'+this.element+'" aria-labelledby="text_header_'+this.element+'" rows="10" class="edit-class" style="resize:vertical;">'+String(this.decision.value(this.element)).escapeHTML()+"</textarea></label>",focusID:"text_"+this.element}}});var t=function(t,e,i,s){var a;switch(e.editorType){case"prilist":a=new PriListEditor(t,e,i,s);break;case"schlist":a=new SCHListEditor(t,e,i,s);break;case"mchlist":a=new MCHListEditor(t,e,i,s);break;case"int":a=new IntEditor(t,e,i,s);break;case"pint":a=new PIntEditor(t,e,i,s);break;case"nint":a=new NIntEditor(t,e,i,s);break;case"float":a=new FloatEditor(t,e,i,s);break;case"pfloat":a=new PFloatEditor(t,e,i,s);break;case"nfloat":a=new NFloatEditor(t,e,i,s);break;case"nestring":a=new NEStringEditor(t,e,i,s);break;case"mlstring":a=new MLStringEditor(t,e,i,s);break;default:a=new StringEditor(t,e,i,s)}return a};window.TacticalPlan=Decision.extend({modifyModeButtons:["loaddata","save","cancel"],cssExplanExt:"-wooden",style:"padding:10px 10px 0px 10px;",editor:null,editorShown:null,editorQtr:0,read:function(){this.hideEditor();var e,i,s,a,n,r,o,l=this.data.decisions.items.toLookUp("id");for(e=0,i=this.sd.sections.length;e<i;++e)for(a=0,n=(s=this.sd.sections[e]).items.length;a<n;++a)if(!(r=s.items[a]).calc&&!r.readonly)for(o=0;o<Number(this.sd.fill);++o)l[r.id].quarters[o]=t(this,r,this.localCQ+o).value()},write:function(){this.hideEditor();var e,i,s,a,n,r,o,l=this.data.decisions.items.toLookUp("id");for(e=0,i=this.sd.sections.length;e<i;++e)for(a=0,n=(s=this.sd.sections[e]).items.length;a<n;++a)if(!(r=s.items[a]).calc&&!r.readonly)for(o=0;o<Number(this.sd.fill);++o)t(this,r,this.localCQ+o).setValue(l[r.id].quarters[o],!1,!1)},writeErrors:function(){var e,i,s,a,n,r,o,l=this.data.errors.decisions.items.toLookUp("id"),d=this.data.errors.calculate.items.toLookUp("id");for(e=0,i=this.sd.sections.length;e<i;++e)for(a=0,n=(s=this.sd.sections[e]).items.length;a<n;++a){if(!(r=s.items[a]).calc&&!r.readonly)for(o=0;o<Number(this.sd.fill);++o)t(this,r,this.localCQ+o).writeError(l[r.id].quarters[o]);if(r.calc)for(o=0;o<Number(this.sd.fill);++o)this.writeError("span_"+r.id+(this.localCQ+o),d[r.id].quarters[o])}},writeCalculate:function(){var t,e,i,s,a,n,r,o=this.data.calculate.items.toLookUp("id");for(t=0,e=this.sd.sections.length;t<e;++t)for(s=0,a=(i=this.sd.sections[t]).items.length;s<a;++s)if((n=i.items[s]).calc)for(r=0;r<Number(this.sd.fill);++r)j$("#span_"+n.id+(this.localCQ+r)).html(Number(o[n.id].quarters[r]).format())},loaddata:function(){var e,i,s,a,n,r,o,l,d=this.data.dynamicData.items.toLookUp("id");for(this.hideEditor(),e=0,i=this.sd.sections.length;e<i;++e)for(a=0,n=(s=this.sd.sections[e]).items.length;a<n;++a)if(!(r=s.items[a]).calc)for(t(this,r,this.localCQ).setValue(d[r.id].quarters[0],!0,!0),o=1;o<Number(this.sd.fill);++o)(l=t(this,r,this.localCQ+o)).setValue(l.value(),!1,!0);this.calculate()},draw:function(){this.cd=this.data.commonData,this.sd=this.data.staticData,this.luList=this.sd.editorData.list.toLookUp("id"),this.localCQ=this.sd.sections[0].items[0].quarters.length+1;var e,i,s,a,n,r,o,l,d,c,h,p=this.data.decisions.items.toLookUp("id"),u=this.data.calculate.items.toLookUp("id"),g=[{title:"",vline:!0}],m=[],b=this.localCQ+Number(this.sd.fill),f=!1;for(o=1;o<b;++o)o<b-1?g.push({title:this.tc("qtr",{QUARTER:o}),align:"right",vline:!0}):g.push({title:this.tc("qtr",{QUARTER:o}),align:"right"});for(e=0,i=this.sd.sections.length;e<i;++e)for(0!=e&&(f=!0),a=0,n=(s=this.sd.sections[e]).items.length;a<n;++a){for(r=s.items[a],l=[this.ex(r.explanID,r.name)],o=0;o<this.localCQ-1;++o)l.push(t(this,r,o+1).getText(r.quarters[o]));for(o=0;o<Number(this.sd.fill);++o)d=void 0!==p[r.id]?p[r.id].quarters[o]:u[r.id].quarters[o],c=t(this,r,this.localCQ+o,d),l.push(c.com()),c=null;h={values:l},f&&(h.hrbefore=f),m.push(h),f=!1}return this.tpTable=new DecisionTable(this.tc("tacticalPlan"),"tpTable",g,m,!1,"wooden"),this.tpTable.draw()},observe:function(){var t,e,i,s,a,n,r,o,l,d=this.tpTable.element(),c=1,h=Path.getPath(this.st("common:controlsFolder"),"ctrl_show",".png");for(this.tpTable.observe(),this.tpTable.stickHeaders(this.contentElement),this.tpTable.stickFirstColumn(this.contentElement),i=0,s=this.sd.sections.length;i<s;++i)for(n=0,r=(a=this.sd.sections[i]).items.length;n<r;++n){for(e=a.items[n],t=d.rows[c],o=0,l=this.localCQ-1;o<l;++o)t.cells[o+1].style.textAlign="right";for(o=0,l=Number(this.sd.fill);o<l;++o)e.calc||e.readonly?t.cells[this.localCQ+o].style.textAlign="right":(this.bindCalculate(e.id+(this.localCQ+o),"keyup",!0),t.cells[this.localCQ+o].style.textAlign="right","string"===e.editorType&&this.bindCalculate(e.id+(this.localCQ+o),"keyup",!1),"prilist"!==e.editorType&&"schlist"!==e.editorType&&"mchlist"!==e.editorType&&"mlstring"!==e.editorType||(j$("#ctrl_"+e.id+(this.localCQ+o)).on("click",this.showEditor.bind(this,e,this.localCQ+o)).toggleClass("button-class",!1).css({width:"15px",height:"10px",border:"1px solid #8e8e8e",padding:"0px",background:"#efefef url("+h+") no-repeat center top",cursor:"pointer"}),"schlist"===e.editorType&&(t.cells[this.localCQ+o].style.textAlign="right")));"prilist"!==e.editorType&&"schlist"!==e.editorType&&"mchlist"!==e.editorType&&"mlstring"!==e.editorType||(t.style.verticalAlign="top"),c++}this.showOnlyInputErrors=!1},showEditor:function(e,i){var s=Path.getPath(this.st("common:controlsFolder"),"ctrl_hide",".png");this.hideEditor(),this.editor=t(this,e,i,this.value(e.id+i)),this.editor.show(),j$("#ctrl_"+e.id+i).off().on("click",this.editor.hide.bind(this.editor)).css({background:"#efefef url("+s+") no-repeat center top"}).attr("aria-expanded",!0)},hideEditor:function(){null!==this.editor&&this.editor.hide()},destroy:function(){this.tpTable.destroy(),this._super()}})},68189:()=>{window.DropDownStaticTSEditor=DropDownStatic.extend({isDelayed:!1,initialize:function(t,e,i,s,a){this.tsEditor=e,this.dataRef=e.dataRef,this._super(t,"ddts","bottom","left","",s,a,!1);var n=this.tsEditor.decision.st("common:controlsFolder");this.btnShow=Path.getPath(n,"ctrl_show",".png"),this.btnHide=Path.getPath(n,"ctrl_hide",".png"),this.element.toggleClass("button-class",!1).css({width:"15px",height:"10px",border:"1px solid #8e8e8e",padding:"0px",background:"#efefef url("+this.btnShow+") no-repeat center top",cursor:"pointer"}),this.maxTextSize=this.tsEditor.decision.data.staticData.maxTextSize},getEvents:function(){return{keydown:function(t){13!==t.keyCode&&32!==t.keyCode&&40!==t.keyCode||(t.preventDefault(),this.toggle(!0))}.bind(this),click:function(t){this.toggle(!0),t.stopPropagation()}.bind(this),mouseover:function(t){},mouseout:function(t){}}},getDDEvents:function(){return{mouseover:function(t){},mouseout:function(t){},documentClick:function(t){},blur:function(t){}}},getID:function(t,e){return this.tsEditor.getID(t,e)},onShow:function(){this.element.css({background:"#efefef url("+this.btnHide+") no-repeat center top"}).attr("aria-expanded",!0),this.tsEditor.onShowDropDown()},hide:function(){if(this.isOn){var t,e,i,s=[];for(t=0,e=this.dataRef.length;t<e;++t)i=this.dataRef[t],j$(this.getID("#option",i.id)).is(":checked")&&s.push({id:i.id,text:i.isText?j$(this.getID("#edit",i.id)).val():""});this.tsEditor.setValue(s),this.element.css({background:"#efefef url("+this.btnShow+") no-repeat center top"}).attr("aria-expanded",!1).focus()}this._super()},drawContent:function(){var t,e,i,s,a,n,r,o,l,d=this.tsEditor.getValue().toLookUp("id"),c='<div style="border: 1px solid #8e8e8e; background: #ffffff;"><div style="padding: 8px; white-space: nowrap; max-height: 270px; overflow-y: auto;">';for(t=0,e=this.dataRef.length;t<e;++t)t>0&&(c+="<br />"),void 0!==d[(i=this.dataRef[t]).id]?(s="checked",a="",n="edit-class",l=d[i.id].text):(s="",a="disabled",n="edit-class edit-class-disabled",l=""),i.isText?(r=i.title,o=' - <input type="text" id="'+this.getID("edit",i.id)+'" class="'+n+'" size="35" '+a+' maxlength="'+this.maxTextSize+'" value="'+l.escapeHTML()+'" aria-label="'+r.escapeHTML()+'"/>'):(r=i.title+" - <b>"+i.value.escapeHTML()+"</b>",o=""),c+='<label for="'+this.getID("option",i.id)+'"><input type="checkbox" id="'+this.getID("option",i.id)+'" '+s+" />"+r+"</label>"+o;return c+'</div><button id="'+this.getID("hide")+'" class="button-plain" style="width: 100%; padding-right: 15px; text-align: right; box-sizing: border-box; border-width: 1px 0 0 0; border-style: solid; border-color: #8e8e8e; background: #efefef url('+this.btnHide+') no-repeat right 3px; color: #777777; cursor: pointer;">'+this.tsEditor.decision.tc("done")+"</button></div>"},observeContent:function(){var t,e,i;for(j$(this.getID("#hide")).on("click",this.events.click),t=0,e=this.dataRef.length;t<e;++t)i=this.dataRef[t],j$(this.getID("#option",i.id)).on("click",function(t){var e=j$(this.getID("#option",t.id)).is(":checked"),i=j$(this.getID("#edit",t.id));i.prop("disabled",!e).toggleClass("edit-class-disabled",!e),e?i.val(i.data("value")):i.data("value",i.val()).val("")}.bind(this,i))}}),window.TSEditor=Class.extend({initialize:function(t,e,i,s,a){this.decision=t,this.id=e,this.quarter=i,this.element=e+"_"+i,this.value=s,this.dataRef=a||null,this.error=null,this.dropDown=null},getID:function(t,e){var i="";return t&&(i+=t+"_"),i+=this.element,e&&(i+="_"+e),i},getValue:function(){return this.value},setValue:function(t){this.value=t,this.decision.setValue(this.getID("span"),this.getValueText())},writeError:function(t){this.error=this.decision.writeError(this.getID("ctrl"),t,"center right",!0,3)},removeError:function(){this.decision.removeError(this.error),this.error=null},getValueText:function(){var t,e,i,s=[],a=this.value.toLookUp("id");for(t=0,e=this.dataRef.length;t<e;++t)void 0!==a[(i=this.dataRef[t]).id]&&s.push(i.title+"<br /><b>"+(i.isText?a[i.id].text:i.value).escapeHTML()+"</b>");return 0===s.length?this.decision.tc("none"):s.join("<br />")},getSpan:function(){return'<span id="'+this.getID("span")+'">'+this.getValueText()+"</span>"},getCom:function(){return this.getSpan()+"<br />"+this.decision.com("ctrl",this.getID("ctrl"),"",{"aria-label":JSStrings.tc("common:change"),"aria-expanded":!1},null,null,null,null,null)},observe:function(){this.dropDown=new DropDownStaticTSEditor(this.getID("ctrl"),this)},onShowDropDown:function(){this.removeError(),this.decision.activeTSEditor=this},hideDropDown:function(){this.dropDown.hide()},destroy:function(){this.dropDown.destroy()}}),window.TacticStrategyLinks=Decision.extend({style:"padding: 10px 10px 0px 10px;",read:function(){this.hideTSEditorDropDown();var t,e,i,s,a=Number(this.sd.fill),n=this.data.decisions;for(t=0,e=n.thrusts.length;t<e;++t)for(i=n.thrusts[t],s=0;s<a;++s)i.tactics[s]=this.tsEditors[i.id][s].getValue()},write:function(){this.hideTSEditorDropDown();var t,e,i,s,a=Number(this.sd.fill),n=this.data.decisions;for(t=0,e=n.thrusts.length;t<e;++t)for(i=n.thrusts[t],s=0;s<a;++s)this.tsEditors[i.id][s].setValue(i.tactics[s])},writeErrors:function(){var t,e,i,s,a=Number(this.sd.fill),n=this.data.errors.decisions;for(t=0,e=n.thrusts.length;t<e;++t)for(i=n.thrusts[t],s=0;s<a;++s)this.tsEditors[i.id][s].writeError(i.tactics[s])},draw:function(){this.sd=this.data.staticData,this.dd=this.data.dynamicData,this.activeTSEditor=null,this.tsEditors={};var t,e,i,s,a=this.data.decisions.thrusts.toLookUp("id"),n=[{title:this.tc("strategy")}],r=[],o=Number(this.sd.fill);for(s=0;s<o;++s)n.push({title:this.tc("qtr",{QUARTER:s+Live.user.quarter()})});for(t=0,e=this.dd.thrusts.length;t<e;++t){var l=[(i=this.dd.thrusts[t]).text];for(this.tsEditors[i.id]=[],s=0;s<o;++s)this.tsEditors[i.id][s]=new TSEditor(this,i.id,s,a[i.id].tactics[s],this.dd.tactics[s]),l.push(this.tsEditors[i.id][s].getCom());r.push(l)}return this.stlTable=null,this.emptyLabel=null,0===this.dd.thrusts.length?(this.emptyLabel=new DecisionLabel(this.service,"emptyLabel",this.tc("noThrusts"),"","blue"),this.emptyLabel.draw()):(this.stlTable=new DecisionTable("","stlTable",n,r,!1),this.stlTable.draw())},observe:function(){var t,e,i,s,a,n=1,r=Number(this.sd.fill);if(this.emptyLabel)return this.emptyLabel.observe(),void this.emptyLabel.change("float","left");for(t=this.stlTable.element(),this.stlTable.observe(),i=0,s=this.dd.thrusts.length;i<s;++i){var o=this.dd.thrusts[i];for(e=t.rows[n],a=0;a<r;++a)this.tsEditors[o.id][a].observe(),e.style.verticalAlign="top";n++}},drawSOD:function(){},hideTSEditorDropDown:function(){null!=this.activeTSEditor&&this.activeTSEditor.hideDropDown()},destroy:function(){var t,e,i,s,a=Number(this.sd.fill);for(this.activeTSEditor=null,e=0,i=this.dd.thrusts.length;e<i;++e)for(s=this.dd.thrusts[e],t=0;t<a;++t)this.tsEditors[s.id][t].destroy()}})},34227:(t,e,i)=>{"use strict";i(68189),window.TacticStrategyLinksFinance=TacticStrategyLinks.extend()},50909:(t,e,i)=>{"use strict";i(68189),window.TacticStrategyLinksHumanResource=TacticStrategyLinks.extend()},42891:(t,e,i)=>{"use strict";i(68189),window.TacticStrategyLinksManufacturing=TacticStrategyLinks.extend()},58621:(t,e,i)=>{"use strict";i(68189),window.TacticStrategyLinksMarketing=TacticStrategyLinks.extend()},24067:(t,e,i)=>{"use strict";i(68189),window.TacticStrategyLinksSalesChannel=TacticStrategyLinks.extend()},16023:()=>{window.TargetReplenishPoint=Decision.extend({sendCalculate:!1,style:"padding: 10px 10px 0px 10px;",redrawOnModify:!0,read:function(){var t,e,i,s,a,n=this.data.dynamicData,r=this.data.decisions;for(t=0;t<r.brands.length;t++)e=r.brands[t],n.inSupplyChain?(e.contractID=this.value(this.getElementName("produce",e,!1)),e.produce=-1==e.contractID,-1==e.contractID&&(e.contractID=0)):e.produce=this.value(this.getElementName("produce",e,!1)),e.replenish=this.value("replenish_"+e.brandID),e.target=this.value("target_"+e.brandID),e.priority=this.value("priority_"+e.brandID);for(t=0;t<r.brandsForProduction.length;t++)for(e=r.brandsForProduction[t],a=this.value(this.getElementName("produce",e,!0)),i=0;i<e.RFPs.length;i++)(s=e.RFPs[i]).contractID==a?(s.priority=this.value(this.getElementName("priority",e,!0)),s.replenish=this.value(this.getElementName("replenish",e,!0)),s.target=this.value(this.getElementName("target",e,!0)),s.produce=!0):s.produce=!1},write:function(){var t,e,i,s,a,n=this.data.dynamicData,r=this.data.decisions;for(t=0;t<r.brands.length;t++){var o=r.brands[t];n.inSupplyChain?(o.produceIndex=o.produce?-1:o.contractID,this.setValue(this.getElementName("produce",o,!1),o.produceIndex)):this.setValue(this.getElementName("produce",o,!1),o.produce),this.setRow(o,!1)}for(t=0;t<r.brandsForProduction.length;t++){for(e=r.brandsForProduction[t],a=0,i=0;i<e.RFPs.length;i++)if((s=e.RFPs[i]).produce){a=s.contractID;break}e.produceIndex=a,this.setValue(this.getElementName("produce",e,!0),e.produceIndex),this.setRow(e,!0)}},writeErrors:function(){var t,e,i,s,a,n=this.data.errors.decisions,r=this.data.decisions.brandsForProduction.toLookUp("teamID","brandID");for(e=0;e<n.brands.length;e++)t=n.brands[e],this.writeError("produce_"+t.brandID,t.produce,"center left",!1,3),this.writeError("replenish_"+t.brandID,t.replenish,"center left",!1,3),this.writeError("target_"+t.brandID,t.target,"center left",!1,3),this.writeError("priority_"+t.brandID,t.priority,"center left",!1,3);for(e=0;e<n.brandsForProduction.length;e++)for(t=n.brandsForProduction[e],s=0;s<t.RFPs.length;s++)i=t.RFPs[s],a=this.getRFPIndex(r[t.teamID][t.brandID],i.contractID),r[t.teamID][t.brandID].RFPs[a].produce&&(this.writeError(this.getElementName("produce",t,!0),i.produce,"center left",!1,3),this.writeError(this.getElementName("replenish",t,!0),i.replenish,"center left",!1,3),this.writeError(this.getElementName("target",t,!0),i.target,"center left",!1,3),this.writeError(this.getElementName("priority",t,!0),i.priority,"center left",!1,3))},draw:function(t){var e,i,s,a,n,r,o,l,d,c,h="",p=this.data.staticData,u=this.data.dynamicData,g=this.data.decisions,m=[],b=[{title:this.tc("brand"),vline:!0},{title:this.tc("produce"),type:"flag"}],f=u.brands.toLookUp("brandID"),v=u.brandsForProduction.toLookUp("teamID","brandID"),y=p.teams.toLookUp("teamID");for(t=t||!1,u.inSupplyChain?b.push({title:this.tc("replenish_short"),align:"right"}):b.push({title:this.tc("replenish"),align:"right"}),b.push({title:this.tc("target"),align:"right"},{title:this.tc("priority"),align:"right",vline:!0}),u.inSupplyChain&&b.push({title:this.tc("shipmentQuantity"),align:"right"},{title:this.tc("shipmentFrequency"),align:"right",vline:!0},{title:this.tc("contractQuantity"),align:"right"},{title:this.tc("contractStatus"),align:"right"}),e=0;e<g.brands.length;e++)i=g.brands[e],d=[Format.brandName(f[i.brandID].brandName.escapeHTML(),f[i.brandID].brandType),this.getCtrlProduce(i,!1),this.com("iedit","replenish_"+i.brandID,i.produce?i.replenish:0,{size:5}),this.com("iedit","target_"+i.brandID,i.produce?i.target:0,{size:5}),this.com("iedit","priority_"+i.brandID,i.produce?i.priority:0,{size:5})],u.inSupplyChain&&(n=r=o=l="",i.contractID>0&&(a=this.getRFPIndex(f[i.brandID],i.contractID),n=(c=this.getRFPInfo(f[i.brandID].RFPs[a])).shipmentAmount,r=c.shipmentFrequency,o=c.amount,l=c.status),d.push('<span id="'+this.getElementName("shipment",i,!1)+'">'+n+"</span>",'<span id="'+this.getElementName("shipmentFrequency",i,!1)+'">'+r+"</span>",'<div id="'+this.getElementName("contractQuantity",i,!1)+'">'+o+"</div>",this.getContractStatusLink(i,l,!1))),m.push(d);for(e=0;e<g.brandsForProduction.length;e++)i=g.brandsForProduction[e],s=this.getRFPIndex(i),d=[this.tc("brandBy",{BRAND_NAME:Format.brandName(v[i.teamID][i.brandID].brandName.escapeHTML(),v[i.teamID][i.brandID].brandType),RESELLER:y[i.teamID].companyName.escapeHTML()}),this.getCtrlProduce(i,!0,s),this.com("iedit",this.getElementName("replenish",i,!0),s>-1?i.RFPs[s].replenish:0,{size:5}),this.com("iedit",this.getElementName("target",i,!0),s>-1?i.RFPs[s].target:0,{size:5}),this.com("iedit",this.getElementName("priority",i,!0),s>-1?i.RFPs[s].priority:0,{size:5})],n=r=o=l="",s>-1&&(a=this.getRFPIndex(v[i.teamID][i.brandID],i.RFPs[s].contractID),n=(c=this.getRFPInfo(v[i.teamID][i.brandID].RFPs[a])).shipmentAmount,r=c.shipmentFrequency,o=c.amount,l=c.status),d.push('<span id="'+this.getElementName("shipment",i,!0)+'">'+n+"</span>",'<span id="'+this.getElementName("shipmentFrequency",i,!0)+'">'+r+"</span>",'<div id="'+this.getElementName("contractQuantity",i,!0)+'">'+o+"</div>",this.getContractStatusLink(i,l,!0)),m.push(d);return 0!=this.data.staticData.fixedCapacity&&0!=m.length||!this.data.dynamicData.allowSelfProduction&&g.brands.length>0?(this.emptyLabel=null,this.trTable=new DecisionTable(t?"":this.tc("targetReplenishment"),"trTable",b,m,!1,"green"),t&&(this.trTable.tableCorners=""),this.trTable.draw()):(this.viewModeButtons=[],this.modifyModeButtons=[],0==this.data.staticData.fixedCapacity&&(h+=this.tc("common:noFactory")),0==m.length&&(h+=(""!=h?"<br />":"")+this.tc("common:noBrands")),this.emptyLabel=new DecisionLabel(this.service,"emptyLabel",h,"","green"),this.emptyLabel.draw())},getContractStatusLink:function(t,e,i){return this.cf.getLink(e,this.getElementName("contractStatusLink",t,i),j$.proxy(this.onClickContractStatus,this,t,i),"#")},observe:function(){if(null==this.emptyLabel){var t,e=this.data.dynamicData,i=this.data.decisions.brands,s=this.data.decisions.brandsForProduction;for(this.trTable.observe(),t=0;t<i.length;++t)j$("#"+this.getElementName("produce",i[t],!1)).on("change",j$.proxy(this.onChangeProduce,this,i[t],!1)),e.inSupplyChain&&!e.allowSelfProduction&&this.bindCalculate(this.getElementName("produce",i[t],!1),"change",!1),this.setRow(i[t],!1);for(t=0;t<s.length;++t)j$("#"+this.getElementName("produce",s[t],!0)).on("change",j$.proxy(this.onChangeProduce,this,s[t],!0)),this.setRow(s[t],!0)}else this.emptyLabel.observe(),this.emptyLabel.change("float","left")},drawSOD:function(){var t=this.draw(!0);null==this.emptyLabel?(this.setValue(this.pfxSod+this.service,t),this.disable()):this.setValue(this.pfxSod+this.service,"")},setRow:function(t,e){var i,s,a,n=this.data.dynamicData,r=null,o=0,l=0,d=0,c=!1,h=this.getElementName("replenish",t,e),p=this.getElementName("target",t,e),u=this.getElementName("priority",t,e),g=this.value(this.getElementName("produce",t,e)),m=n.inSupplyChain?-1==g:g,b=n.inSupplyChain?0==g:!g;if(m?(o=t.replenish,l=t.target,d=t.priority):b?c=!0:e?(a=n.brandsForProduction.toLookUp("teamID","brandID"),i=this.getRFPIndex(a[t.teamID][t.brandID],g),r=a[t.teamID][t.brandID].RFPs[i],o=t.RFPs[i].replenish,l=t.RFPs[i].target,d=t.RFPs[i].priority):(s=n.brands.toLookUp("brandID"),i=this.getRFPIndex(s[t.brandID],g),r=s[t.brandID].RFPs[i],c=!0),this.setValue(h,o),this.setValue(p,l),this.setValue(u,d),this.inModifyMode&&(j$("#"+h).prop("disabled",c),j$("#"+p).prop("disabled",c),j$("#"+u).prop("disabled",c)),n.inSupplyChain){var f=this.getRFPInfo(r);j$("#"+this.getElementName("shipment",t,e)).html(f.shipmentAmount),j$("#"+this.getElementName("shipmentFrequency",t,e)).html(f.shipmentFrequency),j$("#"+this.getElementName("contractQuantity",t,e)).html(f.amount),j$("#"+this.getElementName("contractStatusLink",t,e)).html(f.status)}},onChangeProduce:function(t,e){var i,s=this.value(this.getElementName("produce",t,e)),a=this.data.dynamicData;0!=t.produceIndex&&(e||-1!=t.produceIndex||(t.replenish=this.value(this.getElementName("replenish",t,e)),t.target=this.value(this.getElementName("target",t,e)),t.priority=this.value(this.getElementName("priority",t,e))),e&&t.produceIndex>0&&(i=this.getRFPIndex(t,t.produceIndex),t.RFPs[i].replenish=this.value(this.getElementName("replenish",t,e)),t.RFPs[i].target=this.value(this.getElementName("target",t,e)),t.RFPs[i].priority=this.value(this.getElementName("priority",t,e)))),this.setRow(t,e),a.inSupplyChain?t.produceIndex=Number(s):t.produceIndex=s?-1:0},onClickContractStatus:function(t,e){var i=this.value(this.getElementName("produce",t,e));i>0&&Engine.showNewWindow("confirmrfp","ConfirmRfp",i)},getRFPIndex:function(t,e){var i,s=e||null;for(i=0;i<t.RFPs.length;i++)if(null!=s&&s==t.RFPs[i].contractID||null==s&&t.RFPs[i].produce)return i;return-1},getCtrlProduce:function(t,e,i){var s,a=[],n=(i=void 0===i?-1:i,this.data.dynamicData),r=n.resellerRFPs.toLookUp("contractID"),o=n.supplierRFPs.toLookUp("contractID"),l=n.brands.toLookUp("brandID");if(n.brandsForProduction.toLookUp("teamID","brandID"),t.produceIndex=e?i>-1?t.RFPs[i].contractID:0:t.produce?-1:t.contractID,!n.inSupplyChain)return this.com("checkbox",this.getElementName("produce",t,e),t.produce);if(e&&-1!=t.produceIndex)for(s=0;s<t.RFPs.length;s++)a.push({value:t.RFPs[s].contractID,label:this.tc("contractNo",{CONTRACT_NUMBER:o[t.RFPs[s].contractID].contractNo})});else for((this.data.dynamicData.allowSelfProduction||-1==t.produceIndex)&&a.push({value:-1,label:this.tc("selfProduction")}),s=0;s<l[t.brandID].RFPs.length;s++)a.push({value:l[t.brandID].RFPs[s].contractID,label:this.tc("contractNo",{CONTRACT_NUMBER:r[l[t.brandID].RFPs[s].contractID].contractNo})});return this.com("combobox",this.getElementName("produce",t,e),t.produceIndex,{},a,"value","label",0,this.tc("doNotProduce"))},getElementName:function(t,e,i){return i?t+"_"+e.teamID+"_"+e.brandID:t+"_"+e.brandID},getRFPInfo:function(t){var e={shipmentAmount:"",shipmentFrequency:"",amount:"",status:""};return null==t||(t.amount>0&&(e.shipmentAmount=Format.integer(t.shipmentAmount),e.amount=Format.integer(t.amount)),t.maxAmount>t.amount&&(e.shipmentAmount+=" - "+Format.integer(t.shipmentMaxAmount),e.amount+=" - "+Format.integer(t.maxAmount)),t.amountEstimate>0&&(e.shipmentAmount=Format.integer(t.shipmentAmountEstimate),e.amount=Format.integer(t.amountEstimate)),e.shipmentFrequency=this.tc("frequency_N",{NUMBER:t.frequency}),e.status=this.tc("status"+t.status)),e}})},61374:()=>{window.TargetSegments=Decision.extend({style:"padding: 10px 10px 0px 10px;",hideButtonsInLastQuarter:!1,read:function(){this.data.decisions.targetSegments.forEach((function(t){t.priority=this.value("tm_"+t.segmentID)}),this)},write:function(){this.data.decisions.targetSegments.forEach((function(t){this.setValue("tm_"+t.segmentID,t.priority)}),this)},writeErrors:function(){this.data.errors.decisions.targetSegments.forEach((function(t){this.writeError("tm_"+t.segmentID,t.priority,"center right",!0)}),this)},draw:function(){var t=this.data.staticData.segments.toLookUp("segmentID"),e="",i=[{p:0,v:this.tc("p_0")}];return e+='<div id="tsgs">'+this.cf.getLabel(this.tc("targetMarkets"))+"<br />",e+='<ul style="padding:0px; margin: 10px 0px;">',i=[{p:0,v:this.tc("p_0")}],this.data.staticData.segments.forEach((function(t,e){i.push({p:e+1,v:this.tc("p_"+(e+1))})}),this),this.data.decisions.targetSegments.forEach((function(s){e+='<li class="targetSegLi"><div style="float:left; min-width: 125px;">'+this.cf.getLabel(Format.segmentName(t[s.segmentID].name,t[s.segmentID].shortName,!0),"tm_"+s.segmentID)+"</div>"+this.com("combobox","tm_"+s.segmentID,s.priority,{},i,"p","v")+"</li>"}),this),e+="</ul>",this.lbl=new DecisionLabel(this.serrvice,"gsd",e),this.lbl.draw()},observe:function(){this.lbl.observe(),this.lbl.change("float","left"),j$(this.lbl.element()).css({"line-height":"1.5em"})},drawSOD:function(){var t,e,i,s=this.data.staticData,a=this.data.decisions,n=1,r=s.segments.toLookUp("segmentID"),o="",l=[];do{for(i=!1,t=0,e=a.targetSegments.length;t<e;++t)if(n==a.targetSegments[t].priority){l.push(a.targetSegments[t].segmentID),i=!0,n++;break}}while(i);for(o+=this.tcLbl("targetMarkets")+" ",t=0,e=l.length;t<e;++t)o+=(0!=t?", ":"")+(t+1)+" - "+r[l[t]].name;this.setValue(this.pfxSod+this.service,o)}})},97245:(t,e,i)=>{"use strict";i(61374),window.TargetSegmentsAnim=TargetSegments.extend({style:"padding: 10px 10px 0px 10px;",hideButtonsInLastQuarter:!1,initialize:function(t){this._super("TargetSegments")},draw:function(){var t=this.data.staticData.segments.toLookUp("segmentID"),e=j$("#decision").width()/700,i="",s='<h2 id="tsTitle" style="text-align:center;font-family: arial,sans-serif;color: #5E9B63;margin:40px 176px 0;font-size:24px;font-weight: bold;font-style: italic;"><span style="border-bottom:2px solid #5E9B63;">'+this.tc("targetSegments")+"</span></h2>";i+='<ul style="padding:0px 35px; margin: 0;">';var a=[{p:0,v:this.tc("p_0")}];return this.data.staticData.segments.forEach((function(t,e){a.push({p:e+1,v:this.tc("p_"+(e+1))})}),this),this.data.decisions.targetSegments.forEach((function(e){i+='<li class="targetSegLi"><div style="float:left; min-width: 125px;">'+this.cf.getLabel(Format.segmentName(t[e.segmentID].name,t[e.segmentID].shortName,!0),"tm_"+e.segmentID)+"</div>"+this.com("combobox","tm_"+e.segmentID,e.priority,{},a,"p","v")+"</li>"}),this),i+="</ul>",s+this.cs.drawComp("div",i,"gsd","","","a",1,110*e+"px",190*e+"px","","",1)},resize:function(){var t=j$("#decision").width()/700;j$("#gsd").css({left:190*t+"px",top:110*t+"px"}),j$("#tsTitle").css({"font-size":24*t+"px",margin:40*t+"px "+176*t+"px 0"})},observe:function(){}})},88041:()=>{window.TeamNorms=Decision.extend({style:"padding: 10px 10px 0px 10px;",read:function(){this.data.decisions.norms=[],this.data.decisions.processes=[],this.readTable("norms",this.data.staticData.norms,this.data.decisions.norms),this.readTable("processes",this.data.staticData.processes,this.data.decisions.processes)},write:function(){this.writeTable("norms",this.data.staticData.norms,this.data.decisions.norms,!1),this.writeTable("processes",this.data.staticData.processes,this.data.decisions.processes,!0)},writeErrors:function(){this.writeTableErrors("norms",this.data.staticData.norms,this.data.errors.decisions.norms),this.writeTableErrors("processes",this.data.staticData.processes,this.data.errors.decisions.processes)},readTable:function(t,e,i){var s,a;for(s=0,a=e.length;s<a;++s)this.value(t+"_"+e[s].id)&&i.push({id:e[s].id,text:"I"==e[s].type?"":this.value(t+"_text_"+e[s].id)})},writeTable:function(t,e,i,s){var a,n,r,o,l=i.toLookUp("id");for(a=0,n=e.length;a<n;++a)o=void 0!==l[(r=e[a]).id],this.setValue(t+"_"+r.id,s?o?r.id:0:o),"T"==r.type&&this.setValue(t+"_text_"+r.id,o?l[r.id].text:"")},writeTableErrors:function(t,e,i){var s,a,n,r=i.toLookUp("id");for(s=0,a=e.length;s<a;++s){var o=e[s];n=void 0!==r[o.id],this.writeError(t+"_"+o.id,n?r[o.id].general:null,"center right",!0),"T"==o.type&&this.writeError(t+"_text_"+o.id,n?r[o.id].text:null,"center right",!0)}},drawTable:function(t,e,i,s){var a,n,r,o,l,d=[],c=1;for(a=0,n=e.length;a<n;++a){var h=e[a];l={},r=void 0!==i[h.id],"I"==h.type?(o=h.text,l.label=o):(o=this.com("edit",t+"_text_"+h.id,r?i[h.id].text:"",{size:80,placeholder:this.tc("writeYourOwn"),"aria-label":this.tc("writeYourOwn")+" "+c}),l["aria-label"]=this.tc("writeYourOwn")+" "+c,c++),s?d.push([("I"==h.type?"":'<div style="margin-left: 3px;">')+this.com("radio",t,r?h.id:0,l,h.id)+("I"==h.type?"":o+"</div>")]):d.push([("I"==h.type?"":'<div style="margin-left: 3px;">')+this.com("checkbox",t+"_"+h.id,r,l,h.id)+("I"==h.type?"":o+"</div>")])}this.tables[t]=new DecisionTable("",t,[{title:"",vline:!1},{title:""}],d,!0),this.tables[t].newCorners="",this.tables[t].hideTitle=!0;var p=new DecisionLabel("",t+"_label",this.tables[t].draw(),"","","",this.tc(t));return this.tnLabels.push(p),p.draw()},draw:function(){var t=this.data.decisions.norms.toLookUp("id"),e=this.data.decisions.processes.toLookUp("id");return this.tables=[],this.tnLabels=[],this.drawTable("processes",this.data.staticData.processes,e,!0)+this.drawTable("norms",this.data.staticData.norms,t,!1)},observe:function(){this.tables.norms.observe(),this.tables.processes.observe();for(var t=0;t<this.tnLabels.length;t++)this.tnLabels[t].observe(),this.tnLabels[t].change("float","left"),this.tnLabels[t].change("togglePadding",!1)},drawSOD:function(){if(this.data.dynamicData.decisionChangedThisQuarter){var t,e,i,s=this.data.decisions,a=this.data.staticData,n=s.norms.toLookUp("id"),r=s.processes.toLookUp("id"),o="";if(s.processes.length>0){for(o=this.tcLbl("processes")+"<ul>",t=0,e=a.processes.length;t<e;++t)void 0!==r[(i=a.processes[t]).id]&&(o+="<li>"+("I"==i.type?i.text:r[i.id].text.escapeHTML())+"</li>");o+="</ul>"}if(this.data.decisions.norms.length>0){for(o+=this.tcLbl("norms")+"<ul>",t=0,e=a.norms.length;t<e;++t)void 0!==n[(i=a.norms[t]).id]&&(o+="<li>"+("I"==i.type?i.text:n[i.id].text.escapeHTML())+"</li>");o+="</ul>"}this.setValue(this.pfxSod+this.service,o)}else this.setValue(this.pfxSod+this.service,"")}})},90879:()=>{window.TrophyRoom=Decision.extend({viewModeButtons:[],modifyModeButtons:[],sendCalculate:!1,style:"padding: 10px 10px 0px 10px",draw:function(){return 0==this.data.staticData.badgesIG.length?(this.noTrophiesLabel=new DecisionLabel(this.service,"noTrophiesLabel",this.tc("noTrophies")+"<br/>"+this.tc("trophiesAvailableAgain")),this.noTrophiesLabel.draw()):(this.teamTable=this.getTeamTable(),this.teamTable.draw())},getTeamTable:function(){var t,e,i,s,a,n,r=this.data.staticData,o=[],l=[],d=[];for(o.push({title:this.tc("headTitle")}),o.push({title:this.tc("achieved"),type:"flag",trueLabel:this.tc("achieved"),falseLabel:this.tc("notachieved")}),e=0,i=r.badgesIG.length;e<i;e++){for((d=[]).push({title:'<div style="padding:5px 0px;"><img alt="" style="float:left;width:80px;padding:5px;" src = "'+Path.getPath(this.st("common:socialFolder"),r.badgesIG[e].imgUrl)+'"/><h3 class="plainHeader" style="font-weight: bold;">'+r.badgesIG[e].title+"</h3>"+r.badgesIG[e].message+"</div>"}),t=!1,s=0,a=r.badges.length;s<a;s++)r.badges[s].contentID===r.badgesIG[e].contentID&&(t=!0);d.push(t),l.push({cols:d,type:"normal"})}return(n=new DecisionTable(this.tc("trophyRoom"),"teamsBadges",o,l)).vertical=!0,n},observe:function(){0==this.data.staticData.badgesIG.length?(this.noTrophiesLabel.observe(),this.noTrophiesLabel.change("float","left")):this.teamTable.observe()}})},78174:(t,e,i)=>{"use strict";i(72187),window.UsePattern=CustomerNeeds.extend({topItems:8,saveName:"use-pattern"})},54074:()=>{window.VarianceStudy=Decision.extend({style:"padding: 10px 10px 0px 10px;",read:function(){var t,e,i=this.data.decisions.criticalGroups,s=i.length,a=this.data.staticData.criticalGroups.toLookUp("groupID");for(t=0;t<s;++t)(e=i[t]).buy=!a[e.groupID].wasBought&&this.value("buy_"+e.groupID)},write:function(){var t,e,i=this.data.decisions.criticalGroups,s=i.length,a=this.data.staticData.criticalGroups.toLookUp("groupID");for(t=0;t<s;++t)a[(e=i[t]).groupID].wasBought||this.setValue("buy_"+e.groupID,e.buy)},writeCalculate:function(){j$("#varianceStudyTotal").html(Number(this.data.calculate.total).format())},draw:function(){var t,e,i,s=this.data.staticData,a=this.data.decisions.criticalGroups.toLookUp("groupID"),n=[{title:this.tc("criticalGroup")},{title:this.tc("cost"),type:"number"},{title:this.tc("buy"),type:"flag"}],r=[{title:this.tc("criticalGroup")},{title:this.tc("defectRate"),type:"number",decimals:2},{title:this.tc("defectNumber"),type:"number"},{title:this.tc("defectCosts"),type:"number"},{title:this.tc("shift"),type:"number",decimals:2},{title:this.tc("variance"),type:"number",decimals:2}],o=[],l=[],d="",c=0;if(this.wasVariance=!1,0==s.fixedCapacity&&0==this.data.calculate.total)return this.viewModeButtons=[],this.modifyModeButtons=[],this.emptyLabel=new DecisionLabel(this.service,"emptyLabel",this.tc("common:noFactory"),"","green"),this.emptyLabel.draw();for(this.emptyLabel=null,t=0,e=s.criticalGroups.length;t<e;++t)(i=s.criticalGroups[t]).wasBought?(o.push([i.name,i.cost,this.tc("bought")]),l.push([i.name,i.defectRate,i.defectNumber,i.defectCost,i.shift,i.variance]),this.wasVariance=!0):(o.push([i.name,i.cost,this.com("checkbox","buy_"+i.groupID,a[i.groupID].buy)]),c++);return this.vsTable=new DecisionTable(this.tc("varianceStudy"),"vsTable",n,o,!1,"green"),d+=this.vsTable.draw(),c>0?(this.vsLabel=new DecisionLabel(this.service,"vsLabel",this.tc("total")+' <span id="varianceStudyTotal">'+Number(this.data.calculate.total).format()+"</span>","","green"),d+=this.vsLabel.draw()):(this.vsLabel=null,this.viewModeButtons=[],this.modifyModeButtons=[]),this.wasVariance&&(this.vsrTable=new DecisionTable(this.tc("varianceStudyResults"),"vsrTable",r,l,!1,"green"),d+=this.vsrTable.draw(),d+='<div style="padding:10px;"><div id="chart" style="width: 550px; height: 250px; margin: auto; position: relative;"></div></div>'),d},observe:function(){if(null==this.emptyLabel){var t,e,i,s=this.data.staticData,a=0;for(t=0,e=s.criticalGroups.length;t<e;++t)(i=s.criticalGroups[t]).wasBought||(this.bindCalculate("buy_"+i.groupID,"click",!1),a++);this.vsTable.observe(),a>0&&(this.vsLabel.observe(),this.vsLabel.change("float","left")),a<s.criticalGroups.length&&(this.vsrTable.observe(),this.setChartData("","chart"))}else this.emptyLabel.observe(),this.emptyLabel.change("float","left")},drawSOD:function(){var t,e,i,s=this.data.staticData,a=this.data.decisions.criticalGroups.toLookUp("groupID"),n="",r="",o=!1;for(t=0,e=s.criticalGroups.length;t<e;++t)(i=s.criticalGroups[t]).wasBought||(a[i.groupID].buy&&(r+=(""!=r?", ":"")+i.name),o=!0);o&&s.fixedCapacity>0&&(""!=r&&(n+=this.tc("varianceStudy")+": "+r+"<br /><br />"),n+=this.tc("total")+" "+Number(this.data.calculate.total).format()),this.setValue(this.pfxSod+this.service,n)},setChartData:function(t,e){var i,s,a,n,r,o=this.data.staticData,l=o.criticalGroups,d=l.length,c=o.chartUnits,h=c.length;if(Live.useSvg()){for(i=this.data.staticData.chartTemplate,j$.extend(i.data,{title:this.tc("gaussCurves"),xAxis:"",yAxis:"",labels:[],x:[],y:[],minY:0,xLines:[-3,3],saveUrl:this.st("common:saveChartURL"),saveName:"variance-study-q"+this.user.quarter()}),i.chartArea.vLabels.decimals=2,i.chartSettings.radius=0,r=0,s=0;s<d;++s)if((a=l[s]).wasBought){for(i.data.labels[r]=a.name,n=0;n<h;++n)0==r&&(i.data.x[n]=Number(c[n]),i.data.y[n]=[]),i.data.y[n][r]=Number(a.distribution[n]);r++}SvgCharts.BaseChart.setChartData(e,i)}else{for(j$("#"+e).html(""),(i=new LineChart(j$("#"+e)[0])).minY=0,i.label=this.tc("gaussCurves"),i.legend=!0,i.labelX="",i.labelY="",i.labels=[],i.data=[],i.category=[],i.xLines=[-3,3],i.decY=2,r=0,s=0;s<d;++s)if((a=l[s]).wasBought){for(i.labels[r]=a.name,i.data[r]=[],n=0;n<h;++n)i.data[r][n]=Number(a.distribution[n]),i.category[n]=Number(c[n]);r++}i.draw()}}})},62682:(t,e,i)=>{"use strict";i(73835),window.WarehouseLocation=FactoryLocation.extend()},2319:(t,e,i)=>{"use strict";i(9650),window.WarehousingResults=ManufacturingResults.extend()},94029:()=>{window.WarrantyCosts=Decision.extend({viewModeButtons:[],modifyModeButtons:[],style:"padding: 10px 10px 0px 10px;",draw:function(){var t,e,i=(e=this.data.staticData.criticalGroups).length,s=[{title:this.tc("criticalGroup")},{title:this.tc("sold"),type:"number"},{title:this.tc("costPerUnit"),type:"number",decimals:2},{title:this.tc("warranty"),type:"number"}],a=[],n=0;for(t=0;t<i;++t){var r=e[t];a.push([r.name,r.sold,r.costPerUnit,r.cost]),n+=r.cost}return a.push({values:[this.tc("total"),null,null,n],type:"total"}),this.wTable=new DecisionTable(this.tc("warranty"),"rTable",s,a,!1,"green"),this.wTable.draw()},observe:function(){this.wTable.observe()}})},86133:(t,e,i)=>{"use strict";i(66406),window.WealthCreation=FinanceReport.extend({stmt:"wealthCreation",hideGraphLinks:!0,disableLinks:!0})},74289:()=>{window.WebProductivity=Decision.extend({style:"padding: 10px 10px 0px 10px;",read:function(){var t,e,i=this.data.staticData,s=this.data.decisions.webProductivities,a=s.length;for(t=0;t<a;++t)(e=s[t]).change=this.value("wp_change"+e.productivityID),i.hasECommerce&&(e.quarterlyBudget=this.value("pquarterlyBudget"+e.productivityID))},write:function(){var t,e,i=this.data.staticData,s=this.data.decisions.webProductivities,a=s.length;for(t=0;t<a;++t)e=s[t],this.setValue("wp_change"+e.productivityID,e.change),i.hasECommerce&&this.setValue("pquarterlyBudget"+e.productivityID,e.quarterlyBudget)},writeErrors:function(){var t,e,i=this.data.staticData,s=this.data.errors.decisions.webProductivities,a=s.length;for(t=0;t<a;++t)e=s[t],this.writeError("wp_change"+e.productivityID,e.change,"center left",!0),i.hasECommerce&&this.writeError("pquarterlyBudget"+e.productivityID,e.quarterlyBudget,"center left",!0)},writeCalculate:function(){j$("#webProductivityTotal").html(Number(this.data.calculate.total).format())},draw:function(t){t=t||!1;var e,i,s,a=this.data.staticData,n=this.data.decisions.webProductivities.toLookUp("productivityID"),r=[{title:this.tc("activities"),vline:!0},{title:this.tc("start"),type:"flag"},{title:this.tc("stop"),type:"flag"},{title:this.tc("status"),type:"flag",vline:!0},{title:this.tc("setupCost"),type:"number"},{title:this.tc(a.hasECommerce?"quarterlyBudget":"quarterlyCost")}],o=[];if(!a.opened)return this.viewModeButtons=[],this.modifyModeButtons=[],this.closedLabel=new DecisionLabel(this.service,"closedLabel",this.tc("closedLabel"),"","stone"),this.closedLabel.draw();for(this.closedLabel=null,a.hasECommerce?r[5].align="right":r[5].type="number",e=0,i=a.webProductivities.length;e<i;++e)s=a.webProductivities[e],o.push([s.name,s.operational?"":this.com("checkbox","wp_change"+s.productivityID,n[s.productivityID].change),s.operational?this.com("checkbox","wp_change"+s.productivityID,n[s.productivityID].change):"",s.operational?this.tc("operational"):this.tc("notOperational"),s.setupCost,a.hasECommerce?this.com("iedit","pquarterlyBudget"+s.productivityID,n[s.productivityID].quarterlyBudget,{size:6}):s.quarterlyBudget]);return this.optionsTable=new DecisionTable(t?"":this.tc("options"),"webProductivityTable",r,o,!1,"stone"),this.optionsLabel=new DecisionLabel(this.service,"webProductivityLabel",this.tc("total")+' <span id="webProductivityTotal">'+Number(this.data.calculate.total).format()+"</span>","","stone"),t?(this.optionsTable.tableCorners="",this.optionsLabel.labelCorners="",this.optionsTable.draw()+this.optionsLabel.draw()):this.optionsTable.draw()+this.optionsLabel.draw()+'<div style="padding:10px;"><div id="graph-holder"></div></div>'},observe:function(){var t=this.data.staticData;if(!t.opened)return this.closedLabel.observe(),void this.closedLabel.change("float","left");this.optionsTable.observe(),this.optionsLabel.observe(),this.optionsLabel.change("float","left");var e,i,s,a=this.data.decisions.webProductivities.toLookUp("productivityID");for(e=0,i=t.webProductivities.length;e<i;++e)s=t.webProductivities[e],this.bindCalculate("wp_change"+s.productivityID,"click",!1),t.hasECommerce&&(j$("#wp_change"+s.productivityID).on("click",this.onChangeProductivity.bind(this,s.productivityID,s,a[s.productivityID],!0)),this.bindCalculate("pquarterlyBudget"+s.productivityID,"keyup",!0));(Live.useSvg()||t.hasECommerce)&&(j$("#graph-holder").css({position:"relative",margin:"auto",width:"660px",height:Live.useSvg()?t.hasECommerce?400:75+30*t.webProductivities.length:"250px",opacity:Live.opacity}),this.setChartData("","graph-holder"))},drawSOD:function(){this.data.staticData.opened?(this.setValue(this.pfxSod+this.service,this.draw(!0)),this.disable(),this.optionsLabel.observe(),this.optionsLabel.change("float","left")):this.setValue(this.pfxSod+this.service,"")},setBarChartData:function(t){var e,i=this.data.staticData,s=i.webProductivities.length;for(chart=this.data.staticData.chartTemplate,chart.chartArea.maxLabelWidth=580,j$.extend(chart.data,{title:i.chartTitle,xAxis:"",yAxis:"",labels:[],x:[0],y:[[]],minY:0,saveUrl:this.st("common:saveChartURL"),saveName:"web-productivity-q"+this.user.quarter()}),e=0;e<s;++e)chart.data.labels[e]=i.webProductivities[e].name,chart.data.y[0][e]=i.webProductivities[e].improvement;SvgCharts.BaseChart.setChartData(t,chart)},setChartData:function(t,e){var i,s,a,n,r,o,l=this.data.staticData,d=l.graph;if(Live.useSvg())if(l.hasECommerce){for((i=this.data.staticData.chartTemplate).legend.position="bottom",i.legend.align="left",i.legend.margin.bottom=10,i.legend.maxWidth="580",i.chartSettings.radius=0,i.chartArea.margin.right=12,j$.extend(i.data,{title:d.title,xAxis:d.x,yAxis:d.y,labels:[],x:[],y:[],dsX:4,minY:0,saveUrl:this.st("common:saveChartURL"),saveName:"web-productivity-budget-q"+this.user.quarter()}),i.chartSettings.radius=0,s=0,a=d.data.length;s<a;++s)for(o=d.data[s],i.data.labels[s]=o.label,i.data[s]=[],n=0,r=o.x.length;n<r;++n)0==s&&(i.data.x[n]=Number(o.x[n]),i.data.y[n]=[]),i.data.y[n][s]=Number(o.y[n]);SvgCharts.BaseChart.setChartData(e,i)}else this.setBarChartData(e);else{for(j$("#graph-holder").html(""),(i=new LineChart(j$("#graph-holder")[0])).label=d.title,i.legend=d.showLegend,i.legendCharLimit=30,i.labelX=d.x,i.labelY=d.y,i.dsx=4,i.labels=[],i.data=[],i.category=[],s=0,a=d.data.length;s<a;++s)for(o=d.data[s],i.labels[s]=o.label,i.data[s]=[],n=0,r=o.x.length;n<r;++n)i.data[s][n]=Number(o.y[n]),i.category[n]=Number(o.x[n]);i.draw()}},enable:function(){this._super();var t=this.data.staticData;if(t.opened&&t.hasECommerce){var e,i,s,a=this.data.decisions.webProductivities.toLookUp("productivityID");for(e=0,i=t.webProductivities.length;e<i;++e)s=t.webProductivities[e],this.onChangeProductivity(s.productivityID,s,a[s.productivityID],!1)}},onChangeProductivity:function(t,e,i,s){var a=j$("#wp_change"+t);!e.operational&&!a.is(":checked")||e.operational&&a.is(":checked")?j$("#pquarterlyBudget"+t).prop("disabled",!0):j$("#pquarterlyBudget"+t).prop("disabled",!1)}})},70693:()=>{window.WebTraffic=Decision.extend({style:"padding: 10px 10px 0px 10px;",read:function(){var t,e,i=this.data.staticData,s=i.webTraffics.toLookUp("trafficID"),a=this.data.decisions.webTraffics,n=a.length;for(t=0;t<n;++t)(e=a[t]).change=this.value("wt_change"+e.trafficID),i.hasECommerce&&(e.quarterlyBudget=this.value("quarterlyBudget"+e.trafficID),s[e.trafficID].isPartner&&(e.commission=this.value("commission"+e.trafficID)))},write:function(){var t,e,i=this.data.staticData,s=i.webTraffics.toLookUp("trafficID"),a=this.data.decisions.webTraffics,n=a.length;for(t=0;t<n;++t)e=a[t],this.setValue("wt_change"+e.trafficID,e.change),i.hasECommerce&&(this.setValue("quarterlyBudget"+e.trafficID,e.quarterlyBudget),s[e.trafficID].isPartner&&this.setValue("commission"+e.trafficID,e.commission))},writeErrors:function(){var t,e,i=this.data.staticData,s=i.webTraffics.toLookUp("trafficID"),a=this.data.errors.decisions.webTraffics,n=a.length;for(t=0;t<n;++t)e=a[t],this.writeError("wt_change"+e.trafficID,e.change,"center left",!0),i.hasECommerce&&(this.writeError("quarterlyBudget"+e.trafficID,e.quarterlyBudget,"center left",!0),s[e.trafficID].isPartner&&this.writeError("commission"+e.trafficID,e.commission,"center left",!0))},writeCalculate:function(){j$("#webTrafficTotal").html(Number(this.data.calculate.total).format())},draw:function(t){t=t||!1;var e,i,s,a=this.data.staticData,n=this.data.decisions.webTraffics.toLookUp("trafficID"),r=[{title:this.tc("activities"),vline:!0},{title:this.tc("start"),type:"flag"},{title:this.tc("stop"),type:"flag"},{title:this.tc("status"),type:"flag",vline:!0},{title:this.tc("setupCost"),type:"number"},{title:this.tc(a.hasECommerce?"quarterlyBudget":"quarterlyCost")},{title:this.tc(a.hasECommerce?"commissionOffered":"commission")}],o=[],l=[{title:this.tc("partner")},{title:this.tc("commissionPaidPerUnit"),type:"number"},{title:this.tc("unitsSoldByPartner"),type:"number"},{title:this.tc("commissionPaidToPartner"),type:"number"}],d=[];if(!a.opened)return this.viewModeButtons=[],this.modifyModeButtons=[],this.closedLabel=new DecisionLabel(this.service,"closedLabel",this.tc("closedLabel"),"","stone"),this.closedLabel.draw();for(a.hasECommerce?(r[5].align="right",r[6].align="right"):(r[5].type="number",r[6].align="right"),e=0,i=a.webTraffics.length;e<i;++e)s=a.webTraffics[e],o.push([s.name,s.operational?"":this.com("checkbox","wt_change"+s.trafficID,n[s.trafficID].change),s.operational?this.com("checkbox","wt_change"+s.trafficID,n[s.trafficID].change):"",s.operational?this.tc("operational"):this.tc("notOperational"),s.setupCost,a.hasECommerce?this.com("iedit","quarterlyBudget"+s.trafficID,n[s.trafficID].quarterlyBudget,{size:6}):s.quarterlyBudget,s.isPartner?a.hasECommerce?this.com("iedit","commission"+s.trafficID,n[s.trafficID].commission,{size:6}):s.commission.format():this.tc("common:na")]),s.isPartner&&Number(s.unitsSold)>0&&d.push([s.name,s.lqCommission,s.unitsSold,s.lqCommission*s.unitsSold]);return this.optionsTable=new DecisionTable(t?"":this.tc("options"),"webTrafficTable",r,o,!1,"stone"),this.optionsLabel=new DecisionLabel(this.service,"webTrafficLabel",this.tc("total")+' <span id="webTrafficTotal">'+Number(this.data.calculate.total).format()+"</span>","","stone"),t?(this.optionsTable.tableCorners="",this.optionsLabel.labelCorners="",this.optionsTable.draw()+this.optionsLabel.draw()):(d.length>0?this.paidTable=new DecisionTable(this.tc("commissionPaid"),"paidTable",l,d,!1,"stone"):this.paidTable=null,this.optionsTable.draw()+this.optionsLabel.draw()+(null!=this.paidTable?"<br />"+this.paidTable.draw():"")+'<div style="padding:10px 0px 0px 0px;"><div id="graph-holder-qtrBudget"></div></div><div style="padding: 0px 0px 10px 0px;"><div id="graph-holder-commission"></div></div>')},observe:function(){var t,e=this.data.staticData,i=0;if(!e.opened)return this.closedLabel.observe(),void this.closedLabel.change("float","left");this.optionsTable.observe(),this.optionsLabel.observe(),this.optionsLabel.change("float","left"),null!=this.paidTable&&this.paidTable.observe();var s,a,n,r=this.data.decisions.webTraffics.toLookUp("trafficID");for(s=0,a=e.webTraffics.length;s<a;++s)n=e.webTraffics[s],this.bindCalculate("wt_change"+n.trafficID,"click",!1),e.hasECommerce&&(j$("#wt_change"+n.trafficID).on("click",this.onChangeTraffic.bind(this,n.trafficID,n,r[n.trafficID],!0)),this.bindCalculate("quarterlyBudget"+n.trafficID,"keyup",!0),n.isPartner&&this.bindCalculate("commission"+n.trafficID,"keyup",!0)),n.isPartner&&i++;(Live.useSvg()||e.hasECommerce)&&(t=Live.useSvg()?e.hasECommerce?400:75+30*e.webTraffics.length:"250px",j$("#graph-holder-qtrBudget").css({position:"relative",margin:"auto",width:"660px",height:t,opacity:Live.opacity}),this.setChartData("qtrBudget","graph-holder-qtrBudget"),e.hasECommerce&&i>0&&(t=Live.useSvg()?400:"250px",j$("#graph-holder-commission").css({position:"relative",margin:"auto",width:"660px",height:t,opacity:Live.opacity}),this.setChartData("commission","graph-holder-commission")))},drawSOD:function(){this.data.staticData.opened?(this.setValue(this.pfxSod+this.service,this.draw(!0)),this.disable(),this.optionsLabel.observe(),this.optionsLabel.change("float","left")):this.setValue(this.pfxSod+this.service,"")},setBarChartData:function(t){var e,i=this.data.staticData,s=i.webTraffics.length;for(chart=this.data.staticData.chartTemplate,chart.chartArea.maxLabelWidth=580,j$.extend(chart.data,{title:i.chartTitle,xAxis:"",yAxis:"",labels:[],x:[0],y:[[]],minY:0,saveUrl:this.st("common:saveChartURL"),saveName:"web-traffic-q"+this.user.quarter()}),e=0;e<s;++e)chart.data.labels[e]=i.webTraffics[e].name,chart.data.y[0][e]=i.webTraffics[e].improvement;SvgCharts.BaseChart.setChartData(t,chart)},setChartData:function(t,e){var i,s,a,n,r,o,l,d=this.data.staticData;if(Live.useSvg())if(d.hasECommerce){for(s=d.graphs[t],(i=this.data.staticData.chartTemplate).legend.position=s.showLegend?"bottom":"none",i.legend.align="left",i.legend.margin.bottom=10,i.legend.maxWidth="580",i.chartSettings.radius=0,i.chartArea.margin.right=12,j$.extend(i.data,{title:s.title,xAxis:s.x,yAxis:s.y,labels:[],x:[],y:[],dsX:"commission"==t?6:4,minY:0,saveUrl:this.st("common:saveChartURL"),saveName:"web-traffic-"+("commission"==t?"commission":"budget")+"-q"+this.user.quarter()}),a=0,n=s.data.length;a<n;++a)for(l=s.data[a],i.data.labels[a]=l.label,i.data[a]=[],r=0,o=l.x.length;r<o;++r)0==a&&(i.data.x[r]=Number(l.x[r]),i.data.y[r]=[]),i.data.y[r][a]=Number(l.y[r]);SvgCharts.BaseChart.setChartData(e,i)}else this.setBarChartData("graph-holder-qtrBudget");else{for(j$("#"+e).html(""),(i=new LineChart(e)).label=s.title,i.legend=s.showLegend,i.legendCharLimit=30,i.labelX=s.x,i.labelY=s.y,i.dsx="commission"==t?6:4,i.labels=[],i.data=[],i.category=[],a=0,n=s.data.length;a<n;++a)for(l=s.data[a],i.labels[a]=l.label,i.data[a]=[],r=0,o=l.x.length;r<o;++r)i.data[a][r]=Number(l.y[r]),i.category[r]=Number(l.x[r]);i.draw()}},enable:function(){this._super();var t=this.data.staticData;if(t.opened&&t.hasECommerce){var e,i,s,a=this.data.decisions.webTraffics.toLookUp("trafficID");for(e=0,i=t.webTraffics.length;e<i;++e)s=t.webTraffics[e],this.onChangeTraffic(s.trafficID,s,a[s.trafficID],!1)}},onChangeTraffic:function(t,e,i,s){var a=j$("#wt_change"+t);!e.operational&&!a.is(":checked")||e.operational&&a.is(":checked")?(j$("#quarterlyBudget"+t).prop("disabled",!0),e.isPartner&&j$("#commission"+t).prop("disabled",!0)):(j$("#quarterlyBudget"+t).prop("disabled",!1),e.isPartner&&j$("#commission"+t).prop("disabled",!1))}})},2394:(t,e,i)=>{"use strict";i(28330),window.WorkersCompensation=WorkersCompensationRegional.extend({typeOfComp:"WorkersCompensation"})},59978:(t,e,i)=>{"use strict";i(43560),window.WorkersCompensationAnim=WorkersCompensationRegionalAnim.extend({typeOfComp:"WorkersCompensation"})},28330:(t,e,i)=>{"use strict";i(19242),window.WorkersCompensationRegional=SalesForceCompensation.extend({typeOfComp:"WorkersCompensationRegional",prefix:"wr",emptyTcLabel:"common:noFactory"})},43560:(t,e,i)=>{"use strict";i(43412),window.WorkersCompensationRegionalAnim=SalesForceCompensationAnim.extend({typeOfComp:"WorkersCompensationRegional",prefix:"wr",emptyTcLabel:"common:noFactory"})},68653:()=>{window.WrapUp=Decision.extend({viewModeButtons:["continueWrapup","continueWrapup1","unwrap"],modifyModeButtons:[],sendCalculate:!1,sendErrors:!1,style:"padding: 0px 0px 0px 0px;",getUpdatedText:function(t,e){var i,s,a,n,r,o,l,d='<div id="e_'+t.id+'">';if(t.visible=!0,(s=t.params.length)>0)for(i=0;i<s;++i){for(o=t.text,n=0,r=(a=t.params[i]).items.length;n<r;++n)o=o.replace(new RegExp("{"+a.items[n].name+"}","gi"),'<span style="font-weight:bold;">'+a.items[n].value+"</span>");1==i&&(d+=this.cf.getButton(this.moreText,"more_"+t.id,this.moreClick.bind(this,t),"","display:block; margin-bottom:6px;")),d+='<div class="e_item '+e+'" style="padding-bottom: 5px;" >'+o+"</div>"}else d+='<div class="e_item '+e+'" style="padding-bottom: 5px;" >'+t.text+"</div>";if((s=t.decisions.length)>0&&"undefined"!=typeof Engine){for(d+='<div style="color: #000000;">'+(s>1?this.tc("links"):this.tc("link")),i=0;i<s;++i)null!=(l=Engine.getResource(t.decisions[i].toLowerCase()))&&(d+="<br />"+this.cf.getLink(l.title,"action_"+t.id+"_"+i,this.runClick.bind(this,t.decisions[i]),""));d+="</div>"}return d+"</div>"},drawErrors:function(){var t,e,i,s=this.data.dynamicData.errors,a=this.data.dynamicData.warnings,n=this.data.dynamicData.notes,r="";if(this.texts=[],this.styles=[],this.moreText=this.tc("more"),this.lessText=this.tc("less"),s.length>0||a.length>0||n.length>0){if(s.length>0){for(t='<h2 class="plainHeader errorHeader"><span class="errorText">'+this.tc("errors")+'</span><img src="'+this.st("errorSml")+'" class="errorTextImage" alt="" /></h2>',e=0,i=s.length;e<i;++e)t+='<hr class="error" />'+this.getUpdatedText(s[e],"errorMessage");this.texts.push(new DecisionLabel(this.service,"errors",t,"","error"))}if(a.length>0){for(t='<h2 class="plainHeader warningHeader"><span class="errorText">'+this.tc("warnings")+'</span><img src="'+this.st("warningSml")+'" class="errorTextImage" alt="" /></h2>',e=0,i=a.length;e<i;++e)t+='<hr class="warning" />'+this.getUpdatedText(a[e],"warningMessage");this.texts.push(new DecisionLabel(this.service,"warnings",t,"","warning"))}if(n.length>0){for(t='<h2 class="plainHeader noteHeader"><span class="errorText">'+this.tc("notes")+'</span><img src="'+this.st("noteSml")+'" class="errorTextImage" alt="" /></h2>',e=0,i=n.length;e<i;++e)t+='<hr class="note" />'+this.getUpdatedText(n[e],"noteMessage");this.texts.push(new DecisionLabel(this.service,"notes",t,"","note"))}}else this.texts.push(new DecisionLabel(this.service,"noErrors",this.tc("no_errors"))),this.styles.push({"text-align":"center",padding:"50px","font-size":"larger","font-weight":"bold"});for(e=0,i=this.texts.length;e<i;++e)r+=this.texts[e].draw();return r},moreClick:function(t){var e,i=j$("#e_"+t.id).find("div.e_item"),s=i.length;if(t.visible){for(e=1;e<s;++e)i.eq(e).hide();j$("#more_"+t.id).html(this.moreText)}else{for(e=1;e<s;++e)i.eq(e).show();j$("#more_"+t.id).html(this.lessText)}t.visible=!t.visible},runClick:function(t){Engine.getResource(t.toLowerCase()),Engine.startPage({parentResource:"",resource:t.toLowerCase(),tab:"workspace",params:null},Engine.focusActiveTab.bind(Engine))},observeErrors:function(){var t,e,i=this.data.dynamicData.errors,s=this.data.dynamicData.warnings,a=this.data.dynamicData.notes;for(t=0,e=this.texts.length;t<e;++t)this.styles[t]&&this.texts[t].change("css",this.styles[t]),this.texts[t].observe();for(t=0,e=i.length;t<e;++t)i[t].params.length>1&&this.moreClick(i[t]);for(t=0,e=s.length;t<e;++t)s[t].params.length>1&&this.moreClick(s[t]);for(t=0,e=a.length;t<e;++t)a[t].params.length>1&&this.moreClick(a[t])},drawSegments:function(){var t,e,i,s=this.data.staticData,a=this.data.decisions,n=0,r=0,o=this.tc("oneSeg"),l=[{title:this.tc("firstSeg")}],d=[];for(s.segmentsToChoose>1&&(o=this.tc("twoSegs"),l.push({title:this.tc("secondSeg")})),t=0,e=a.targetSegments.length;t<e;++t)1==(i=a.targetSegments[t]).priority&&(n=i.segmentID),2==i.priority&&(r=i.segmentID);for(t=0,e=s.segments.length;t<e;++t)i=s.segments[t],s.segmentsToChoose>1?d.push([this.com("radio","first_segment",n,{},i.segmentID)+" "+this.lbl(i.name,"first_segment_"+i.segmentID,"plainLabel"),this.com("radio","second_segment",r,{},i.segmentID)+" "+this.lbl(i.name,"second_segment_"+i.segmentID,"plainLabel")]):d.push([this.com("radio","first_segment",n,{},i.segmentID)+" "+this.lbl(i.name,"first_segment_"+i.segmentID,"plainLabel")]);return this.segTable=new DecisionTable(this.tc("targetMarkets"),"segTable",l,d),this.segLabel=new DecisionLabel("","segLabel",o),this.segLabel.draw()+this.segTable.draw()},observeSegments:function(){this.segTable.observe(),this.segLabel.observe(),this.segLabel.change("float","left")},canUwrap:function(){return this.data.dynamicData.canUnwrap&&this.isCurrentQuarter()},canContinue:function(){return"undefined"!=typeof Engine&&Engine.quarterSwitcher.items.quarterNext.visible&&Engine.quarterSwitcher.items.quarterNext.enabled},continueNextQuarter:function(){this.canContinue()&&Engine.startPage({quarter:Live.user.quarter()+1,resource:"",parentResource:""})},drawSubmitDone:function(){this.unwrapBtn=this.com("button","btnunwrap",this.tc("unwrap")),this.continueButton=this.com("button","btncontinueNextQuarter",this.tc("continueNextQuarter"));var t="<p>"+this.tc("p2n")+"</p>"+this.continueButton;return this.canUwrap()&&(t+='<p class="unwrapMessage">'+this.tc("p4n")+'</p><p class="unwrapMessage">'+this.tc("p5n")+"</p>"),this.wLabel=new DecisionLabel("","wLabel",t),this.sLabel='<h2 id="decisionsIn" class="plainHeader unwrapLbl">'+this.tc("p1n")+"</h2>",this.sLabel+this.wLabel.draw()},observeSubmitDone:function(){this.wLabel.observe(),j$("#btncontinueNextQuarter").on("click",this.continueNextQuarter.bind(this)).prop("disabled",!this.canContinue()),this.canContinue()||this.quarterChangeEvent||(this.quarterChangeEvent=function(){j$("#btncontinueNextQuarter").prop("disabled",!this.canContinue()),this.canContinue()&&(j$("#btnunwrap").hide(),j$(".unwrapMessage").hide())}.bind(this),LiveEvents.register("max_qtr","change",this.quarterChangeEvent))},write:function(t){var e=!1;if(void 0===t)switch(this.step){case 0:j$("#sSegments, #wVideo, #sSubmitDone").hide(),j$("#btncontinueWrapup1").hide(),j$("#btnunwrap").hide(),j$("#fErrors").show(),0==this.data.dynamicData.errors.length?j$("#btncontinueWrapup").show():j$("#btncontinueWrapup").hide();break;case 1:j$("#fErrors, #wVideo, #sSubmitDone").hide(),j$("#btnunwrap").hide(),this.cf.enable(),j$("#sSegments").show(),j$("#segLabel").attr("tabindex",-1).focus(),j$("#btncontinueWrapup").hide(),0==this.data.dynamicData.errors.length?j$("#btncontinueWrapup1").show():j$("#btncontinueWrapup1").hide();break;case 2:j$("#fErrors, #sSegments, #sSubmitDone").hide(),j$("#btncontinueWrapup").hide(),j$("#btnunwrap").hide(),j$("#btncontinueWrapup1").hide(),j$("#wVideo").show(),this.videoRunning=!0,this.ev=function(){LiveEvents.unregister("storytask","stop",this.ev),this.videoRunning=!1,this.write(1)}.bind(this),LiveEvents.register("storytask","stop",this.ev);var i=this.cs.drawVideo(this.st("wrapupVideo"),"r","0px","0px","objectWrapup","","width:100%;","width:100%;",!0,!1);j$("#wVideo").html(i),j$("#objectWrapup").on("ended",j$.proxy(this.videoCallBack,this,!0));break;case 3:this.wrapupDone=!0,e=!0}else e=!0;e&&!this.videoRunning&&this.wrapupDone&&this.videoCallBack(!1)},videoCallBack:function(t){j$("#fErrors, #sSegments, #wVideo").hide(),j$("#btncontinueWrapup").hide(),j$("#btncontinueWrapup1").hide(),j$("#sSubmitDone").show(),this.canUwrap()?j$("#btnunwrap").show():j$("#btnunwrap").hide(),t&&j$("#decisionsIn").attr("tabindex",-1).focus()},draw:function(){return this.ts=[],this.videoRunning=!1,this.wrapupDone=this.data.decisions.wrapped,this.step=!this.isCurrentQuarter()||this.data.decisions.wrapped?3:0,this.buttonCaptions.continueWrapup=this.tc("continue"),this.buttonCaptions.continueWrapup1=this.tc("submit"),this.buttonCaptions.unwrap=this.tc("unwrap"),'<div id="wVideo" style="display:none;"></div><div id="wrapupArea" style=" margin: 0px; padding: 0px;"><div id="fErrors" style="display:none; padding: 10px 10px 0px 10px;">'+this.drawErrors()+'</div><div id="sSegments" style="display:none; padding: 10px 10px 0px 10px;">'+this.drawSegments()+'</div><div id="sSubmitDone" style="display:none; width: 100%; height: 100%; margin-top: 90px;">'+this.drawSubmitDone()+"</div></div>"},observe:function(){j$("#btncontinueWrapup").css({width:"auto"}),j$("#btnunwrap").toggleClass("red-button",!0),this.wLabel.change("css",{margin:"0 10% 10px 10%","border-radius":"0px"}),j$("#wLabel").toggleClass("unwrapInfo",!0),this.observeErrors(),this.observeSegments(),this.observeSubmitDone(),this.write()},unwrap:function(){this.modify()&&(this.step=0,this.data.decisions={wrapped:!1},this.save()||(this.step=4,this.cancel()))},wrap:function(){var t=!0,e={wrapped:!0,targetSegments:this.ts};1===this.step&&(this.data.decisions=e,this.inModifyMode=!0,t=this.calculate(),this.inModifyMode=!1),t&&this.modify()&&(this.step=2,this.write(),this.wrapupDone=!1,this.step=3,this.data.decisions=e,this.save()||(this.step=0,this.cancel()))},continueWrapup:function(){switch(this.step){case 0:!this.data.staticData.isSalesQuarter||this.data.dynamicData.onlySupplier?this.wrap():this.step=1,this.write();break;case 1:var t=!1,e=!1;this.ts=[];for(var i=0;i<this.data.decisions.targetSegments.length;i++){var s=this.data.decisions.targetSegments[i];this.value("first_segment_"+s.segmentID)?(this.ts.push({segmentID:s.segmentID,priority:1}),t=!0):this.data.staticData.segmentsToChoose>1&&this.value("second_segment_"+s.segmentID)?(this.ts.push({segmentID:s.segmentID,priority:2}),e=!0):this.ts.push({segmentID:s.segmentID,priority:0})}this.data.staticData.segmentsToChoose>1?t&&e?this.wrap():alert(this.tc("wrongSegs")):t?this.wrap():alert(this.tc("wrongSegs1"))}},continueWrapup1:function(){this.continueWrapup()},destroy:function(){this.quarterChangeEvent&&LiveEvents.unregister("max_qtr","change",this.quarterChangeEvent),this._super()}})},36317:(t,e,i)=>{"use strict";var s=i(33316),a=(i(7083),i(82626));(0,s.s7)(window,a)},29114:(t,e,i)=>{"use strict";var s={};i.r(s),i.d(s,{Addons:()=>h,Cache:()=>l,DecisionArea:()=>m,DecisionAreaItem:()=>g,Engine:()=>d,GadgetsArea:()=>b,TaskListArea:()=>u,TopBarArea:()=>p,TopBarButton:()=>c,UI:()=>f});var a=i(33316),n=(i(36317),i(61877),i(19755)),r=i.n(n),o=i(94822),l=o.Class.extend({initialize:function(){this.clear()},clear:function(){this.cache={}},isset:function(t){return void 0!==this.cache[t]},set:function(t,e){return this.cache[t]=e},get:function(t){return this.cache[t]}}),d={quarter:0,resource:"",run:"",title:"",parentResource:"",tab:"",editing:!1,reloadOnResourceChange:!1,initialized:!1,started:!1,finished:!1,rightPanelButton:!1,mainMenuButton:!1,init:function(t,e,i,s,a){setTimeout((function(){r()("#uiLoading").fadeOut((function(){r()(this).remove()}))}),1e4),this.overlayMessages=[],ResourceLists.init(d),OverlayMessages.initialize(d,"engine"),HistoryManager.initialize(Live.newNavigation(),this.popPage.bind(this)),Accessibility.initializeJumpMenu(),LiveService.errorHandler=this.errorHandler.bind(this),this.wm=new WindowManager("stuSoft","user",window),this.ui=new f("userInterface"),this.ui.addContainer(new Container("topContainer",this.ui),"top"),this.ui.addContainer(new Container("leftContainer",this.ui),"left"),this.ui.addContainer(new Container("bodyContainer",this.ui),"body"),this.ui.addContainer(new Container("rightContainer",this.ui),"right"),this.ui.addContainer(new Container("bottomContainer",this.ui),"bottom"),this.cache=new l,this.services={gameInfo:new LiveService("GameInfo"),leftMenu:new LiveService("LeftMenu"),resource:new LiveService("Resource"),settings:new LiveService("Settings"),studentInit:new LiveService("StudentInit")},this.menuLinks=[],this.customListItems=[],this.areas={top:null,bottom:null,left:null,right:null,body:null},this.settings={},this.settingsChanged=!1,this.quarterSettingsChanged=!1,this.basicInfo=null,this.decisionQuarter=r()("#decisionQuarter");var n=Detect.ieVersion();n>0&&n<Live.minIEVersion&&alert(JSStrings.tc("common:ieVersion")),this.initialized=!1,this.finished=!0,this.quarter=0,this.resource="",this.parentResource="",this.tab="",this.params=null,this.started=!1,this.stateUrl="",this.stateObject={},this.startPage({quarter:parseInt(t)||Live.user.quarter(),parentResource:e||"",resource:i||"",tab:s||"",params:a||null,overlay:null})},getPageUrl:function(t,e){var i=Live.servicePoint,s=e.quarter,a=e.parentResource,n=e.resource,r=e.tab;if(Live.user.teamUID)i+="index.php/"+Live.user.teamUID+"/"+(t||"student")+"/",s&&(i+="q"+s+"/",""!=n&&(a&&(i+=a+"/"),i+=n+"/"+(r||"")));else{var o=Live.user.clone();i+="engine.php?tpl="+(t||"student"),s&&o.switchQuarter(s),i+="&"+o.toQueryString(),n&&(i+="&resource="+n),a&&(i+="&parentResource="+a),r&&(i+="&tab="+r)}return i},focusActiveTab:function(){this.areas.body.focusActiveTab()},getStateObject:function(t,e){var i={};return r().extend(i,e,t),i},startPage:function(t,e){var i,s=this.getStateObject(t,this.stateObject);i=function(){if(this.started)this.stateObject.quarter!=s.quarter||""==s.resource?((t=Live.user.clone()).switchQuarter(s.quarter),this.services.leftMenu.call("leftMenuItems",[t],!0,this.runSwitchQuarter.bind(this,s,e))):this.stateObject.resource!=s.resource||this.stateObject.parentResource!=s.parentResource?this.menuClickCallback(s,e):this.changeResource(s,e);else{var t;(t=Live.user.clone()).switchQuarter(s.quarter);var i=r()("#initialData").text();i?(this.runInit(s,e,{result:JSON.parse(i),error:0,errorMessage:""}),r()("#initialData").remove()):this.services.studentInit.call("runInit",[t],!0,this.runInit.bind(this,s,e))}}.bind(this);var a=function(){HistoryManager.pushState(this.stateObject,"",this.stateUrl)}.bind(this);this.inPopStateEvent=HistoryManager.inPopStateEvent(),this.inPopStateEvent?this.isEditing(i,a):this.isEditing(i)},finishPage:function(t,e){this.stateObject=t,this.stateUrl=this.getPageUrl("student",t),this.started?this.inPopStateEvent||HistoryManager.pushState(this.stateObject,"",this.stateUrl):(this.started=!0,this.inPopStateEvent||HistoryManager.replaceState(this.stateObject,"",this.stateUrl)),"function"==typeof e&&e(),OverlayMessages.nextInQuerry()},popPage:function(t){this.started&&(null!=t?this.startPage(t):this.startPage())},announce:function(t,e){(e||r()("#studentAnnounce").text()!=t)&&r()("#studentAnnounce").text(t)},runInit:function(t,e,i){if(this.services.studentInit.handleErrors(i)){t.quarter,t.parentResource,t.resource,t.tab;var s=i.result;this.basicInfo=s.leftMenu.basicInfo,this.w=s.welcome,this.settings=s.settings,Live.updateStudentBasicInfo(this.basicInfo),this.activityLog=new ActivityLog("main"),this.applySettings(),this.areas.top=new p(this.ui.container("top")),this.areas.left=new u(this.ui.container("left"),"taskList",this.ui.sizes.left.contentHeightMargin),this.areas.right=new b(this.ui.container("right"),"rightGadgets",this.ui.sizes.right.contentHeightMargin,[],s),this.areas.bottom=new b(this.ui.container("bottom"),"bottomGadgets",this.ui.sizes.bottom.contentHeightMargin,[],s),this.areas.body=new m(this.ui.container("body")),Live.user.isInstructor()&&this.basicInfo.isSampleGame&&(OverlayMessages.triggerMessage("sampleSoft",!0),OverlayMessages.triggerMessage("sampleChangingQuarters",!0)),!Live.user.isInstructor()&&Live.hasFeature("privacy-overlay")&&OverlayMessages.triggerMessage("privacy",!0),r()("#decisionCompany").html(this.basicInfo.companyName.escapeHTML()),this.initQuarterSwitcher(),this.runSwitchQuarter(t,e,{error:0,result:s.leftMenu}),this.initNextPreviousNavigation(),Live.user.isInstructor()||new WelcomeOverlay(this.w,this.wm,this.basicInfo),LiveEvents.register("version","change",this.changeVersionInfo.bind(this)),LiveEvents.register("svc_update","run",this.saveSettings.bind(this,!0)),LiveEvents.register("binfo","change",this.changeBasicInfo.bind(this)),LiveEvents.register("chat","change",this.showNewChat.bind(this)),LiveEvents.register("quarter","change",this.updateYourTurn.bind(this)),ServiceUpdater.currentStatus=s.serviceUpdater.status,ServiceUpdater.onGetRunData=this.bundleSettings.bind(this),ServiceUpdater.start(),this.initialized=!0,this.finished=!1,r()("#uiLoading").fadeOut((function(){r()(this).remove()}))}},finish:function(){this.finished||(this.finished=!0,ServiceUpdater.stop(),this.activityLog.finishActivity(),this.runFinish())},destroy:function(){this.initialized&&(this.initialized=!1,this.finish(),null!=this.wm&&this.wm.destroy(),null!=this.areas.top&&this.areas.top.destroy(),null!=this.areas.left&&this.areas.left.destroy(),null!=this.areas.right&&this.areas.right.destroy(),null!=this.areas.bottom&&this.areas.bottom.destroy(),null!=this.areas.body&&this.areas.body.destroy(),null!=this.ui&&this.ui.destroy())},initNextPreviousNavigation:function(){r()("#decisionNavigationPrevious").click(function(t){return t.preventDefault(),this.previous(),this.areas.body.titleElement.focus(),!1}.bind(this)),r()("#decisionNavigationNext").click(function(t){return t.preventDefault(),this.next(),this.areas.body.titleElement.focus(),!1}.bind(this)),LiveEvents.register("decision","change",this.changeDisabledNextPreviousNavigation.bind(this)),this.changeDisabledNextPreviousNavigation()},changeDisabledNextPreviousNavigation:function(){var t=this.stateObject.resource,e=ResourceLists.getResourceList(this.stateObject.quarter,t),i=this.areas.body.tab,s=this.areas.body.playOrder.filter((function(t){return e.haveTab(t)}));r()("#decisionNavigationNext").prop("disabled",function(){return this.isCurrentResourceLast(t,e)&&this.isCurrentTabLast(i,s)}.bind(this)),r()("#decisionNavigationPrevious").prop("disabled",function(){return this.isCurrentResourceFirst(t,e)&&this.isCurrentTabFirst(i,s)}.bind(this))},newQuarterOverlay:function(t){this.services.gameInfo.handleErrors(t)&&(this.w=t.result,new WelcomeOverlay(this.w,this.wm,this.basicInfo))},initQuarterSwitcher:function(){var t=r()("#quarterCurr");r()("#quarterPrev"),r()("#quarterNext"),this.quarterSwitcher={singleFocus:!1,focused:null,items:null,order:["quarterPrev","quarterCurr","quarterNext"],keyDownEvent:null,reset:function(){this.items={};for(var t=0,e=this.order.length;t<e;t++)this.items[this.order[t]]={enabled:!0,visible:!0},this.singleFocus&&r()("#"+this.order[t]).attr("tabindex","-1");null==this.keyDownEvent&&(this.keyDownEvent=r().proxy(this.keyDown,this))},getItem:function(t){var e,i=null,s=this.order.length,a=0,n=1;for("next"!=t&&"last"!=t||(a=s-1,n=-1),e=0;e<s;e++,a+=n)if(this.items[this.order[a]].visible){switch(t){case"first":case"last":return this.order[a];case"previous":case"next":if(this.focused==this.order[a])return i;break;case"current":if(this.focused==this.order[a])return this.order[a]}i=this.order[a]}return null},keyDown:function(t){var e=!0;switch(t.keyCode){case 37:this.focusItem("previous",!0);break;case 38:case 40:break;case 39:this.focusItem("next",!0);break;default:e=!1}e&&t.preventDefault()},focusItem:function(t,e){if(this.singleFocus){var i=this.getItem(t);return null!=i&&(null!=this.focused&&(r()("#"+this.focused).off("keydown",this.keyDownEvent).attr("tabindex","-1"),this.focused=null),this.focused=i,r()("#"+this.focused).on("keydown",this.keyDownEvent).attr("tabindex","0"),e&&r()("#"+this.focused).focus()),i}}},t.attr("aria-haspopup","true"),this.decisionQuarterDD=new DropDownStaticMenu(["quarterCurr"],this.getQuarterItems(),"left","bottom","quarterSw",null,r()("#userInterface"),!1)},getQuarterItems:function(){var t,e,i=Live.user.quarter(),s=d.basicInfo.maxQuarter,a=[];for(t=1;t<=d.basicInfo.quarterToPlay+1;++t)e=t>s?{label:t,enabled:!1,cls:"disabled"}:t==i?{label:t,onClick:function(t){d.startPage({quarter:t})}.bind(d,t),cls:"current"}:{label:t,onClick:function(t){d.startPage({quarter:t})}.bind(d,t)},a.push(e);return a},rebuildTopBar:function(){var t={"tb-btn-tests":this.w.questionnaires.length>0,"tb-btn-help":!0,"tb-btn-textbook":this.w.textBookList.length>0,"tb-btn-microsims":this.w.microsims.length>0,"tb-btn-mapmind":this.w.mindmaps.length>0,"tb-btn-trophy-room":!0,"tb-btn-activity":!1,"tb-btn-blog":Live.hasFeature("blog")&&!this.basicInfo.isAI,"tb-btn-signoff":!0,"tb-btn-account":!0,"tb-btn-right-panel":this.rightPanelButton,"tb-btn-main-menu":this.mainMenuButton};this.areas.top.update(t),this.areas.top.updateVisibility(t)},rebuildSwitchQuarterIcons:function(){var t=Live.user.quarter(),e=(r()("#quarterCurr"),r()("#quarterPrev")),i=r()("#quarterNext");this.quarterSwitcher.reset(),e.off("click"),i.off("click"),t>1?(e.show(),e.on("click",(function(e){d.startPage({quarter:t-1}),e.preventDefault()}))):(e.hide(),this.quarterSwitcher.items.quarterPrev.visible=!1,this.quarterSwitcher.items.quarterPrev.enabled=!1),t<this.basicInfo.maxQuarter?(i.show(),i.on("click",(function(e){d.startPage({quarter:t+1}),e.preventDefault()})),i.toggleClass("disabled",!1),i.attr("aria-disabled","false")):t==d.basicInfo.gameLength+1?(i.hide(),this.quarterSwitcher.items.quarterNext.visible=!1,this.quarterSwitcher.items.quarterNext.enabled=!1):(i.show(),i.on("click",(function(t){t.preventDefault()})),i.toggleClass("disabled",!0),i.attr("aria-disabled","true"),this.quarterSwitcher.items.quarterNext.enabled=!1),this.rebuildTopBar(),this.decisionQuarterDD.updateContent(this.getQuarterItems()),null==this.quarterSwitcher.focusItem("current",!1)&&this.quarterSwitcher.focusItem("first",!1)},runSwitchQuarter:function(t,e,i){var s,a,n,o=t.quarter,l=t.parentResource,c=t.resource;if(t.tab,this.services.leftMenu.handleErrors(i)){if(this.quarter=o,Live.user.switchQuarter(o),this.rebuildSwitchQuarterIcons(),s=i.result,this.basicInfo=s.basicInfo,Live.user.visibility=this.basicInfo.visibility,this.taskListItems=s.menuItems,this.menuLinks=[],this.createMenuLinks(this.taskListItems),this.createResourceLinks(s.resourceLists),ResourceLists.loadSettings(o,s.settings),d.areas.top.updateStatuses(),this.areas.left.update(),this.hasNewQuarter&&o==this.basicInfo.maxQuarter&&(c="",l="",this.hasNewQuarter=!1,Live.user.isInstructor()||(a=Live.user.clone(),this.services.gameInfo.call("welcome",[a],!0,this.newQuarterOverlay.bind(this)))),null!=(n=this.areas.left.tlObject.findNavigationResource(c,l))){var h={parentResource:n.parentResource,resource:n.resource};n.resource!=c&&(h.tab=""),t=this.getStateObject(h,t),this.menuClickCallback(t,e)}r()("#decisionCompany").html(this.basicInfo.companyName.escapeHTML()),this.decisionQuarter.html(JSStrings.tc("common:quarter")+" "+o),r()("#decisionQuarterHead").html(JSStrings.tc("tpl:quarterMenuQtr",{QUARTER:o})),LiveEvents.fire("quarter","change")}},applyCompanyRole:function(){this.cache.clear(),this.areas.left.update(),this.startPage({resource:"supplychainstrategy"})},applySettings:function(){Live.fontSize=this.settings.fontSize,Live.sizeRatio=Number(this.settings.sizeRatio),Live.viewStyle=this.settings.viewStyle,Live.preferFlash=this.settings.preferFlash,Live.skipIntro=this.settings.skipIntro,Live.showSubtitles=this.settings.showSubtitles,Live.showRewards=this.settings.showRewards,Live.addonsSettings=this.settings.addonsSettings,this.basicInfo.isSampleGame||(this.overlayMessages=this.settings.overlayMessages),this.customListItems=this.settings.customListItems,this.ui.changeSize(),this.ui.changeFontSize()},saveSettings:function(t){void 0===t&&(t=!0),this.settingsChanged&&(this.setSettings(),this.settingsChanged=!1,this.services.settings.call("saveSettings",[Live.user,this.settings],t,(function(){}))),(this.quarterSettingsChanged||this.activityLog.changed)&&(this.quarterSettingsChanged=!1,this.services.settings.call("saveQuarterScreenSettings",[Live.user,Live.user.quarter(),ResourceLists.saveSettings(Live.user.quarter()),this.activityLog.save()],t,(function(){})))},runFinish:function(){var t=[];null!==this.areas.body.decisionObject&&this.areas.body.decisionObject.inModifyMode&&t.push({service:this.areas.body.decisionObject.service,method:"cancel",parameters:[Live.user,Live.user.quarter()]}),this.settingsChanged&&(this.setSettings(),this.settingsChanged=!1,t.push({service:this.services.settings.serviceName,method:"saveSettings",parameters:[Live.user,this.settings]})),(this.quarterSettingsChanged||this.activityLog.changed)&&(this.quarterSettingsChanged=!1,t.push({service:this.services.settings.serviceName,method:"saveQuarterScreenSettings",parameters:[Live.user,Live.user.quarter(),ResourceLists.saveSettings(Live.user.quarter()),this.activityLog.save()]})),t.length>0&&this.services.studentInit.call("runFinish",[Live.user,t],!1,(function(){}))},bundleSettings:function(){var t=[];return this.settingsChanged&&(this.setSettings(),this.settingsChanged=!1,t.push([this.services.settings.serviceName,"saveSettings",[Live.user,this.settings]])),(this.quarterSettingsChanged||this.activityLog.changed)&&(this.quarterSettingsChanged=!1,t.push([this.services.settings.serviceName,"saveQuarterScreenSettings",[Live.user,Live.user.quarter(),ResourceLists.saveSettings(Live.user.quarter()),this.activityLog.save()]])),t},getGadgetAreaSettings:function(t){switch(t){case"rightGadgets":return this.settings.rightGadgets;case"bottomGadgets":return this.settings.bottomGadgets;default:return[]}},setGadgetAreaSettings:function(t,e){switch(t){case"rightGadgets":this.settings.rightGadgets=e;break;case"bottomGadgets":this.settings.bottomGadgets=e}this.settingsChanged=!0},setSettings:function(){this.settings.fontSize=Live.fontSize,this.settings.sizeRatio=Live.sizeRatio,this.settings.viewStyle=Live.viewStyle,this.settings.preferFlash=Live.preferFlash,this.settings.skipIntro=Live.skipIntro,this.settings.showSubtitles=Live.showSubtitles,this.settings.customListItems=this.customListItems,this.basicInfo.isSampleGame||(this.settings.overlayMessages=this.overlayMessages),this.settings.showRewards=Live.showRewards,this.settings.addonsSettings=Live.addonsSettings,this.settings.rs=null},openWindow:function(t,e,i,s,a,n,r,o,l){return this.wm.open(t,e,i,s||750,a||600,n,r,o,l)},updateBasicInfo:function(t){if(0==t.error){var e=this.basicInfo.companyName,i=this.basicInfo.maxQuarter,s=this.basicInfo.visibility,a=this.basicInfo.role,n=this.basicInfo.wrapped;if(this.basicInfo=t.result,Live.servicePoint!=this.basicInfo.servicePoint)return Live.servicePoint=this.basicInfo.servicePoint,void(window.location=this.getPageUrl("student",this.stateObject));e!=this.basicInfo.companyName&&r()("#decisionCompany").html(this.basicInfo.companyName.escapeHTML()),i!=this.basicInfo.maxQuarter&&(this.hasNewQuarter=!0,this.rebuildSwitchQuarterIcons(),LiveEvents.fire("max_qtr","change")),n!=this.basicInfo.wrapped&&LiveEvents.fire("this_team_wrap","change"),Live.user.visibility=this.basicInfo.visibility,a!=this.basicInfo.role?this.applyCompanyRole():s!=this.basicInfo.visibility&&this.areas.left.update()}},changeVersionInfo:function(){this.changeBasicInfo(),this.reloadOnResourceChange=!0},changeBasicInfo:function(t){void 0===t||null==t?this.services.gameInfo.call("basicInfo",[Live.user],!0,this.updateBasicInfo.bind(this)):this.updateBasicInfo({result:t,error:0})},createMenuLinks:function(t){for(var e=0,i=t.length;e<i;++e)void 0===this.menuLinks[t[e].resource]&&(this.menuLinks[t[e].resource]=[]),this.menuLinks[t[e].resource].push(t[e]),t[e].url=Live.emptyHref,t[e].menuItems.length>0&&this.createMenuLinks(t[e].menuItems)},createResourceLinks:function(t){for(var e=0,i=t.length;e<i;++e)ResourceLists.addResourceList(Live.user.quarter(),t[e].resourceID,t[e].decisionInfo,t[e].resourceTypes)},findResource:function(t){return void 0!==this.menuLinks[t]},getResource:function(t){if(this.findResource(t)){for(var e=0,i=this.menuLinks[t].length;e<i;++e)if(Live.visible(this.menuLinks[t][e].visibility))return this.menuLinks[t][e];return this.menuLinks[t][0]}return null},resizeHeight:function(t){this.ui.resizeHeight(t)},startEditing:function(){this.editing=!0},stopEditing:function(){this.editing=!1},isEditing:function(t,e){if(this.editing)if(this.areas.body.decisionObject.wasModified()){var i=new AlertOverlay("decisionModified",JSStrings.tc("common:decisionModifiedPrompt"),[{id:"dm_save",label:JSStrings.tc("common:save"),click:r().proxy((function(t,e){1==this.areas.body.decisionObject.saveDecision()&&1==this.areas.body.decisionObject.decisionSaved()?t():"function"==typeof e&&e()}),this,t,e)},{id:"dm_discard",label:JSStrings.tc("common:discard"),click:r().proxy((function(t){this.areas.body.decisionObject.cancelDecision(),this.editing=!1,t()}),this,t)},{id:"dm_stay",label:JSStrings.tc("common:stayOnScreen"),click:r().proxy((function(t){"function"==typeof t&&t()}),this,e)}]);i.show()}else this.areas.body.decisionObject.cancelDecision(),this.editing=!1,t();else t();return!0},menuClickCallback:function(t,e){var i=t.quarter,s=t.parentResource,a=t.resource;t.tab,t.params,this.findResource(a)?this.reloadOnResourceChange?(this.reloadOnResourceChange=!1,window.location=d.getPageUrl("student",t)):(this.areas.left.tlObject.expandResource(a,s,!1),ResourceLists.exists(i,a)?this.changeResource(t,e):this.services.resource.call("resourceList",[Live.user,a,!0],!0,this.addResource.bind(this,t,e))):alert("Non-existing resource")},addResource:function(t,e,i){if(this.services.resource.handleErrors(i)){var s=i.result;ResourceLists.addResourceList(quarter,resource,s.decisionInfo,s.resourceTypes),this.changeResource(t,e)}},changeResource:function(t,e){ResourceLists.view(t.quarter,t.resource),this.areas.body.changeResource(t,e,this.getPageUrl("student",t)),t=this.getStateObject({tab:this.areas.body.tab},t),this.quarter=t.quarter,this.parentResource=t.parentResource,this.resource=t.resource,this.tab=t.tab,this.params=t.params,d.finishPage(t,e),LiveEvents.fire("decision","change")},next:function(t){var e=this.stateObject.resource,i=ResourceLists.getResourceList(this.stateObject.quarter,e),s=this.areas.body.tab,a=this.areas.body.playOrder.filter((function(t){return i.haveTab(t)}));this.isCurrentTabLast(s,a)?this.nextResource(t):this.nextTab(a,s,t)},nextTab:function(t,e,i){var s={};s.tab=t[t.indexOf(e)+1],this.startPage(s,i)},nextResource:function(t){var e={},i=this.areas.left.tlObject.lastClicked.getNextItem(!0);if(i){var s=i.parent.resource,a=ResourceLists.getResourceList(this.stateObject.quarter,i.resource),n=this.areas.body.playOrder.filter((function(t){return a.haveTab(t)}));e.resource=i.resource,null!==s&&(e.parentResource=s),e.tab=n[0],this.startPage(e,t)}},isCurrentTabLast:function(t,e){return e[e.length-1]===t},isCurrentResourceLast:function(){return!this.areas.left.tlObject.lastClicked.getNextItem(!0)},previous:function(t){var e=this.stateObject.resource,i=ResourceLists.getResourceList(this.stateObject.quarter,e),s=this.areas.body.tab,a=this.areas.body.playOrder.filter((function(t){return i.haveTab(t)}));this.isCurrentTabFirst(s,a)?this.previousResource(t):this.previousTab(a,s,t)},previousTab:function(t,e,i){var s={};s.tab=t[t.indexOf(e)-1],this.startPage(s,i)},previousResource:function(t){var e={},i=this.areas.left.tlObject.lastClicked.getPreviousItem(!1,!0);if(i){var s=i.parent.resource,a=ResourceLists.getResourceList(this.stateObject.quarter,i.resource),n=this.areas.body.playOrder.filter((function(t){return a.haveTab(t)}));e.resource=i.resource,null!==s&&(e.parentResource=s),e.tab=n[n.length-1],this.startPage(e,t)}},isCurrentTabFirst:function(t,e){return e[0]===t},isCurrentResourceFirst:function(){return!this.areas.left.tlObject.lastClicked.getPreviousItem(!1,!0)},setLast:function(t,e){ResourceLists.setTab(Live.user.quarter(),t,e)},getHelpLink:function(t){var e="";return void 0!==t&&(e="&id="+t),Live.user.teamUID?Live.servicePoint+Live.user.teamUID+"/help/"+(t||""):Live.servicePoint+"engine.php?tpl=help"+e+"&"+Live.user.toQueryString()},showHelp:function(t){this.openWindow(this.getHelpLink(t),"helpWindow")},showTextbook:function(){this.basicInfo.isSampleGame?alert(JSStrings.tc("tpl:naSample")):this.openWindow(Live.wsiSite+"textbook.php?id="+Live.user.id()+"&session="+Live.user.sessionID()+"&gameID="+d.basicInfo.gameID+(Live.user.isInstructor()?"&isInstructor=1":""),"textbookWindow")},showTrophyRoom:function(){this.showNewWindow("trophyroom","TrophyRoom")},showEmailSupport:function(){this.basicInfo.isSampleGame?alert(JSStrings.tc("tpl:naSample")):Live.user.teamUID?this.openWindow(Live.servicePoint+Live.user.teamUID+"/email-support/","emailSupportWindow","simple",670,500):this.openWindow(Live.servicePoint+"engine.php?tpl=email-support&"+Live.user.toQueryString(),"emailSupportWindow","simple",670,500)},showPrint:function(t,e,i){Live.user.teamUID?this.openWindow(Live.servicePoint+Live.user.teamUID+"/print/q"+Live.user.quarter()+"/"+t+"/"+i,"printWindow"):this.openWindow(Live.servicePoint+"engine.php?tpl=print&"+Live.user.toQueryString()+"&resource="+t+"&run="+e+"&item="+i,"printWindow")},showNewWindow:function(t,e,i,s,a){var n=void 0!==i&&null!=i?"&params="+i:"",r=void 0!==s&&null!=s?"&area="+s:"",o=Live.user;void 0!==a&&null!=a&&(o=o.clone()).switchQuarter(o.quarter()+a),Live.user.teamUID?this.openWindow(Live.servicePoint+o.teamUID+"/student-new-win/q"+o.quarter()+"/"+t+"/"+(i||"")+"/"+(s||"")+"/"+(Live.preferFlash?"anim":""),"newWindow"+e,"simple",730,480):this.openWindow(Live.servicePoint+"engine.php?tpl=student-new-win&"+o.toQueryString()+"&resource="+t+"&run="+e+"&pf="+(Live.preferFlash?1:0)+n+r,"newWindow"+e,"simple",730,480)},getShareWindowLink:function(t,e){var i=Live.user.clone(),s=ResourceLists.getResourceList(Live.user.quarter(),t);return null!=s&&(i.switchQuarter(i.quarter()+Number(s.decisionInfo.qtrOffset)),Live.servicePoint+"share.php?decision="+e+"&"+i.toQueryString())},showShareWindow:function(t,e){var i=this.getShareWindowLink(t,e);0!=i&&this.openWindow(i,"share"+e,"simple",800,650)},showImageUpload:function(t,e){new ChangeImageOverlay(t,e)},showPreferences:function(){new PreferencesOverlay},showAccount:function(){this.goToAccount(!1)},showAccountSettings:function(){this.goToAccount(!0)},goToAccount:function(t){if(null!=this.basicInfo.accountInfo){var e=Live.wsiSite+"account.php?SID=1"+(t?"&EDIT":"");""==Live.user.sessionID()&&(e=Live.wsiSite+"role.php?redirectURI="+encodeURIComponent(e)+"&"+Live.csrfTokenName+"="+encodeURIComponent(Cookie.get(Live.csrfTokenName))),this.finish(),window.document.location=e}},showAccountingDetail:function(t,e,i){Live.user.teamUID?this.openWindow(Live.servicePoint+Live.user.teamUID+"/accounting-detail/q"+e+"/"+t+"/"+(i?"proforma":""),"accountingDetailWindow","simple",500,270):this.openWindow(Live.servicePoint+"engine.php?tpl=accounting-detail&"+Live.user.toQueryString()+"&item="+t+"&quarterToView="+e+"&proforma="+(i?1:0),"accountingDetailWindow","simple",500,270)},showActivities:function(){Live.user.teamUID?this.openWindow(Live.servicePoint+Live.user.teamUID+"/activities/","activityWindow"):this.openWindow(Live.servicePoint+"engine.php?tpl=activities&"+Live.user.toQueryString(),"activityWindow")},showProfile:function(){this.basicInfo.isSampleGame?alert(JSStrings.tc("tpl:naSample")):Live.user.isInstructor()?this.openWindow(Live.cpSite+"engine.php?tpl=cb-site&"+Live.user.toQueryString(),"Profiler","simple",1024,800):this.openWindow(Live.cpSite+"engine.php?tpl=cb-site&"+Live.user.toQueryString()+"&realGameID="+this.basicInfo.realGameID+"&team="+this.basicInfo.team,"Profiler","simple",1024,800)},showInstrProfile:function(){this.basicInfo.isSampleGame?alert(JSStrings.tc("tpl:naSample")):this.openWindow(Live.cpSite+"gengine.php?tpl=gb-site&"+Live.user.toQueryString()+"&gameID="+d.basicInfo.gameID,"Profiler","simple",1024,800)},getSignOffUrl:function(t){var e=Live.servicePoint+"student-logout.php";return null!==(t=t||null)&&(e+="?"+t.toQueryString(!0)),e},signOff:function(){if(Live.user.isInstructor())this.finish(),window.close();else{var t=d.getSignOffUrl(Live.user);this.finish(),document.location=t}},showMessage:function(t,e,i){var s='<br /><span style="color:#333333; font-weight:normal;">'+JSStrings.tc("common:followExclamation")+"</span>",a="";if(void 0===i&&(i=!1),-1!=["saved","savedWithErrors","savedWithWarnings","savedWithNotes","cancelled","cannotSave","newChat","newEmail","emailSent"].indexOf(t))switch(t){case"saved":a='<div class="decisions-saved" style="float:left; margin-top:-3px; margin-right:8px;"></div>'+JSStrings.tc("common:decisionSaved");break;case"savedWithErrors":a='<div class="check-error-small" style="float:left; margin-top:-3px; margin-right:8px;"></div>'+JSStrings.tc("common:decisionSavedWithErrors")+s;break;case"savedWithWarnings":a='<div class="check-warning-small" style="float:left; margin-top:-3px; margin-right:8px;"></div>'+JSStrings.tc("common:decisionSavedWithWarnings")+s;break;case"savedWithNotes":a='<div class="check-note-small" style="float:left; margin-top:-3px; margin-right:8px;"></div>'+JSStrings.tc("common:decisionSavedWithNotes")+s;break;case"cancelled":a='<div class="decisions-cancelled" style="float:left; margin-top:-3px; margin-right:8px;"></div>'+JSStrings.tc("common:decisionCancelled");break;case"cannotSave":a='<div class="check-error-small" style="float:left; margin-top:-3px; margin-right:8px;"></div>'+JSStrings.tc("common:cannotSave")+s,e="Error";break;case"newChat":a=JSStrings.tc("common:newChat");break;case"emailSent":a=JSStrings.tc("common:emailSent")}else a=t;e="decMsg"+(e||"Note");var n,o,l,d,c=r()("#decision"),h=r()("#decMsg");n=r()('<div id="decMsgCnt" style="margin:15px;">'+a+"</div>"),this.messageDelay&&clearTimeout(this.messageDelay),h.stop(!0,!0).removeClass().toggleClass(e,!0).toggleClass("decMsgHidden",!1),i?(h.toggleClass("offscreen",!0),h.html(n),this.messageDelay=setTimeout((function(){n.hide(),h.toggleClass("decMsgHidden",!0)}),2e3)):(h.css({left:"",top:"",height:"",width:""}).html(n),o=c.position(),l=h.outerWidth(),d=h.outerHeight(),h.css({top:o.top-2+"px",left:o.left+c.width()-l-4+"px",height:"0px"}),h.animate({top:"-="+d,height:d},1e3),this.messageDelay=setTimeout((function(){h.animate({top:"+="+d,height:0},1e3,(function(){n.hide(),h.toggleClass("decMsgHidden",!0)}))}),2e3))},showNewChat:function(){null==this.areas.bottom.get("chat")&&this.showMessage("newChat")},updateYourTurn:function(){null!=this.areas.right.get("yourturn")&&this.areas.right.get("yourturn").checkEvent()},sessionExpired:function(){},relog:function(t,e){},updateSession:function(t){Live.user.updateSessionID(t),null!=this.areas.body&&null!=this.areas.body.decisionObject&&this.areas.body.decisionObject.updateSessionID()},errorHandler:function(t){var e=Number(t.error);return alert(this.uiErrorMessage(t.error,t.message,t.errorDetail)),500!=e&&501!=e&&502!=e&&503!=e&&511!=e||(document.location=Live.wsiSite),!1},uiErrorMessage:function(t,e,i){switch(Number(t)){case 300017:case 400002:case 400003:return JSStrings.tc("common:cannot_authenticate");case 101:return JSStrings.tc("common:cannot_modi_wrapped");case-4:case-5:case-6:if(!Live.debugMode)return JSStrings.tc("common:network_problem")}return Live.debugMode&&i&&this.areas.body.element.html(i),e+"(#"+t+")"},isGameOver:function(){return this.basicInfo.maxQuarter>this.basicInfo.gameLength}},c=o.Class.extend({singleFocus:!1,initialize:function(t,e,i){this.id=t,this.onClick=e,this.onClickEvent=this.action.bind(this),this.element=r()("#"+this.id),this.image=r()("#"+this.id+"-img"),this.title=r()("#"+this.id+"-title"),this.spacer=r()("#"+this.id+"-spacer"),this.title.html(JSStrings.tc("tpl:"+this.id)),this.extension=null,null!=i&&this.extend(i),this.disable(!0),"#"==this.element.attr("href")&&this.element.attr("href",Live.emptyHref)},destroy:function(){this.element.off(),this.element=null},action:function(t){t.preventDefault(),this.onClick()},visible:function(){return this.element.is(":visible")},disable:function(t){(this.enabled||t)&&(this.enabled=!1,this.element.removeClass("tb-btn"),this.element.addClass("tb-btn-disabled"),this.element.attr("aria-disabled","true"),this.image.removeClass(this.id),this.image.addClass(this.id+"-disabled"),this.hideExtension(),this.element.off("click",this.onClickEvent).css("cursor","default"),null!=this.extension&&this.extension.disable())},enable:function(){this.enabled||(this.enabled=!0,this.element.removeClass("tb-btn-disabled"),this.element.addClass("tb-btn"),this.element.attr("aria-disabled","false"),this.image.removeClass(this.id+"-disabled"),this.image.addClass(this.id),this.showExtension(),this.element.on("click",this.onClickEvent).css("cursor","pointer"),null!=this.extension&&this.extension.enable())},show:function(t){t=t||!1,(this.enabled||t)&&(this.element.show(),this.spacer.show(),t&&this.enable())},hide:function(t){t=t||!1,this.enabled&&!t||(t&&this.disable(),this.element.hide(),this.singleFocus&&this.element.attr("tabindex","-1"),this.spacer.hide())},extend:function(t){this.element.append('<img src="'+JSSettings.st("common:dbImg")+'" class="ext btn-ext-blue" alt="" />').attr("aria-haspopup","true"),"tb-btn-account"==this.id?this.extension=new DropDownStaticAccount([this.id],t.data,!1):this.extension=new DropDownStaticMenu([this.id],t.items,"right","bottom",t.style,null,r()("#userInterface"),!1)},updateExtension:function(t){null!=this.extension&&this.extension.updateContent(t)},hideExtension:function(){null!=this.extension&&this.element.children("img.ext").css("visibility","hidden")},showExtension:function(){null!=this.extension&&this.element.children("img.ext").css("visibility","visible")}}),h={getAddon:function(t,e){var i,s;for(i=0,s=d.settings.addonsSettings.length;i<s;i++)if(d.settings.addonsSettings[i].type==t&&d.settings.addonsSettings[i].addonID==e)return d.settings.addonsSettings[i]},setAddonViewed:function(t,e){var i,s;if(!Live.user.isInstructor())for(i=0,s=d.settings.addonsSettings.length;i<s;i++)d.settings.addonsSettings[i].type==t&&d.settings.addonsSettings[i].addonID==e&&(d.settings.addonsSettings[i].welcomeShown=!0)},getAddonVisited:function(t,e,i){var s,a;for(s=0,a=d.settings.addonsSettings.length;s<a;s++)if(d.settings.addonsSettings[s].type==t&&d.settings.addonsSettings[s].addonID==e)return void 0!==i&&i.results?d.settings.addonsSettings[s].resultsVisited:!d.settings.addonsSettings[s].topBarNew;return!0},setAddonVisited:function(t,e,i){var s,a;if(!Live.user.isInstructor())for(s=0,a=d.settings.addonsSettings.length;s<a;s++)d.settings.addonsSettings[s].type==t&&d.settings.addonsSettings[s].addonID==e&&(d.settings.addonsSettings[s].topBarNew=!1,void 0!==i&&!d.settings.addonsSettings[s].resultsVisited&&i.results&&(d.settings.addonsSettings[s].resultsVisited=!0))},saveAddonsVisited:function(){Live.user.isInstructor()||(d.settingsChanged=!0,d.applySettings(),h.updateAddonsData(),d.areas.top.updateStatuses())},updateAddonsData:function(){var t=d.services.gameInfo.call("welcome",[Live.user],!1);0==t.error&&(d.w=t.result)},getMicrosims:function(){h.updateAddonsData();var t=new Overlay("","microsimsovr",JSStrings.tc("tpl:microsims"),"","","90","90","right","middle","","auto","auto");t.onDrawContent=h.getMicrosimsContent,t.hasCloseX=!0,t.draw(),t.show()},getMicrosimsContent:function(){var t,e,i,s,a,n,o,l,c,p,u,g,m,b=d.w.microsims,f=[],v=[];for(e=0,i=b.length;e<i;++e)(t=b[e]).accessible?f.push(t):v.push(t);if(s=r()('<div class="addonOverlay microsimsOverlay"></div>'),f.length>0){for(a=r()('<div class="addonOverlayType"></div>'),s.append(a),a.append('<h2 class="addonOverlayTitle" tabindex="0">'+JSStrings.tc("tpl:microsims")+"</h2>"),a.append('<div class="addonOverlayNote">'+JSStrings.tc("tpl:microsimsNote")+"</div>"),(n=r()('<div class="addonOverlayHeader"></div>')).append('<div class="addonOverlayCompl" aria-hidden="true">'+JSStrings.tc("tpl:score")+"</div>"),n.append('<div class="addonOverlayQuart" aria-hidden="true">'+JSStrings.tc("tpl:dueInQuarter")+"</div>"),a.append(n),o=r()('<ul class="addonOverlayItems"></ul>'),a.append(o),e=0,i=f.length;e<i;++e)t=f[e],l=r()('<li class="addonOverlayLabel"></li>'),o.append(l),void 0!==t.image?l.append('<img src="'+t.image+'" class="addonOverlayImg" alt />'):l.append('<div class="addonOverlayImg"></div>'),(c=r()('<div class="addonOverlayText"></div>')).append('<div id="addonOverlayName_'+e+'" class="addonOverlayName">'+t.name+"</div>"),c.append('<div class="addonOverlayDesc">'+(void 0!==t.description?t.description:"")+"</div>"),l.append(c),t.score>0?(g=r()('<div class="addonOverlayScoreBar"></div>'),(m=r()('<div class="addonOverlayScoreProgress"></div>')).css({width:t.score+"%"}),g.append(m),l.append(g),u=r()('<div class="addonOverlayScore"><span class="offscreen">'+JSStrings.tc("tpl:score")+"</span>"+t.score+"%</div>"),l.append(u)):l.append('<div class="addonOverlayScorePlaceholder"></div>'),l.append('<div class="addonOverlayQuarter"><span class="offscreen">'+JSStrings.tc("tpl:dueInQuarter")+"</span>"+t.quarter+"</div>"),(p=r()('<button id="mic_'+t.microsimID+'" class="button-plain buttonlink addonOverlayBtn" aria-describedby="addonOverlayName_'+e+'">'+JSStrings.tc("tpl:play")+"</button>")).on("click",r().proxy((function(t,e,i){h.setAddonVisited("MIC",t.microsimID),h.saveAddonsVisited(),Live.user.isInstructor()?h.showNotAvailibleInst():(d.openWindow(t.weblocation+"/student-login.php?ID="+Live.user.id()+"&SessionID="+Live.user.sessionID()+"&tpl="+t.acronym+"&lang="+Live.user.language(),"microsim","simple",1034,768),this.destroy())}),this,t,l)),l.append(p),h.getAddonVisited("MIC",t.microsimID)||Live.user.isInstructor()||(l.toggleClass("newLabel",!0),l.prepend('<span class="offscreen">'+JSStrings.tc("common:new")+"</span>")),l.append('<div style="clear:both;"></div>');a.append('<div style="clear:both;"></div>')}if(v.length>0){for(a=r()('<div class="addonOverlayType disabled"></div>'),s.append(a),a.append('<h2 class="addonOverlayTitle" tabindex="0">'+JSStrings.tc("tpl:availableLater")+"</h2>"),0==f.length&&(a.append('<div class="addonOverlayNote">'+JSStrings.tc("tpl:microsimsNote")+"</div>"),(n=r()('<div class="addonOverlayHeader"></div>')).append('<div class="addonOverlayQuart">'+JSStrings.tc("tpl:dueInQuarter")+"</div>"),a.append(n)),o=r()('<div class="addonOverlayItems"></div>'),a.append(o),e=0,i=v.length;e<i;++e)t=v[e],l=r()('<div class="addonOverlayLabel"></div>'),o.append(l),void 0!==t.image?l.append('<img src="'+t.image+'" class="addonOverlayImg disabled" />'):l.append('<div class="addonOverlayImg"></div>'),(c=r()('<div class="addonOverlayText"></div>')).append('<div class="addonOverlayName">'+t.name+"</div>"),c.append('<div class="addonOverlayDesc">'+(void 0!==t.description?t.description:"")+"</div>"),l.append(c),l.append('<div class="addonOverlayQuarter">'+t.quarter+"</div>"),l.append('<div style="clear:both;"></div>');a.append('<div style="clear:both;"></div>')}return s},showNotAvailibleInst:function(){new AlertOverlay("notAvailible",JSStrings.tc("common:notAvailableInstr"),[{id:"dm_stay",label:JSStrings.tc("common:continue")}]).show()},getTests:function(){h.updateAddonsData();var t=new Overlay("","testsovr",JSStrings.tc("tpl:testEval"),"","","90","90","right","middle","","auto","auto");t.onDrawContent=h.getTestsContent,t.hasCloseX=!0,t.draw(),t.show()},getTestsContent:function(){for(var t,e,i,s,a,n,o,l,c,p=!1,u=!1,g=d.w.questionnaires,m=!0,b=0;b<g.length;++b)if("AOLA"==g[b].id)for(var f=0;f<g[b].links.length;++f)m&=g[b].links[f].results;for(t=r()('<div class="addonOverlay"></div>'),b=0;b<g.length;++b){e=r()('<div class="addonOverlayType"></div>'),t.append(e),e.append('<h2 class="addonOverlayTitle" tabindex="0">'+g[b].title+"</h2>"),"PE"==g[b].id?e.append('<div class="addonOverlayNote">'+JSStrings.tc("tpl:peNote")+"</div>"):"SR"==g[b].id?e.append('<div class="addonOverlayNote">'+JSStrings.tc("tpl:srNote")+"</div>"):"QUIZ"==g[b].id?e.append('<div class="addonOverlayNote">'+JSStrings.tc("tpl:quizNote")+"</div>"):e.append('<div class="addonOverlayNote">'+JSStrings.tc("tpl:testNote")+(m?"":'<br><br><span style="font-weight: bold;">'+JSStrings.tc("tpl:testImportantNote")+"</span>")+"</div>");var v=r()('<div class="addonOverlayHeader"></div>');for(v.append('<div class="addonOverlayCompl" aria-hidden="true">'+JSStrings.tc("tpl:completed")+"</div>"),e.append(v),i=r()('<ul class="addonOverlayItems"></ul>'),e.append(i),f=0;f<g[b].links.length;++f){var y=g[b].links[f];if(l=y.dueBy?JSStrings.tc("tpl:testTitle",{TITLE:y.title,DATE_AND_TIME:y.dueBy}):y.title,c=y.results?JSStrings.tc("tpl:showResults"):y.preventDecisionArea?JSStrings.tc("tpl:completeTest"):"AOLA"==g[b].id?JSStrings.tc("tpl:startTest"):JSStrings.tc("tpl:takeTest"),s=r()('<li class="addonOverlayLabel"></li>'),i.append(s),(a=r()('<div class="addonOverlayText"></div>')).append('<div id="addonOverlayName_'+b+"_"+f+'" class="addonOverlayName">'+l+"</div>"),s.append(a),n=r()('<div class="addonOverlayItemCompl"></div>'),y.finished?(n.html('<span class="offscreen">'+JSStrings.tc("tpl:completed")+"</span>"),n.toggleClass("done",!0)):n.html('<span class="offscreen">'+JSStrings.tc("tpl:notCompleted")+"</span>"),s.append(n),y.results)(o=r()('<button id="quiz_'+y.quizID+'" class="button-plain buttonlink addonOverlayBtn" aria-describedby="addonOverlayName_'+b+"_"+f+'">'+c+"</button>")).on("click",r().proxy((function(t,e,i,s){h.setAddonVisited(e,t.quizID,t),h.saveAddonsVisited(),Live.user.isInstructor()?h.showNotAvailibleInst():(d.openWindow(t.link,"quiz","simple",1024,768),this.destroy())}),this,y,g[b].id,s)),s.append(o);else if(y.finished){p=!0,h.setAddonVisited(g[b].id,y.quizID,y);var w=r()('<div class="addonOverlayBtnSpacer"></div>');s.append(w)}else(o=r()('<button id="quiz_'+y.quizID+'" class="button-plain buttonlink addonOverlayBtn" aria-describedby="addonOverlayName_'+b+"_"+f+'">'+c+"</button>")).on("click",r().proxy((function(t,e,i,s,a){h.setAddonVisited(i,e.quizID,e),h.saveAddonsVisited(),Live.user.isInstructor()?h.showNotAvailibleInst():("AOLA"==t.id||e.preventDecisionArea?(void 0!==d&&d.finish(),window.location.href=e.link+"&url="+encodeURIComponent(document.location)+"&signoutUrl="+encodeURIComponent(d.getSignOffUrl(Live.user))):d.openWindow(e.link,"quiz","simple",1024,768),this.destroy())}),this,g[b],y,g[b].id,s)),s.append(o);h.getAddonVisited(g[b].id,y.quizID,y)||Live.user.isInstructor()||s.toggleClass("newLabel",!0),u=!0,s.append('<div style="clear:both;"></div>')}e.append('<div style="clear:both;"></div>')}return u||t.append('<div class="addonOverlayMsg">'+JSStrings.tc("tpl:noTests")+"</div>"),p&&h.saveAddonsVisited(),t}},p=o.Class.extend({singleFocus:!1,initialize:function(t){var e={data:{account:null==d.basicInfo.accountInfo?null:{lastName:d.basicInfo.accountInfo.lastName,firstName:d.basicInfo.accountInfo.firstName,email:d.basicInfo.accountInfo.email},other:[]}};null!=d.basicInfo.accountInfo&&e.data.other.push({label:JSStrings.tc("tpl:account"),action:d.showAccount.bind(d)},{label:JSStrings.tc("tpl:accountSettings"),action:d.showAccountSettings.bind(d)}),e.data.other.push({label:JSStrings.tc("tpl:otherSettings"),action:d.showPreferences.bind(d)},{label:JSStrings.tc("tpl:activityLog"),action:d.showActivities.bind(d)}),this.buttonIds=["tb-btn-tests","tb-btn-help","tb-btn-textbook","tb-btn-microsims","tb-btn-mapmind","tb-btn-trophy-room","tb-btn-activity","tb-btn-blog","tb-btn-signoff","tb-btn-account","tb-btn-right-panel","tb-btn-main-menu"],this.buttonExtensions=[null,{style:"help",items:[{label:JSStrings.tc("tpl:helpFile"),onClick:d.showHelp.bind(d)},{label:JSStrings.tc("tpl:emailSupport"),onClick:d.showEmailSupport.bind(d)}]},null,null,null,null,null,null,null,e,null,null],this.buttonOrder=["tb-btn-main-menu","tb-btn-activity","tb-btn-blog","tb-btn-tests","tb-btn-microsims","tb-btn-mapmind","tb-btn-trophy-room","tb-btn-textbook","tb-btn-help","tb-btn-account","tb-btn-signoff","tb-btn-right-panel"],this.container=t,this.container.setContentObject(this),this.buttons={};for(var i=0,s=this.buttonIds.length;i<s;i++)this.buttons[this.buttonIds[i]]=new c(this.buttonIds[i],this.click.bind(this,this.buttonIds[i]),this.buttonExtensions[i]),this.updateDisables(this.buttonIds[i],!0);this.updateStatuses(),this.focusedButton=null,this.keyDownEvent=r().proxy(this.keyDown,this)},destroy:function(){for(var t=0,e=this.buttonIds.length;t<e;t++)this.buttons[this.buttonIds[t]].destroy()},update:function(t){for(var e=0,i=this.buttonIds.length;e<i;e++){var s=this.buttonIds[e];void 0!==t[s]&&this.updateDisables(s,!t[s])}this.singleFocus&&null==this.focusButton("current",!1)&&this.focusButton("first",!1)},updateVisibility:function(t){for(var e=0,i=this.buttonIds.length;e<i;e++){var s=this.buttonIds[e];void 0!==t[s]&&this.updateVisibles(s,t[s])}this.singleFocus&&null==this.focusButton("current",!1)&&this.focusButton("first",!1)},updateStatuses:function(){if(!Live.user.isInstructor()){var t,e,i,s,a,n,o=0,l=0,c=null,p=null;for(t=0,e=d.settings.addonsSettings.length;t<e;t++){for(c=null,i=0,s=d.w.questionnaires.length;i<s;i++)if(d.w.questionnaires[i].id==d.settings.addonsSettings[t].type)for(a=0,n=d.w.questionnaires[i].links.length;a<n;a++)d.w.questionnaires[i].links[a].quizID==d.settings.addonsSettings[t].addonID&&(c=d.w.questionnaires[i].links[a]);for(i=0,s=d.w.microsims.length;i<s;i++)d.w.microsims[i].microsimID==d.settings.addonsSettings[t].addonID&&(p=d.w.microsims[i]);switch(d.settings.addonsSettings[t].type){case"MIC":d.settings.addonsSettings[t].topBarNew&&null!=p&&p.accessible&&o++;break;case"PE":case"TEST":case"AOLA":case"SR":null!=c&&(h.getAddonVisited(d.settings.addonsSettings[t].type,c.quizID,c)||l++)}}o>0?r()("#tb-btn-microsims-counter").html(o):r()("#tb-btn-microsims-counter").empty(),l>0?r()("#tb-btn-tests-counter").html(l):r()("#tb-btn-tests-counter").empty()}},click:function(t){var e;switch(t){case"tb-btn-activity":d.showActivities();break;case"tb-btn-trophy-room":d.showTrophyRoom();break;case"tb-btn-help":case"tb-btn-account":break;case"tb-btn-textbook":d.showTextbook();break;case"tb-btn-blog":d.showProfile();break;case"tb-btn-tests":h.getTests();break;case"tb-btn-microsims":h.getMicrosims();break;case"tb-btn-mapmind":Live.user.isInstructor()?new AlertOverlay("notAvailible",JSStrings.tc("common:notAvailableInstr"),[{id:"dm_stay",label:JSStrings.tc("common:continue")}]).show():d.openWindow(d.w.mindmaps[0].weblocation+"/index.php?SID="+Live.user.id()+"&SessionID="+Live.user.sessionID()+"&lang="+Live.user.language(),"mindmap","simple",1024,768);break;case"tb-btn-signoff":d.isEditing((function(){d.signOff()}));break;case"tb-btn-right-panel":e=!r()("#rightContainer").hasClass("popupShown"),r()("#rightContainer").toggleClass("popupShown",e),e&&r()("#leftContainer").removeClass("popupShown");break;case"tb-btn-main-menu":e=!r()("#leftContainer").hasClass("popupShown"),r()("#leftContainer").toggleClass("popupShown",e),e&&r()("#rightContainer").removeClass("popupShown");break;default:alert(t)}},getButton:function(t,e){var i,s,a,n,r=null,o=this.buttonOrder.length,l=null;for(null!=t&&(l=t.id),"first"==e||"previous"==e?(a=0,n=1):(a=o-1,n=-1),s=0;s<o;s++,a+=n)if((i=this.buttons[this.buttonOrder[a]]).enabled&&i.visible()){switch(e){case"first":case"last":return i;case"previous":case"next":if(i.id==l)return r;break;case"current":if(i.id==l)return i}r=i}return null},focusButton:function(t,e){var i=this.getButton(this.focusedButton,t);return null!=i&&(null!=this.focusedButton&&(this.focusedButton.element.off("keydown",this.keyDownEvent).attr("tabindex",-1),this.focusedButton=null),this.focusedButton=i,this.focusedButton.element.on("keydown",this.keyDownEvent).attr("tabindex",0),e&&this.focusedButton.element.focus()),i},keyDown:function(t){var e=!0;switch(t.keyCode){case 36:this.focusButton("first",!0);break;case 35:this.focusButton("last",!0);break;case 37:this.focusButton("previous",!0);break;case 38:case 40:break;case 39:this.focusButton("next",!0);break;default:e=!1}e&&t.preventDefault()},updateVisibles:function(t,e){e?this.buttons[t].show():this.buttons[t].hide()},updateDisables:function(t,e){e?this.buttons[t].disable():this.buttons[t].enable()},updateExtension:function(t,e){this.buttons[t].updateExtension(e)},resize:function(){}}),u=o.Class.extend({id:"",initialize:function(t,e){this.id=e,this.container=t,this.container.setContentObject(this),this.element=r()("#"+this.id+"Items"),this.tlObject=null,this.tlSearch=null},destroy:function(){null!=this.tlObject&&(this.tlObject.destroy(),this.tlObject=null),null==this.tlSearch&&(this.tlSearch.destroy(),this.tlSearch=null),this.element=null},update:function(){null!=this.tlObject&&(this.tlObject.destroy(),this.tlObject=null),this.tlObject=new TaskList(d.taskListItems,(function(t,e){d.startPage({resource:t,parentResource:e,tab:"",params:null},d.focusActiveTab.bind(d))})),null!=this.tlSearch&&(this.tlSearch.destroy(),this.tlSearch=null),this.tlSearch=new TaskListSearch(this.tlObject),OverlayMessages.triggerMessage("taskList",!0),this.element.html(this.tlObject.draw()),this.tlObject.observeEvents(),this.tlObject.collapseAll(),this.tlSearch.draw(),this.tlSearch.observe(),this.resize()},getHeight:function(){return this.container.contentElement.getHeight()-d.ui.sizes.left.contentHeightMargin},resize:function(){}}),g=o.Class.extend({singleFocus:!1,selected:!1,active:!1,last:!1,initialize:function(t,e,i){this.id=t,this.onClick=i,this.decisionArea=e,this.resourceType=null,this.resourceTypeObject=null,this.element=r()("#"+t).css({cursor:"pointer"}).on("click",this.onClick.bind(this.decisionArea,this.id)),r()("#"+t+"Title").html(JSStrings.tc("tpl:"+this.id)),this.singleFocus||this.element.find("a").attr("tabindex","0").on("keydown",r().proxy(this.keyDown,this))},destroy:function(){this.element.off()},reset:function(){this.selected&&this.unSelect(),this.selected=!1,this.active=!1,this.last=!1,this.resourceType=null,this.resourceTypeObject=null},activate:function(t,e){this.selected&&this.unSelect(),this.selected=!1,this.active=!0,this.last=!1,this.resourceType=t,this.resourceTypeObject=null,e&&this.element.find("a").attr("href",e)},posInSet:function(t,e){this.element.find("a").attr("aria-setsize",e).attr("aria-posinset",t)},doFocus:function(){!this.selected&&this.singleFocus||this.element.find("a").focus()},select:function(){this.selected=!0,this.element.removeClass().toggleClass("tab-active",!0).toggleClass("ws-btn-"+this.id+"-selected",!0),this.element.find("a").attr("aria-selected","true").attr("aria-controls","decisionContentTab"),this.singleFocus&&this.element.find("a").attr("tabindex","0").on("keydown",r().proxy(this.keyDown,this)),r()("#decisionContentTab").attr("aria-labelledby",this.id+"Title")},keyDown:function(t){var e=!0;switch(t.keyCode){case 37:this.decisionArea.playPrevious(this.id,!0);break;case 38:case 40:break;case 39:this.decisionArea.playNext(this.id,!0);break;default:e=!1}e&&(t.preventDefault(),Accessibility.toggleKeyboardModeScript(!0))},getResourceTypeObject:function(t){return null!=t&&null==this.resourceTypeObject&&(this.resourceTypeObject=ResourceTypeViewerFactory.getViewer(t.resourceType,t.viewer,t.operator,t.resources,Live.user.language())),this.resourceTypeObject},draw:function(){var t=this.getResourceTypeObject(this.resourceType);return null!=t?t.draw():""},observe:function(){var t=this.getResourceTypeObject(this.resourceType);if(null!=t)return t.observe()},getItemData:function(t,e,i){if("text/xml-sub"==t&&0==Live.showSubtitles)return null;var s=this.getResourceTypeObject(this.resourceType);return null!=s?s.data(t,e,i||!1):null},unSelect:function(){this.selected=!1,this.element.removeClass().toggleClass("tab",!0).toggleClass("ws-btn-"+this.id,!0),this.element.find("a").attr("aria-selected","false").attr("aria-controls",""),this.singleFocus&&this.element.find("a").attr("tabindex","-1").off("keydown")},show:function(){this.element.show()},hide:function(){this.element.hide()},setLast:function(){this.last=!0},button:function(){return"tab ws-btn-"+this.id}}),m=o.Class.extend({singleFocus:!1,initialize:function(t){this.resource="",this.parentResource="",this.resourceList=null,this.tab="",this.quarter=0,this.decisionObject=null,this.contentObject=null,this.playOrder=["story","task","workspace"],this.playList=[];for(var e=0,i=this.playOrder.length;e<i;e++)this.playList[this.playOrder[e]]=new g(this.playOrder[e],this,this.tabClick);this.container=t,this.container.setContentObject(this),this.element=r()("#decision"),this.titleElement=r()("#decisionTitle"),Detect.isIE()&&this.element.css({background:'url("'+JSSettings.st("common:dbImg")+'") repeat-x repeat-y'}),this.toolBar={singleFocus:!1,order:["prn","exp","newWin","swch"],items:{},focused:null,init:function(t,e,i,s){this.items={};for(var a=0,n=this.order.length;a<n;++a)this.items[this.order[a]]={visible:!1,element:null};this.items.prn.element=r()("#"+t.id).attr("title",t.title).attr("aria-label",t.title).on("click",(function(e){e.preventDefault(),t.onClick()})),this.items.exp.element=r()("#"+e.id).attr("title",e.title).attr("aria-label",e.title).on("click",(function(t){t.preventDefault(),e.onClick()})),this.items.newWin.element=r()("#"+i.id).attr("title",i.title).attr("aria-label",i.title).on("click",(function(t){t.preventDefault(),i.onClick()})),this.items.swch.element=r()("#"+s.id).attr("title",s.title).attr("aria-label",s.title).on("click",(function(t){t.preventDefault(),s.onClick()})),this.singleFocus&&(this.items.prn.element.attr("tabindex","-1"),this.items.exp.element.attr("tabindex","-1"),this.items.newWin.element.attr("tabindex","-1"),this.items.swch.element.attr("tabindex","-1")),this.keyDownEvent=this.keyDown.bind(this),this.reset()},getItem:function(t){var e,i=null,s=this.order.length,a=0,n=1;for("next"!=t&&"last"!=t||(a=s-1,n=-1),e=0;e<s;e++,a+=n)if(this.items[this.order[a]].visible){switch(t){case"first":case"last":return this.order[a];case"previous":case"next":if(this.focused==this.order[a])return i;break;case"current":if(this.focused==this.order[a])return this.order[a]}i=this.order[a]}return null},keyDown:function(t){var e=!0;switch(t.keyCode){case 37:this.focusItem("previous",!0);break;case 38:case 40:break;case 39:this.focusItem("next",!0);break;case 36:this.focusItem("first",!0);break;case 35:this.focusItem("last",!0);break;default:e=!1}e&&t.preventDefault()},focusItem:function(t,e){if(this.singleFocus){var i=this.getItem(t);return null!=i&&(null!=this.focused&&(this.element(this.focused).off("keydown",this.keyDownEvent).attr("tabindex","-1"),this.focused=null),this.focused=i,this.element(this.focused).on("keydown",this.keyDownEvent).attr("tabindex","0"),e&&this.element(this.focused).focus()),i}},reset:function(t){t=t||[];for(var e=0,i=this.order.length;e<i;++e)this.items[this.order[e]].visible=t.indexOf(this.order[e])>-1,this.items[this.order[e]].visible?this.items[this.order[e]].element.show():this.items[this.order[e]].element.hide();null==this.focusItem("current",!1)&&this.focusItem("first",!1)},element:function(t){return this.items[t].element},destroy:function(){for(var t=0,e=this.order.length;t<e;++t)this.items[this.order[t]].element.off()}},this.toolBar.init({id:"printButton",onClick:this.printDecisions.bind(this),title:JSStrings.tc("tpl:printButton")},{id:"exportButton",onClick:this.exportDecisions.bind(this),title:JSStrings.tc("tpl:exportButton")},{id:"newWinButton",onClick:this.newWinDecisions.bind(this),title:JSStrings.tc("tpl:newWinButton")},{id:"switchButton",onClick:this.switchDecisions.bind(this,!0),title:JSStrings.tc("tpl:switchText")}),Live.preferFlash?this.toolBar.element("swch").addClass("switchButtonJs").removeClass("switchButtonFlash").attr("title",JSStrings.tc("tpl:switchText")):this.toolBar.element("swch").addClass("switchButtonFlash").removeClass("switchButtonJs").attr("title",JSStrings.tc("tpl:switchGraphics"))},focusActiveTab:function(){this.playList[this.tab].doFocus()},focusTab:function(t){this.playList[t].doFocus()},destroy:function(){for(var t=0;t<this.playOrder.length;t++)this.playList[this.playOrder[t]].destroy();this.toolBar.destroy()},printDecisions:function(){d.showPrint(this.resource,this.resourceList.decisionInfo.run,this.tab)},newWinDecisions:function(){d.showNewWindow(this.resource,this.resourceList.decisionInfo.run)},exportDecisions:function(){null!=this.decisionObject&&this.decisionObject.export()},switchDecisions:function(t){t&&(Live.preferFlash=!Live.preferFlash),Live.preferFlash?this.toolBar.element("swch").addClass("switchButtonJs").removeClass("switchButtonFlash").attr("title",JSStrings.tc("tpl:switchText")):this.toolBar.element("swch").addClass("switchButtonFlash").removeClass("switchButtonJs").attr("title",JSStrings.tc("tpl:switchGraphics")),this.play(this.tab)},changeResource:function(t,e,i){var s,a,n,r=this.playOrder.length,o=1,l="",d=0,c=!1,h=t.quarter,p=t.parentResource,u=t.resource,g=t.tab,m=t.params;if((h!=this.quarter||p!=this.parentResource||u!=this.resource||null==this.resourceList)&&(this.resourceList=ResourceLists.getResourceList(h,u),null!=this.resourceList)){for(s=this.resourceList.getResources(),a=0;a<r;++a)"workspace"!=(n=this.playOrder[a])&&null==s[n]||"workspace"==n&&!this.resourceList.getRun()||"story"==n&&Live.storyViewer()==Live.STORY_NONE?(this.playList[n].reset(),this.playList[n].hide()):(d++,"workspace"==n&&(c=!0),this.playList[n].activate(s[n],Live.emptyHref),this.playList[n].show(),l=n);for(a=0;a<r;++a)n=this.playOrder[a],this.playList[n].active&&this.playList[n].posInSet(o++,d);""!=l&&this.playList[l].setLast(),this.quarter=h,this.resource=u,this.parentResource=p,this.title=s.title||null}null!=this.resourceList&&(this.params=m||null,g=g||this.resourceList.getTab(),(Live.user.isInstructor()&&""==g||null!=m)&&(g="workspace"),this.tabExists(g)||(g=this.findNextTab(g)),this.play(g,this.params),d>1&&OverlayMessages.triggerMessage("tabs",!0),c&&OverlayMessages.triggerMessage("workspace",!0))},tabExists:function(t){return void 0!==this.playList[t]&&this.playList[t].active},findPreviousTab:function(t){var e,i,s=this.playOrder.indexOf(t),a=this.playOrder.length;for(e=1;e<=a;++e)if(i=(s+a-e)%a,this.tabExists(this.playOrder[i]))return this.playOrder[i];return null},findNextTab:function(t){var e,i,s=this.playOrder.indexOf(t),a=this.playOrder.length;for(e=1;e<=a;++e)if(i=(s+e)%a,this.tabExists(this.playOrder[i]))return this.playOrder[i];return null},playPrevious:function(t){if(this.singleFocus)d.startPage({tab:this.findPreviousTab(t),params:this.params},this.focusActiveTab.bind(this));else{var e=this.findPreviousTab(t);this.focusTab(e)}},playNext:function(t){if(this.singleFocus)d.startPage({tab:this.findNextTab(t),params:this.params},this.focusActiveTab.bind(this));else{var e=this.findNextTab(t);this.focusTab(e)}},play:function(t,e){this.tabExists(this.tab)&&this.playList[this.tab].unSelect(),this.tabExists(t)?(this.tab=t,this.playList[this.tab].select(),d.setLast(this.resource,this.tab)):this.tab=null,this.setContent(e||null)},tabClick:function(t,e){e.preventDefault(),d.startPage({tab:t,params:null},this.onTabSwitched.bind(this))},onTabSwitched:function(){this.focusActiveTab.bind(this),this.titleElement.focus()},resize:function(){this.windowState;var t=this.container.contentElement,e=(r()("#bodyContainer").width()-Live.defaultSizes.body.contentWidthMargin)/Live.defaultSizes.mainContent.width,i=e*Live.defaultSizes.mainContent.height,s=(r()("#userInterface").height(),Live.defaultSizes.body.contentHeightMargin,t.height(),d.ui.sizes.body.contentHeightMargin,t.width(),d.ui.sizes.body.contentWidthMargin,Math.max(Live.defaultSizes.mainContent.height,d.ui.bodyHeight)*e);this.element.css({height:null}),null!=this.decisionObject?this.decisionObject.decisionReady&&(this.decisionObject.resize(),this.decisionObject.resizeErrors()):void 0!==this.element.find("video").first()&&this.element.find("video").first().length>0?this.element.find("video").first().css({"min-height":Math.floor(s)+"px"}):void 0!==this.element.find(".lectureWrapper").first()&&this.element.find(".lectureWrapper").first().length>0&&this.element.find(".lectureWrapper").first().css({"min-height":Math.floor(i)+"px"})},getCacheId:function(t){return this.resource+"_"+t+"_"+this.quarter},getTitle:function(){var t=this.getCacheId("title"),e=this.title;return d.cache.isset(t)?d.cache.get(t):null!=e?d.cache.set(t,ResourceTypeViewerFactory.getViewer(e.resourceType,e.viewer,e.operator,e.resources,Live.user.language())):null},getContent:function(){var t=this.getCacheId(this.tab);return d.cache.isset(t)?d.cache.get(t):this.tabExists(this.tab)?d.cache.set(t,this.playList[this.tab]):null},setContent:function(t){var e=!1,i="",s=[];null!=this.decisionObject&&(this.decisionObject.stop(),this.decisionObject.destroy()),null!=this.contentObject&&this.contentObject.destroy(),this.decisionObject=null,this.contentObject=null,this.element.html(Detect.isIE()?'<div style="height: 2000px"></div>':""),this.element.css({"background-image":"none","background-color":""}),this.tabExists(this.tab)&&"story"!=this.tab&&s.push("prn"),d.resizeHeight(0);var a=this.getTitle();if(this.titleElement.html(a.draw()),r()("title").text(a.draw()),d.announce(JSStrings.tc("common:pageShown",{TITLE:a.draw(),QUARTER:this.quarter})),this.tabExists(this.tab)){if("task"==this.tab&&this.element.css({"background-color":"#f0f0f0"}),"workspace"==this.tab)i=this.resourceList.decisionInfo.run,Live.useAnim()&&""!=this.resourceList.decisionInfo.animRun&&(i=this.resourceList.decisionInfo.animRun),this.decisionObject=DecisionFactory.getDecision(i,!1),this.decisionObject.parentComponent=d.areas.body,null!=this.decisionObject&&(this.decisionObject.setUser(Live.user.clone(),this.resourceList.decisionInfo.qtrOffset),this.decisionObject.setResourceList(this.resourceList),this.decisionObject.applyParams(t),this.decisionObject.setContentElement(this.element),this.decisionObject.load()?(this.decisionObject.drawScreen(),this.decisionObject.viewMode(),this.decisionObject.disable(),this.decisionObject.observeScreen(),this.decisionObject.resizeContent()):this.decisionObject=null),null!=this.decisionObject&&(e=this.decisionObject.data.commonData.allowExport),e&&s.push("exp"),s.push("newWin"),Live.hasFeature("animated-decisions"),s.length>2&&0==this.decisionObject.rl.decisionInfo.editable&&(OverlayMessages.triggerMessage("decisionToolbar",!0),d.basicInfo.testMarket+1<=this.quarter&&OverlayMessages.triggerMessage("decisionToolbarRepeat",!0));else{var n=this.getContent();d.ui.toggleButtons(!1),this.element.html(n.draw()),n.observe(),this.contentObject=n.resourceTypeObject,i=n.resourceTypeObject.resourcesDrawn.join(","),this.resizeContent("story"==this.tab)}this.element[0].scrollTop=0,this.toolBar.reset(s),LiveEvents.fire("decision","content-change",{quarter:this.resourceList.quarter,resource:this.resourceList.resource,tab:this.tab,files:i}),Live.user.setActive()}else d.ui.toggleButtons(!1)},resizeContent:function(t){t=t||!1,d.resizeHeight(t?0:this.element[0].scrollHeight)}}),b=o.Class.extend({id:"",minus:15,initialize:function(t,e,i,s,a){var n,o,l,c,h="";for(this.id=e,this.container=t,this.container.setContentObject(this),this.minus=i,this.element=r()("#"+this.id),this.settings=d.getGadgetAreaSettings(this.id),this.gsLinks=[],this.gadgets=[],this.gadgetObjects=[],n=0,o=this.settings.length;n<o;++n)l=this.settings[n],this.gsLinks[l.name]=l,l.visible&&(this.gadgets.push(l.name),c=GadgetsFactory.getGadget(l.name,this,a),this.gadgetObjects.push(c),h+=c.draw());for(this.element.html(h),n=0,o=this.gadgetObjects.length;n<o;++n)this.gadgetObjects[n].observeEvents();0==this.gadgetObjects.length&&this.container.minimize(),this.resize()},updateSettings:function(){d.setGadgetAreaSettings(this.id,this.settings)},getGadgetSettings:function(t){return void 0!==this.gsLinks[t]?this.gsLinks[t].settings:{}},setGadgetSettings:function(t,e){void 0!==this.gsLinks[t]&&(this.gsLinks[t].settings=e),this.updateSettings()},destroy:function(){for(var t=0,e=this.gadgetObjects.length;t<e;++t)this.gadgetObjects[t].destroy()},remove:function(t){var e=this.gadgets.indexOf(t);-1!=e&&(this.gadgetObjects[e].element.remove(),this.gadgets.splice(e,1),this.gadgetObjects.splice(e,1),0==this.gadgets.length&&this.container.minimize(),this.gsLinks[t].visible=!1,this.updateSettings())},add:function(t){if(-1==this.gadgets.indexOf(t)){var e=GadgetsFactory.getGadget(t,this);return this.gadgets.push(t),this.gadgetObjects.push(e),this.element.append(e.draw()),e.observeEvents(),this.gsLinks[t].visible=!0,1==this.gadgets.length&&this.container.restore(),this.updateSettings(),e}return null},get:function(t){var e=this.gadgets.indexOf(t);return-1!=e?this.gadgetObjects[e]:null},getWidth:function(){},getHeight:function(){var t=this.container.contentElement.getHeight()-this.minus;return t<0?0:t},resize:function(){}}),f=o.Class.extend({element:null,setWidth:0,setHeight:0,fit:!0,left:0,top:0,width:0,height:0,margin:0,minApplicationWidth:400,minApplicationHeight:200,windowWidth:0,windowHeight:0,windowState:"maximized",buttonsShown:!1,containers:null,sizes:null,sizeRatio:-1,usedRatio:1,bodyHeight:0,centered:!0,initialize:function(t){var e=this;this.updating=0,this.element=r()("#"+t),this.htmlElement=r()("html"),this.bodyElement=r()("body"),this.decisionElement=r()("#decision"),this.sizes={mainContent:r().extend({},Live.defaultSizes.mainContent),top:r().extend({},Live.defaultSizes.top),left:r().extend({},Live.defaultSizes.left),right:r().extend({},Live.defaultSizes.right),bottom:r().extend({},Live.defaultSizes.bottom),body:r().extend({},Live.defaultSizes.body)},this.bodyHeight=0,this.sizeRatio=Live.sizeRatio,this.containers=[null,null,null,null,null],this.minFit=100,this.maxFit=100;for(var i=0,s=Live.sizeOptions.length;i<s;++i)Live.sizeOptions[i].size>0&&Live.sizeOptions[i].size<this.minFit&&(this.minFit=Live.sizeOptions[i].size),Live.sizeOptions[i].size>0&&Live.sizeOptions[i].size>this.maxFit&&(this.maxFit=Live.sizeOptions[i].size);this.standardSizing=!1,this.mediaQueries=[this.createMediaQuery("(max-width: 1000px),(max-height: 600px)","screen-size-md",(function(t){e.standardSizing=t.mediaQuery.matches})),this.createMediaQuery("(max-width: 875px)","screen-size-sm",(function(t){d.rightPanelButton=t.mediaQuery.matches,d.areas&&d.areas.top&&d.rebuildTopBar()})),this.createMediaQuery("(max-width: 750px)","screen-size-xs",(function(t){d.mainMenuButton=t.mediaQuery.matches,d.areas&&d.areas.top&&d.rebuildTopBar()})),this.createMediaQuery("(max-width: 400px)","screen-size-xxs")],this.initializeMediaQueries(),this.resize(),r()(window).on("resize",this.resize.bind(this))},createMediaQuery:function(t,e,i){var s=this,a={query:t,className:e,mediaQuery:window.matchMedia(t),listener:function(){Live.mobileSizing&&(s.bodyElement.toggleClass(e,a.mediaQuery.matches),i&&i(a),s.resize())}};return a.mediaQuery.addListener(a.listener),a},initializeMediaQueries:function(){this.standardSizing=!1,this.mediaQueries.forEach((function(t){return t.listener()}))},destroy:function(){},changeSize:function(){this.sizeRatio=Number(Live.sizeRatio),this.resize()},changeFontSize:function(){document.body.style.fontSize=Live.fontSize,document.documentElement.style.fontSize=Live.fontSize},resizeHeight:function(t){this.bodyHeight=t,this.resize()},changedWindowDimensions:function(){var t=r()(window),e=t.width(),i=t.height();return(this.windowWidth!==e||this.windowHeight!==i)&&(this.windowWidth=e,this.windowHeight=i,!0)},getLeft:function(){return this.left+this.margin},getTop:function(){return this.top+this.margin},getWidth:function(){return this.width},getHeight:function(){return this.height},toggleButtons:function(t){t?(this.buttonsShown=!0,r()("#decisionButtonsBar").show(),r()("#decisionButtonsTopBar").show()):(this.buttonsShown=!1,r()("#decisionButtonsBar").hide(),r()("#decisionButtonsTopBar").hide()),this.decisionElement.toggleClass("buttonsShown",t)},update:function(){var t=Live.defaultSizes,e=t.mainContent,i=t.body,s=function(t){return(t+i.contentWidthMargin)/i.width},a=null!=this.containers[0]&&"minimized"!==this.containers[0].windowState?this.sizes.top.height:0,n="full"===Live.viewStyle||this.standardSizing,r=Math.max(window.innerHeight,a+i.contentHeightMargin+t.buttonsHeight+e.height*this.minFit/100),o=r-a-i.contentHeightMargin-t.buttonsHeight,l=Math.min(window.innerWidth,s(o*t.ratio)),d=s(e.width*this.minFit/100),c=s(e.width*this.maxFit/100),h=s(e.width*this.sizeRatio/100);-1===this.sizeRatio||this.standardSizing?this.bodyElement.css({"min-width":this.standardSizing?320:d,"max-width":n?"":Math.min(l,c),height:n?"auto":""}):this.bodyElement.css({"min-width":h,"max-width":Math.min(l,h),height:n?"auto":""}),this.element.css({"min-height":r}),this.decisionElement.css({"min-height":this.decisionElement.width()/t.ratio})},resize:function(){this.changedWindowDimensions(),this.setDimensions()},addContainer:function(t,e){var i,s,a,n,r="none";switch(e){case"top":i=0,r="horizontal",s=this.topHeight,n=0,a=null;break;case"left":i=1,r="vertical",s=0,n=this.leftWidth,a=null;break;case"body":i=2,s=0,n=0,t.mainContainer=!0,a=null;break;case"right":i=3,r="vertical",s=0,n=this.rightWidth,a=null;break;case"bottom":i=4,r="horizontal",s=this.bottomHeight,n=0,a=50;break;default:i=this.containers.length,s=0,n=0,a=6}return null!=a&&t.element.css({"z-index":a}),this.containers[i]=t,this.containers[i].orientation=r,n>0&&(this.containers[i].width=n),s>0&&(this.containers[i].height=s),this.setDimensions(),this.containers[i]},container:function(t){var e;if("number"==typeof t)return this.containers[t];switch(t){case"top":e=0;break;case"left":e=1;break;case"body":e=2;break;case"right":e=3;break;case"bottom":e=4;break;default:return null}return this.containers[e]},hideContainers:function(){for(var t=0;t<this.containers.length;t++)null!=this.containers[t]&&this.containers[t].hide()},showContainers:function(){for(var t=0;t<this.containers.length;t++)null!=this.containers[t]&&this.containers[t].show()},show:function(){this.element.show()},hide:function(){this.element.hide()},setDimensions:function(){this.update(),this.setContainerDimensions(),OverlayMessages.resize()},setContainerDimensions:function(){null!=this.containers[2]&&this.containers[2].visible()&&this.containers[2].resize()}}),v=i(54370),y=i(66066),w=i(63714);i(67098),(0,a.LI)(window,s),(0,a.nz)(window,v),(0,a.t)(window,y),(0,a.pN)(window,w)},7083:(t,e,i)=>{"use strict";i(78175),i(15667)},66066:(t,e,i)=>{"use strict";i.r(e),i.d(e,{Chat:()=>u,ChatChannel:()=>p,ChatGadget:()=>m,Email:()=>g,EmailGadget:()=>b,Gadget:()=>o,GadgetsFactory:()=>r,LiveProFormaGadget:()=>c,LogoGadget:()=>v,MonitorGadget:()=>l,QuickLinksGadget:()=>f,ScheduleGadget:()=>h,WuStatusGadget:()=>d,YourTurnGadget:()=>y});var s=i(19755),a=i.n(s),n=i(94822),r={getGadget:function(t,e,i){switch(t){case"quicklinks":return new f(t,JSStrings.tc("gadgets:quicklinks"),e,i);case"liveproforma":return new c(t,JSStrings.tc("gadgets:liveproforma"),e,i);case"chat":return new m(t,"",e,i);case"email":return new b(t,JSStrings.tc("gadgets:email"),e,i);case"monitor":return new l(t,JSStrings.tc("gadgets:monitor"),e,i);case"wrapupstatus":return new d(t,JSStrings.tc("gadgets:wrapupstatus"),e,i);case"schedule":return new h(t,JSStrings.tc("gadgets:schedule"),e,i);case"yourturn":return new y(t,JSStrings.tc("gadgets:yourturn"),e,i);case"logo":return new v(t,"",e,i)}return new o(t,JSStrings.tc("gadgets:gadget"),e,i)}},o=n.Class.extend({id:"",title:"",minimized:!1,imagesType:"0",newWindow:!1,fixed:!1,bottfix:!1,canClose:!1,canMinimize:!1,minWidth:0,initialize:function(t,e,i,s){this.id=t,this.title=e,this.gadgetsArea=i,this.settings=this.gadgetsArea.getGadgetSettings(t),this.minimized=!1,this.element=[],this.contentElement=[],this.closeIcon=null,this.initInfo=s?this.getInitInfo(s):null},getInitInfo:function(t){return null},destroy:function(){this.newWindow||this.fixed||this.canClose&&this.closeIcon.off(),this.onDestroy()},onDestroy:function(){},draw:function(){return this.newWindow?'<div id="Gadget_'+this.id+'" class="gadget newWinGadget '+this.id+'GadgetWrap"><div class="gadgetHandle gadgetTopSpacer gdf-'+this.imagesType+'-top-spacer" ><div class="gadgetIcon '+this.id+'GadgetIcon"></div>'+this.onDrawTitle()+'</div><div id="'+this.id+'" style="clear:both;" class="gadgetContent '+this.id+'Gadget">'+this.onDrawContent()+"</div></div>":this.fixed?'<div id="Gadget_'+this.id+'" class="gadget fixedGadget '+this.id+'GadgetWrap"><div class="gadgetIcon '+this.id+'GadgetIcon"></div><div id="'+this.id+'" class="gadgetContent '+this.id+'Gadget">'+this.onDrawContent()+"</div></div>":'<div id="Gadget_'+this.id+'" class="gadget otherGadget'+(this.bottfix?" botFixGadget":"")+" "+this.id+'GadgetWrap">'+this.onDrawTitle()+'<div class="'+(this.bottfix?"":"gadgetHandle ")+"gadgetTopSpacer gdf-"+this.imagesType+'-top-spacer"><div class="gadgetIcon '+this.id+'GadgetIcon"></div>'+(this.bottfix?"":'<h3 class="gadgetTitle" style="float:left;" title="'+this.title+'">'+this.title+'</h3><span class="gadgetExplan"></span>')+(this.canClose?'<button id="close'+this.id+'" class="gd-close" style="float:right;" aria-label="'+JSStrings.tc("common:close")+'"></button>':"")+(this.canMinimize?'<button id="minimize'+this.id+'" class="'+(this.settings.minimized?"gd-restore":"gd-minimize")+'" style="float:right;" aria-label="'+JSStrings.tc("common:maximize")+'"></button>':"")+'</div><div id="'+this.id+'" class="gadgetContent '+this.id+'Gadget" style="'+(this.minWidth>0?"min-width:"+this.minWidth+"px;":"")+'">'+this.onDrawContent()+"</div></div>"},observeEvents:function(){this.element=a()("#Gadget_"+this.id),this.contentElement=a()("#"+this.id);var t=JSStrings.eo("gadgets:exp_"+this.id),e=this.element.find(".gadgetExplan").first();this.element.find(".gadgetTitle"),e.length>0&&null!=t&&new DropDownStaticExplanation(e,t.t,t.s,t.l,"gadgetExplanation"+this.imagesType,a()("body")),this.newWindow||this.fixed||(this.canMinimize&&a()("#Gadget_"+this.id).find(".gdf-0-top-spacer, .gdf-1-top-spacer").on("click",this.minimizeClick.bind(this,!0)),this.canClose&&(this.closeIcon=a()("#close"+this.id),this.closeIcon.on("click",a().proxy(this.closeClick,this)))),this.onObserveEvents(),this.newWindow||this.fixed||this.settings.minimized&&this.minimizeClick(!1),this.initInfo=null},minimizeClick:function(t){this.canMinimize&&(this.minimized?(this.contentElement.show(),this.onMaximize(),a()("#minimize"+this.id).removeClass("gd-restore").addClass("gd-minimize").attr("aria-expanded","true").attr("aria-label",JSStrings.tc("common:minimize"))):(this.contentElement.hide(),this.onMinimize(),a()("#minimize"+this.id).removeClass("gd-minimize").addClass("gd-restore").attr("aria-expanded","false").attr("aria-label",JSStrings.tc("common:maximize"))),this.minimized=!this.minimized,t&&(this.settings.minimized=this.minimized,this.gadgetsArea.setGadgetSettings(this.id,this.settings)))},closeClick:function(){this.onClose(),this.destroy(),this.gadgetsArea.remove(this.id)},onDrawTitle:function(){return""},onDrawContent:function(){return""},onMinimize:function(){},onMaximize:function(){},onClose:function(){},onObserveEvents:function(){},resize:function(){},getTitle:function(){return this.title},openWindow:function(t,e,i,s,a){"undefined"!=typeof Engine?Engine.openWindow(t,e,i,s,a):void 0===window.opener||null==window.opener||void 0===window.opener.Engine||WindowManager.invalidPopUpBlocker()?WindowManager.open(window,t,e,i,s,a):window.opener.Engine.openWindow(t,e,i,s,a)}}),l=o.extend({getInitInfo:function(t){return t.teamMonitor||null},studentID:function(t){return this.id+"_tm_stu_"+t.studentID},row:function(t){return'<button id="'+this.studentID(t)+'_button" class="button-plain" style="width: 100%" aria-expanded="false" aria-controls="'+this.studentID(t)+'_detail"><div class="monitorGadgetRowText">'+Format.initialName(t.lastName,t.firstName)+'</div><img src="'+JSSettings.st("common:dbImg")+'" class="activity-img" alt="'+JSStrings.tc("gadgets:online")+'" style="float:right; border:0px;" /><div style="clear:both;"></div></button><div id="'+this.studentID(t)+'_detail" tabindex="-1" style="display: none;" class="activity-detail monitorGadgetDetail">'+this.getDetail(t)+"</div>"},getDetail:function(t){var e=JSStrings.tc("gadgets:idle");return t.active&&(e=t.modify?JSStrings.tc("gadgets:modifying"):JSStrings.tc("gadgets:reviewing")),'<div class="monitorGadgetRowTitle">'+t.activity+'</div><div class="monitorGadgetRowAction">'+e+'</div><div title="'+t.tzDescription+'">'+Format.soapMinuteDate(t.time)+"</div>"},checkMonitor:function(t){void 0===t||null==t?this.service.call("teamMonitor",[Live.user],!0,this.updateEvent):this.updateEvent({result:t,error:0})},updateMonitor:function(t){if(0==t.error){var e,i,s,n,r,o=!0,l=[];for(e=0,i=t.result.length;e<i;++e)s=t.result[e],l.push(s.studentID),(r=this.members.indexOf(s.studentID))>-1&&this.members.splice(r,1),n=this.contentElement.find("#"+this.studentID(s)),s.online?(0==n.length?((n=a()('<div id="'+this.studentID(s)+'" class="gdt-list-concrete">'+this.row(s)+"</div>")).find("button").on("click",a().proxy(this.clickDetail,this,n)),this.contentElement.append(n)):n.find("div.activity-detail").html(this.getDetail(s)),o=!1):0!=n.length&&n.remove();for(e=0,i=this.members.length;e<i;++e)0!=(n=this.contentElement.find("#"+this.studentID({studentID:this.members[e]}))).length&&n.remove();this.members=l,o?this.contentElement.html('<div id="'+this.id+'_tm_stu_empty" class="gdt-list-concrete" style="text-align: left;"><div class="gdt-list-no">'+JSStrings.tc("gadgets:noActiveStudents")+"</div></div>"):this.contentElement.find("#"+this.id+"_tm_stu_empty").remove()}},onDrawContent:function(){return this.service=new LiveService("GameInfo"),""},clickDetail:function(t){var e=t.find("div.activity-detail");t.find("img.activity-img"),e.hasClass("vsbl")?(e.removeClass("vsbl"),t.find("button").attr("aria-expanded","false"),e.hide()):(e.addClass("vsbl"),t.find("button").attr("aria-expanded","true"),e.show().focus())},onObserveEvents:function(){this.members=[],this.checkEvent=a().proxy(this.checkMonitor,this),this.updateEvent=a().proxy(this.updateMonitor,this),this.initInfo?this.updateMonitor({result:this.initInfo,error:0,errorMessage:""}):this.checkEvent(),LiveEvents.register("tm_mon","change",this.checkEvent)},onDestroy:function(){LiveEvents.unregister("tm_mon","change",this.checkEvent)}}),d=o.extend({getInitInfo:function(t){return t.wrapupStatus||null},teamID:function(t){return this.id+"_wu_tm_"+t.teamID},row:function(t){return'<button id="'+this.teamID(t)+'_button" class="button-plain" style="text-align: left; width: 100%" aria-expanded="false" aria-controls="'+this.teamID(t)+'_detail"><div class="wustatusGadgetRowText">'+t.companyName.escapeHTML()+'</div><img src="'+Path.getPath(JSSettings.st("common:iconsFolder"),"submit-status_check",".svg")+'" alt="'+JSStrings.tc("gadgets:submitted")+'" class="wustatusIcon" /></button><div class="wustatusGadgetDetail wu-detail" style="display: none;" tabindex="-1">'+this.getDetail(t)+"</div>"},getDetail:function(t){return JSStrings.tc("gadgets:at")+' <span title="'+t.tzDescription+'">'+Format.soapMinuteDate(t.wrappedAt)+"</span>"},checkWUStatus:function(t){void 0===t||null==t?this.service.call("wrapupStatus",[Live.user],!0,this.updateEvent):this.updateEvent({result:t,error:0})},updateWUStatus:function(t){if(0==t.error){var e,i,s,n,r=!0;for(e=0,i=t.result.length;e<i;++e)s=t.result[e],n=this.contentElement.find("#"+this.teamID(s)),s.wrapped&&s.wrappedAt?(0==n.length?(n=a()('<div id="'+this.teamID(s)+'" class="gdt-list-concrete">'+this.row(s)+"</div>"),this.contentElement.append(n),n.find("button").on("click",a().proxy(this.clickDetail,this,n))):n.find("div.wu-detail").html(this.getDetail(s)),r=!1):n.remove();r?this.contentElement.html('<div id="'+this.id+'_wu_tm_empty" class="gdt-list-concrete" style="text-align: left;"><div class="gdt-list-no">'+JSStrings.tc(Engine.isGameOver()?"common:na":"gadgets:noTeamsSubmitted")+"</div></div>"):this.contentElement.find("#"+this.id+"_wu_tm_empty").remove()}},onDrawContent:function(){return this.service=new LiveService("GameInfo"),""},clickDetail:function(t){var e=t.find("div.wu-detail");e.hasClass("vsbl")?(e.removeClass("vsbl"),t.find("button").attr("aria-expanded","false"),e.hide()):(e.addClass("vsbl"),t.find("button").attr("aria-expanded","true"),e.show().focus())},onObserveEvents:function(){this.checkEvent=a().proxy(this.checkWUStatus,this),this.updateEvent=a().proxy(this.updateWUStatus,this),this.initInfo?this.updateWUStatus({result:this.initInfo,error:0,errorMessage:""}):this.checkEvent(),LiveEvents.register("wu_stat","change",this.checkEvent)},onDestroy:function(){LiveEvents.unregister("wu_stat","change",this.checkEvent)}}),c=o.extend({getInitInfo:function(t){return t.liveProforma||null},row:function(t){return[t.name,'<span style="white-space: nowrap;">'+Number(t.value).format()+"</span>"]},checkProforma:function(t){void 0===t||null==t?(Live.user.clone().switchQuarter(Engine.basicInfo.maxQuarter),this.service.call("liveProForma",[Live.user],!0,this.updateEvent)):(this.updateEvent({result:t,error:0}),t.showHelp&&OverlayMessages.triggerMessage("proforma"))},updateProforma:function(t){if(0!=t.error?this.lv=null:this.lv=t.result,null!=this.lv){var e,i,s,n="";if(!this.initialized){for(e=0,i=this.lv.items.length;e<i;++e)this.pfValues[e]={data:this.lv.items[e],show:!1};for(e=0,i=this.settings.items.length;e<i;++e)this.pfValues[this.settings.items[e]].shown=!0;for(e=0,i=this.pfValues.length;e<i;++e)n+='<li class="GadgetLiveproformaItem">'+this.cf.getComponent("checkbox",this.id+"item"+e,this.pfValues[e].shown,{style:"margin: 3px 3px 3px 3px;"})+'<label for="'+this.id+"item"+e+'">'+this.pfValues[e].data.name+"</label></li>";for(a()("#"+this.id+"List").html('<ul style="list-style-type: none; margin: 0; padding: 0px; border: 0px;">'+n+"</ul>"),e=0,i=this.pfValues.length;e<i;++e)(s=a()("#"+this.id+"item"+e)).on("click",a().proxy(this.checkItem,this,e,s));this.initialized=!0}for(this.lv.showItems?(this.element.find("#"+this.id+"ToogleButton").show(),this.element.find("#"+this.id+"List").hide(),this.element.find("#"+this.id+"Table").show(),this.lv.showDetails?this.element.find("#"+this.id+"FullButton").show().on("click",a().proxy(this.showProforma,this)):this.element.find("#"+this.id+"FullButton").hide(),this.listVisible=!1):(this.element.find("#"+this.id+"ToogleButton").hide(),this.element.find("#"+this.id+"List").hide(),this.element.find("#"+this.id+"Table").show(),this.element.find("#"+this.id+"FullButton").hide().off("click"),this.listVisible=!1),e=0,i=this.pfValues.length;e<i;++e)this.pfValues[e].data=this.lv.items[e];this.pfTable=this.table(),a()("#"+this.id+"Table").html(this.pfTable.draw()),this.pfTable.change("width","100%")}},table:function(){var t,e,i=[],s=[{title:""}];if(this.initialized&&this.lv.showItems){for(var a=0;a<this.pfValues.length;a++)this.pfValues[a].shown&&i.push(this.row(this.pfValues[a].data));return s.push({title:"",align:"right"}),(t=new DecisionTable("",this.id+"pfTable",s,i,!0,"lpgGadget")).newCorners="",t.tableClass="dtable-lpgGadget",t}return(e=new DecisionLabel("gadgets",this.id+"pfTable",'<div class="gdt-list-concrete" style="text-align: left;"><div class="gdt-list-no">'+(this.initialized&&""!=this.lv.message?this.lv.message:JSStrings.tc("common:na"))+"</div></div>","concrete")).newCorners="",e.labelClass="dtable-concrete",e},onDrawContent:function(){return this.service=new LiveService("GameInfo"),this.cf=new ComponentFactory,this.settings.items=this.settings.items||[],this.pfValues=[],this.listVisible=!1,this.initialized=!1,'<div id="'+this.id+'List" class="GadgetLiveproformaList" style="display: none;"></div><div id="'+this.id+'Table"></div><div class="liveproformaToogleButtonWrap"><button id="'+this.id+'ToogleButton" style="display: none;" class="button-class liveproformaToogleButton">'+JSStrings.tc("gadgets:viewItems")+'</button></div><a href="'+Live.emptyHref+'" id="'+this.id+'FullButton" style="display: none;" class="liveproformaFullLink">'+JSStrings.tc("gadgets:viewFull")+'<img src="'+JSSettings.st("common:dbImg")+'" class="linkPopoutRev" alt/></a>'},toogleItems:function(){if(this.listVisible){this.settings.items=[];for(var t=0;t<this.pfValues.length;t++)this.pfValues[t].shown&&this.settings.items.push(t);this.gadgetsArea.setGadgetSettings(this.id,this.settings),this.element.find("#"+this.id+"List").hide(),this.element.find("#"+this.id+"Table").show(),this.toogleButton.html(JSStrings.tc("gadgets:viewItems")),this.toogleButton.closest(".liveproformaToogleButtonWrap").toggleClass("expanded",!1),this.listVisible=!1}else this.element.find("#"+this.id+"Table").hide(),this.element.find("#"+this.id+"List").show(),this.toogleButton.html(JSStrings.tc("gadgets:ok")),this.toogleButton.closest(".liveproformaToogleButtonWrap").toggleClass("expanded",!0),this.listVisible=!0,a()("#"+this.id+"item0").focus()},checkItem:function(t,e){this.pfValues[t].shown=e[0].checked,this.pfTable=this.table(),this.pfTable.change("replace",this.pfTable.draw()),this.pfTable.change("width","100%")},onObserveEvents:function(){this.toogleButton=a()("#"+this.id+"ToogleButton"),this.toogleButton.on("click",a().proxy(this.toogleItems,this)),this.checkEvent=a().proxy(this.checkProforma,this),this.updateEvent=a().proxy(this.updateProforma,this),this.initInfo?this.updateProforma({result:this.initInfo,error:0,errorMessage:""}):this.checkEvent(),LiveEvents.register("max_qtr","change",this.checkEvent),LiveEvents.register("lv_pf","change",this.checkEvent)},showProforma:function(t){t.preventDefault(),Engine.showNewWindow("proformacashflowlive","ProformaCashFlowLive",null,null,Engine.basicInfo.maxQuarter-Live.user.quarter())},onDestroy:function(){LiveEvents.unregister("max_qtr","change",this.checkEvent),LiveEvents.unregister("lv_pf","change",this.checkEvent)}}),h=o.extend({timerDisplayed:!1,quarter:-1,maxQuarter:-1,getInitInfo:function(t){return t.schedule||null},row:function(t){return['<div class="scheCircle"><span class="offscreen">'+JSStrings.tc("common:quarter")+"</span> "+t.quarter+"</div>",Format.soapMinuteDate(t.time)]},checkSchedule:function(){Live.user.quarter()==this.quarter&&Engine.basicInfo.maxQuarter==this.maxQuarter&&Engine.basicInfo.wrapped==this.wrapped||this.service.call("schedule",[Live.user],!0,this.updateEvent)},updateSchedule:function(t){if(0==t.error){var e,i,s,n,r,o=!0,l=[],d=t.result.schedules.length;for(this.quarter=t.result.quarter,this.maxQuarter=Engine.basicInfo.maxQuarter,this.wrapped=t.result.wrapped,this.currentScheTime=null,r=0;r<d;++r)(n=t.result.schedules[r]).quarter>=this.quarter&&(s="",n.quarter==Engine.basicInfo.maxQuarter&&(s="total",this.currentScheTime=new Date(n.utcTime+"+00:00")),l.push({values:this.row(n),type:s}),o=!1);this.wrapped&&(this.currentScheTime=t.result.wrappedAt,this.currentScheTZDescription=t.result.tzDescription),this.sTable=new DecisionTable("",this.id+"sTable",[{title:"",align:"center"},{title:"",align:"center"}],l,!0,"schedule"),this.sTable.newCorners="",this.sTable.tableClass="dtable-schedule",e='<div id="'+this.id+'ToogleButton" class="scheGameTime" title="'+JSStrings.tc("gadgets:timezoneFormat",{TZDESCRIPTION:t.result.tzDescription})+'"><div>'+JSStrings.tc("gadgets:gameTime")+"</div>"+Format.tzOffset(t.result.tzGMTOffset)+"</div>",i=this.getScheTimer(),a()("#"+this.id+"Table").html(e+this.sTable.draw()),a()("#"+this.id+"Timer").html(i),this.dueCounter=a()("#"+this.id+"Due"),this.timeCounter=a()("#"+this.id+"Time"),this.sTable.change("width","100%"),this.currentTimeout&&clearTimeout(this.currentTimeout),this.currentTimeout=setTimeout(this.updateTimer.bind(this),1e3),o?(this.contentElement.find("#"+this.id+"_sche_empty").show(),this.contentElement.find("#"+this.id+"_sche").hide()):(this.contentElement.find("#"+this.id+"_sche_empty").hide(),this.contentElement.find("#"+this.id+"_sche").show()),null===this.currentScheTime?(this.timerDisplayed&&this.toggleTimer(),a()("#"+this.id+"Switch").hide()):a()("#"+this.id+"Switch").show()}},getDueDateDiff:function(){return this.wrapped?{text:JSStrings.tc("gadgets:wrappedAt",{QUARTER:Engine.basicInfo.maxQuarter}),cls:"quarterDue",oldCls:"quarterOverdue"}:(Date.now()<this.currentScheTime?(t="quarterDue",e="quarterOverdue"):(t="quarterOverdue",e="quarterDue"),{text:JSStrings.tc("gadgets:"+t,{QUARTER:Engine.basicInfo.maxQuarter}),cls:t,oldCls:e});var t,e},getDueTimeDiff:function(){if(this.wrapped)return{text:'<span title="'+this.currentScheTZDescription+'">'+Format.soapMinuteDate(this.currentScheTime)+"</span>",timeout:1e4};var t=Math.floor(Math.abs(Date.now()-this.currentScheTime)/1e3),e=Math.floor(t/60),i=Math.floor(e/60),s=Math.floor(i/24);return t=Format.zeroPad(t-60*e),e=Format.zeroPad(e-60*i),i=Format.zeroPad(i-24*s),s>0?{text:JSStrings.tc("gadgets:scheDHM",{DAYS:s,HOURS:i,MINUTES:e}),timeout:1e3}:i>0?{text:JSStrings.tc("gadgets:scheHM",{HOURS:i,MINUTES:e}),timeout:1e3}:e>0?{text:JSStrings.tc("gadgets:scheMS",{MINUTES:e,SECONDS:t}),timeout:1e3}:{text:JSStrings.tc("gadgets:scheS",{SECONDS:t}),timeout:1e3}},getScheTimer:function(){var t="",e=this.getDueDateDiff(),i=this.getDueTimeDiff();return(t+='<div id="'+this.id+'Due" class="scheQuarterDue">'+e.text+"</div>")+'<div id="'+this.id+'Time" class="'+e.cls+'">'+i.text+"</div>"},updateTimer:function(){var t=this.getDueDateDiff(),e=this.getDueTimeDiff();this.dueCounter.html(t.text),this.timeCounter.toggleClass(t.oldCls,!1),this.timeCounter.toggleClass(t.cls,!0),this.timeCounter.html(e.text),setTimeout(this.updateTimer.bind(this),e.timeout)},onDrawContent:function(){var t="";return this.service=new LiveService("GameInfo"),(t+='<div id="'+this.id+'_sche_empty" class="gdt-list-concrete" style="text-align: left; display: none;"><div class="gdt-list-no">'+JSStrings.tc("common:na")+"</div></div>")+'<div id="'+this.id+'_sche"><button id="'+this.id+'Switch" class="button-plain scheSwitch" title="'+JSStrings.tc("gadgets:switchToTimer")+'" aria-label="'+JSStrings.tc("gadgets:switchToTimer")+'"></button><div id="'+this.id+'Timer" class="gdt-list-concrete" style="display: none;"></div><div id="'+this.id+'Table"></div></div>'},toggleTimer:function(){this.timerDisplayed?(a()("#"+this.id+"Switch").toggleClass("scheSwitchList",!1).attr("title",JSStrings.tc("gadgets:switchToTimer")).attr("aria-label",JSStrings.tc("gadgets:switchToTimer")),a()("#"+this.id+"Timer").hide(),a()("#"+this.id+"Table").show()):(a()("#"+this.id+"Switch").toggleClass("scheSwitchList",!0).attr("title",JSStrings.tc("gadgets:switchToList")).attr("aria-label",JSStrings.tc("gadgets:switchToList")),a()("#"+this.id+"Timer").show(),a()("#"+this.id+"Table").hide()),this.timerDisplayed=!this.timerDisplayed},onObserveEvents:function(){this.checkEvent=a().proxy(this.checkSchedule,this),this.updateEvent=a().proxy(this.updateSchedule,this),a()("#"+this.id+"Switch").on("click",this.toggleTimer.bind(this)),this.initInfo?this.updateSchedule({result:this.initInfo,error:0,errorMessage:""}):this.checkEvent(),LiveEvents.register("this_team_wrap","change",this.checkEvent),LiveEvents.register("quarter","change",this.checkEvent),LiveEvents.register("max_qtr","change",this.checkEvent)},onDestroy:function(){LiveEvents.unregister("this_team_wrap","change",this.checkEvent),LiveEvents.unregister("quarter","change",this.checkEvent),LiveEvents.unregister("max_qtr","change",this.checkEvent)}}),p=n.Class.extend({colors:[[204,51,204],[180,205,75],[46,175,203],[36,225,46],[255,51,204],[174,86,53]],initialize:function(t,e,i,s){this.chat=t,this.definition={channelType:e,teamID:s||null},this.name=i,this.available=0,this.userColors=[],this.userCount=0,this.messages=[]},resetLoadedMessages:function(){this.messages=[]},getOldestLoadedMessageID:function(){return 0==this.messages.length?null:this.messages.sort((function(t,e){return t.messageID-e.messageID}))[0].messageID},getNewestLoadedMessageID:function(){if(0==this.messages.length)return null;var t=this.messages.sort((function(t,e){return t.messageID-e.messageID}));return t[t.length-1].messageID},getColor:function(t){return void 0===this.userColors[t]&&(this.userColors[t]=this.userCount%this.colors.length,this.userCount++),this.userColors[t]},join:function(t){this.chat.service.call("joinChannel",[Live.user,this.definition],!0,function(e){this.chat.service.handleErrors(e)&&t(e.result.channelID,e.result.messages)}.bind(this))}}),u=n.Class.extend({initialize:function(t,e,i){this.messageSentCallback=t,this.messagesReceivedCallback=e,this.initCallback=i,this.service=new LiveService("Chat"),this.currentChannel=0,this.channels=[],this.currentChannelIndex=-1,this.initialized=!1},init:function(t){var e=function(t){if(this.service.handleErrors(t)){for(var e=0;e<t.result.channels.length;e++){var i=t.result.channels[e];this.channels.push(new p(this,i.type,i.name,i.teamID))}this.initialized=!0,this.initCallback(t.result.messages)}}.bind(this);t?e({result:t,error:0,errorMessage:""}):this.service.call("getChannels",[Live.user],!0,e)},getChannelIndex:function(t){for(var e=0;e<this.channels.length;e++)if(t.channelType==this.channels[e].definition.channelType){if("T"==t.channelType)return e;if("C"==t.channelType&&t.teamID==this.channels[e].definition.teamID)return e;if("I"==t.channelType)return e;if("G"==t.channelType)return e}return-1},join:function(t){this.currentChannelIndex=t,-1!=t?(this.channels[this.currentChannelIndex].resetLoadedMessages(),this.channels[this.currentChannelIndex].join(function(t,e){this.currentChannel=t,this.processReceiveMessages(this.currentChannelIndex,{result:e,error:0,errorMessage:""})}.bind(this))):this.currentChannel=0},sendMessage:function(t){0!=this.currentChannel&&""!=t&&this.service.call("postMessage",[Live.user,this.currentChannel,t,this.channels[this.currentChannelIndex].getNewestLoadedMessageID()],!0,a().proxy(this.processSendMessage,this))},processSendMessage:function(t){this.messageSentCallback(),this.processReceiveMessages(this.currentChannelIndex,t)},fetchHistoryMessages:function(){0!=this.currentChannel&&this.service.call("getHistoryMessages",[Live.user,this.currentChannel,this.channels[this.currentChannelIndex].getOldestLoadedMessageID()],!0,this.processReceiveMessages.bind(this,this.currentChannelIndex))},receiveMessages:function(){var t=null;this.channels[this.currentChannelIndex]&&(t=this.channels[this.currentChannelIndex].getNewestLoadedMessageID()),this.service.call("getMessages",[Live.user,this.currentChannel,!0,t],!0,a().proxy(this.processReceiveMessages,this,this.currentChannelIndex))},processReceiveMessages:function(t,e){if(this.service.handleErrors(e)){if(!e.result.allChannels){var i=e.result.messages;i=i.filter(function(t){return!this.channels[this.currentChannelIndex].messages.some((function(e){return e.messageID===t.messageID}))}.bind(this)),this.channels[this.currentChannelIndex].messages=this.channels[this.currentChannelIndex].messages.concat(i);var s=i.map(function(t){var i={};return i.color=this.channels[this.currentChannelIndex].getColor(t.chatUserID),i.name=Format.userName(t.lastName,t.firstName),i.time=Format.soapShortDate(t.time)+" "+Format.tzOffset(e.result.tzGMTOffset),i.text=t.message.escapeHTML(),i}.bind(this))}for(var a=[],n=0;n<e.result.updatedChannels.length;n++){var r={channelIndex:this.getChannelIndex(e.result.updatedChannels[n]),newMessages:e.result.updatedChannels[n].newMessages};-1!=r.channelIndex&&a.push(r)}this.messagesReceivedCallback(t,s,a,e.result)}}}),g=n.Class.extend({initialize:function(t,e,i,s,a){this.emailSentCallback=t,this.emailsReceivedCallback=e,this.emailsNewCountCallback=i,this.emailsSetReadCallback=s,this.emailReceivedCallback=a,this.service=new LiveService("Email")},sendEmail:function(t){},processSendEmail:function(){},setEmailRead:function(t){this.service.call("setEmailRead",[Live.user,t],!0,a().proxy(this.processSetEmailRead,this))},processSetEmailRead:function(t){this.service.handleErrors(t)&&this.emailsSetReadCallback(t.result)},getNewEmailsCount:function(){this.service.call("getNewEmailsCount",[Live.user],!0,a().proxy(this.processNewEmailsCount,this))},processNewEmailsCount:function(t){this.service.handleErrors(t)&&this.emailsNewCountCallback(t.result)},receiveEmails:function(t,e){this.service.call("getEmails",[Live.user,t,e],!0,a().proxy(this.processReceiveEmails,this,t,e))},processReceiveEmails:function(t,e,i){this.service.handleErrors(i)&&this.emailsReceivedCallback(t,e,i.result)},receiveEmail:function(t){},processReceiveEmail:function(){}}),m=o.extend({bottfix:!0,canClose:!1,canMinimize:!0,unreadChat:[],unreadEmail:[],minWidth:700,minimized:!0,newMsgs:0,chBeforeMinimize:-1,getInitInfo:function(t){return{chat:t.chat||null,studentsOnline:t.studentsOnline||null}},getTitle:function(){return JSStrings.tc("gadgets:chat")+" / "+JSStrings.tc("gadgets:email")},onDrawTitle:function(){var t=Live.hasFeature("chat"),e=Live.hasFeature("email"),i="",s="",a="";if(!t&&!e)return"";if(t&&(i='<label class="chatSwitchWrap" for="'+this.id+'ChatSwitch"><div class="chatSwitchWrapText">'+JSStrings.tc("gadgets:chat")+'</div><input type="radio" name="'+this.id+'EmailChatSwitch" checked="checked" id="'+this.id+'ChatSwitch" class="chatSwitchRadio offscreenFull" /> <div aria-live="polite" class="chatNewMessagesWrap" ><div id="'+this.id+'ChatNewMessages" class="chatNewMessages" style="display:none;">0<span class="offscreen">'+JSStrings.tc("gadgets:newChat")+"</span></div></div></label>"),e){var n='checked="checked"';t&&(n="",a='<div id="'+this.id+'TitleDelimiter" class="chatTitleDelimiter"> / </div>'),s='<label class="chatSwitchWrap" for="'+this.id+'EmailSwitch"><div class="chatSwitchWrapText">'+JSStrings.tc("gadgets:email")+'</div><input type="radio" name="'+this.id+'EmailChatSwitch" '+n+' id="'+this.id+'EmailSwitch" value="email" class="chatSwitchRadio offscreenFull" /> <div aria-live="polite" class="chatNewMessagesWrap" ><div id="'+this.id+'EmailNewMessages" class="chatNewMessages" style="display:none;">0<span class="offscreen">'+JSStrings.tc("gadgets:newEmail")+"</span></div></div></label>"}return'<h3 class="offscreen">'+this.getTitle()+'</h3><div id="'+this.id+'ChatTitle" class="chatTitle">'+i+a+s+"</div>"},onDrawContent:function(){var t,e;return this.chat=new u(a().proxy(this.processSendMessage,this),a().proxy(this.processReceiveMessages,this),a().proxy(this.chatInitCallback,this)),this.email=new g(a().proxy(this.processSendEmail,this),a().proxy(this.processReceiveEmails,this),a().proxy(this.processNewEmailsCount,this),this.getNewEmailsCount.bind(this),a().proxy(this.processReceiveEmail,this)),e=(t=this.newWindow?a()(window).height()-23:220)-4,'<div id="'+this.id+'ChatContent" class="chatContent" style="min-height:'+t+'px; display:none;"><ul role="tablist" aria-orientation="vertical" tabindex="0" aria-label="'+JSStrings.tc("gadgets:chatChannels")+'" id="'+this.id+'ChatChannels" class="chatChannels" style="height:'+t+'px;"></ul><div class="chatAreaWrap"><div id="'+this.id+'ChatArea" class="chatArea" style="height: '+(e-30)+'px;"></div><form name="'+this.id+'ChatForm" id="'+this.id+'ChatForm" class="chatForm" onsubmit="return false;"><input type="text" id="'+this.id+'ChatEdit" name="'+this.id+'ChatEdit" value="" class="edit-class chatEdit"/><input type="submit" id="'+this.id+'SendButton" name="'+this.id+'SendButton" class="button-class chat-button" value="'+JSStrings.tc("gadgets:send")+'" /></form><div class="clearBoth"></div></div></div><div id="'+this.id+'EmailContent" class="emailContent" style="height:'+t+'px; display:none;"><div id="'+this.id+'EmaiDirs" class="emailChannelsWrap" style="height:'+t+'px;"><div class="emailHeading"><span id="'+this.id+'EmailIn">'+JSStrings.tc("gadgets:inbox")+'</span></div><button id="'+this.id+'EmailInCurrent" class="button-plain emailChannel" aria-labelledby="'+this.id+"EmailInCurrent "+this.id+'EmailIn">'+JSStrings.tc("gadgets:currentQuarter")+'</button><button id="'+this.id+'EmailInPrevious" class="button-plain emailChannel" aria-labelledby="'+this.id+"EmailInPrevious "+this.id+'EmailIn">'+JSStrings.tc("gadgets:previousQuarter")+'</button><div  class="emailHeading" id="'+this.id+'EmailOut">'+JSStrings.tc("gadgets:outbox")+'</div><button id="'+this.id+'EmailOutCurrent" class="button-plain emailChannel" aria-labelledby="'+this.id+"EmailOutCurrent "+this.id+'EmailOut">'+JSStrings.tc("gadgets:currentQuarter")+'</button><button id="'+this.id+'EmailOutPrevious" class="button-plain emailChannel" aria-labelledby="'+this.id+"EmailOutPrevious "+this.id+'EmailOut">'+JSStrings.tc("gadgets:previousQuarter")+'</button><div class="emailComposeWrap"><a href="'+Live.emptyHref+'" id="'+this.id+'Compose" class="button-link emailCompose">'+JSStrings.tc("gadgets:compose")+'</a></div></div><div class="emailListWrap"><div id="'+this.id+'EmailList" style="overflow:auto; height: '+t+'px; padding-left: 0px;padding-top: 0px;"></div><div class="clearBoth"></div></div></div>'},keyDown:function(t){var e=!0,i=-1;if(-1!=this.chat.currentChannelIndex&&this.chat.channels.length>0)switch(t.keyCode){case 36:i=0;break;case 35:i=this.chat.channels.length-1;break;case 37:case 38:this.chat.currentChannelIndex>0&&(i=this.chat.currentChannelIndex-1);break;case 39:case 40:this.chat.currentChannelIndex<this.chat.channels.length-1&&(i=this.chat.currentChannelIndex+1);break;default:e=!1}e&&t.preventDefault(),i>-1&&this.joinChannel(i,a()("#"+this.id+"Channel_"+i))},chatInitCallback:function(t){for(var e,i,s="",n="",r=0;r<this.chat.channels.length;r++)i=e=this.chat.channels[r].name.escapeHTML(),s+='<li role="tab" aria-controls="'+this.id+"ChannelArea_"+r+'" aria-selected="false" tabindex="-1" id="'+this.id+"Channel_"+r+'" class="chatChannel">',s+='<span class="name" style="float:left; margin-top:2px; overflow: hidden; text-overflow: ellipsis; width: 100px; white-space: nowrap;" title="'+e+'" >'+i+'</span><div class="chatNew" style="display:none;" title="'+JSStrings.tc("gadgets:newChat")+'"><span class="offscreen">'+JSStrings.tc("gadgets:newChat")+'</span></div><div class="chatUpdated"></div><div style="clear:both"></div>',s+="</li>",n+='<div role="tabpanel" id="'+this.id+"ChannelArea_"+r+'" aria-live="polite" aria-relevant="additions"></div>';for(a()("#"+this.id+"ChatChannels").html(s),a()("#"+this.id+"ChatArea").html(n),this.chatSwitch.on("click",a().proxy(this.toogleContent,this)),this.emailSwitch.on("click",a().proxy(this.toogleContent,this)),this.chatSwitchLabel.on("focusin",a().proxy(this.chatSwitchHover,this,!0,!0)),this.chatSwitchLabel.on("focusout",a().proxy(this.chatSwitchHover,this,!1,!0)),this.chatSwitchLabel.hover(a().proxy(this.chatSwitchHover,this,!0),a().proxy(this.chatSwitchHover,this,!1)),this.emailSwitchLabel.on("focusin",a().proxy(this.emailSwitchHover,this,!0,!0)),this.emailSwitchLabel.on("focusout",a().proxy(this.emailSwitchHover,this,!1,!0)),this.emailSwitchLabel.hover(a().proxy(this.emailSwitchHover,this,!0),a().proxy(this.emailSwitchHover,this,!1)),this.toogleContent(),this.sendButton.on("click",a().proxy(this.sendMessage,this)),this.chatChannels.on("keydown",a().proxy(this.keyDown,this)),this.receiveEmailsEvt=this.email.getNewEmailsCount.bind(this.email),this.receiveMessagesEvt=a().proxy(this.chat.receiveMessages,this.chat),this.studentsOnlineEvt=a().proxy(this.studentsOnline,this),this.channelNameChangeEvt=a().proxy(this.channelNameChange,this),this.chatForm.on("submit",a().proxy((function(t){this.sendMessage(),t.preventDefault()}),this)),this.channelElement=null,r=0;r<this.chat.channels.length;r++){var o=a()("#"+this.id+"Channel_"+r);o.on("click",a().proxy(this.joinChannel,this,r,o)),a()("#"+this.id+"ChannelArea_"+r).hide()}this.joinChannel(-1),this.studentsOnliveService=new LiveService("GameInfo"),this.channelNameService=new LiveService("Chat"),this.newWindow?(window.opener.LiveEvents.register("email","change",this.receiveEmailsEvt),window.opener.LiveEvents.register("chat","change",this.receiveMessagesEvt),window.opener.LiveEvents.register("stu_on","change",this.studentsOnlineEvt),window.opener.LiveEvents.register("ccn","change",this.channelNameChangeEvt)):(LiveEvents.register("email","change",this.receiveEmailsEvt),LiveEvents.register("chat","change",this.receiveMessagesEvt),LiveEvents.register("stu_on","change",this.studentsOnlineEvt),LiveEvents.register("ccn","change",this.channelNameChangeEvt)),this.initInfo&&this.initInfo.studentsOnline?this.updateOnline({result:this.initInfo.studentsOnline,error:0,errorMessage:""}):this.studentsOnline(),this.chBeforeMinimize=0,this.getNewEmailsCount(),this.chat.processReceiveMessages(this.chat.currentChannelIndex,{result:t,error:0,errorMessage:""})},onObserveEvents:function(){var t;this.chatContent=a()("#"+this.id+"ChatContent"),this.emailContent=a()("#"+this.id+"EmailContent"),this.newChatMessages=a()("#"+this.id+"ChatNewMessages"),this.newEmailMessages=a()("#"+this.id+"EmailNewMessages"),this.chatSwitch=a()("#"+this.id+"ChatSwitch"),this.emailSwitch=a()("#"+this.id+"EmailSwitch"),this.chatSwitchLabel=a()("#"+this.id+"ChatSwitch").parent(),this.emailSwitchLabel=a()("#"+this.id+"EmailSwitch").parent(),this.isEmailVisible=!1,this.chatForm=a()("#"+this.id+"ChatForm"),this.chatArea=a()("#"+this.id+"ChatArea"),this.sendButton=a()("#"+this.id+"SendButton"),this.historyButton=a()("#"+this.id+"HistoryButton"),this.chatEdit=a()("#"+this.id+"ChatEdit"),this.chatChannels=a()("#"+this.id+"ChatChannels"),this.initInfo&&this.initInfo.chat?this.chat.init(this.initInfo.chat.channels):this.chat.init(),this.emailList=a()("#"+this.id+"EmailList"),this.emailElement=null,(t=a()("#"+this.id+"EmailInCurrent")).on("click",a().proxy(this.emailGet,this,t,2,1)),(t=a()("#"+this.id+"EmailInPrevious")).on("click",a().proxy(this.emailGet,this,t,2,2)),(t=a()("#"+this.id+"EmailOutCurrent")).on("click",a().proxy(this.emailGet,this,t,1,1)),(t=a()("#"+this.id+"EmailOutPrevious")).on("click",a().proxy(this.emailGet,this,t,1,2)),a()("#"+this.id+"Compose").on("click",a().proxy(this.composeEmail,this,null))},prepareChannelHistory:function(){},joinChannel:function(t,e){-1!=this.chat.currentChannelIndex&&a()("#"+this.id+"ChannelArea_"+this.chat.currentChannelIndex).hide(),null!=this.channelElement&&this.channelElement.toggleClass("current",!1).attr("aria-selected","false"),-1!=t?(this.channelElement=e,this.chBeforeMinimize=t,a()("#"+this.id+"ChannelArea_"+t).html("").show(),this.channelElement.toggleClass("current",!0).attr("aria-selected","true"),this.channelElement.find("div.chatNew").hide(),this.chatArea[0].scrollTop=this.chatArea[0].scrollHeight,this.chatChannels.attr("aria-activedescendant",this.channelElement.attr("id")),this.chatEdit.attr("placeholder",JSStrings.tc("gadgets:sendMessage",{CHANNEL:this.chat.channels[t].name.escapeHTML()})),this.chatEdit.attr("aria-label",JSStrings.tc("gadgets:sendMessage",{CHANNEL:this.chat.channels[t].name.escapeHTML()}))):(this.channelElement=null,this.chatEdit.attr("placeholder",JSStrings.tc("gadgets:sendMessageChannel")),this.chatEdit.attr("aria-label",JSStrings.tc("gadgets:sendMessageChannel"))),this.chat.join(t)},chatSwitchHover:function(t,e){(!1!==e||a()("body").hasClass("keyboardMode"))&&this.chatSwitchLabel.toggleClass("hover",t)},emailSwitchHover:function(t,e){(!1!==e||a()("body").hasClass("keyboardMode"))&&this.emailSwitchLabel.toggleClass("hover",t)},toogleContent:function(){if(this.emailSwitch.is(":checked")){this.isEmailVisible=!0,this.emailSwitchLabel.toggleClass("checked",!0),this.chatSwitchLabel.toggleClass("checked",!1),this.joinChannel(-1),this.chatContent.hide(),this.emailContent.show();var t=a()("#"+this.id+"EmailInCurrent");this.emailGet(t,2,1)}this.chatSwitch.is(":checked")&&(this.isEmailVisible=!1,this.emailSwitchLabel.toggleClass("checked",!1),this.chatSwitchLabel.toggleClass("checked",!0),this.joinChannel(this.chBeforeMinimize,a()("#"+this.id+"Channel_"+this.chBeforeMinimize)),this.emailContent.hide(),this.chatContent.show())},onMaximize:function(){this.chatSwitch.show(),this.emailSwitch.show(),a()("#"+this.id+"ChatTitle").removeClass("chatTitleMinimized").addClass("chatTitleMaximized"),this.chatSwitch.is(":checked")?(this.joinChannel(this.chBeforeMinimize,a()("#"+this.id+"Channel_"+this.chBeforeMinimize)),this.isEmailVisible=!1):this.isEmailVisible=!0,this.gadgetsArea.container.element.css("z-index",500)},onMinimize:function(){this.chatSwitch.hide(),this.emailSwitch.hide(),this.isEmailVisible=!1,a()("#"+this.id+"ChatTitle").removeClass("chatTitleMaximized").addClass("chatTitleMinimized"),this.joinChannel(-1),this.gadgetsArea.container.element.css("z-index",50)},sendMessage:function(t,e){this.chat.sendMessage(this.chatEdit.val()),this.chatEdit.val("")},processSendMessage:function(){},getChatLine:function(t,e){return'<div class="chatLine"><span class="chatUser chatUser'+t[e].color+'">'+t[e].name+'<span class="chatTime"> ['+t[e].time+']</span></span> <span class="chatMessage"> '+t[e].text+"</span></div>"},drawMoreMessagesButton:function(t,e){var i=t.hasMoreMessages;void 0!==i&&(this.moreMessagesButton&&this.moreMessagesButton.remove(),i&&(this.moreMessagesButton=a()('<button class="button-plain button-chat-more">'+JSStrings.tc("gadgets:showMoreChatMessages")+"</button>"),this.moreMessagesButton.on("click",this.loadMoreMessages.bind(this)),e.prepend(this.moreMessagesButton)))},loadMoreMessages:function(){this.moreMessagesButton.prop("disabled",!0),this.chat.fetchHistoryMessages()},processReceiveMessages:function(t,e,i,s){var n=0,r=a()("#"+this.id+"ChannelArea_"+t),o=this.chatArea[0].scrollHeight;if(void 0!==e)if(!1===s.newMessages){for(var l=e.length-1;l>=0;l--)r.prepend(this.getChatLine(e,l));var d=0;this.moreMessagesButton&&(d=this.moreMessagesButton.outerHeight()),this.chatArea[0].scrollTop=this.chatArea[0].scrollHeight-o-d}else{for(l=0;l<e.length;l++)r.append(this.getChatLine(e,l));e.length>0&&(this.chatArea[0].scrollTop=this.chatArea[0].scrollHeight)}this.drawMoreMessagesButton(s,r);for(var c=0;c<i.length;c++)n+=i[c].newMessages,a()("#"+this.id+"Channel_"+i[c].channelIndex).find("div.chatNew").css("display","inline-block");n>0?(this.newChatMessages.show(),this.newChatMessages.html(n+' <span class="offscreen">'+JSStrings.tc("gadgets:newChat")+"</span>")):(this.newChatMessages.hide(),this.newChatMessages.html('0 <span class="offscreen">'+JSStrings.tc("gadgets:newChat")+"</span>"))},getNewEmailsCount:function(){this.email.getNewEmailsCount(this.email)},emailGet:function(t,e,i){null!=this.emailElement&&this.emailElement.toggleClass("current",!1),this.emailElement=t,this.emailType=e,this.quarterType=i,this.email.receiveEmails(e,i),this.emailElement.toggleClass("current",!0)},processSendEmail:function(){},setNewEmailsNotification:function(t){t>0?(this.newEmailMessages.show(),this.newEmailMessages.html(t+' <span class="offscreen">'+JSStrings.tc("gadgets:newEmail")+"</span>")):(this.newEmailMessages.hide(),this.newEmailMessages.html('0 <span class="offscreen">'+JSStrings.tc("gadgets:newChat")+"</span>"))},processNewEmailsCount:function(t){this.setNewEmailsNotification(t.allNew),this.isEmailVisible&&this.email.receiveEmails(this.emailType,this.quarterType)},updateEmailsStatus:function(t){for(var e,i=a()("#"+this.id+"EmailListTable").find("tbody").find("tr"),s=0;s<t.length;s++)(e=a()(i[s]).find("td, th")).find(".offscreen").remove(),t[s].isRead?e.css({"font-weight":"normal"}):(e.css({"font-weight":"bold"}),e.find("a").append('<span class="offscreen">: '+JSStrings.tc("gadgets:unread")+"</span>"))},processReceiveEmails:function(t,e,i){for(var s=[{title:JSStrings.tc("gadgets:subject")},{title:2==t?JSStrings.tc("gadgets:sender"):JSStrings.tc("gadgets:recipient")},{title:JSStrings.tc("gadgets:date"),align:"right"},{title:JSStrings.tc("gadgets:quarter"),align:"right"}],n=[],r=a().proxy(this.showEmailOnAction,this),o=0;o<i.length;o++){var l={id:i[o].id};n.push({values:[i[o].subject.escapeHTML(),i[o].senderReceiver.escapeHTML(),Format.soapLongDate(i[o].time)+" "+Format.tzOffset(i[o].tzGMTOffset),i[o].quarter],rowData:l,actions:[{type:"click",call:r,data:l},null,null,null]})}var d=new DecisionTable("",this.id+"EmailListTable",s,n,!1,"");d.newCorners="",d.tableClass="dtable-email",d.onClickRowEvent=a().proxy(this.showEmailOnRowClick,this),this.emailList.html(d.draw()),this.updateEmailsStatus(i),d.change("width","100%"),d.observe()},showEmailOnRowClick:function(t,e,i){i.stopImmediatePropagation(),this.showEmail(t.id)},showEmailOnAction:function(t,e){e.stopImmediatePropagation(),this.showEmail(t.id)},showEmail:function(t){Live.user.teamUID?this.openWindow(Live.servicePoint+Live.user.teamUID+"/email/"+t,"emailWindow","simple",610,570):this.openWindow(Live.servicePoint+"engine.php?tpl=email&"+Live.user.toQueryString()+"&id="+t,"emailWindow","simple",610,570),this.email.setEmailRead(t)},composeEmail:function(t,e){e.preventDefault(),Live.user.teamUID?this.openWindow(Live.servicePoint+Live.user.teamUID+"/email/","emailWindow","simple",610,570):this.openWindow(Live.servicePoint+"engine.php?tpl=email&"+Live.user.toQueryString(),"composeEmailWindow","simple",610,570)},processReceiveEmail:function(t){},onDestroy:function(){this.newWindow?(window.opener.LiveEvents.unregister("email","change",this.receiveEmailsEvt),window.opener.LiveEvents.unregister("chat","change",this.receiveMessagesEvt),window.opener.LiveEvents.unregister("stu_on","change",this.studentsOnlineEvt),window.opener.LiveEvents.unregister("ccn","change",this.channelNameChangeEvt)):(LiveEvents.unregister("email","change",this.receiveEmailsEvt),LiveEvents.unregister("chat","change",this.receiveMessagesEvt),LiveEvents.unregister("stu_on","change",this.studentsOnlineEvt),LiveEvents.unregister("ccn","change",this.channelNameChangeEvt))},studentsOnline:function(){this.studentsOnliveService.call("studentsOnline",[Live.user],!0,a().proxy(this.updateOnline,this))},updateOnline:function(t){if(0==t.error)for(var e=0;e<this.chat.channels.length;e++){var i=this.chat.channels[e];if("I"!=i.definition.channelType&&"G"!=i.definition.channelType){for(var s=null,n=0;n<t.result.teams.length;n++)if(i.definition.teamID==t.result.teams[n].teamID){s=t.result.teams[n];break}var r=0;null!=s&&(r=s.students.length),"T"==i.definition.channelType&&r--,r>0?a()("#"+this.id+"Channel_"+e).find("div.chatUpdated").html('<img src="'+JSSettings.st("common:dbImg")+'" class="activity-img" style="float:right; border:0px; margin-right: 5px;" alt="'+JSStrings.tc("gadgets:studentsOnline")+'" title="'+JSStrings.tc("gadgets:studentsOnline")+'"/>'):a()("#"+this.id+"Channel_"+e).find("div.chatUpdated").html(""),i.available!=r&&(a()("#"+this.id+"Channel_"+e).find("div.chatUpdated").effect("pulsate",{times:3},3e3),i.available=r)}}},channelNameChange:function(){this.channelNameService.call("getChannels",[Live.user],!0,a().proxy(this.updateChannelName,this))},updateChannelName:function(t){if(0==t.error){for(var e=[],i=0;i<t.result.channels.length;i++)"C"==(s=t.result.channels[i]).type&&(e[s.teamID]=s.name);for(i=0;i<this.chat.channels.length;i++){var s;"C"==(s=this.chat.channels[i]).definition.channelType&&(s.name=e[s.definition.teamID],a()("#"+this.id+"Channel_"+i).find("span.name").attr("title",s.name.escapeHTML()).html(s.name.escapeHTML()),i==this.chat.currentChannelIndex&&(this.chatEdit.attr("placeholder",JSStrings.tc("gadgets:sendMessage",{CHANNEL:s.name.escapeHTML()})),this.chatEdit.attr("aria-label",JSStrings.tc("gadgets:sendMessage",{CHANNEL:s.name.escapeHTML()}))))}}}}),b=o.extend({bottfix:!0,canClose:!1,canMinimize:!0,unreadEmail:[],minWidth:700,minimized:!0,getTitle:function(){return JSStrings.tc("gadgets:email")},onDrawTitle:function(){return'<h3 id="'+this.id+'EmailTitle" class="emailTitle"><div class="emailSwitchWrap">'+JSStrings.tc("gadgets:email")+'<div aria-live="polite" class="chatNewMessagesWrap" ><div id="'+this.id+'EmailNewMessages" class="chatNewMessages" style="display:none;">0<span class="offscreen">'+JSStrings.tc("gadgets:newEmail")+"</span></div></div></div></h3>"},onDrawContent:function(){var t,e;return this.email=new g(a().proxy(this.processSendEmail,this),a().proxy(this.processReceiveEmails,this),a().proxy(this.processNewEmailsCount,this),this.getNewEmailsCount.bind(this),a().proxy(this.processReceiveEmail,this)),e=(t=this.newWindow?a()(window).height()-23:220)-4,'<div id="'+this.id+'EmailContent" class="emailContent" style="min-height:'+t+'px;"><div id="'+this.id+'EmaiDirs" class="emailChannelsWrap" style="height:'+e+'px;"><div class="emailHeading"><span id="'+this.id+'EmailIn">'+JSStrings.tc("gadgets:inbox")+'</span></div><button id="'+this.id+'EmailInCurrent" class="button-plain emailChannel" aria-labelledby="'+this.id+"EmailInCurrent "+this.id+'EmailIn">'+JSStrings.tc("gadgets:currentQuarter")+'</button><button id="'+this.id+'EmailInPrevious" class="button-plain emailChannel" aria-labelledby="'+this.id+"EmailInPrevious "+this.id+'EmailIn">'+JSStrings.tc("gadgets:previousQuarter")+'</button><div id="'+this.id+'EmailOut" class="emailHeading">'+JSStrings.tc("gadgets:outbox")+'</div><button id="'+this.id+'EmailOutCurrent" class="button-plain emailChannel" aria-labelledby="'+this.id+"EmailOutCurrent "+this.id+'EmailOut">'+JSStrings.tc("gadgets:currentQuarter")+'</button><button id="'+this.id+'EmailOutPrevious" class="button-plain emailChannel" aria-labelledby="'+this.id+"EmailOutPrevious "+this.id+'EmailOut">'+JSStrings.tc("gadgets:previousQuarter")+'</button><div class="emailComposeWrap"><a href="'+Live.emptyHref+'" id="'+this.id+'Compose" class="button-link emailCompose">'+JSStrings.tc("gadgets:compose")+'</a></div></div><div class="emailListWrap"><div id="'+this.id+'EmailList" style="overflow:auto; height: '+t+'px; padding-left: 0px;padding-top: 0px;"></div></div></div>'},onObserveEvents:function(){var t;this.isEmailVisible=!1,this.emailContent=a()("#"+this.id+"EmailContent"),this.newEmailMessages=a()("#"+this.id+"EmailNewMessages"),this.emailList=a()("#"+this.id+"EmailList"),this.emailElement=null,this.receiveEmailsEvt=this.email.getNewEmailsCount.bind(this.email),this.emailList=a()("#"+this.id+"EmailList"),this.emailElement=null,(t=a()("#"+this.id+"EmailInCurrent")).on("click",a().proxy(this.emailGet,this,t,2,1)),(t=a()("#"+this.id+"EmailInPrevious")).on("click",a().proxy(this.emailGet,this,t,2,2)),(t=a()("#"+this.id+"EmailOutCurrent")).on("click",a().proxy(this.emailGet,this,t,1,1)),(t=a()("#"+this.id+"EmailOutPrevious")).on("click",a().proxy(this.emailGet,this,t,1,2)),a()("#"+this.id+"Compose").on("click",a().proxy(this.composeEmail,this,null)),this.newWindow?window.opener.LiveEvents.register("email","change",this.receiveEmailsEvt):LiveEvents.register("email","change",this.receiveEmailsEvt),this.getNewEmailsCount()},getNewEmailsCount:function(){this.email.getNewEmailsCount(this.email)},emailGet:function(t,e,i){null!=this.emailElement&&this.emailElement.toggleClass("current",!1),this.emailElement=t,this.emailType=e,this.quarterType=i,this.email.receiveEmails(e,i),this.emailElement.toggleClass("current",!0)},processSendEmail:function(){},setNewEmailsNotification:function(t){t>0?(this.newEmailMessages.show(),this.newEmailMessages.html(t+' <span class="offscreen">'+JSStrings.tc("gadgets:newEmail")+"</span>")):(this.newEmailMessages.hide(),this.newEmailMessages.html('0 <span class="offscreen">'+JSStrings.tc("gadgets:newChat")+"</span>"))},processNewEmailsCount:function(t){this.setNewEmailsNotification(t.allNew),this.isEmailVisible&&this.email.receiveEmails(this.emailType,this.quarterType)},updateEmailsStatus:function(t){for(var e,i=a()("#"+this.id+"EmailListTable").find("tbody").find("tr"),s=0;s<t.length;s++)(e=a()(i[s]).find("td, th")).find(".offscreen").remove(),t[s].isRead?e.css({"font-weight":"normal"}):(e.css({"font-weight":"bold"}),e.find("a").append('<span class="offscreen">: '+JSStrings.tc("gadgets:unread")+"</span>"))},processReceiveEmails:function(t,e,i){for(var s=[{title:JSStrings.tc("gadgets:subject")},{title:2==t?JSStrings.tc("gadgets:sender"):JSStrings.tc("gadgets:recipient")},{title:JSStrings.tc("gadgets:date"),align:"right"},{title:JSStrings.tc("gadgets:quarter"),align:"right"}],n=[],r=a().proxy(this.showEmailOnAction,this),o=0;o<i.length;o++){var l={id:i[o].id};n.push({values:[i[o].subject.escapeHTML(),i[o].senderReceiver.escapeHTML(),Format.soapLongDate(i[o].time)+" "+Format.tzOffset(i[o].tzGMTOffset),i[o].quarter],rowData:l,actions:[{type:"click",call:r,data:l},null,null,null]})}var d=new DecisionTable("",this.id+"EmailListTable",s,n,!1,"");d.newCorners="",d.tableClass="dtable-email",d.onClickRowEvent=a().proxy(this.showEmailOnRowClick,this),this.emailList.html(d.draw()),this.updateEmailsStatus(i),d.change("width","100%"),d.observe()},onMaximize:function(){if(this.isEmailVisible=!0,!this.emailType&&!this.quarterType){var t=a()("#"+this.id+"EmailInCurrent");this.emailGet(t,2,1)}a()("#"+this.id+"EmailTitle").removeClass("chatTitleMinimized").addClass("chatTitleMaximized"),this.gadgetsArea.container.element.css("z-index",500)},onMinimize:function(){this.isEmailVisible=!1,a()("#"+this.id+"EmailTitle").removeClass("chatTitleMaximized").addClass("chatTitleMinimized"),this.gadgetsArea.container.element.css("z-index",50)},showEmailOnRowClick:function(t,e,i){i.stopImmediatePropagation(),this.showEmail(t.id)},showEmailOnAction:function(t,e){e.stopImmediatePropagation(),this.showEmail(t.id)},showEmail:function(t){Live.user.teamUID?this.openWindow(Live.servicePoint+Live.user.teamUID+"/email/"+t,"emailWindow","simple",610,570):this.openWindow(Live.servicePoint+"engine.php?tpl=email&"+Live.user.toQueryString()+"&id="+t,"emailWindow","simple",610,570),this.email.setEmailRead(t)},composeEmail:function(t,e){e.preventDefault(),Live.user.teamUID?this.openWindow(Live.servicePoint+Live.user.teamUID+"/email/","emailWindow","simple",610,570):this.openWindow(Live.servicePoint+"engine.php?tpl=email&"+Live.user.toQueryString(),"composeEmailWindow","simple",610,570)},onDestroy:function(){this.newWindow?window.opener.LiveEvents.unregister("email","change",this.receiveEmailsEvt):LiveEvents.unregister("email","change",this.receiveEmailsEvt)}}),f=o.extend({imagesType:"1",onDrawTitle:function(){return""},onDrawContent:function(){return this.quickLinks=[],this.resource=null,this.quarter=0,""},onMinimize:function(){},checkQuickLinks:function(){var t=!1;if(Engine.resource!=this.resource||this.quarter!=Live.user.quarter()){if(this.resource=Engine.resource,this.quarter=Live.user.quarter(),this.quickLinks=[],""!=Engine.resource){var e,i=Engine.getResource(Engine.resource).quickLinks||[],s=i.length;for(e=0;e<s;++e)Live.visible(i[e].visibility)&&(this.quickLinks.push(i[e]),t=!0)}this.updateQuickLinks(),t&&(OverlayMessages.triggerMessage("quicklinks"),Engine.basicInfo.testMarket<=this.quarter&&OverlayMessages.triggerMessage("quicklinksRepeat"))}},updateQuickLinks:function(){var t,e,i=this.quickLinks.length;if(i>0){for(t='<ul style="list-style-type: none; margin: 0; padding: 0px; border: 0px;">',e=0;e<i;++e)t+='<li style="display: block;"><a href="'+Live.emptyHref+'" id="quickLink'+e+'" class="quickLinksItem">'+this.quickLinks[e].title+'<img src="'+JSSettings.st("common:dbImg")+'" class="linkPopout" alt/></a></li>';for(t+="</ul>",this.contentElement.html(t),e=0;e<i;++e)this.contentElement.find("#quickLink"+e).on("click",this.qlClick.bind(this,this.quickLinks[e]))}else this.contentElement.html('<div class="gdt-list-special" style="text-align: left;"><div class="gdt-list-no">'+JSStrings.tc("gadgets:noQuickLinks")+"</div></div>")},onObserveEvents:function(){this.checkEvent=a().proxy(this.checkQuickLinks,this),LiveEvents.register("decision","change",this.checkEvent)},onDestroy:function(){this.contentElement.find("a").off(),LiveEvents.unregister("decision","change",this.checkEvent)},qlClick:function(t,e){e.preventDefault(),Engine.showNewWindow(t.resource,t.run,"","ql")}}),v=o.extend({fixed:!0,onDrawContent:function(){return'<div id="'+this.id+'Logo"><img src="'+Engine.basicInfo.gameLogoUrl+'" style="width: 100%;" alt="'+JSStrings.tc("gadgets:gameLogo")+'"/></div>'},showProfile:function(){Engine.showInstrProfile()},onObserveEvents:function(){var t=this,e=!1;Live.hasFeature("blog")&&!Engine.basicInfo.isAI&&a()("#"+this.id+"Logo").on("click",a().proxy(this.showProfile,this)).css("cursor","pointer"),a()("#"+this.id+"Logo").find("img").on("load",a().proxy(Engine.ui.resize,Engine.ui)).on("error",(function(){e?t.closeClick():(e=!0,this.src=Engine.basicInfo.teamLogoUrl)}))}}),y=o.extend({getInitInfo:function(t){return t.yourTurnContracts||null},checkNegStatus:function(t){Live.user.quarter()==Engine.basicInfo.currentQuarter?void 0===t||null==t?this.service.call("yourTurnContracts",[Live.user],!0,this.updateEvent):this.updateEvent({result:t,error:0}):this.updateEvent({result:{contracts:[]},error:0})},updateNegStatus:function(t){if(0==t.error){var e,i,s,n=t.result,r=n.contracts.length,o=r,l=a().proxy(this.onContractClick,this);if(this.contracts=[],o>0){for(s='<ul style="list-style-type: none; margin: 0; padding: 0px; border: 0px;">',e=0;e<r;++e)i=n.contracts[e],s+='<li style="display: block;"><a href="'+Live.emptyHref+'" id="'+this.id+"_contract_"+e+'" class="taskListItem1" style="padding-left:5px; display: block; text-decoration: inherit;">'+JSStrings.tc("gadgets:"+i.type+"No",{NUMBER:i.number})+"</a></li>",this.contracts.push(i);s+="</ul>",this.contentElement.html(s),this.contentElement.find("a").on("click",l)}else this.contentElement.html('<div class="gdt-list-concrete" style="text-align: left;"><div class="gdt-list-no">'+JSStrings.tc("gadgets:noContracts")+"</div></div>")}},onDrawContent:function(){return this.service=new LiveService("GameInfo"),""},onObserveEvents:function(){this.checkEvent=a().proxy(this.checkNegStatus,this),this.updateEvent=a().proxy(this.updateNegStatus,this),this.initInfo?this.updateNegStatus({result:this.initInfo,error:0,errorMessage:""}):this.checkEvent(),LiveEvents.register("neg","change",this.checkEvent)},onDestroy:function(){LiveEvents.unregister("neg","change",this.checkEvent)},onContractClick:function(t){t.preventDefault();var e,i,s=this.contracts[t.target.id.replace(this.id+"_contract_","")];"rd"==s.type&&(e="confirmrd",i=s.licenseID),"rfp"==s.type&&(e="confirmrfp",i=s.contractID),"longerRfp"==s.type&&(e="confirmlongrfp",i=s.contractID+";"+s.amendmentID),Engine.startPage({parentResource:"",resource:e,tab:"workspace",params:i},Engine.focusActiveTab.bind(Engine))}})},61877:function(t,e,i){var s,a;function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}"undefined"!=typeof self&&self,s=function(){"function"!=typeof Promise&&function(e){function i(t,e){return function(){t.apply(e,arguments)}}function s(t){if("object"!==n(this))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],c(t,i(r,this),i(o,this))}function a(t){var e=this;return null===this._state?void this._deferreds.push(t):void p((function(){var i=e._state?t.onFulfilled:t.onRejected;if(null!==i){var s;try{s=i(e._value)}catch(e){return void t.reject(e)}t.resolve(s)}else(e._state?t.resolve:t.reject)(e._value)}))}function r(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===n(t)||"function"==typeof t)){var e=t.then;if("function"==typeof e)return void c(i(e,t),i(r,this),i(o,this))}this._state=!0,this._value=t,l.call(this)}catch(t){o.call(this,t)}}function o(t){this._state=!1,this._value=t,l.call(this)}function l(){for(var t=0,e=this._deferreds.length;e>t;t++)a.call(this,this._deferreds[t]);this._deferreds=null}function d(t,e,i,s){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=i,this.reject=s}function c(t,e,i){var s=!1;try{t((function(t){s||(s=!0,e(t))}),(function(t){s||(s=!0,i(t))}))}catch(t){if(s)return;s=!0,i(t)}}var h=setTimeout,p="function"==typeof setImmediate&&setImmediate||function(t){h(t,1)},u=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};s.prototype.catch=function(t){return this.then(null,t)},s.prototype.then=function(t,e){var i=this;return new s((function(s,n){a.call(i,new d(t,e,s,n))}))},s.all=function(){var t=Array.prototype.slice.call(1===arguments.length&&u(arguments[0])?arguments[0]:arguments);return new s((function(e,i){function s(r,o){try{if(o&&("object"===n(o)||"function"==typeof o)){var l=o.then;if("function"==typeof l)return void l.call(o,(function(t){s(r,t)}),i)}t[r]=o,0==--a&&e(t)}catch(t){i(t)}}if(0===t.length)return e([]);for(var a=t.length,r=0;r<t.length;r++)s(r,t[r])}))},s.resolve=function(t){return t&&"object"===n(t)&&t.constructor===s?t:new s((function(e){e(t)}))},s.reject=function(t){return new s((function(e,i){i(t)}))},s.race=function(t){return new s((function(e,i){for(var s=0,a=t.length;a>s;s++)t[s].then(e,i)}))},s._setImmediateFn=function(t){p=t},t.exports?t.exports=s:e.Promise||(e.Promise=s)}(this),"function"!=typeof window.CustomEvent&&function(){function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i}t.prototype=window.Event.prototype,window.CustomEvent=t}(),HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(t,e,i){for(var s=atob(this.toDataURL(e,i).split(",")[1]),a=s.length,n=new Uint8Array(a),r=0;r<a;r++)n[r]=s.charCodeAt(r);t(new Blob([n],{type:e||"image/png"}))}});var e,i,s,a=["Webkit","Moz","ms"],r=document.createElement("div").style,o=[1,8,3,6],l=[2,7,4,5];function d(t){if(t in r)return t;for(var e=t[0].toUpperCase()+t.slice(1),i=a.length;i--;)if((t=a[i]+e)in r)return t}function c(t,e){for(var i in t=t||{},e)e[i]&&e[i].constructor&&e[i].constructor===Object?(t[i]=t[i]||{},c(t[i],e[i])):t[i]=e[i];return t}function h(t){return c({},t)}function p(t){if("createEvent"in document){var e=document.createEvent("HTMLEvents");e.initEvent("change",!1,!0),t.dispatchEvent(e)}else t.fireEvent("onchange")}function u(t,e,i){if("string"==typeof e){var s=e;(e={})[s]=i}for(var a in e)t.style[a]=e[a]}function g(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function m(t,e){for(var i in e)t.setAttribute(i,e[i])}function b(t){return parseInt(t,10)}function f(t,e){var i=t.naturalWidth,s=t.naturalHeight,a=e||D(t);if(a&&a>=5){var n=i;i=s,s=n}return{width:i,height:s}}i=d("transform"),e=d("transformOrigin"),s=d("userSelect");var v={translate3d:{suffix:", 0px"},translate:{suffix:""}},y=function(t,e,i){this.x=parseFloat(t),this.y=parseFloat(e),this.scale=parseFloat(i)};y.parse=function(t){return t.style?y.parse(t.style[i]):t.indexOf("matrix")>-1||t.indexOf("none")>-1?y.fromMatrix(t):y.fromString(t)},y.fromMatrix=function(t){var e=t.substring(7).split(",");return e.length&&"none"!==t||(e=[1,0,0,1,0,0]),new y(b(e[4]),b(e[5]),parseFloat(e[0]))},y.fromString=function(t){var e=t.split(") "),i=e[0].substring(rt.globals.translate.length+1).split(","),s=e.length>1?e[1].substring(6):1,a=i.length>1?i[0]:0,n=i.length>1?i[1]:0;return new y(a,n,s)},y.prototype.toString=function(){var t=v[rt.globals.translate].suffix||"";return rt.globals.translate+"("+this.x+"px, "+this.y+"px"+t+") scale("+this.scale+")"};var w=function(t){if(!t||!t.style[e])return this.x=0,void(this.y=0);var i=t.style[e].split(" ");this.x=parseFloat(i[0]),this.y=parseFloat(i[1])};function D(t){return t.exifdata&&t.exifdata.Orientation?b(t.exifdata.Orientation):1}function _(t,e,i){var s=e.width,a=e.height,n=t.getContext("2d");switch(t.width=e.width,t.height=e.height,n.save(),i){case 2:n.translate(s,0),n.scale(-1,1);break;case 3:n.translate(s,a),n.rotate(180*Math.PI/180);break;case 4:n.translate(0,a),n.scale(1,-1);break;case 5:t.width=a,t.height=s,n.rotate(90*Math.PI/180),n.scale(1,-1);break;case 6:t.width=a,t.height=s,n.rotate(90*Math.PI/180),n.translate(0,-a);break;case 7:t.width=a,t.height=s,n.rotate(-90*Math.PI/180),n.translate(-s,a),n.scale(1,-1);break;case 8:t.width=a,t.height=s,n.translate(0,s),n.rotate(-90*Math.PI/180)}n.drawImage(e,0,0,s,a),n.restore()}function I(){var t,e,i,s,a,n,r=this,o=r.options.viewport.type?"cr-vp-"+r.options.viewport.type:null;r.options.useCanvas=r.options.enableOrientation||x.call(r),r.data={},r.elements={},t=r.elements.boundary=document.createElement("div"),i=r.elements.viewport=document.createElement("div"),e=r.elements.img=document.createElement("img"),s=r.elements.overlay=document.createElement("div"),r.options.useCanvas?(r.elements.canvas=document.createElement("canvas"),r.elements.preview=r.elements.canvas):r.elements.preview=e,g(t,"cr-boundary"),t.setAttribute("aria-dropeffect","none"),a=r.options.boundary.width,n=r.options.boundary.height,u(t,{width:a+(isNaN(a)?"":"px"),height:n+(isNaN(n)?"":"px")}),g(i,"cr-viewport"),o&&g(i,o),u(i,{width:r.options.viewport.width+"px",height:r.options.viewport.height+"px"}),i.setAttribute("tabindex",0),g(r.elements.preview,"cr-image"),m(r.elements.preview,{alt:"preview","aria-grabbed":"false"}),g(s,"cr-overlay"),r.element.appendChild(t),t.appendChild(r.elements.preview),t.appendChild(i),t.appendChild(s),g(r.element,"croppie-container"),r.options.customClass&&g(r.element,r.options.customClass),N.call(this),r.options.enableZoom&&L.call(r),r.options.enableResize&&T.call(r)}function x(){return this.options.enableExif&&window.EXIF}function T(){var t,e,i,a,n,r,o,l=this,d=document.createElement("div"),c=!1;function h(r){if((void 0===r.button||0===r.button)&&(r.preventDefault(),!c)){var o=l.elements.overlay.getBoundingClientRect();if(c=!0,e=r.pageX,i=r.pageY,t=-1!==r.currentTarget.className.indexOf("vertical")?"v":"h",a=o.width,n=o.height,r.touches){var d=r.touches[0];e=d.pageX,i=d.pageY}window.addEventListener("mousemove",p),window.addEventListener("touchmove",p),window.addEventListener("mouseup",m),window.addEventListener("touchend",m),document.body.style[s]="none"}}function p(s){var r=s.pageX,o=s.pageY;if(s.preventDefault(),s.touches){var c=s.touches[0];r=c.pageX,o=c.pageY}var h=r-e,p=o-i,g=l.options.viewport.height+p,m=l.options.viewport.width+h;"v"===t&&g>=50&&g<=n?(u(d,{height:g+"px"}),l.options.boundary.height+=p,u(l.elements.boundary,{height:l.options.boundary.height+"px"}),l.options.viewport.height+=p,u(l.elements.viewport,{height:l.options.viewport.height+"px"})):"h"===t&&m>=50&&m<=a&&(u(d,{width:m+"px"}),l.options.boundary.width+=h,u(l.elements.boundary,{width:l.options.boundary.width+"px"}),l.options.viewport.width+=h,u(l.elements.viewport,{width:l.options.viewport.width+"px"})),E.call(l),U.call(l),P.call(l),R.call(l),i=o,e=r}function m(){c=!1,window.removeEventListener("mousemove",p),window.removeEventListener("touchmove",p),window.removeEventListener("mouseup",m),window.removeEventListener("touchend",m),document.body.style[s]=""}g(d,"cr-resizer"),u(d,{width:this.options.viewport.width+"px",height:this.options.viewport.height+"px"}),this.options.resizeControls.height&&(g(r=document.createElement("div"),"cr-resizer-vertical"),d.appendChild(r)),this.options.resizeControls.width&&(g(o=document.createElement("div"),"cr-resizer-horisontal"),d.appendChild(o)),r&&(r.addEventListener("mousedown",h),r.addEventListener("touchstart",h)),o&&(o.addEventListener("mousedown",h),o.addEventListener("touchstart",h)),this.elements.boundary.appendChild(d)}function C(t){if(this.options.enableZoom){var e=this.elements.zoomer,i=Y(t,4);e.value=Math.max(parseFloat(e.min),Math.min(parseFloat(e.max),i)).toString()}}function L(){var t=this,e=t.elements.zoomerWrap=document.createElement("div"),i=t.elements.zoomer=document.createElement("input");function s(){S.call(t,{value:parseFloat(i.value),origin:new w(t.elements.preview),viewportRect:t.elements.viewport.getBoundingClientRect(),transform:y.parse(t.elements.preview)})}function a(e){var i,a;if("ctrl"===t.options.mouseWheelZoom&&!0!==e.ctrlKey)return 0;i=e.wheelDelta?e.wheelDelta/1200:e.deltaY?e.deltaY/1060:e.detail?e.detail/-60:0,a=t._currentZoom+i*t._currentZoom,e.preventDefault(),C.call(t,a),s.call(t)}g(e,"cr-slider-wrap"),g(i,"cr-slider"),i.type="range",i.step="0.0001",i.value="1",i.style.display=t.options.showZoomer?"":"none",i.setAttribute("aria-label","zoom"),t.element.appendChild(e),e.appendChild(i),t._currentZoom=1,t.elements.zoomer.addEventListener("input",s),t.elements.zoomer.addEventListener("change",s),t.options.mouseWheelZoom&&(t.elements.boundary.addEventListener("mousewheel",a),t.elements.boundary.addEventListener("DOMMouseScroll",a))}function S(t){var s=this,a=t?t.transform:y.parse(s.elements.preview),n=t?t.viewportRect:s.elements.viewport.getBoundingClientRect(),r=t?t.origin:new w(s.elements.preview);function o(){var t={};t[i]=a.toString(),t[e]=r.toString(),u(s.elements.preview,t)}if(s._currentZoom=t?t.value:s._currentZoom,a.scale=s._currentZoom,s.elements.zoomer.setAttribute("aria-valuenow",s._currentZoom),o(),s.options.enforceBoundary){var l=k.call(s,n),d=l.translate,c=l.origin;a.x>=d.maxX&&(r.x=c.minX,a.x=d.maxX),a.x<=d.minX&&(r.x=c.maxX,a.x=d.minX),a.y>=d.maxY&&(r.y=c.minY,a.y=d.maxY),a.y<=d.minY&&(r.y=c.maxY,a.y=d.minY)}o(),O.call(s),R.call(s)}function k(t){var e=this,i=e._currentZoom,s=t.width,a=t.height,n=e.elements.boundary.clientWidth/2,r=e.elements.boundary.clientHeight/2,o=e.elements.preview.getBoundingClientRect(),l=o.width,d=o.height,c=s/2,h=a/2,p=-1*(c/i-n),u=-1*(h/i-r),g=1/i*c,m=1/i*h;return{translate:{maxX:p,minX:p-(l*(1/i)-s*(1/i)),maxY:u,minY:u-(d*(1/i)-a*(1/i))},origin:{maxX:l*(1/i)-g,minX:g,maxY:d*(1/i)-m,minY:m}}}function P(t){var s=this,a=s._currentZoom,n=s.elements.preview.getBoundingClientRect(),r=s.elements.viewport.getBoundingClientRect(),o=y.parse(s.elements.preview.style[i]),l=new w(s.elements.preview),d=r.top-n.top+r.height/2,c=r.left-n.left+r.width/2,h={},p={};if(t){var g=l.x,m=l.y,b=o.x,f=o.y;h.y=g,h.x=m,o.y=b,o.x=f}else h.y=d/a,h.x=c/a,p.y=(h.y-l.y)*(1-a),p.x=(h.x-l.x)*(1-a),o.x-=p.x,o.y-=p.y;var v={};v[e]=h.x+"px "+h.y+"px",v[i]=o.toString(),u(s.elements.preview,v)}function N(){var t,e,a,n,r,o=this,l=!1;function d(t,e){var i=o.elements.preview.getBoundingClientRect(),s=r.y+e,a=r.x+t;o.options.enforceBoundary?(n.top>i.top+e&&n.bottom<i.bottom+e&&(r.y=s),n.left>i.left+t&&n.right<i.right+t&&(r.x=a)):(r.y=s,r.x=a)}function c(t){o.elements.preview.setAttribute("aria-grabbed",t),o.elements.boundary.setAttribute("aria-dropeffect",t?"move":"none")}function h(i){if((void 0===i.button||0===i.button)&&(i.preventDefault(),!l)){if(l=!0,t=i.pageX,e=i.pageY,i.touches){var a=i.touches[0];t=a.pageX,e=a.pageY}c(l),r=y.parse(o.elements.preview),window.addEventListener("mousemove",g),window.addEventListener("touchmove",g),window.addEventListener("mouseup",m),window.addEventListener("touchend",m),document.body.style[s]="none",n=o.elements.viewport.getBoundingClientRect()}}function g(s){s.preventDefault();var n=s.pageX,l=s.pageY;if(s.touches){var c=s.touches[0];n=c.pageX,l=c.pageY}var h=n-t,g=l-e,m={};if("touchmove"===s.type&&s.touches.length>1){var b=s.touches[0],f=s.touches[1],v=Math.sqrt((b.pageX-f.pageX)*(b.pageX-f.pageX)+(b.pageY-f.pageY)*(b.pageY-f.pageY));a||(a=v/o._currentZoom);var y=v/a;return C.call(o,y),void p(o.elements.zoomer)}d(h,g),m[i]=r.toString(),u(o.elements.preview,m),E.call(o),e=l,t=n}function m(){c(l=!1),window.removeEventListener("mousemove",g),window.removeEventListener("touchmove",g),window.removeEventListener("mouseup",m),window.removeEventListener("touchend",m),document.body.style[s]="",P.call(o),R.call(o),a=0}o.elements.overlay.addEventListener("mousedown",h),o.elements.viewport.addEventListener("keydown",(function(t){var e;if(!t.shiftKey||38!==t.keyCode&&40!==t.keyCode){if(o.options.enableKeyMovement&&t.keyCode>=37&&t.keyCode<=40){t.preventDefault();var l=function(t){switch(t){case 37:return[1,0];case 38:return[0,1];case 39:return[-1,0];case 40:return[0,-1]}}(t.keyCode);r=y.parse(o.elements.preview),document.body.style[s]="none",n=o.elements.viewport.getBoundingClientRect(),function(t){var e={};d(t[0],t[1]),e[i]=r.toString(),u(o.elements.preview,e),E.call(o),document.body.style[s]="",P.call(o),R.call(o),a=0}(l)}}else e=38===t.keyCode?parseFloat(o.elements.zoomer.value)+parseFloat(o.elements.zoomer.step):parseFloat(o.elements.zoomer.value)-parseFloat(o.elements.zoomer.step),o.setZoom(e)})),o.elements.overlay.addEventListener("touchstart",h)}function E(){if(this.elements){var t=this,e=t.elements.boundary.getBoundingClientRect(),i=t.elements.preview.getBoundingClientRect();u(t.elements.overlay,{width:i.width+"px",height:i.height+"px",top:i.top-e.top+"px",left:i.left-e.left+"px"})}}w.prototype.toString=function(){return this.x+"px "+this.y+"px"};var M,j,B,A,O=(M=E,j=500,function(){var t=this,e=arguments,i=function(){A=null,B||M.apply(t,e)},s=B&&!A;clearTimeout(A),A=setTimeout(i,j),s&&M.apply(t,e)});function R(){var t,e=this,i=e.get();F.call(e)&&(e.options.update.call(e,i),e.$&&"undefined"==typeof Prototype?e.$(e.element).trigger("update.croppie",i):(window.CustomEvent?t=new CustomEvent("update",{detail:i}):(t=document.createEvent("CustomEvent")).initCustomEvent("update",!0,!0,i),e.element.dispatchEvent(t)))}function F(){return this.elements.preview.offsetHeight>0&&this.elements.preview.offsetWidth>0}function $(){var t,s=this,a={},n=s.elements.preview,r=new y(0,0,1),o=new w;F.call(s)&&!s.data.bound&&(s.data.bound=!0,a[i]=r.toString(),a[e]=o.toString(),a.opacity=1,u(n,a),t=s.elements.preview.getBoundingClientRect(),s._originalImageWidth=t.width,s._originalImageHeight=t.height,s.data.orientation=D(s.elements.img),s.options.enableZoom?U.call(s,!0):s._currentZoom=1,r.scale=s._currentZoom,a[i]=r.toString(),u(n,a),s.data.points.length?q.call(s,s.data.points):W.call(s),P.call(s),E.call(s))}function U(t){var e,i,s,a,n=this,r=Math.max(n.options.minZoom,0)||0,o=n.options.maxZoom||1.5,l=n.elements.zoomer,d=parseFloat(l.value),c=n.elements.boundary.getBoundingClientRect(),h=f(n.elements.img,n.data.orientation),u=n.elements.viewport.getBoundingClientRect();n.options.enforceBoundary&&(s=u.width/h.width,a=u.height/h.height,r=Math.max(s,a)),r>=o&&(o=r+1),l.min=Y(r,4),l.max=Y(o,4),!t&&(d<l.min||d>l.max)?C.call(n,d<l.min?l.min:l.max):t&&(i=Math.max(c.width/h.width,c.height/h.height),e=null!==n.data.boundZoom?n.data.boundZoom:i,C.call(n,e)),p(l)}function q(t){if(4!==t.length)throw"Croppie - Invalid number of points supplied: "+t;var s=this,a=t[2]-t[0],n=s.elements.viewport.getBoundingClientRect(),r=s.elements.boundary.getBoundingClientRect(),o=n.left-r.left,l=n.top-r.top,d=n.width/a,c=t[1],h=t[0],p=-1*t[1]+l,g=-1*t[0]+o,m={};m[e]=h+"px "+c+"px",m[i]=new y(g,p,d).toString(),u(s.elements.preview,m),C.call(s,d),s._currentZoom=d}function W(){var t=this,e=t.elements.preview.getBoundingClientRect(),s=t.elements.viewport.getBoundingClientRect(),a=t.elements.boundary.getBoundingClientRect(),n=s.left-a.left,r=s.top-a.top,o=n-(e.width-s.width)/2,l=r-(e.height-s.height)/2,d=new y(o,l,t._currentZoom);u(t.elements.preview,i,d.toString())}function z(t){var e=this,i=e.elements.canvas,s=e.elements.img;i.getContext("2d").clearRect(0,0,i.width,i.height),i.width=s.width,i.height=s.height,_(i,s,e.options.enableOrientation&&t||D(s))}function H(t){var e=this,i=t.points,s=b(i[0]),a=b(i[1]),n=b(i[2])-s,r=b(i[3])-a,o=t.circle,l=document.createElement("canvas"),d=l.getContext("2d"),c=t.outputWidth||n,h=t.outputHeight||r;l.width=c,l.height=h,t.backgroundColor&&(d.fillStyle=t.backgroundColor,d.fillRect(0,0,c,h));var p=s,u=a,g=n,m=r,f=0,v=0,y=c,w=h;return s<0&&(p=0,f=Math.abs(s)/n*c),g+p>e._originalImageWidth&&(y=(g=e._originalImageWidth-p)/n*c),a<0&&(u=0,v=Math.abs(a)/r*h),m+u>e._originalImageHeight&&(w=(m=e._originalImageHeight-u)/r*h),d.drawImage(this.elements.preview,p,u,g,m,f,v,y,w),o&&(d.fillStyle="#fff",d.globalCompositeOperation="destination-in",d.beginPath(),d.arc(l.width/2,l.height/2,l.width/2,0,2*Math.PI,!0),d.closePath(),d.fill()),l}function V(t){var e=t.points,i=document.createElement("div"),s=document.createElement("img"),a=e[2]-e[0],n=e[3]-e[1];return g(i,"croppie-result"),i.appendChild(s),u(s,{left:-1*e[0]+"px",top:-1*e[1]+"px"}),s.src=t.url,u(i,{width:a+"px",height:n+"px"}),i}function G(t){return H.call(this,t).toDataURL(t.format,t.quality)}function Q(t){var e=this;return new Promise((function(i){H.call(e,t).toBlob((function(t){i(t)}),t.format,t.quality)}))}function J(t){this.elements.img.parentNode&&(Array.prototype.forEach.call(this.elements.img.classList,(function(e){t.classList.add(e)})),this.elements.img.parentNode.replaceChild(t,this.elements.img),this.elements.preview=t),this.elements.img=t}function K(t,e){var i,s,a,n,r=this,o=[],l=null,d=x.call(r);if("string"==typeof t)i=t,t={};else if(Array.isArray(t))o=t.slice();else{if(void 0===t&&r.data.url)return $.call(r),R.call(r),null;i=t.url,o=t.points||[],l=void 0===t.zoom?null:t.zoom}return r.data.bound=!1,r.data.url=i||r.data.url,r.data.boundZoom=l,(s=i,a=d,n=new Image,n.style.opacity="0",new Promise((function(t,e){function i(){n.style.opacity="1",setTimeout((function(){t(n)}),1)}n.removeAttribute("crossOrigin"),s.match(/^https?:\/\/|^\/\//)&&n.setAttribute("crossOrigin","anonymous"),n.onload=function(){a?EXIF.getData(n,(function(){i()})):i()},n.onerror=function(t){n.style.opacity=1,setTimeout((function(){e(t)}),1)},n.src=s}))).then((function(i){if(J.call(r,i),o.length)r.options.relative&&(o=[o[0]*i.naturalWidth/100,o[1]*i.naturalHeight/100,o[2]*i.naturalWidth/100,o[3]*i.naturalHeight/100]);else{var s,a,n=f(i),l=r.elements.viewport.getBoundingClientRect(),d=l.width/l.height;n.width/n.height>d?s=(a=n.height)*d:(s=n.width,a=n.height/d);var c=(n.width-s)/2,h=(n.height-a)/2,p=c+s,u=h+a;r.data.points=[c,h,p,u]}r.data.points=o.map((function(t){return parseFloat(t)})),r.options.useCanvas&&z.call(r,t.orientation),$.call(r),R.call(r),e&&e()}))}function Y(t,e){return parseFloat(t).toFixed(e||0)}function X(){var t=this,e=t.elements.preview.getBoundingClientRect(),i=t.elements.viewport.getBoundingClientRect(),s=i.left-e.left,a=i.top-e.top,n=(i.width-t.elements.viewport.offsetWidth)/2,r=(i.height-t.elements.viewport.offsetHeight)/2,o=s+t.elements.viewport.offsetWidth+n,l=a+t.elements.viewport.offsetHeight+r,d=t._currentZoom;(d===1/0||isNaN(d))&&(d=1);var c=t.options.enforceBoundary?0:Number.NEGATIVE_INFINITY;return s=Math.max(c,s/d),a=Math.max(c,a/d),o=Math.max(c,o/d),l=Math.max(c,l/d),{points:[Y(s),Y(a),Y(o),Y(l)],zoom:d,orientation:t.data.orientation}}var Z={type:"canvas",format:"png",quality:1},tt=["jpeg","webp","png"];function et(t){var e=this,i=X.call(e),s=c(h(Z),h(t)),a="string"==typeof t?t:s.type||"base64",r=s.size||"viewport",o=s.format,l=s.quality,d=s.backgroundColor,p="boolean"==typeof s.circle?s.circle:"circle"===e.options.viewport.type,u=e.elements.viewport.getBoundingClientRect(),g=u.width/u.height;return"viewport"===r?(i.outputWidth=u.width,i.outputHeight=u.height):"object"===n(r)&&(r.width&&r.height?(i.outputWidth=r.width,i.outputHeight=r.height):r.width?(i.outputWidth=r.width,i.outputHeight=r.width/g):r.height&&(i.outputWidth=r.height*g,i.outputHeight=r.height)),tt.indexOf(o)>-1&&(i.format="image/"+o,i.quality=l),i.circle=p,i.url=e.data.url,i.backgroundColor=d,new Promise((function(t){switch(a.toLowerCase()){case"rawcanvas":t(H.call(e,i));break;case"canvas":case"base64":t(G.call(e,i));break;case"blob":Q.call(e,i).then(t);break;default:t(V.call(e,i))}}))}function it(){$.call(this)}function st(t){if(!this.options.useCanvas||!this.options.enableOrientation)throw"Croppie: Cannot rotate without enableOrientation && EXIF.js included";var e,i,s,a,n,r=this,d=r.elements.canvas;r.data.orientation=(e=r.data.orientation,i=t,s=o.indexOf(e)>-1?o:l,a=s.indexOf(e),n=i/90%s.length,s[(s.length+a+n%s.length)%s.length]),_(d,r.elements.img,r.data.orientation),P.call(r,!0),U.call(r)}function at(){var t,e,i=this;i.element.removeChild(i.elements.boundary),t=i.element,e="croppie-container",t.classList?t.classList.remove(e):t.className=t.className.replace(e,""),i.options.enableZoom&&i.element.removeChild(i.elements.zoomerWrap),delete i.elements}if(window.jQuery){var nt=window.jQuery;nt.fn.croppie=function(t){if("string"===n(t)){var e=Array.prototype.slice.call(arguments,1),i=nt(this).data("croppie");return"get"===t?i.get():"result"===t?i.result.apply(i,e):"bind"===t?i.bind.apply(i,e):this.each((function(){var i=nt(this).data("croppie");if(i){var s=i[t];if(!nt.isFunction(s))throw"Croppie "+t+" method not found";s.apply(i,e),"destroy"===t&&nt(this).removeData("croppie")}}))}return this.each((function(){var e=new rt(this,t);e.$=nt,nt(this).data("croppie",e)}))}}function rt(t,e){if(t.className.indexOf("croppie-container")>-1)throw new Error("Croppie: Can't initialize croppie more than once");if(this.element=t,this.options=c(h(rt.defaults),e),"img"===this.element.tagName.toLowerCase()){var i=this.element;g(i,"cr-original-image"),m(i,{"aria-hidden":"true",alt:""});var s=document.createElement("div");this.element.parentNode.appendChild(s),s.appendChild(i),this.element=s,this.options.url=this.options.url||i.src}if(I.call(this),this.options.url){var a={url:this.options.url,points:this.options.points};delete this.options.url,delete this.options.points,K.call(this,a)}}return rt.defaults={viewport:{width:100,height:100,type:"square"},boundary:{},orientationControls:{enabled:!0,leftClass:"",rightClass:""},resizeControls:{width:!0,height:!0},customClass:"",showZoomer:!0,enableZoom:!0,enableResize:!1,mouseWheelZoom:!0,enableExif:!1,enforceBoundary:!0,enableOrientation:!1,enableKeyMovement:!0,update:function(){}},rt.globals={translate:"translate3d"},c(rt.prototype,{bind:function(t,e){return K.call(this,t,e)},get:function(){var t=X.call(this),e=t.points;return this.options.relative&&(e[0]/=this.elements.img.naturalWidth/100,e[1]/=this.elements.img.naturalHeight/100,e[2]/=this.elements.img.naturalWidth/100,e[3]/=this.elements.img.naturalHeight/100),t},result:function(t){return et.call(this,t)},refresh:function(){return it.call(this)},setZoom:function(t){C.call(this,t),p(this.elements.zoomer)},rotate:function(t){st.call(this,t)},destroy:function(){return at.call(this)}}),rt},void 0===(a=s.call(e,i,e,t))||(t.exports=a)},63714:(t,e,i)=>{"use strict";i.r(e),i.d(e,{CubeTree:()=>c,CubeValue:()=>h,Details:()=>p,DropDownAccountingDetail:()=>u});var s=i(19755),a=i.n(s),n=i(7619);function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function l(t,e,i){return e&&o(t.prototype,e),i&&o(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function d(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var c=function(){function t(e,i,s,a){r(this,t),d(this,"valueWidthPct",35),d(this,"levelIndentPct",4),this.element=e,this.cube=i,this.cube.collapsed=!s,this.changeCallback=a}return l(t,[{key:"format",value:function(t,e){return Format.number(t,e||this.cube.decimals)}},{key:"isActive",value:function(t){return void 0!==t.activeCube&&-1!==t.activeCube}},{key:"hasMore",value:function(t){return void 0!==t.cubes&&t.cubes.length>0&&t.cubes[t.activeCube].items.length>0||void 0!==t.details&&t.details.length>0}},{key:"drawCube",value:function(t,e){for(var i="",s=0;s<t.items.length;s++)i+=this.drawItem(t.items[s],e);return'<div class="ctc" style="padding-left:'+this.levelIndentPct+'%;">'+i+"</div>"}},{key:"drawItem",value:function(t,e){t.activeCube=-1,t.collapsed=!0,t.level=e,void 0!==t.cubes&&t.cubes.length>=1&&(t.activeCube=0);var i=Math.min(t.level,3),s=this.valueWidthPct-t.level*this.levelIndentPct;return'<div class="cti"><div class="ctRow"><div class="ctLabel" style="position: relative">'+this.getItemCollapse(t)+'<span class="ctName">'+t.name.escapeHTML()+"</span>"+this.getDimSelector(t)+'</div><div class="ctValue ctValue'+i+'" style="width: '+s+'%;">'+this.format(t.value)+"</div></div></div>"}},{key:"drawDetails",value:function(t,e){for(var i=100/(100-this.levelIndentPct),s=Math.floor((100-this.valueWidthPct+this.levelIndentPct*(e-2))*i),a="",n=0;n<t.length;n++)a+=this.drawDetail(t[n]);return'<div class="ctd" style="margin-bottom: 1px; padding-left: '+this.levelIndentPct+'%;"><div class="ctDetails" style="width:'+s+'%;">'+a+"</div></div>"}},{key:"drawDetail",value:function(t){return'<div class="ctdi ctRow"><div class="ctLabel" style="width:'+(100-this.valueWidthPct)+'%;">'+t.name.escapeHTML()+'</div><div class="ctDetailValue ctValue" style="width:'+this.valueWidthPct+'%;">'+this.format(t.value,t.decimals)+"</div></div>"}},{key:"draw",value:function(){this.cube.activeCube=-1,this.cube.level=0,void 0!==this.cube.cubes&&this.cube.cubes.length>=1&&(this.cube.activeCube=0);var t="";return!this.cube.collapsed&&this.isActive(this.cube)&&(t+=this.drawCube(this.cube.cubes[this.cube.activeCube],this.cube.level+1)),'<div class="ct"><div class="ctRow"><div class="ctLabel" style="position: relative">'+this.getCubeCollapse(this.cube)+'<span class="ctName">'+this.cube.name+"</span>"+this.getDimSelector(this.cube)+'</div><div class="ctValue ctValue0" style="width: '+this.valueWidthPct+'%;">'+this.format(this.cube.value)+"</div></div>"+t+"</div>"}},{key:"getImageSrc",value:function(t){return Path.getPath(JSSettings.st("common:layoutFolder"),t,".png")}},{key:"getCtCollapseImage",value:function(t){return'<img class="ctCollapse" aria-expanded="'+(t?"false":"true")+'" src="'+this.getImageSrc(t?"ct-right":"ct-down")+'" style="cursor: pointer;" role="button" tabindex="0" alt="" />'}},{key:"getCubeCollapse",value:function(t){return this.hasMore(t)?this.getCtCollapseImage(t.collapsed):""}},{key:"getItemCollapse",value:function(t){return this.hasMore(t)?this.getCtCollapseImage(t.collapsed):""}},{key:"getDimSelector",value:function(t){return this.isActive(t)&&void 0!==t.cubes&&t.cubes.length>1?'<img class="ctDimSelector" aria-expanded="false" src="'+this.getImageSrc("ct-selector")+'" role="button" tabindex="0" style="cursor: pointer; vertical-align: bottom; margin-left: 2px; width: 16px; height: 16px;" alt="" />':""}},{key:"popUpDims",value:function(t,e){this.removePopUpDims();for(var i="",s=0;s<t.cubes.length;s++){var n=t.cubes[s];i+='<div class="ctDim" role="button" tabindex="0" ><img src="'+this.getImageSrc("ct-"+(n.id===t.activeCube?"active":"inactive"))+'" style="margin-right: 2px; vertical-align: bottom; cursor: pointer; width: 16px; height: 16px;" alt="" />'+n.name.escapeHTML()+"</div>"}i='<div class="ctDimPopUp">'+i+"</div>";var r=a()(e.target),o=r.position(),l=r.after(i).siblings(".ctDimPopUp");l.css({top:o.top+r.height()+"px",left:o.left+3+"px"}),this.observeDims(l,t)}},{key:"popUpDimsKey",value:function(t,e){32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),this.popUpDims(t,e))}},{key:"removePopUpDims",value:function(){var t=this.element.find(".ctDimPopUp");t.length>0&&t.remove()}},{key:"observeCube",value:function(t,e){for(var i=0;i<e.items.length;i++){var s=e.items[i];(void 0!==s.cubes||void 0!==s.details&&s.details.length>0)&&this.observeItem(t.find(".cti").eq(i),s)}}},{key:"observeItem",value:function(t,e){if(this.hasMore(e)){var i=a()(t),s=i.find(".ctCollapse").first(),n=i.find(".ctName").first();this.isActive(e)?(s.on("click",this.toggle.bind(this,e)).on("keydown",this.toggleKey.bind(this,e)),n.css("cursor","pointer").on("click",this.toggle.bind(this,e)),this.observeDimSelector(t,e)):void 0!==e.details&&e.details.length>0&&(s.on("click",this.toggleDetails.bind(this,e)).on("keydown",this.toggleDetailsKey.bind(this,e)),n.css("cursor","pointer").on("click",this.toggleDetails.bind(this,e)))}}},{key:"observeDimSelector",value:function(t,e){void 0!==e.cubes&&e.cubes.length>1&&t.find(".ctDimSelector").first().on("click",this.popUpDims.bind(this,e)).on("keydown",this.popUpDimsKey.bind(this,e))}},{key:"observeDims",value:function(t,e){if(void 0!==e.cubes&&e.cubes.length>1)for(var i=0;i<e.cubes.length;i++)t.find(".ctDim").eq(i).on("click",this.toggleDims.bind(this,e,i)).on("keydown",this.toggleDimsKey.bind(this,e,i))}},{key:"observe",value:function(){this.element=a()("#"+this.element),this.hasMore(this.cube)&&(this.element.find(".ctCollapse").first().on("click",this.toggle.bind(this,this.cube)).on("keydown",this.toggleKey.bind(this,this.cube)),this.element.find(".ctName").first().css("cursor","pointer").on("click",this.toggle.bind(this,this.cube))),this.observeDimSelector(this.element,this.cube),this.cube.collapsed||this.observeCube(this.element,this.cube.cubes[this.cube.activeCube])}},{key:"toggle",value:function(t,e){var i=a()(e.target).parent().find(".ctCollapse").first(),s=i.parent().parent().parent();this.removePopUpDims(),t.collapsed?this.expand(t,i,s):this.collapse(t,i,s),this.changed()}},{key:"toggleKey",value:function(t,e){32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),this.toggle(t,e))}},{key:"collapse",value:function(t,e,i){i.find(".ctc").first().remove(),t.collapsed=!0,e.attr("src",this.getImageSrc("ct-right")).attr("aria-expanded",!1)}},{key:"expand",value:function(t,e,i){i.append(this.drawCube(t.cubes[t.activeCube],t.level+1)),this.observeCube(i.find(".ctc").first(),t.cubes[t.activeCube]),t.collapsed=!1,e.attr("src",this.getImageSrc("ct-down")).attr("aria-expanded",!0)}},{key:"toggleDims",value:function(t,e,i){if(i.stopPropagation(),t.activeCube!==e)if(t.collapsed)t.activeCube=e;else{var s=a()(i.target).parent().parent().parent().find(".ctCollapse").first(),n=s.parent().parent().parent();this.collapse(t,s,n),t.activeCube=e,this.expand(t,s,n)}this.removePopUpDims()}},{key:"toggleDimsKey",value:function(t,e,i){32!==i.keyCode&&13!==i.keyCode||(i.preventDefault(),this.toggleDims(t,e,i))}},{key:"toggleDetails",value:function(t,e){var i=a()(e.target).parent().find(".ctCollapse").first(),s=i.parent().parent().parent();this.removePopUpDims(),t.collapsed?this.expandDetails(t,i,s):this.collapseDetails(t,i,s),this.changed()}},{key:"toggleDetailsKey",value:function(t,e){32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),this.toggleDetails(t,e))}},{key:"collapseDetails",value:function(t,e,i){i.find(".ctd").first().remove(),t.collapsed=!0,e.attr("src",this.getImageSrc("ct-right")).attr("aria-expanded",!1)}},{key:"expandDetails",value:function(t,e,i){i.append(this.drawDetails(t.details,t.level+1)),t.collapsed=!1,e.attr("src",this.getImageSrc("ct-down")).attr("aria-expanded",!0)}},{key:"changed",value:function(){"function"==typeof this.changeCallback&&this.changeCallback()}},{key:"destroy",value:function(){this.element.find(".ctCollapse").first().off()}}]),t}(),h=function(){function t(e,i,s,a){r(this,t),d(this,"valueWidthPct",35),d(this,"levelIndentPct",4),this.element=e,this.value=i,this.collapsed=!s,this.changeCallback=a}return l(t,[{key:"format",value:function(t,e){return Format.number(t,e||this.value.decimals)}},{key:"isCollapsed",value:function(){return this.collapsed}},{key:"hasDetails",value:function(){return void 0!==this.value.details&&this.value.details.length>0}},{key:"drawDetails",value:function(){if(!this.hasDetails())return"";for(var t="",e=100/(100-this.levelIndentPct),i=Math.floor((100-this.valueWidthPct-this.levelIndentPct)*e),s="margin-bottom:1px; padding-left:"+this.levelIndentPct+"%;",a=0;a<this.value.details.length;a++)t+=this.drawDetail(this.value.details[a]);return'<div class="cvd" style="'+s+'"><div class="ctDetails" style="width:'+i+'%;">'+t+"</div></div>"}},{key:"drawDetail",value:function(t){return'<div class="ctRow cvdi"><div class="ctLabel" style="width:'+(100-this.valueWidthPct)+'%;">'+t.name.escapeHTML()+'</div><div class="ctValue ctDetailValue" style="width:'+this.valueWidthPct+'%;">'+this.format(t.value,t.decimals)+"</div></div>"}},{key:"draw",value:function(){return'<div class="cv"><div class="ctRow"><div class="ctLabel">'+this.getValueCollapse()+'<span class="ctName">'+this.value.name.escapeHTML()+'</span></div><div class="ctValue ctValue0" style="width:'+this.valueWidthPct+'%">'+this.format(this.value.value)+"</div></div>"+(this.isCollapsed()?"":this.drawDetails())+"</div>"}},{key:"getImageSrc",value:function(t){return Path.getPath(JSSettings.st("common:layoutFolder"),t,".png")}},{key:"getValueCollapse",value:function(){return this.hasDetails()?'<img class="cvCollapse" aria-expanded="'+(this.isCollapsed()?"false":"true")+'" src="'+this.getImageSrc(this.isCollapsed()?"ct-right":"ct-down")+'" style="cursor: pointer;" role="button" tabindex="0" alt="" />':""}},{key:"observe",value:function(){this.element=a()("#"+this.element),this.hasDetails()&&(this.element.find(".cvCollapse").first().on("click",this.toggle.bind(this)).on("keydown",this.toggleKey.bind(this)),this.element.find(".ctName").first().css("cursor","pointer").on("click",this.toggle.bind(this)))}},{key:"toggle",value:function(t){var e=a()(t.target).parent().find(".cvCollapse").first(),i=e.parent().parent().parent();this.isCollapsed()?this.expand(e,i):this.collapse(e,i),this.changed()}},{key:"toggleKey",value:function(t){32!==t.keyCode&&13!==t.keyCode||(t.preventDefault(),this.toggle(t))}},{key:"collapse",value:function(t,e){e.find(".cvd").first().remove(),this.collapsed=!0,t.attr("src",this.getImageSrc("ct-right")).attr("aria-expanded",!1)}},{key:"expand",value:function(t,e){e.append(this.drawDetails()),this.collapsed=!1,t.attr("src",this.getImageSrc("ct-down")).attr("aria-expanded",!0)}},{key:"changed",value:function(){"function"==typeof this.changeCallback&&this.changeCallback()}},{key:"destroy",value:function(){this.element.find(".cvCollapse").first().off()}}]),t}(),p=function(){function t(e,i,s,n){r(this,t),d(this,"detailsClass","wooden"),d(this,"valueWidthPct",40),d(this,"levelIndentPct",4),this.element=a()("#"+e),this.details=i,this.detailsClass=s||"wooden",this.objList=[],this.changeCallback=n}return l(t,[{key:"title",value:function(){return void 0!==this.details.total?this.details.total.name:this.details.items.length>0?this.details.items[0].name:""}},{key:"format",value:function(t,e){return Format.number(t,e)}},{key:"drawItems",value:function(){for(var t="",e=1===this.details.items.length,i=0;i<this.details.items.length;i++)t+=this.drawItem(this.details.items[i],i,e);return void 0!==this.details.total?'<div style="padding-left:'+this.levelIndentPct+'%;">'+t+"</div>":t}},{key:"drawItem",value:function(t,e,i){var s=new Cube(t),a=null;return this.changedEvent=this.changed.bind(this),"cube"===t.type&&(a=new c("details"+e,s.getCube(),i,this.changedEvent)),"value"===t.type&&(a=new h("details"+e,s.getCube(),i,this.changedEvent)),null!==a?(this.objList.push(a),'<div id="details'+e+'">'+a.draw()+"</div>"):""}},{key:"draw",value:function(){var t="";return void 0!==this.details.total&&(t='<div class="ctRow"><div class="ctlabel">'+this.details.total.name.escapeHTML()+'</div><div class="ctValue ctValueTotal" style="width:'+this.valueWidthPct+'%;">'+this.format(this.details.total.value,this.details.total.decimals)+"</div></div>"),'<div class="details-'+this.detailsClass+'">'+t+this.drawItems()+"</div>"}},{key:"observe",value:function(){for(var t=0;t<this.details.items.length;t++)this.objList[t].observe()}},{key:"changed",value:function(){"function"==typeof this.changeCallback&&this.changeCallback()}},{key:"destroy",value:function(){for(var t=0;t<this.details.items.length;t++)this.objList[t].destroy();this.objList=null,this.details=null}}]),t}(),u=n.DropDownStatic.extend({initialize:function(t,e,i,s,a,n,r){this.service=new LiveService("AccountingDetails"),this.item=e,this.quarter=i,this.proforma=s||!1,this.details=null,this._super(t,a||"ddac","right","middle",n||"accounting_detail",r,null,!1)},getElementId:function(){return"ddac-accounting_detail_"+this.item+"_"+this.quarter+"_"+(this.proforma?1:0)},drawDetails:function(t){var e=this;this.service.handleErrors(t)&&(this.details=new p(this.getElementId(),t.result,"wooden",(function(){e.positionDropDownElement()})),a()("#"+this.getElementId()).html(this.details.draw()),this.details.observe())},drawContent:function(){return this.service.call("getDetails",[Live.user,this.item,this.quarter,this.proforma],!0,this.drawDetails.bind(this)),'<div id="'+this.getElementId()+'"></div>'},observeContent:function(){},observe:function(){},onHide:function(){this.service.abort(),null!==this.details&&this.details.destroy()},onShow:function(){var t=this;this.ddElement().attr("tabindex",-1).on("keydown",(function(e){27===e.keyCode&&(t.hide(),t.element.focus())}))}})},54370:(t,e,i)=>{"use strict";i.r(e),i.d(e,{TaskList:()=>d,TaskListItem:()=>r,TaskListSearch:()=>c,TaskTabList:()=>o,TaskTabListItem:()=>l});var s=i(19755),a=i.n(s),n=i(94822),r=n.Class.extend({id:0,level:0,maxlevel:4,run:"",resource:"",title:"",collapsed:!1,leaf:!0,levelIndent:5,initialize:function(t,e,i,s,a,n,r){this.taskList=null,t.reference(this),this.parent=e,this.level=i,this.resource=s,this.url=a,this.title=this.getTitle(n),this.items=[],this.createSubItems(r),this.leaf=0==this.items.length},createSubItems:function(t){for(var e=0,i=t.length,s=0;e<i;++e)Live.visible(t[e].visibility)&&("tabs"==t[e].type?this.items[s++]=new o(this.taskList,this,this.level+1,t[e].resource,t[e].url,t[e].title,t[e].menuItems):this.items[s++]=new r(this.taskList,this,this.level+1,t[e].resource,t[e].url,t[e].title,t[e].menuItems))},getTitle:function(t){return"undefined"!=typeof AEngine&&AEngine.gameInfo&&-1!=t.indexOf("{{gameName}}")?t.replace("{{gameName}}",AEngine.gameInfo.gameName):t},getScreenTitle:function(){return this.title},destroy:function(){for(var t=0,e=this.items.length;t<e;++t)this.items[t].destroy(),this.items[t]=null;this.taskList.globalEvent&&0==this.level?a()("#"+this.taskList.name+"Items"+this.id).off():this.level>0&&a()("#"+this.taskList.name+"Item"+this.id).off()},getDrawSubItems:function(){return this.items},drawIcon:function(){var t="";return this.resource&&(ResourceLists.links[Live.user.quarter()][this.resource].decisionInfo.editable&&(t='<div class="taskListPencil" aria-label="'+JSStrings.tc("tpl:arDecision")+'"></div>'),"undefined"!=typeof AEngine&&AEngine.gameInfo&&!ResourceLists.links[Live.user.quarter()][this.resource].isAvailable(AEngine.gameInfo.currentQuarterMax).available&&(t='<div class="taskListInProgress" aria-label="'+JSStrings.tc("tpl:arInProgress")+'"></div>'),"gamedetail"==this.resource&&"undefined"!=typeof AEngine&&AEngine.gameInfo&&(t='<div class="taskListQuarter">'+JSStrings.tc("common:quarterShort",{QUARTER:AEngine.gameInfo.currentQuarterMax})+"</div>")),t},draw:function(t,e){var i,s="",a=this.level>this.maxlevel?this.maxlevel:this.level,n=this.getDrawSubItems(),r=n.length;if(a>0&&(s+='<li role="none"><a href="'+this.url+'" id="'+this.taskList.name+"Item"+this.id+'" class="taskListItem'+a+" _tlItem "+(r>0?"clpsbl":"")+'" style="padding-left:'+((this.level-1)*this.levelIndent+5)+'px;" tabindex="-1" role="treeitem" aria-level="'+this.level+'" aria-setsize="'+(e||1)+'" aria-posinset="'+(t||1)+'" '+(r>0?'aria-expanded="false"':"")+">",s+='<div class="taskListItemInside">',s+='<img class="taskListItemIcon tl-'+this.resource+'" src="'+JSSettings.st("common:dbImg")+'" alt />',s+='<span class="taskListItemTitle" data-test="tli'+this.resource+'">'+this.title+"</span>",s+="</div>",s+=this.drawIcon(),s+="</a>"),r>0){for(s+=0==a?'<ul id="'+this.taskList.name+"Items"+this.id+'" role="tree" tabindex="0" aria-label="'+JSStrings.tc("tpl:arMainMenu")+'">':'<ul id="'+this.taskList.name+"Items"+this.id+'" role="group">',i=0;i<r;++i)s+=n[i].draw(i+1,r);s+="</ul>"}return a>0&&(s+="</li>"),s},find:function(t){if(this.id==t)return this;for(var e=0,i=this.items.length;e<i;++e){var s=this.items[e].find(t);if(null!=s)return s}return null},findResource:function(t){var e,i,s=this.items.length;if(this.resource==t)return this;for(i=0;i<s;++i)if(this.items[i].resource==t)return this.items[i];for(i=0;i<s;++i)if(null!=(e=this.items[i].findResource(t)))return e;return null},isParentOf:function(t){for(var e=t;null!=e;){if(this==e.parent)return!0;e=e.parent}return!1},expand:function(t){if(!this.leaf){if(t)for(var e=0;e<this.items.length;e++)this.items[e].expand(t);a()("#"+this.taskList.name+"Items"+this.id).show(),this.collapsed=!1;var i=a()("#"+this.taskList.name+"Item"+this.id).toggleClass("expa",!0);this.leaf||i.attr("aria-expanded","true"),this.taskList.setLastExpanded(this)}},collapse:function(t){if(!this.leaf){if(t)for(var e=0;e<this.items.length;e++)this.items[e].collapse(t);a()("#"+this.taskList.name+"Items"+this.id).hide(),this.collapsed=!0;var i=a()("#"+this.taskList.name+"Item"+this.id).toggleClass("expa",!1);this.leaf||i.attr("aria-expanded","false"),this.taskList.setLastCollapsed(this)}},keyDown:function(t){var e=!0;switch(t.keyCode){case 37:this.leaf||this.collapsed||(this.click(!1),this.collapse(!0));break;case 38:this.focusPrevious(!1);break;case 39:!this.leaf&&this.collapsed&&this.click(!1);break;case 40:this.focusNext(!0);break;case 36:this.focusFirst();break;case 35:this.focusLast();break;case 13:this.click(!0);break;default:e=!1}e&&(t.preventDefault(),Accessibility.toggleKeyboardModeScript(!0))},getNextItem:function(t){if(!this.leaf&&!this.collapsed&&t)return this.items[0];var e=this.parent.items.indexOf(this);if(e>-1){if(e+1<this.parent.items.length)return this.parent.items[e+1];if(null!=this.parent&&this.parent!=this.parent.taskList.root)return this.parent.getNextItem(!1)}return null},getPreviousItem:function(t,e){if(t)return this.leaf||this.collapsed&&!e?this:this.items[this.items.length-1].getPreviousItem(!0,e);var i=this.parent.items.indexOf(this);if(i>-1){if(i-1>=0)return this.parent.items[i-1].getPreviousItem(!0,e);if(null!=this.parent&&this.parent!=this.parent.taskList.root)return this.parent}return null},getFirstItem:function(){return this.taskList.root.items.length>0?this.taskList.root.items[0]:null},getLastItem:function(t){if((t=t||this.taskList.root).items.length>0){var e=t.items[t.items.length-1];return e.leaf||e.collapsed?e:this.getLastItem(e)}return null},focusItem:function(){this.taskList.focusItem(this)},focusNext:function(t){var e=this.getNextItem(t);return null!==e&&e.focusItem(),e},focusPrevious:function(t){var e=this.getPreviousItem(t);return null!==e&&e.focusItem(),e},focusFirst:function(){var t=this.getFirstItem();return null!==t&&t.focusItem(),t},focusLast:function(){var t=this.getLastItem();return null!==t&&t.focusItem(),t},observeEvents:function(){if(this.taskList.globalEvent)0==this.level&&a()("#"+this.taskList.name+"Items"+this.id).on("click",this.clickGlobal.bind(this)).on("focus",function(){null==this.taskList.lastClicked&&(this.taskList.lastClicked=this.items[0],this.taskList.forceExpand=!0),this.taskList.lastClicked.focusItem()}.bind(this)).on("focusout",function(){this.taskList.focusItem(null)}.bind(this)).on("keydown",function(t){this.taskList.lastFocused.keyDown(t)}.bind(this));else{this.level>0&&a()("#"+this.taskList.name+"Item"+this.id).on("click",this.click.bind(this));for(var t=0,e=this.items.length;t<e;++t)this.items[t].observeEvents()}},getLocalItem:function(t){var e=a()(t.target).closest("._tlItem");return 0==e.length?null:this.taskList.references[e[0].id.replace(this.taskList.name+"Item","")]},clickGlobal:function(t){t.preventDefault();var e=this.getLocalItem(t);null!=e&&this.click.apply(e)},click:function(){var t=null;"undefined"!=typeof Engine&&(t=Engine),"undefined"!=typeof AEngine&&(t=AEngine),t.isEditing(this.clickCallback.bind(this))},clickCallback:function(){var t=a()("#"+this.taskList.name+"Items0").parent()[0],e=t.scrollTop;a()("#"+this.taskList.name+"Items0").focus(),t.scrollTop=e,this.collapsed&&this.expand(!1),this.taskList.setLastClicked(this),this.focusItem(),this.taskList.onClick(this.resource,this.parent.resource)},setSelected:function(t){t?a()("#"+this.taskList.name+"Item"+this.id).toggleClass("taskListItemSelected",!0):a()("#"+this.taskList.name+"Item"+this.id).toggleClass("taskListItemSelected",!1)},getTabset:function(){return null}}),o=r.extend({initialize:function(t,e,i,s,a,n,r){this.tabset=new Tabset("resourceTabs",!1,"mainAreaTabs","mainAreaContentWrap"),this._super(t,e,i,s,a,n,r),this.leaf=!0},createSubItems:function(t){for(var e=0,i=t.length,s=0;e<i;++e)Live.visible(t[e].visibility)&&(this.items[s++]=new l(this.taskList,this,this.level+1,t[e].resource,t[e].url,t[e].title,s-1),this.tabset.addTab(t[e].resource,t[e].title,!1,"","",0,0,this.getTabContent.bind(this,t[e].resource)))},getDrawSubItems:function(){return[]},getTabContent:function(t){this.taskList.onClick(t,this.resource)},getTabset:function(){return this.tabset}}),l=r.extend({initialize:function(t,e,i,s,a,n,r){this._super(t,e,i,s,a,n,[]),this.tabNum=r},getScreenTitle:function(){return this.parent.getScreenTitle()},setSelected:function(t){this.parent.setSelected(t)},getTabset:function(){return this.parent.tabset},focusItem:function(){this.parent.focusItem()}}),d=n.Class.extend({name:"taskList",globalEvent:!0,initialize:function(t,e){this.lastExpanded=null,this.lastClicked=null,this.lastFocused=null,this.onClick=null,this.counter=0,this.references=[],this.root=new r(this,null,0,null,null,"root",t),this.onClick=e,this.tabset=null,this.redrawTabset=!1},reference:function(t){t.taskList=this,t.id=this.counter,this.references[this.counter++]=t},search:function(t,e){var i=this.references.filter(a().proxy((function(t,e){return null!=e.resource&&-1!=e.title.toLowerCase().indexOf(t.toLowerCase())}),this,e));i.sort((function(t,e){var i=t.title.toUpperCase(),s=e.title.toUpperCase();return i<s?-1:i>s?1:0})),t(i)},destroy:function(){this.destroyTabset(),null!=this.root&&this.root.items.length>0&&this.root.destroy(),this.root=null},draw:function(){return null!=this.root?this.root.draw():""},find:function(t){return this.root.find(t)},findResource:function(t,e){if(void 0!==e){var i=this.root.findResource(e),s=null;if(null!==i&&null!==(s=i.findResource(t)))return s}return this.root.findResource(t)},expand:function(t,e){var i=this.find(t);null!=i&&i.expand(e)},expandResource:function(t,e,i){if(null==this.lastClicked||this.lastClicked.resource!=t||this.lastClicked.parentResource!=e){var s=this.findResource(t,e);if(null!=s){this.setLastClicked(s);for(var a=[s];this.root!=(s=s.parent);)a.push(s);for(var n=a.length-1;n>=0;n--)a[n].collapsed&&a[n].expand(i)}}},expandAll:function(){if(null!=this.root)for(var t=0;t<this.root.items.length;t++)this.root.items[t].expand(!0)},collapse:function(t,e){var i=this.find(t);null!=i&&i.collapse(e)},collapseAll:function(){if(null!=this.root)for(var t=0;t<this.root.items.length;t++)this.root.items[t].collapse(!0)},setLastExpanded:function(t){if(null!=this.lastExpanded&&!this.lastExpanded.isParentOf(t)){var e,i=this.lastExpanded,s=t,a=i.level-s.level;if(a<0)for(e=0;e<Math.abs(a);++e)s=s.parent;else if(a>0)for(e=0;e<Math.abs(a);++e)i=i.parent;for(;s.parent!=i.parent;)s=s.parent,i=i.parent;s!=i&&i.collapse(!0)}this.lastExpanded=t},setLastCollapsed:function(t){},setLastClicked:function(t){null!=this.lastClicked&&this.lastClicked!=t&&(this.lastClicked.setSelected(!1),this.lastClicked=null),t&&this.lastClicked!=t&&(t.setSelected(!0),this.lastClicked=t),this.lastClicked?this.setTabset(this.lastClicked.getTabset()):this.setTabset(null)},focusItem:function(t){if(this.lastFocused!=this){if(null!=this.lastFocused&&a()("#"+this.name+"Item"+this.lastFocused.id).attr("aria-selected","false"),null!=t){var e=a()("#"+this.name+"Item"+t.id).attr("aria-selected","true")[0],i=a()("#"+this.name+"Items")[0].getBoundingClientRect(),s=e.getBoundingClientRect();s.y+s.height>i.y+i.height?e.scrollIntoView(!1):s.y<i.y&&e.scrollIntoView(!0),a()("#"+this.name+"Items0").attr("aria-activedescendant",this.name+"Item"+t.id)}this.lastFocused=t}},observeEvents:function(){if(null!=this.root&&this.root.items.length>0)return this.root.observeEvents()},setTabset:function(t){this.tabset!=t&&(this.redrawTabset=!0,this.tabset=t)},drawTabset:function(){this.redrawTabset&&(null!=this.tabset?(a()("#mainAreaTabsWrap").html(this.tabset.draw()),a()("#mainAreaContentWrap").attr("role","tabpanel"),this.tabset.observe()):this.destroyTabset(),this.redrawTabset=!1),null!=this.tabset&&this.lastClicked&&void 0!==this.lastClicked.tabNum&&this.tabset.selectTab(this.lastClicked.tabNum)},findNavigationResource:function(t,e){var i=!0,s=this.findResource(t,e);return null!=s&&null!=s.resource||(s=this.findResource(e),i=!1),null!=s&&null!=s.resource||this.root.items.length>0&&(s=this.root.items[0]),null!=s&&null!=s.resource?{parentResource:e=null!=s.parent&&s.parent.resource||"",resource:s.resource,exact:i}:null},destroyTabset:function(){a()("#mainAreaTabsWrap").html(""),a()("#mainAreaContentWrap").removeAttr("role")}}),c=n.Class.extend({name:"taskListSearch",initialize:function(t){this.tlObject=t,this.ddSearch=new DropDownStaticSearch(this.name,t,JSStrings.tc("tpl:menuSearch"),"left","bottom","tlSearchResults",null,null,!1)},menuClick:function(t,e,i,s){var n=this.tlObject.findResource(i.resource,i.parent.resource);null!=n&&n.click(),a()("#"+this.tlObject.name+"Items0").focus()},getMenuItemLabel:function(t,e,i,s){var a='<div class="tlSearchResultsWrap" title="'+i.title+'">';return a+=this.ddSearch.wrapBold(t,i.title),i.resource&&ResourceLists.links[Live.user.quarter()][i.resource].decisionInfo.editable&&(a+='<div class="taskListPencilDark" aria-label="'+JSStrings.tc("tpl:arDecision")+'"></div>'),a+"</div>"},onShow:function(){this.ddSearch.dropdownElement.ddElement().css({"max-height":parseInt(a()("#taskListItems").css("max-height"))-50})},draw:function(){this.ddSearch.draw()},observe:function(){this.ddSearch.onShow=this.onShow.bind(this),this.ddSearch.getMenuItemLabel=this.getMenuItemLabel.bind(this),this.ddSearch.menuItemAction=this.menuClick.bind(this),this.ddSearch.search=this.tlObject.search.bind(this.tlObject),this.ddSearch.observe()},destroy:function(){this.ddSearch.destroy()}})},67098:()=>{j$(window).on("unload",(function(){Engine.destroy()})),j$((function(){var t=j$.parseParams(document.location.search);Live.logoImg="logo-top-new",Live.defaultSizes={mainContent:{width:700,height:400},top:{height:73,width:null,contentHeightMargin:32,contentWidthMargin:0},left:{height:null,width:154,contentHeightMargin:57,contentWidthMargin:3},body:{height:null,width:.68,contentHeightMargin:111,contentWidthMargin:9},right:{height:null,width:142,contentHeightMargin:4,contentWidthMargin:2},bottom:{height:29,width:142,contentHeightMargin:2,contentWidthMargin:14}},Live.defaultSizes.ratio=Live.defaultSizes.mainContent.width/Live.defaultSizes.mainContent.height,Live.defaultSizes.buttonsHeight=31,Engine.init(Number((t.quarter||Live.user.urlParts[2]||Live.user.quarter()+"").replace("q","")),t.parentResource||Live.user.urlParts[3]||null,t.resource||Live.user.urlParts[4]||null,t.tab||Live.user.urlParts[5]||null,t.params||null),Accessibility.observeKeyboardMode()}))}},t=>{var e=e=>t(t.s=e);e(29114),e(32605),e(60080),e(87043),e(55483),e(36538),e(60944),e(93901),e(31820),e(45999),e(50993),e(88929),e(47049),e(16097),e(13328),e(86045),e(42565),e(88660),e(18166),e(3006),e(28816),e(35294),e(96066),e(3224),e(5390),e(84490),e(97666),e(23900),e(47954),e(15003),e(5726),e(58810),e(51457),e(97178),e(50503),e(57148),e(2735),e(50323),e(80514),e(10361),e(12992),e(809),e(56619),e(26833),e(23898),e(63193),e(68949),e(4704),e(80896),e(87945),e(58293),e(60708),e(59860),e(2803),e(59124),e(99276),e(27484),e(65891),e(16678),e(81794),e(72643),e(73429),e(18583),e(43944),e(90138),e(28607),e(82172),e(62929),e(6213),e(91913),e(95421),e(46365),e(96132),e(6023),e(54833),e(78263),e(15147),e(65262),e(60432),e(3829),e(77879),e(28786),e(56122),e(24600),e(78671),e(47195),e(56715),e(53920),e(13069),e(36615),e(28310),e(8699),e(53093),e(67274),e(27789),e(14211),e(46452),e(91249),e(51687),e(15636),e(89234),e(7630),e(44557),e(30767),e(47633),e(27350),e(5083),e(54582),e(28),e(7110),e(62762),e(40433),e(21998),e(34034),e(2484),e(39225),e(2535),e(1623),e(96996),e(98861),e(50704),e(29379),e(46428),e(48632),e(45453),e(66883),e(28150),e(56305),e(85072),e(74267),e(98950),e(32683),e(73314),e(11964),e(54420),e(35131),e(40818),e(19338),e(90898),e(21655),e(26511),e(503),e(26094),e(69872),e(96367),e(36795),e(91778),e(79140),e(87322),e(28320),e(94793),e(24592),e(30676),e(70209),e(3791),e(48634),e(82048),e(50828),e(67143),e(41018),e(18643),e(52436),e(82921),e(60359),e(28740),e(9111),e(55726),e(37801),e(231),e(79314),e(16525),e(51109),e(82145),e(92354),e(84879),e(46843),e(36692),e(24368),e(68885),e(90203),e(45355),e(48329),e(74235),e(8778),e(62884),e(78654),e(24775),e(63230),e(75370),e(75541),e(50925),e(88392),e(64247),e(45702),e(95626),e(85571),e(34406),e(75913),e(50224),e(78472),e(67438),e(74995),e(16638),e(83822),e(14911),e(22999),e(82134),e(46305),e(58486),e(84388),e(41833),e(17719),e(34687),e(76632),e(94641),e(16799),e(32779),e(76164),e(82066),e(6973),e(48032),e(93653),e(46405),e(56590),e(36323),e(25965),e(12080),e(86108),e(91573),e(70750),e(33857),e(73676),e(90379),e(61447),e(80380),e(76757),e(12697),e(91532),e(11826),e(66796),e(6238),e(68174),e(30431),e(91712),e(51053),e(97445),e(32548),e(27800),e(51045),e(5271),e(58597),e(46545),e(37797),e(31068),e(4952),e(2543),e(40659),e(47694),e(71421),e(99320),e(77634),e(24197),e(74345),e(44112),e(58764),e(40252),e(10891),e(33232),e(67913),e(66871),e(65052),e(76326),e(32635),e(85433),e(66626),e(77946),e(47598),e(98756),e(7912),e(25690),e(18264),e(84010),e(26872),e(20180),e(16085),e(69384),e(58622),e(42768),e(63142),e(9928),e(65488),e(53066),e(12162),e(98590),e(22365),e(38190),e(34977),e(67650),e(52432),e(55501),e(20089),e(87863),e(17659),e(54794),e(4354),e(52084),e(10915),e(56165),e(86985),e(18734),e(69654),e(60381),e(52034),e(96234),e(1340),e(28779),e(85959),e(25285),e(20873),e(8624),e(73556),e(60588),e(65008),e(59874),e(7161),e(72498),e(60153),e(67291),e(30162),e(96490),e(34513),e(18236),e(22580),e(51270),e(28691),e(32841),e(57166),e(42603),e(8323),e(72162),e(63544),e(21614),e(35435),e(69363),e(51642),e(53639),e(60248),e(72187),e(80175),e(29930),e(97890),e(31394),e(7639),e(27390),e(17034),e(2514),e(52623),e(97961),e(61142),e(85785),e(48116),e(99674),e(8251),e(45316),e(84850),e(2332),e(42827),e(90935),e(13204),e(61299),e(73835),e(96223),e(43256),e(44933),e(97817),e(77036),e(30353),e(74343),e(25028),e(56708),e(5290),e(45182),e(67191),e(25224),e(92463),e(66406),e(6843),e(63937),e(18887),e(83400),e(99070),e(88924),e(49490),e(35857),e(63960),e(32512),e(4364),e(11192),e(44981),e(58478),e(23438),e(7779),e(64871),e(86106),e(56020),e(48484),e(52643),e(42954),e(89025),e(46746),e(66700),e(20514),e(50418),e(80254),e(71531),e(16862),e(27562),e(97269),e(84398),e(83861),e(54392),e(79977),e(70623),e(48086),e(81926),e(80846),e(5465),e(37553),e(92424),e(67340),e(65958),e(94743),e(23995),e(45572),e(38239),e(70211),e(3624),e(27197),e(9650),e(10255),e(85907),e(50606),e(14829),e(26116),e(73533),e(42342),e(97196),e(78136),e(99216),e(46718),e(19584),e(37697),e(72607),e(77447),e(50779),e(27539),e(10993),e(50143),e(11394),e(1953),e(45651),e(62607),e(75821),e(39134),e(36146),e(22677),e(49231),e(70762),e(12142),e(13613),e(54167),e(84389),e(31108),e(31829),e(56960),e(34594),e(80737),e(31972),e(32793),e(55069),e(25308),e(39128),e(97221),e(50638),e(13553),e(76169),e(63687),e(56290),e(88239),e(22114),e(83934),e(27151),e(35833),e(85820),e(43380),e(29249),e(88554),e(30084),e(57929),e(31719),e(69200),e(48733),e(484),e(59394),e(7899),e(97946),e(57153),e(63139),e(87711),e(28506),e(15783),e(833),e(19242),e(43412),e(31272),e(97244),e(22928),e(29281),e(86274),e(42268),e(14630),e(95319),e(35514),e(32703),e(20783),e(54562),e(91695),e(81855),e(52045),e(95484),e(94067),e(13669),e(77859),e(28681),e(11339),e(41213),e(22058),e(89910),e(51514),e(46174),e(33621),e(72163),e(11450),e(9086),e(2946),e(73083),e(53613),e(24748),e(32134),e(61038),e(36543),e(55281),e(68189),e(34227),e(50909),e(42891),e(58621),e(24067),e(16023),e(61374),e(97245),e(88041),e(90879),e(78174),e(54074),e(62682),e(2319),e(94029),e(86133),e(74289),e(70693),e(2394),e(59978),e(28330),e(43560),e(68653)}]);